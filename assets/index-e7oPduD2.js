function Bte(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(r,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function X0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Zg={exports:{}},qc={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var ey,xk;function Y0(){if(xk)return ey;xk=1;var r=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable;function n(a){if(a==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}function i(){try{if(!Object.assign)return!1;var a=new String("abc");if(a[5]="de",Object.getOwnPropertyNames(a)[0]==="5")return!1;for(var o={},l=0;l<10;l++)o["_"+String.fromCharCode(l)]=l;var c=Object.getOwnPropertyNames(o).map(function(v){return o[v]});if(c.join("")!=="0123456789")return!1;var f={};return"abcdefghijklmnopqrst".split("").forEach(function(v){f[v]=v}),Object.keys(Object.assign({},f)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return ey=i()?Object.assign:function(a,o){for(var l,c=n(a),f,v=1;v<arguments.length;v++){l=Object(arguments[v]);for(var y in l)e.call(l,y)&&(c[y]=l[y]);if(r){f=r(l);for(var T=0;T<f.length;T++)t.call(l,f[T])&&(c[f[T]]=l[f[T]])}}return c},ey}var ty={exports:{}},pr={};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tk;function _te(){if(Tk)return pr;Tk=1;var r=Y0(),e=60103,t=60106;pr.Fragment=60107,pr.StrictMode=60108,pr.Profiler=60114;var n=60109,i=60110,a=60112;pr.Suspense=60113;var o=60115,l=60116;if(typeof Symbol=="function"&&Symbol.for){var c=Symbol.for;e=c("react.element"),t=c("react.portal"),pr.Fragment=c("react.fragment"),pr.StrictMode=c("react.strict_mode"),pr.Profiler=c("react.profiler"),n=c("react.provider"),i=c("react.context"),a=c("react.forward_ref"),pr.Suspense=c("react.suspense"),o=c("react.memo"),l=c("react.lazy")}var f=typeof Symbol=="function"&&Symbol.iterator;function v(be){return be===null||typeof be!="object"?null:(be=f&&be[f]||be["@@iterator"],typeof be=="function"?be:null)}function y(be){for(var We="https://reactjs.org/docs/error-decoder.html?invariant="+be,Ot=1;Ot<arguments.length;Ot++)We+="&args[]="+encodeURIComponent(arguments[Ot]);return"Minified React error #"+be+"; visit "+We+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N={};function E(be,We,Ot){this.props=be,this.context=We,this.refs=N,this.updater=Ot||T}E.prototype.isReactComponent={},E.prototype.setState=function(be,We){if(typeof be!="object"&&typeof be!="function"&&be!=null)throw Error(y(85));this.updater.enqueueSetState(this,be,We,"setState")},E.prototype.forceUpdate=function(be){this.updater.enqueueForceUpdate(this,be,"forceUpdate")};function P(){}P.prototype=E.prototype;function L(be,We,Ot){this.props=be,this.context=We,this.refs=N,this.updater=Ot||T}var $=L.prototype=new P;$.constructor=L,r($,E.prototype),$.isPureReactComponent=!0;var ee={current:null},re=Object.prototype.hasOwnProperty,se={key:!0,ref:!0,__self:!0,__source:!0};function ve(be,We,Ot){var st,Ie={},Ve=null,Je=null;if(We!=null)for(st in We.ref!==void 0&&(Je=We.ref),We.key!==void 0&&(Ve=""+We.key),We)re.call(We,st)&&!se.hasOwnProperty(st)&&(Ie[st]=We[st]);var dt=arguments.length-2;if(dt===1)Ie.children=Ot;else if(1<dt){for(var xt=Array(dt),Oe=0;Oe<dt;Oe++)xt[Oe]=arguments[Oe+2];Ie.children=xt}if(be&&be.defaultProps)for(st in dt=be.defaultProps,dt)Ie[st]===void 0&&(Ie[st]=dt[st]);return{$$typeof:e,type:be,key:Ve,ref:Je,props:Ie,_owner:ee.current}}function le(be,We){return{$$typeof:e,type:be.type,key:We,ref:be.ref,props:be.props,_owner:be._owner}}function ke(be){return typeof be=="object"&&be!==null&&be.$$typeof===e}function we(be){var We={"=":"=0",":":"=2"};return"$"+be.replace(/[=:]/g,function(Ot){return We[Ot]})}var Le=/\/+/g;function je(be,We){return typeof be=="object"&&be!==null&&be.key!=null?we(""+be.key):We.toString(36)}function Nt(be,We,Ot,st,Ie){var Ve=typeof be;(Ve==="undefined"||Ve==="boolean")&&(be=null);var Je=!1;if(be===null)Je=!0;else switch(Ve){case"string":case"number":Je=!0;break;case"object":switch(be.$$typeof){case e:case t:Je=!0}}if(Je)return Je=be,Ie=Ie(Je),be=st===""?"."+je(Je,0):st,Array.isArray(Ie)?(Ot="",be!=null&&(Ot=be.replace(Le,"$&/")+"/"),Nt(Ie,We,Ot,"",function(Oe){return Oe})):Ie!=null&&(ke(Ie)&&(Ie=le(Ie,Ot+(!Ie.key||Je&&Je.key===Ie.key?"":(""+Ie.key).replace(Le,"$&/")+"/")+be)),We.push(Ie)),1;if(Je=0,st=st===""?".":st+":",Array.isArray(be))for(var dt=0;dt<be.length;dt++){Ve=be[dt];var xt=st+je(Ve,dt);Je+=Nt(Ve,We,Ot,xt,Ie)}else if(xt=v(be),typeof xt=="function")for(be=xt.call(be),dt=0;!(Ve=be.next()).done;)Ve=Ve.value,xt=st+je(Ve,dt++),Je+=Nt(Ve,We,Ot,xt,Ie);else if(Ve==="object")throw We=""+be,Error(y(31,We==="[object Object]"?"object with keys {"+Object.keys(be).join(", ")+"}":We));return Je}function et(be,We,Ot){if(be==null)return be;var st=[],Ie=0;return Nt(be,st,"","",function(Ve){return We.call(Ot,Ve,Ie++)}),st}function St(be){if(be._status===-1){var We=be._result;We=We(),be._status=0,be._result=We,We.then(function(Ot){be._status===0&&(Ot=Ot.default,be._status=1,be._result=Ot)},function(Ot){be._status===0&&(be._status=2,be._result=Ot)})}if(be._status===1)return be._result;throw be._result}var It={current:null};function Mt(){var be=It.current;if(be===null)throw Error(y(321));return be}var Lt={ReactCurrentDispatcher:It,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:ee,IsSomeRendererActing:{current:!1},assign:r};return pr.Children={map:et,forEach:function(be,We,Ot){et(be,function(){We.apply(this,arguments)},Ot)},count:function(be){var We=0;return et(be,function(){We++}),We},toArray:function(be){return et(be,function(We){return We})||[]},only:function(be){if(!ke(be))throw Error(y(143));return be}},pr.Component=E,pr.PureComponent=L,pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lt,pr.cloneElement=function(be,We,Ot){if(be==null)throw Error(y(267,be));var st=r({},be.props),Ie=be.key,Ve=be.ref,Je=be._owner;if(We!=null){if(We.ref!==void 0&&(Ve=We.ref,Je=ee.current),We.key!==void 0&&(Ie=""+We.key),be.type&&be.type.defaultProps)var dt=be.type.defaultProps;for(xt in We)re.call(We,xt)&&!se.hasOwnProperty(xt)&&(st[xt]=We[xt]===void 0&&dt!==void 0?dt[xt]:We[xt])}var xt=arguments.length-2;if(xt===1)st.children=Ot;else if(1<xt){dt=Array(xt);for(var Oe=0;Oe<xt;Oe++)dt[Oe]=arguments[Oe+2];st.children=dt}return{$$typeof:e,type:be.type,key:Ie,ref:Ve,props:st,_owner:Je}},pr.createContext=function(be,We){return We===void 0&&(We=null),be={$$typeof:i,_calculateChangedBits:We,_currentValue:be,_currentValue2:be,_threadCount:0,Provider:null,Consumer:null},be.Provider={$$typeof:n,_context:be},be.Consumer=be},pr.createElement=ve,pr.createFactory=function(be){var We=ve.bind(null,be);return We.type=be,We},pr.createRef=function(){return{current:null}},pr.forwardRef=function(be){return{$$typeof:a,render:be}},pr.isValidElement=ke,pr.lazy=function(be){return{$$typeof:l,_payload:{_status:-1,_result:be},_init:St}},pr.memo=function(be,We){return{$$typeof:o,type:be,compare:We===void 0?null:We}},pr.useCallback=function(be,We){return Mt().useCallback(be,We)},pr.useContext=function(be,We){return Mt().useContext(be,We)},pr.useDebugValue=function(){},pr.useEffect=function(be,We){return Mt().useEffect(be,We)},pr.useImperativeHandle=function(be,We,Ot){return Mt().useImperativeHandle(be,We,Ot)},pr.useLayoutEffect=function(be,We){return Mt().useLayoutEffect(be,We)},pr.useMemo=function(be,We){return Mt().useMemo(be,We)},pr.useReducer=function(be,We,Ot){return Mt().useReducer(be,We,Ot)},pr.useRef=function(be){return Mt().useRef(be)},pr.useState=function(be){return Mt().useState(be)},pr.version="17.0.2",pr}var Ek;function Z0(){return Ek||(Ek=1,ty.exports=_te()),ty.exports}/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nk;function Fte(){if(Nk)return qc;Nk=1,Y0();var r=Z0(),e=60103;if(qc.Fragment=60107,typeof Symbol=="function"&&Symbol.for){var t=Symbol.for;e=t("react.element"),qc.Fragment=t("react.fragment")}var n=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i=Object.prototype.hasOwnProperty,a={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,f){var v,y={},T=null,N=null;f!==void 0&&(T=""+f),c.key!==void 0&&(T=""+c.key),c.ref!==void 0&&(N=c.ref);for(v in c)i.call(c,v)&&!a.hasOwnProperty(v)&&(y[v]=c[v]);if(l&&l.defaultProps)for(v in c=l.defaultProps,c)y[v]===void 0&&(y[v]=c[v]);return{$$typeof:e,type:l,key:T,ref:N,props:y,_owner:n.current}}return qc.jsx=o,qc.jsxs=o,qc}var Mk;function qte(){return Mk||(Mk=1,Zg.exports=Fte()),Zg.exports}var Xe=qte(),it=Z0();const Xs=X0(it),Hte=Bte({__proto__:null,default:Xs},[it]);var ry={exports:{}},oa={},ny={exports:{}},iy={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ok;function zte(){return Ok||(Ok=1,function(r){var e,t,n,i;if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();r.unstable_now=function(){return o.now()-l}}if(typeof window>"u"||typeof MessageChannel!="function"){var c=null,f=null,v=function(){if(c!==null)try{var Ie=r.unstable_now();c(!0,Ie),c=null}catch(Ve){throw setTimeout(v,0),Ve}};e=function(Ie){c!==null?setTimeout(e,0,Ie):(c=Ie,setTimeout(v,0))},t=function(Ie,Ve){f=setTimeout(Ie,Ve)},n=function(){clearTimeout(f)},r.unstable_shouldYield=function(){return!1},i=r.unstable_forceFrameRate=function(){}}else{var y=window.setTimeout,T=window.clearTimeout;if(typeof console<"u"){var N=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof N!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var E=!1,P=null,L=-1,$=5,ee=0;r.unstable_shouldYield=function(){return r.unstable_now()>=ee},i=function(){},r.unstable_forceFrameRate=function(Ie){0>Ie||125<Ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<Ie?Math.floor(1e3/Ie):5};var re=new MessageChannel,se=re.port2;re.port1.onmessage=function(){if(P!==null){var Ie=r.unstable_now();ee=Ie+$;try{P(!0,Ie)?se.postMessage(null):(E=!1,P=null)}catch(Ve){throw se.postMessage(null),Ve}}else E=!1},e=function(Ie){P=Ie,E||(E=!0,se.postMessage(null))},t=function(Ie,Ve){L=y(function(){Ie(r.unstable_now())},Ve)},n=function(){T(L),L=-1}}function ve(Ie,Ve){var Je=Ie.length;Ie.push(Ve);e:for(;;){var dt=Je-1>>>1,xt=Ie[dt];if(xt!==void 0&&0<we(xt,Ve))Ie[dt]=Ve,Ie[Je]=xt,Je=dt;else break e}}function le(Ie){return Ie=Ie[0],Ie===void 0?null:Ie}function ke(Ie){var Ve=Ie[0];if(Ve!==void 0){var Je=Ie.pop();if(Je!==Ve){Ie[0]=Je;e:for(var dt=0,xt=Ie.length;dt<xt;){var Oe=2*(dt+1)-1,Ee=Ie[Oe],fe=Oe+1,ye=Ie[fe];if(Ee!==void 0&&0>we(Ee,Je))ye!==void 0&&0>we(ye,Ee)?(Ie[dt]=ye,Ie[fe]=Je,dt=fe):(Ie[dt]=Ee,Ie[Oe]=Je,dt=Oe);else if(ye!==void 0&&0>we(ye,Je))Ie[dt]=ye,Ie[fe]=Je,dt=fe;else break e}}return Ve}return null}function we(Ie,Ve){var Je=Ie.sortIndex-Ve.sortIndex;return Je!==0?Je:Ie.id-Ve.id}var Le=[],je=[],Nt=1,et=null,St=3,It=!1,Mt=!1,Lt=!1;function be(Ie){for(var Ve=le(je);Ve!==null;){if(Ve.callback===null)ke(je);else if(Ve.startTime<=Ie)ke(je),Ve.sortIndex=Ve.expirationTime,ve(Le,Ve);else break;Ve=le(je)}}function We(Ie){if(Lt=!1,be(Ie),!Mt)if(le(Le)!==null)Mt=!0,e(Ot);else{var Ve=le(je);Ve!==null&&t(We,Ve.startTime-Ie)}}function Ot(Ie,Ve){Mt=!1,Lt&&(Lt=!1,n()),It=!0;var Je=St;try{for(be(Ve),et=le(Le);et!==null&&(!(et.expirationTime>Ve)||Ie&&!r.unstable_shouldYield());){var dt=et.callback;if(typeof dt=="function"){et.callback=null,St=et.priorityLevel;var xt=dt(et.expirationTime<=Ve);Ve=r.unstable_now(),typeof xt=="function"?et.callback=xt:et===le(Le)&&ke(Le),be(Ve)}else ke(Le);et=le(Le)}if(et!==null)var Oe=!0;else{var Ee=le(je);Ee!==null&&t(We,Ee.startTime-Ve),Oe=!1}return Oe}finally{et=null,St=Je,It=!1}}var st=i;r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Ie){Ie.callback=null},r.unstable_continueExecution=function(){Mt||It||(Mt=!0,e(Ot))},r.unstable_getCurrentPriorityLevel=function(){return St},r.unstable_getFirstCallbackNode=function(){return le(Le)},r.unstable_next=function(Ie){switch(St){case 1:case 2:case 3:var Ve=3;break;default:Ve=St}var Je=St;St=Ve;try{return Ie()}finally{St=Je}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=st,r.unstable_runWithPriority=function(Ie,Ve){switch(Ie){case 1:case 2:case 3:case 4:case 5:break;default:Ie=3}var Je=St;St=Ie;try{return Ve()}finally{St=Je}},r.unstable_scheduleCallback=function(Ie,Ve,Je){var dt=r.unstable_now();switch(typeof Je=="object"&&Je!==null?(Je=Je.delay,Je=typeof Je=="number"&&0<Je?dt+Je:dt):Je=dt,Ie){case 1:var xt=-1;break;case 2:xt=250;break;case 5:xt=1073741823;break;case 4:xt=1e4;break;default:xt=5e3}return xt=Je+xt,Ie={id:Nt++,callback:Ve,priorityLevel:Ie,startTime:Je,expirationTime:xt,sortIndex:-1},Je>dt?(Ie.sortIndex=Je,ve(je,Ie),le(Le)===null&&Ie===le(je)&&(Lt?n():Lt=!0,t(We,Je-dt))):(Ie.sortIndex=xt,ve(Le,Ie),Mt||It||(Mt=!0,e(Ot))),Ie},r.unstable_wrapCallback=function(Ie){var Ve=St;return function(){var Je=St;St=Ve;try{return Ie.apply(this,arguments)}finally{St=Je}}}}(iy)),iy}var Dk;function $te(){return Dk||(Dk=1,ny.exports=zte()),ny.exports}/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ak;function Vte(){if(Ak)return oa;Ak=1;var r=Z0(),e=Y0(),t=$te();function n(s){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+s,d=1;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+s+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(n(227));var i=new Set,a={};function o(s,u){l(s,u),l(s+"Capture",u)}function l(s,u){for(a[s]=u,s=0;s<u.length;s++)i.add(u[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v=Object.prototype.hasOwnProperty,y={},T={};function N(s){return v.call(T,s)?!0:v.call(y,s)?!1:f.test(s)?T[s]=!0:(y[s]=!0,!1)}function E(s,u,d,S){if(d!==null&&d.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return S?!1:d!==null?!d.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function P(s,u,d,S){if(u===null||typeof u>"u"||E(s,u,d,S))return!0;if(S)return!1;if(d!==null)switch(d.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function L(s,u,d,S,A,H,J){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=S,this.attributeNamespace=A,this.mustUseProperty=d,this.propertyName=s,this.type=u,this.sanitizeURL=H,this.removeEmptyString=J}var $={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){$[s]=new L(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var u=s[0];$[u]=new L(u,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){$[s]=new L(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){$[s]=new L(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){$[s]=new L(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){$[s]=new L(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){$[s]=new L(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){$[s]=new L(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){$[s]=new L(s,5,!1,s.toLowerCase(),null,!1,!1)});var ee=/[\-:]([a-z])/g;function re(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var u=s.replace(ee,re);$[u]=new L(u,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var u=s.replace(ee,re);$[u]=new L(u,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var u=s.replace(ee,re);$[u]=new L(u,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){$[s]=new L(s,1,!1,s.toLowerCase(),null,!1,!1)}),$.xlinkHref=new L("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){$[s]=new L(s,1,!1,s.toLowerCase(),null,!0,!0)});function se(s,u,d,S){var A=$.hasOwnProperty(u)?$[u]:null,H=A!==null?A.type===0:S?!1:!(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N");H||(P(u,d,A,S)&&(d=null),S||A===null?N(u)&&(d===null?s.removeAttribute(u):s.setAttribute(u,""+d)):A.mustUseProperty?s[A.propertyName]=d===null?A.type===3?!1:"":d:(u=A.attributeName,S=A.attributeNamespace,d===null?s.removeAttribute(u):(A=A.type,d=A===3||A===4&&d===!0?"":""+d,S?s.setAttributeNS(S,u,d):s.setAttribute(u,d))))}var ve=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,le=60103,ke=60106,we=60107,Le=60108,je=60114,Nt=60109,et=60110,St=60112,It=60113,Mt=60120,Lt=60115,be=60116,We=60121,Ot=60128,st=60129,Ie=60130,Ve=60131;if(typeof Symbol=="function"&&Symbol.for){var Je=Symbol.for;le=Je("react.element"),ke=Je("react.portal"),we=Je("react.fragment"),Le=Je("react.strict_mode"),je=Je("react.profiler"),Nt=Je("react.provider"),et=Je("react.context"),St=Je("react.forward_ref"),It=Je("react.suspense"),Mt=Je("react.suspense_list"),Lt=Je("react.memo"),be=Je("react.lazy"),We=Je("react.block"),Je("react.scope"),Ot=Je("react.opaque.id"),st=Je("react.debug_trace_mode"),Ie=Je("react.offscreen"),Ve=Je("react.legacy_hidden")}var dt=typeof Symbol=="function"&&Symbol.iterator;function xt(s){return s===null||typeof s!="object"?null:(s=dt&&s[dt]||s["@@iterator"],typeof s=="function"?s:null)}var Oe;function Ee(s){if(Oe===void 0)try{throw Error()}catch(d){var u=d.stack.trim().match(/\n( *(at )?)/);Oe=u&&u[1]||""}return`
`+Oe+s}var fe=!1;function ye(s,u){if(!s||fe)return"";fe=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(pe){var S=pe}Reflect.construct(s,[],u)}else{try{u.call()}catch(pe){S=pe}s.call(u.prototype)}else{try{throw Error()}catch(pe){S=pe}s()}}catch(pe){if(pe&&S&&typeof pe.stack=="string"){for(var A=pe.stack.split(`
`),H=S.stack.split(`
`),J=A.length-1,te=H.length-1;1<=J&&0<=te&&A[J]!==H[te];)te--;for(;1<=J&&0<=te;J--,te--)if(A[J]!==H[te]){if(J!==1||te!==1)do if(J--,te--,0>te||A[J]!==H[te])return`
`+A[J].replace(" at new "," at ");while(1<=J&&0<=te);break}}}finally{fe=!1,Error.prepareStackTrace=d}return(s=s?s.displayName||s.name:"")?Ee(s):""}function de(s){switch(s.tag){case 5:return Ee(s.type);case 16:return Ee("Lazy");case 13:return Ee("Suspense");case 19:return Ee("SuspenseList");case 0:case 2:case 15:return s=ye(s.type,!1),s;case 11:return s=ye(s.type.render,!1),s;case 22:return s=ye(s.type._render,!1),s;case 1:return s=ye(s.type,!0),s;default:return""}}function Pe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case we:return"Fragment";case ke:return"Portal";case je:return"Profiler";case Le:return"StrictMode";case It:return"Suspense";case Mt:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case et:return(s.displayName||"Context")+".Consumer";case Nt:return(s._context.displayName||"Context")+".Provider";case St:var u=s.render;return u=u.displayName||u.name||"",s.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case Lt:return Pe(s.type);case We:return Pe(s._render);case be:u=s._payload,s=s._init;try{return Pe(s(u))}catch{}}return null}function qe(s){switch(typeof s){case"boolean":case"number":case"object":case"string":case"undefined":return s;default:return""}}function ot(s){var u=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Ht(s){var u=ot(s)?"checked":"value",d=Object.getOwnPropertyDescriptor(s.constructor.prototype,u),S=""+s[u];if(!s.hasOwnProperty(u)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var A=d.get,H=d.set;return Object.defineProperty(s,u,{configurable:!0,get:function(){return A.call(this)},set:function(J){S=""+J,H.call(this,J)}}),Object.defineProperty(s,u,{enumerable:d.enumerable}),{getValue:function(){return S},setValue:function(J){S=""+J},stopTracking:function(){s._valueTracker=null,delete s[u]}}}}function Gt(s){s._valueTracker||(s._valueTracker=Ht(s))}function zt(s){if(!s)return!1;var u=s._valueTracker;if(!u)return!0;var d=u.getValue(),S="";return s&&(S=ot(s)?s.checked?"true":"false":s.value),s=S,s!==d?(u.setValue(s),!0):!1}function Tr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function tr(s,u){var d=u.checked;return e({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??s._wrapperState.initialChecked})}function Vr(s,u){var d=u.defaultValue==null?"":u.defaultValue,S=u.checked!=null?u.checked:u.defaultChecked;d=qe(u.value!=null?u.value:d),s._wrapperState={initialChecked:S,initialValue:d,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function Lr(s,u){u=u.checked,u!=null&&se(s,"checked",u,!1)}function Br(s,u){Lr(s,u);var d=qe(u.value),S=u.type;if(d!=null)S==="number"?(d===0&&s.value===""||s.value!=d)&&(s.value=""+d):s.value!==""+d&&(s.value=""+d);else if(S==="submit"||S==="reset"){s.removeAttribute("value");return}u.hasOwnProperty("value")?_r(s,u.type,d):u.hasOwnProperty("defaultValue")&&_r(s,u.type,qe(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(s.defaultChecked=!!u.defaultChecked)}function cr(s,u,d){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var S=u.type;if(!(S!=="submit"&&S!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+s._wrapperState.initialValue,d||u===s.value||(s.value=u),s.defaultValue=u}d=s.name,d!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,d!==""&&(s.name=d)}function _r(s,u,d){(u!=="number"||Tr(s.ownerDocument)!==s)&&(d==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+d&&(s.defaultValue=""+d))}function Ii(s){var u="";return r.Children.forEach(s,function(d){d!=null&&(u+=d)}),u}function Sn(s,u){return s=e({children:void 0},u),(u=Ii(u.children))&&(s.children=u),s}function Ar(s,u,d,S){if(s=s.options,u){u={};for(var A=0;A<d.length;A++)u["$"+d[A]]=!0;for(d=0;d<s.length;d++)A=u.hasOwnProperty("$"+s[d].value),s[d].selected!==A&&(s[d].selected=A),A&&S&&(s[d].defaultSelected=!0)}else{for(d=""+qe(d),u=null,A=0;A<s.length;A++){if(s[A].value===d){s[A].selected=!0,S&&(s[A].defaultSelected=!0);return}u!==null||s[A].disabled||(u=s[A])}u!==null&&(u.selected=!0)}}function ht(s,u){if(u.dangerouslySetInnerHTML!=null)throw Error(n(91));return e({},u,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function pt(s,u){var d=u.value;if(d==null){if(d=u.children,u=u.defaultValue,d!=null){if(u!=null)throw Error(n(92));if(Array.isArray(d)){if(!(1>=d.length))throw Error(n(93));d=d[0]}u=d}u==null&&(u=""),d=u}s._wrapperState={initialValue:qe(d)}}function qt(s,u){var d=qe(u.value),S=qe(u.defaultValue);d!=null&&(d=""+d,d!==s.value&&(s.value=d),u.defaultValue==null&&s.defaultValue!==d&&(s.defaultValue=d)),S!=null&&(s.defaultValue=""+S)}function Ut(s){var u=s.textContent;u===s._wrapperState.initialValue&&u!==""&&u!==null&&(s.value=u)}var or={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"};function Qr(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wr(s,u){return s==null||s==="http://www.w3.org/1999/xhtml"?Qr(u):s==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Er,hn=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,d,S,A){MSApp.execUnsafeLocalFunction(function(){return s(u,d,S,A)})}:s}(function(s,u){if(s.namespaceURI!==or.svg||"innerHTML"in s)s.innerHTML=u;else{for(Er=Er||document.createElement("div"),Er.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Er.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;u.firstChild;)s.appendChild(u.firstChild)}});function pn(s,u){if(u){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=u;return}}s.textContent=u}var Rr={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xn=["Webkit","ms","Moz","O"];Object.keys(Rr).forEach(function(s){xn.forEach(function(u){u=u+s.charAt(0).toUpperCase()+s.substring(1),Rr[u]=Rr[s]})});function bi(s,u,d){return u==null||typeof u=="boolean"||u===""?"":d||typeof u!="number"||u===0||Rr.hasOwnProperty(s)&&Rr[s]?(""+u).trim():u+"px"}function ti(s,u){s=s.style;for(var d in u)if(u.hasOwnProperty(d)){var S=d.indexOf("--")===0,A=bi(d,u[d],S);d==="float"&&(d="cssFloat"),S?s.setProperty(d,A):s[d]=A}}var ri=e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vn(s,u){if(u){if(ri[s]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(n(60));if(!(typeof u.dangerouslySetInnerHTML=="object"&&"__html"in u.dangerouslySetInnerHTML))throw Error(n(61))}if(u.style!=null&&typeof u.style!="object")throw Error(n(62))}}function an(s,u){if(s.indexOf("-")===-1)return typeof u.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Pr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Tn=null,dr=null,Ir=null;function X(s){if(s=An(s)){if(typeof Tn!="function")throw Error(n(280));var u=s.stateNode;u&&(u=ui(u),Tn(s.stateNode,s.type,u))}}function Y(s){dr?Ir?Ir.push(s):Ir=[s]:dr=s}function z(){if(dr){var s=dr,u=Ir;if(Ir=dr=null,X(s),u)for(s=0;s<u.length;s++)X(u[s])}}function F(s,u){return s(u)}function U(s,u,d,S,A){return s(u,d,S,A)}function W(){}var ie=F,Ne=!1,ze=!1;function he(){(dr!==null||Ir!==null)&&(W(),z())}function ae(s,u,d){if(ze)return s(u,d);ze=!0;try{return ie(s,u,d)}finally{ze=!1,he()}}function De(s,u){var d=s.stateNode;if(d===null)return null;var S=ui(d);if(S===null)return null;d=S[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(s=s.type,S=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!S;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(n(231,u,typeof d));return d}var _e=!1;if(c)try{var lt={};Object.defineProperty(lt,"passive",{get:function(){_e=!0}}),window.addEventListener("test",lt,lt),window.removeEventListener("test",lt,lt)}catch{_e=!1}function Rt(s,u,d,S,A,H,J,te,pe){var Be=Array.prototype.slice.call(arguments,3);try{u.apply(d,Be)}catch(yt){this.onError(yt)}}var V=!1,R=null,k=!1,M=null,_={onError:function(s){V=!0,R=s}};function G(s,u,d,S,A,H,J,te,pe){V=!1,R=null,Rt.apply(_,arguments)}function Z(s,u,d,S,A,H,J,te,pe){if(G.apply(this,arguments),V){if(V){var Be=R;V=!1,R=null}else throw Error(n(198));k||(k=!0,M=Be)}}function oe(s){var u=s,d=s;if(s.alternate)for(;u.return;)u=u.return;else{s=u;do u=s,(u.flags&1026)!==0&&(d=u.return),s=u.return;while(s)}return u.tag===3?d:null}function Ce(s){if(s.tag===13){var u=s.memoizedState;if(u===null&&(s=s.alternate,s!==null&&(u=s.memoizedState)),u!==null)return u.dehydrated}return null}function Ae(s){if(oe(s)!==s)throw Error(n(188))}function tt(s){var u=s.alternate;if(!u){if(u=oe(s),u===null)throw Error(n(188));return u!==s?null:s}for(var d=s,S=u;;){var A=d.return;if(A===null)break;var H=A.alternate;if(H===null){if(S=A.return,S!==null){d=S;continue}break}if(A.child===H.child){for(H=A.child;H;){if(H===d)return Ae(A),s;if(H===S)return Ae(A),u;H=H.sibling}throw Error(n(188))}if(d.return!==S.return)d=A,S=H;else{for(var J=!1,te=A.child;te;){if(te===d){J=!0,d=A,S=H;break}if(te===S){J=!0,S=A,d=H;break}te=te.sibling}if(!J){for(te=H.child;te;){if(te===d){J=!0,d=H,S=A;break}if(te===S){J=!0,S=H,d=A;break}te=te.sibling}if(!J)throw Error(n(189))}}if(d.alternate!==S)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?s:u}function Ye(s){if(s=tt(s),!s)return null;for(var u=s;;){if(u.tag===5||u.tag===6)return u;if(u.child)u.child.return=u,u=u.child;else{if(u===s)break;for(;!u.sibling;){if(!u.return||u.return===s)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}}return null}function ct(s,u){for(var d=s.alternate;u!==null;){if(u===s||u===d)return!0;u=u.return}return!1}var Bt,ir,kr,Hn,ki=!1,Yr=[],Ci=null,ni=null,En=null,Nn=new Map,Mn=new Map,Xi=[],zn="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oa(s,u,d,S,A){return{blockedOn:s,domEventName:u,eventSystemFlags:d|16,nativeEvent:A,targetContainers:[S]}}function Da(s,u){switch(s){case"focusin":case"focusout":Ci=null;break;case"dragenter":case"dragleave":ni=null;break;case"mouseover":case"mouseout":En=null;break;case"pointerover":case"pointerout":Nn.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mn.delete(u.pointerId)}}function Pi(s,u,d,S,A,H){return s===null||s.nativeEvent!==H?(s=Oa(u,d,S,A,H),u!==null&&(u=An(u),u!==null&&ir(u)),s):(s.eventSystemFlags|=S,u=s.targetContainers,A!==null&&u.indexOf(A)===-1&&u.push(A),s)}function Qa(s,u,d,S,A){switch(u){case"focusin":return Ci=Pi(Ci,s,u,d,S,A),!0;case"dragenter":return ni=Pi(ni,s,u,d,S,A),!0;case"mouseover":return En=Pi(En,s,u,d,S,A),!0;case"pointerover":var H=A.pointerId;return Nn.set(H,Pi(Nn.get(H)||null,s,u,d,S,A)),!0;case"gotpointercapture":return H=A.pointerId,Mn.set(H,Pi(Mn.get(H)||null,s,u,d,S,A)),!0}return!1}function Ro(s){var u=qr(s.target);if(u!==null){var d=oe(u);if(d!==null){if(u=d.tag,u===13){if(u=Ce(d),u!==null){s.blockedOn=u,Hn(s.lanePriority,function(){t.unstable_runWithPriority(s.priority,function(){kr(d)})});return}}else if(u===3&&d.stateNode.hydrate){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function $n(s){if(s.blockedOn!==null)return!1;for(var u=s.targetContainers;0<u.length;){var d=dl(s.domEventName,s.eventSystemFlags,u[0],s.nativeEvent);if(d!==null)return u=An(d),u!==null&&ir(u),s.blockedOn=d,!1;u.shift()}return!0}function ca(s,u,d){$n(s)&&d.delete(u)}function Xa(){for(ki=!1;0<Yr.length;){var s=Yr[0];if(s.blockedOn!==null){s=An(s.blockedOn),s!==null&&Bt(s);break}for(var u=s.targetContainers;0<u.length;){var d=dl(s.domEventName,s.eventSystemFlags,u[0],s.nativeEvent);if(d!==null){s.blockedOn=d;break}u.shift()}s.blockedOn===null&&Yr.shift()}Ci!==null&&$n(Ci)&&(Ci=null),ni!==null&&$n(ni)&&(ni=null),En!==null&&$n(En)&&(En=null),Nn.forEach(ca),Mn.forEach(ca)}function On(s,u){s.blockedOn===u&&(s.blockedOn=null,ki||(ki=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Xa)))}function Io(s){function u(A){return On(A,s)}if(0<Yr.length){On(Yr[0],s);for(var d=1;d<Yr.length;d++){var S=Yr[d];S.blockedOn===s&&(S.blockedOn=null)}}for(Ci!==null&&On(Ci,s),ni!==null&&On(ni,s),En!==null&&On(En,s),Nn.forEach(u),Mn.forEach(u),d=0;d<Xi.length;d++)S=Xi[d],S.blockedOn===s&&(S.blockedOn=null);for(;0<Xi.length&&(d=Xi[0],d.blockedOn===null);)Ro(d),d.blockedOn===null&&Xi.shift()}function Aa(s,u){var d={};return d[s.toLowerCase()]=u.toLowerCase(),d["Webkit"+s]="webkit"+u,d["Moz"+s]="moz"+u,d}var Vn={animationend:Aa("Animation","AnimationEnd"),animationiteration:Aa("Animation","AnimationIteration"),animationstart:Aa("Animation","AnimationStart"),transitionend:Aa("Transition","TransitionEnd")},ii={},Si={};c&&(Si=document.createElement("div").style,"AnimationEvent"in window||(delete Vn.animationend.animation,delete Vn.animationiteration.animation,delete Vn.animationstart.animation),"TransitionEvent"in window||delete Vn.transitionend.transition);function Yi(s){if(ii[s])return ii[s];if(!Vn[s])return s;var u=Vn[s],d;for(d in u)if(u.hasOwnProperty(d)&&d in Si)return ii[s]=u[d];return s}var fa=Yi("animationend"),Zi=Yi("animationiteration"),ai=Yi("animationstart"),Ya=Yi("transitionend"),ys=new Map,Dn=new Map,ws=["abort","abort",fa,"animationEnd",Zi,"animationIteration",ai,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ya,"transitionEnd","waiting","waiting"];function Za(s,u){for(var d=0;d<s.length;d+=2){var S=s[d],A=s[d+1];A="on"+(A[0].toUpperCase()+A.slice(1)),Dn.set(S,u),ys.set(S,A),o(A,[S])}}var eo=t.unstable_now;eo();var mr=8;function Un(s){if((1&s)!==0)return mr=15,1;if((2&s)!==0)return mr=14,2;if((4&s)!==0)return mr=13,4;var u=24&s;return u!==0?(mr=12,u):(s&32)!==0?(mr=11,32):(u=192&s,u!==0?(mr=10,u):(s&256)!==0?(mr=9,256):(u=3584&s,u!==0?(mr=8,u):(s&4096)!==0?(mr=7,4096):(u=4186112&s,u!==0?(mr=6,u):(u=62914560&s,u!==0?(mr=5,u):s&67108864?(mr=4,67108864):(s&134217728)!==0?(mr=3,134217728):(u=805306368&s,u!==0?(mr=2,u):(1073741824&s)!==0?(mr=1,1073741824):(mr=8,s))))))}function oi(s){switch(s){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Po(s){switch(s){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(n(358,s))}}function da(s,u){var d=s.pendingLanes;if(d===0)return mr=0;var S=0,A=0,H=s.expiredLanes,J=s.suspendedLanes,te=s.pingedLanes;if(H!==0)S=H,A=mr=15;else if(H=d&134217727,H!==0){var pe=H&~J;pe!==0?(S=Un(pe),A=mr):(te&=H,te!==0&&(S=Un(te),A=mr))}else H=d&~J,H!==0?(S=Un(H),A=mr):te!==0&&(S=Un(te),A=mr);if(S===0)return 0;if(S=31-wt(S),S=d&((0>S?0:1<<S)<<1)-1,u!==0&&u!==S&&(u&J)===0){if(Un(u),A<=mr)return u;mr=A}if(u=s.entangledLanes,u!==0)for(s=s.entanglements,u&=S;0<u;)d=31-wt(u),A=1<<d,S|=s[d],u&=~A;return S}function Bo(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function to(s,u){switch(s){case 15:return 1;case 14:return 2;case 12:return s=Tt(24&~u),s===0?to(10,u):s;case 10:return s=Tt(192&~u),s===0?to(8,u):s;case 8:return s=Tt(3584&~u),s===0&&(s=Tt(4186112&~u),s===0&&(s=512)),s;case 2:return u=Tt(805306368&~u),u===0&&(u=268435456),u}throw Error(n(358,s))}function Tt(s){return s&-s}function Te(s){for(var u=[],d=0;31>d;d++)u.push(s);return u}function at(s,u,d){s.pendingLanes|=u;var S=u-1;s.suspendedLanes&=S,s.pingedLanes&=S,s=s.eventTimes,u=31-wt(u),s[u]=d}var wt=Math.clz32?Math.clz32:jr,hr=Math.log,Ur=Math.LN2;function jr(s){return s===0?32:31-(hr(s)/Ur|0)|0}var Fr=t.unstable_UserBlockingPriority,si=t.unstable_runWithPriority,xi=!0;function _o(s,u,d,S){Ne||W();var A=ro,H=Ne;Ne=!0;try{U(A,s,u,d,S)}finally{(Ne=H)||he()}}function bs(s,u,d,S){si(Fr,ro.bind(null,s,u,d,S))}function ro(s,u,d,S){if(xi){var A;if((A=(u&4)===0)&&0<Yr.length&&-1<zn.indexOf(s))s=Oa(null,s,u,d,S),Yr.push(s);else{var H=dl(s,u,d,S);if(H===null)A&&Da(s,S);else{if(A){if(-1<zn.indexOf(s)){s=Oa(H,s,u,d,S),Yr.push(s);return}if(Qa(H,s,u,d,S))return;Da(s,S)}x(s,u,S,null,d)}}}}function dl(s,u,d,S){var A=Pr(S);if(A=qr(A),A!==null){var H=oe(A);if(H===null)A=null;else{var J=H.tag;if(J===13){if(A=Ce(H),A!==null)return A;A=null}else if(J===3){if(H.stateNode.hydrate)return H.tag===3?H.stateNode.containerInfo:null;A=null}else H!==A&&(A=null)}}return x(s,u,S,A,d),null}var ha=null,hl=null,ks=null;function on(){if(ks)return ks;var s,u=hl,d=u.length,S,A="value"in ha?ha.value:ha.textContent,H=A.length;for(s=0;s<d&&u[s]===A[s];s++);var J=d-s;for(S=1;S<=J&&u[d-S]===A[H-S];S++);return ks=A.slice(s,1<S?1-S:void 0)}function Xr(s){var u=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&u===13&&(s=13)):s=u,s===10&&(s=13),32<=s||s===13?s:0}function Cs(){return!0}function Ru(){return!1}function jn(s){function u(d,S,A,H,J){this._reactName=d,this._targetInst=A,this.type=S,this.nativeEvent=H,this.target=J,this.currentTarget=null;for(var te in s)s.hasOwnProperty(te)&&(d=s[te],this[te]=d?d(H):H[te]);return this.isDefaultPrevented=(H.defaultPrevented!=null?H.defaultPrevented:H.returnValue===!1)?Cs:Ru,this.isPropagationStopped=Ru,this}return e(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Cs)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Cs)},persist:function(){},isPersistent:Cs}),u}var Wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pl=jn(Wn),La=e({},Wn,{view:0,detail:0}),vl=jn(La),ml,gl,pa,Ss=e({},La,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bl,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==pa&&(pa&&s.type==="mousemove"?(ml=s.screenX-pa.screenX,gl=s.screenY-pa.screenY):gl=ml=0,pa=s),ml)},movementY:function(s){return"movementY"in s?s.movementY:gl}}),xs=jn(Ss),no=e({},Ss,{dataTransfer:0}),Sf=jn(no),xf=e({},La,{relatedTarget:0}),yl=jn(xf),Tf=e({},Wn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ef=jn(Tf),Nf=e({},Wn,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),wl=jn(Nf),Iu=e({},Wn,{data:0}),Pu=jn(Iu),Bu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fu(s){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(s):(s=_u[s])?!!u[s]:!1}function bl(){return Fu}var Of=e({},La,{key:function(s){if(s.key){var u=Bu[s.key]||s.key;if(u!=="Unidentified")return u}return s.type==="keypress"?(s=Xr(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Mf[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bl,charCode:function(s){return s.type==="keypress"?Xr(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Xr(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Fo=jn(Of),Df=e({},Ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),io=jn(Df),Af=e({},La,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bl}),Lf=jn(Af),qo=e({},Wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),qu=jn(qo),Hu=e({},Ss,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Rf=jn(Hu),zu=[9,13,27,32],Ts=c&&"CompositionEvent"in window,ea=null;c&&"documentMode"in document&&(ea=document.documentMode);var $u=c&&"TextEvent"in window&&!ea,ao=c&&(!Ts||ea&&8<ea&&11>=ea),Vu=" ",va=!1;function Ra(s,u){switch(s){case"keyup":return zu.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ma(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var sn=!1;function ln(s,u){switch(s){case"compositionend":return ma(u);case"keypress":return u.which!==32?null:(va=!0,Vu);case"textInput":return s=u.data,s===Vu&&va?null:s;default:return null}}function Uu(s,u){if(sn)return s==="compositionend"||!Ts&&Ra(s,u)?(s=on(),ks=hl=ha=null,sn=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return ao&&u.locale!=="ko"?null:u.data;default:return null}}var If={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kl(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u==="input"?!!If[s.type]:u==="textarea"}function ju(s,u,d,S){Y(S),u=I(u,"onChange"),0<u.length&&(d=new pl("onChange","change",null,d,S),s.push({event:d,listeners:u}))}var oo=null,so=null;function Es(s){tc(s,0)}function Bi(s){var u=Ti(s);if(zt(u))return s}function Cl(s,u){if(s==="change")return u}var Sl=!1;if(c){var Ho;if(c){var xl="oninput"in document;if(!xl){var Wu=document.createElement("div");Wu.setAttribute("oninput","return;"),xl=typeof Wu.oninput=="function"}Ho=xl}else Ho=!1;Sl=Ho&&(!document.documentMode||9<document.documentMode)}function Gu(){oo&&(oo.detachEvent("onpropertychange",Ju),so=oo=null)}function Ju(s){if(s.propertyName==="value"&&Bi(so)){var u=[];if(ju(u,so,s,Pr(s)),s=Es,Ne)s(u);else{Ne=!0;try{F(s,u)}finally{Ne=!1,he()}}}}function Ku(s,u,d){s==="focusin"?(Gu(),oo=u,so=d,oo.attachEvent("onpropertychange",Ju)):s==="focusout"&&Gu()}function Qu(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Bi(so)}function Pf(s,u){if(s==="click")return Bi(u)}function Xu(s,u){if(s==="input"||s==="change")return Bi(u)}function Bf(s,u){return s===u&&(s!==0||1/s===1/u)||s!==s&&u!==u}var li=typeof Object.is=="function"?Object.is:Bf,_f=Object.prototype.hasOwnProperty;function zo(s,u){if(li(s,u))return!0;if(typeof s!="object"||s===null||typeof u!="object"||u===null)return!1;var d=Object.keys(s),S=Object.keys(u);if(d.length!==S.length)return!1;for(S=0;S<d.length;S++)if(!_f.call(u,d[S])||!li(s[d[S]],u[d[S]]))return!1;return!0}function Yu(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Zu(s,u){var d=Yu(s);s=0;for(var S;d;){if(d.nodeType===3){if(S=s+d.textContent.length,s<=u&&S>=u)return{node:d,offset:u-s};s=S}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Yu(d)}}function Tl(s,u){return s&&u?s===u?!0:s&&s.nodeType===3?!1:u&&u.nodeType===3?Tl(s,u.parentNode):"contains"in s?s.contains(u):s.compareDocumentPosition?!!(s.compareDocumentPosition(u)&16):!1:!1}function ec(){for(var s=window,u=Tr();u instanceof s.HTMLIFrameElement;){try{var d=typeof u.contentWindow.location.href=="string"}catch{d=!1}if(d)s=u.contentWindow;else break;u=Tr(s.document)}return u}function El(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u&&(u==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||u==="textarea"||s.contentEditable==="true")}var Nl=c&&"documentMode"in document&&11>=document.documentMode,lo=null,Ns=null,$o=null,Ml=!1;function Ol(s,u,d){var S=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Ml||lo==null||lo!==Tr(S)||(S=lo,"selectionStart"in S&&El(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),$o&&zo($o,S)||($o=S,S=I(Ns,"onSelect"),0<S.length&&(u=new pl("onSelect","select",null,u,d),s.push({event:u,listeners:S}),u.target=lo)))}Za("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Za("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Za(ws,2);for(var Dl="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ms=0;Ms<Dl.length;Ms++)Dn.set(Dl[Ms],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ff=new Set("cancel close invalid load scroll toggle".split(" ").concat(uo));function Al(s,u,d){var S=s.type||"unknown-event";s.currentTarget=d,Z(S,u,void 0,s),s.currentTarget=null}function tc(s,u){u=(u&4)!==0;for(var d=0;d<s.length;d++){var S=s[d],A=S.event;S=S.listeners;e:{var H=void 0;if(u)for(var J=S.length-1;0<=J;J--){var te=S[J],pe=te.instance,Be=te.currentTarget;if(te=te.listener,pe!==H&&A.isPropagationStopped())break e;Al(A,te,Be),H=pe}else for(J=0;J<S.length;J++){if(te=S[J],pe=te.instance,Be=te.currentTarget,te=te.listener,pe!==H&&A.isPropagationStopped())break e;Al(A,te,Be),H=pe}}}if(k)throw s=M,k=!1,M=null,s}function Nr(s,u){var d=Ia(u),S=s+"__bubble";d.has(S)||(w(u,s,2,!1),d.add(S))}var h="_reactListening"+Math.random().toString(36).slice(2);function b(s){s[h]||(s[h]=!0,i.forEach(function(u){Ff.has(u)||p(u,!1,s,null),p(u,!0,s,null)}))}function p(s,u,d,S){var A=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,H=d;s==="selectionchange"&&d.nodeType!==9&&(H=d.ownerDocument);var J=Ia(H),te=s+"__"+(u?"capture":"bubble");J.has(te)||(u&&(A|=4),w(H,s,A,u),J.add(te))}function w(s,u,d,S){var A=Dn.get(u);switch(A===void 0?2:A){case 0:A=_o;break;case 1:A=bs;break;default:A=ro}d=A.bind(null,u,d,s),A=void 0,!_e||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(A=!0),S?A!==void 0?s.addEventListener(u,d,{capture:!0,passive:A}):s.addEventListener(u,d,!0):A!==void 0?s.addEventListener(u,d,{passive:A}):s.addEventListener(u,d,!1)}function x(s,u,d,S,A){var H=S;if((u&1)===0&&(u&2)===0&&S!==null)e:for(;;){if(S===null)return;var J=S.tag;if(J===3||J===4){var te=S.stateNode.containerInfo;if(te===A||te.nodeType===8&&te.parentNode===A)break;if(J===4)for(J=S.return;J!==null;){var pe=J.tag;if((pe===3||pe===4)&&(pe=J.stateNode.containerInfo,pe===A||pe.nodeType===8&&pe.parentNode===A))return;J=J.return}for(;te!==null;){if(J=qr(te),J===null)return;if(pe=J.tag,pe===5||pe===6){S=H=J;continue e}te=te.parentNode}}S=S.return}ae(function(){var Be=H,yt=Pr(d),Jt=[];e:{var rt=ys.get(s);if(rt!==void 0){var At=pl,Wt=s;switch(s){case"keypress":if(Xr(d)===0)break e;case"keydown":case"keyup":At=Fo;break;case"focusin":Wt="focus",At=yl;break;case"focusout":Wt="blur",At=yl;break;case"beforeblur":case"afterblur":At=yl;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":At=xs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":At=Sf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":At=Lf;break;case fa:case Zi:case ai:At=Ef;break;case Ya:At=qu;break;case"scroll":At=vl;break;case"wheel":At=Rf;break;case"copy":case"cut":case"paste":At=wl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":At=io}var $t=(u&4)!==0,Me=!$t&&s==="scroll",ge=$t?rt!==null?rt+"Capture":null:rt;$t=[];for(var xe=Be,Ue;xe!==null;){Ue=xe;var Qe=Ue.stateNode;if(Ue.tag===5&&Qe!==null&&(Ue=Qe,ge!==null&&(Qe=De(xe,ge),Qe!=null&&$t.push(O(xe,Qe,Ue)))),Me)break;xe=xe.return}0<$t.length&&(rt=new At(rt,Wt,null,d,yt),Jt.push({event:rt,listeners:$t}))}}if((u&7)===0){e:{if(rt=s==="mouseover"||s==="pointerover",At=s==="mouseout"||s==="pointerout",rt&&(u&16)===0&&(Wt=d.relatedTarget||d.fromElement)&&(qr(Wt)||Wt[un]))break e;if((At||rt)&&(rt=yt.window===yt?yt:(rt=yt.ownerDocument)?rt.defaultView||rt.parentWindow:window,At?(Wt=d.relatedTarget||d.toElement,At=Be,Wt=Wt?qr(Wt):null,Wt!==null&&(Me=oe(Wt),Wt!==Me||Wt.tag!==5&&Wt.tag!==6)&&(Wt=null)):(At=null,Wt=Be),At!==Wt)){if($t=xs,Qe="onMouseLeave",ge="onMouseEnter",xe="mouse",(s==="pointerout"||s==="pointerover")&&($t=io,Qe="onPointerLeave",ge="onPointerEnter",xe="pointer"),Me=At==null?rt:Ti(At),Ue=Wt==null?rt:Ti(Wt),rt=new $t(Qe,xe+"leave",At,d,yt),rt.target=Me,rt.relatedTarget=Ue,Qe=null,qr(yt)===Be&&($t=new $t(ge,xe+"enter",Wt,d,yt),$t.target=Ue,$t.relatedTarget=Me,Qe=$t),Me=Qe,At&&Wt)t:{for($t=At,ge=Wt,xe=0,Ue=$t;Ue;Ue=B(Ue))xe++;for(Ue=0,Qe=ge;Qe;Qe=B(Qe))Ue++;for(;0<xe-Ue;)$t=B($t),xe--;for(;0<Ue-xe;)ge=B(ge),Ue--;for(;xe--;){if($t===ge||ge!==null&&$t===ge.alternate)break t;$t=B($t),ge=B(ge)}$t=null}else $t=null;At!==null&&j(Jt,rt,At,$t,!1),Wt!==null&&Me!==null&&j(Jt,Me,Wt,$t,!0)}}e:{if(rt=Be?Ti(Be):window,At=rt.nodeName&&rt.nodeName.toLowerCase(),At==="select"||At==="input"&&rt.type==="file")var Qt=Cl;else if(kl(rt))if(Sl)Qt=Xu;else{Qt=Qu;var Et=Ku}else(At=rt.nodeName)&&At.toLowerCase()==="input"&&(rt.type==="checkbox"||rt.type==="radio")&&(Qt=Pf);if(Qt&&(Qt=Qt(s,Be))){ju(Jt,Qt,d,yt);break e}Et&&Et(s,rt,Be),s==="focusout"&&(Et=rt._wrapperState)&&Et.controlled&&rt.type==="number"&&_r(rt,"number",rt.value)}switch(Et=Be?Ti(Be):window,s){case"focusin":(kl(Et)||Et.contentEditable==="true")&&(lo=Et,Ns=Be,$o=null);break;case"focusout":$o=Ns=lo=null;break;case"mousedown":Ml=!0;break;case"contextmenu":case"mouseup":case"dragend":Ml=!1,Ol(Jt,d,yt);break;case"selectionchange":if(Nl)break;case"keydown":case"keyup":Ol(Jt,d,yt)}var Xt;if(Ts)e:{switch(s){case"compositionstart":var ar="onCompositionStart";break e;case"compositionend":ar="onCompositionEnd";break e;case"compositionupdate":ar="onCompositionUpdate";break e}ar=void 0}else sn?Ra(s,d)&&(ar="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(ar="onCompositionStart");ar&&(ao&&d.locale!=="ko"&&(sn||ar!=="onCompositionStart"?ar==="onCompositionEnd"&&sn&&(Xt=on()):(ha=yt,hl="value"in ha?ha.value:ha.textContent,sn=!0)),Et=I(Be,ar),0<Et.length&&(ar=new Pu(ar,s,null,d,yt),Jt.push({event:ar,listeners:Et}),Xt?ar.data=Xt:(Xt=ma(d),Xt!==null&&(ar.data=Xt)))),(Xt=$u?ln(s,d):Uu(s,d))&&(Be=I(Be,"onBeforeInput"),0<Be.length&&(yt=new Pu("onBeforeInput","beforeinput",null,d,yt),Jt.push({event:yt,listeners:Be}),yt.data=Xt))}tc(Jt,u)})}function O(s,u,d){return{instance:s,listener:u,currentTarget:d}}function I(s,u){for(var d=u+"Capture",S=[];s!==null;){var A=s,H=A.stateNode;A.tag===5&&H!==null&&(A=H,H=De(s,d),H!=null&&S.unshift(O(s,H,A)),H=De(s,u),H!=null&&S.push(O(s,H,A))),s=s.return}return S}function B(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function j(s,u,d,S,A){for(var H=u._reactName,J=[];d!==null&&d!==S;){var te=d,pe=te.alternate,Be=te.stateNode;if(pe!==null&&pe===S)break;te.tag===5&&Be!==null&&(te=Be,A?(pe=De(d,H),pe!=null&&J.unshift(O(d,pe,te))):A||(pe=De(d,H),pe!=null&&J.push(O(d,pe,te)))),d=d.return}J.length!==0&&s.push({event:u,listeners:J})}function K(){}var ue=null,Se=null;function me(s,u){switch(s){case"button":case"input":case"select":case"textarea":return!!u.autoFocus}return!1}function Re(s,u){return s==="textarea"||s==="option"||s==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Ge=typeof setTimeout=="function"?setTimeout:void 0,ut=typeof clearTimeout=="function"?clearTimeout:void 0;function mt(s){s.nodeType===1?s.textContent="":s.nodeType===9&&(s=s.body,s!=null&&(s.textContent=""))}function Ze(s){for(;s!=null;s=s.nextSibling){var u=s.nodeType;if(u===1||u===3)break}return s}function sr(s){s=s.previousSibling;for(var u=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"){if(u===0)return s;u--}else d==="/$"&&u++}s=s.previousSibling}return null}var Kt=0;function Pt(s){return{$$typeof:Ot,toString:s,valueOf:s}}var Yt=Math.random().toString(36).slice(2),lr="__reactFiber$"+Yt,Cr="__reactProps$"+Yt,un="__reactContainer$"+Yt,Wr="__reactEvents$"+Yt;function qr(s){var u=s[lr];if(u)return u;for(var d=s.parentNode;d;){if(u=d[un]||d[lr]){if(d=u.alternate,u.child!==null||d!==null&&d.child!==null)for(s=sr(s);s!==null;){if(d=s[lr])return d;s=sr(s)}return u}s=d,d=s.parentNode}return null}function An(s){return s=s[lr]||s[un],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ti(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function ui(s){return s[Cr]||null}function Ia(s){var u=s[Wr];return u===void 0&&(u=s[Wr]=new Set),u}var _i=[],Fi=-1;function Ei(s){return{current:s}}function Vt(s){0>Fi||(s.current=_i[Fi],_i[Fi]=null,Fi--)}function Sr(s,u){Fi++,_i[Fi]=s.current,s.current=u}var Hr={},Dr=Ei(Hr),mn=Ei(!1),Vo=Hr;function Os(s,u){var d=s.type.contextTypes;if(!d)return Hr;var S=s.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===u)return S.__reactInternalMemoizedMaskedChildContext;var A={},H;for(H in d)A[H]=u[H];return S&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=u,s.__reactInternalMemoizedMaskedChildContext=A),A}function ci(s){return s=s.childContextTypes,s!=null}function rc(){Vt(mn),Vt(Dr)}function xh(s,u,d){if(Dr.current!==Hr)throw Error(n(168));Sr(Dr,u),Sr(mn,d)}function Th(s,u,d){var S=s.stateNode;if(s=u.childContextTypes,typeof S.getChildContext!="function")return d;S=S.getChildContext();for(var A in S)if(!(A in s))throw Error(n(108,Pe(u)||"Unknown",A));return e({},d,S)}function nc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Hr,Vo=Dr.current,Sr(Dr,s),Sr(mn,mn.current),!0}function Eh(s,u,d){var S=s.stateNode;if(!S)throw Error(n(169));d?(s=Th(s,u,Vo),S.__reactInternalMemoizedMergedChildContext=s,Vt(mn),Vt(Dr),Sr(Dr,s)):Vt(mn),Sr(mn,d)}var qf=null,Uo=null,Hm=t.unstable_runWithPriority,Hf=t.unstable_scheduleCallback,zf=t.unstable_cancelCallback,zm=t.unstable_shouldYield,Nh=t.unstable_requestPaint,$f=t.unstable_now,$m=t.unstable_getCurrentPriorityLevel,ic=t.unstable_ImmediatePriority,Mh=t.unstable_UserBlockingPriority,Oh=t.unstable_NormalPriority,Dh=t.unstable_LowPriority,Ah=t.unstable_IdlePriority,Vf={},Vm=Nh!==void 0?Nh:function(){},Pa=null,ac=null,Uf=!1,Lh=$f(),Ln=1e4>Lh?$f:function(){return $f()-Lh};function Ds(){switch($m()){case ic:return 99;case Mh:return 98;case Oh:return 97;case Dh:return 96;case Ah:return 95;default:throw Error(n(332))}}function Rh(s){switch(s){case 99:return ic;case 98:return Mh;case 97:return Oh;case 96:return Dh;case 95:return Ah;default:throw Error(n(332))}}function jo(s,u){return s=Rh(s),Hm(s,u)}function Ll(s,u,d){return s=Rh(s),Hf(s,u,d)}function ga(){if(ac!==null){var s=ac;ac=null,zf(s)}Ih()}function Ih(){if(!Uf&&Pa!==null){Uf=!0;var s=0;try{var u=Pa;jo(99,function(){for(;s<u.length;s++){var d=u[s];do d=d(!0);while(d!==null)}}),Pa=null}catch(d){throw Pa!==null&&(Pa=Pa.slice(s+1)),Hf(ic,ga),d}finally{Uf=!1}}}var Um=ve.ReactCurrentBatchConfig;function ta(s,u){if(s&&s.defaultProps){u=e({},u),s=s.defaultProps;for(var d in s)u[d]===void 0&&(u[d]=s[d]);return u}return u}var oc=Ei(null),sc=null,As=null,lc=null;function jf(){lc=As=sc=null}function Wf(s){var u=oc.current;Vt(oc),s.type._context._currentValue=u}function Ph(s,u){for(;s!==null;){var d=s.alternate;if((s.childLanes&u)===u){if(d===null||(d.childLanes&u)===u)break;d.childLanes|=u}else s.childLanes|=u,d!==null&&(d.childLanes|=u);s=s.return}}function Ls(s,u){sc=s,lc=As=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&u)!==0&&(ra=!0),s.firstContext=null)}function qi(s,u){if(lc!==s&&u!==!1&&u!==0)if((typeof u!="number"||u===1073741823)&&(lc=s,u=1073741823),u={context:s,observedBits:u,next:null},As===null){if(sc===null)throw Error(n(308));As=u,sc.dependencies={lanes:0,firstContext:u,responders:null}}else As=As.next=u;return s._currentValue}var co=!1;function Gf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Bh(s,u){s=s.updateQueue,u.updateQueue===s&&(u.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function fo(s,u){return{eventTime:s,lane:u,tag:0,payload:null,callback:null,next:null}}function ho(s,u){if(s=s.updateQueue,s!==null){s=s.shared;var d=s.pending;d===null?u.next=u:(u.next=d.next,d.next=u),s.pending=u}}function _h(s,u){var d=s.updateQueue,S=s.alternate;if(S!==null&&(S=S.updateQueue,d===S)){var A=null,H=null;if(d=d.firstBaseUpdate,d!==null){do{var J={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};H===null?A=H=J:H=H.next=J,d=d.next}while(d!==null);H===null?A=H=u:H=H.next=u}else A=H=u;d={baseState:S.baseState,firstBaseUpdate:A,lastBaseUpdate:H,shared:S.shared,effects:S.effects},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=u}function Rl(s,u,d,S){var A=s.updateQueue;co=!1;var H=A.firstBaseUpdate,J=A.lastBaseUpdate,te=A.shared.pending;if(te!==null){A.shared.pending=null;var pe=te,Be=pe.next;pe.next=null,J===null?H=Be:J.next=Be,J=pe;var yt=s.alternate;if(yt!==null){yt=yt.updateQueue;var Jt=yt.lastBaseUpdate;Jt!==J&&(Jt===null?yt.firstBaseUpdate=Be:Jt.next=Be,yt.lastBaseUpdate=pe)}}if(H!==null){Jt=A.baseState,J=0,yt=Be=pe=null;do{te=H.lane;var rt=H.eventTime;if((S&te)===te){yt!==null&&(yt=yt.next={eventTime:rt,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var At=s,Wt=H;switch(te=u,rt=d,Wt.tag){case 1:if(At=Wt.payload,typeof At=="function"){Jt=At.call(rt,Jt,te);break e}Jt=At;break e;case 3:At.flags=At.flags&-4097|64;case 0:if(At=Wt.payload,te=typeof At=="function"?At.call(rt,Jt,te):At,te==null)break e;Jt=e({},Jt,te);break e;case 2:co=!0}}H.callback!==null&&(s.flags|=32,te=A.effects,te===null?A.effects=[H]:te.push(H))}else rt={eventTime:rt,lane:te,tag:H.tag,payload:H.payload,callback:H.callback,next:null},yt===null?(Be=yt=rt,pe=Jt):yt=yt.next=rt,J|=te;if(H=H.next,H===null){if(te=A.shared.pending,te===null)break;H=te.next,te.next=null,A.lastBaseUpdate=te,A.shared.pending=null}}while(!0);yt===null&&(pe=Jt),A.baseState=pe,A.firstBaseUpdate=Be,A.lastBaseUpdate=yt,jl|=J,s.lanes=J,s.memoizedState=Jt}}function Fh(s,u,d){if(s=u.effects,u.effects=null,s!==null)for(u=0;u<s.length;u++){var S=s[u],A=S.callback;if(A!==null){if(S.callback=null,S=d,typeof A!="function")throw Error(n(191,A));A.call(S)}}}var qh=new r.Component().refs;function uc(s,u,d,S){u=s.memoizedState,d=d(S,u),d=d==null?u:e({},u,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var cc={isMounted:function(s){return(s=s._reactInternals)?oe(s)===s:!1},enqueueSetState:function(s,u,d){s=s._reactInternals;var S=Ni(),A=mo(s),H=fo(S,A);H.payload=u,d!=null&&(H.callback=d),ho(s,H),go(s,A,S)},enqueueReplaceState:function(s,u,d){s=s._reactInternals;var S=Ni(),A=mo(s),H=fo(S,A);H.tag=1,H.payload=u,d!=null&&(H.callback=d),ho(s,H),go(s,A,S)},enqueueForceUpdate:function(s,u){s=s._reactInternals;var d=Ni(),S=mo(s),A=fo(d,S);A.tag=2,u!=null&&(A.callback=u),ho(s,A),go(s,S,d)}};function Hh(s,u,d,S,A,H,J){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(S,H,J):u.prototype&&u.prototype.isPureReactComponent?!zo(d,S)||!zo(A,H):!0}function zh(s,u,d){var S=!1,A=Hr,H=u.contextType;return typeof H=="object"&&H!==null?H=qi(H):(A=ci(u)?Vo:Dr.current,S=u.contextTypes,H=(S=S!=null)?Os(s,A):Hr),u=new u(d,H),s.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=cc,s.stateNode=u,u._reactInternals=s,S&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=A,s.__reactInternalMemoizedMaskedChildContext=H),u}function $h(s,u,d,S){s=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(d,S),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(d,S),u.state!==s&&cc.enqueueReplaceState(u,u.state,null)}function Jf(s,u,d,S){var A=s.stateNode;A.props=d,A.state=s.memoizedState,A.refs=qh,Gf(s);var H=u.contextType;typeof H=="object"&&H!==null?A.context=qi(H):(H=ci(u)?Vo:Dr.current,A.context=Os(s,H)),Rl(s,d,A,S),A.state=s.memoizedState,H=u.getDerivedStateFromProps,typeof H=="function"&&(uc(s,u,H,d),A.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(u=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),u!==A.state&&cc.enqueueReplaceState(A,A.state,null),Rl(s,d,A,S),A.state=s.memoizedState),typeof A.componentDidMount=="function"&&(s.flags|=4)}var fc=Array.isArray;function Il(s,u,d){if(s=d.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var S=d.stateNode}if(!S)throw Error(n(147,s));var A=""+s;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===A?u.ref:(u=function(H){var J=S.refs;J===qh&&(J=S.refs={}),H===null?delete J[A]:J[A]=H},u._stringRef=A,u)}if(typeof s!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,s))}return s}function dc(s,u){if(s.type!=="textarea")throw Error(n(31,Object.prototype.toString.call(u)==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":u))}function Vh(s){function u(Me,ge){if(s){var xe=Me.lastEffect;xe!==null?(xe.nextEffect=ge,Me.lastEffect=ge):Me.firstEffect=Me.lastEffect=ge,ge.nextEffect=null,ge.flags=8}}function d(Me,ge){if(!s)return null;for(;ge!==null;)u(Me,ge),ge=ge.sibling;return null}function S(Me,ge){for(Me=new Map;ge!==null;)ge.key!==null?Me.set(ge.key,ge):Me.set(ge.index,ge),ge=ge.sibling;return Me}function A(Me,ge){return Me=bo(Me,ge),Me.index=0,Me.sibling=null,Me}function H(Me,ge,xe){return Me.index=xe,s?(xe=Me.alternate,xe!==null?(xe=xe.index,xe<ge?(Me.flags=2,ge):xe):(Me.flags=2,ge)):ge}function J(Me){return s&&Me.alternate===null&&(Me.flags=2),Me}function te(Me,ge,xe,Ue){return ge===null||ge.tag!==6?(ge=Dd(xe,Me.mode,Ue),ge.return=Me,ge):(ge=A(ge,xe),ge.return=Me,ge)}function pe(Me,ge,xe,Ue){return ge!==null&&ge.elementType===xe.type?(Ue=A(ge,xe.props),Ue.ref=Il(Me,ge,xe),Ue.return=Me,Ue):(Ue=Dc(xe.type,xe.key,xe.props,null,Me.mode,Ue),Ue.ref=Il(Me,ge,xe),Ue.return=Me,Ue)}function Be(Me,ge,xe,Ue){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==xe.containerInfo||ge.stateNode.implementation!==xe.implementation?(ge=Ad(xe,Me.mode,Ue),ge.return=Me,ge):(ge=A(ge,xe.children||[]),ge.return=Me,ge)}function yt(Me,ge,xe,Ue,Qe){return ge===null||ge.tag!==7?(ge=Hs(xe,Me.mode,Ue,Qe),ge.return=Me,ge):(ge=A(ge,xe),ge.return=Me,ge)}function Jt(Me,ge,xe){if(typeof ge=="string"||typeof ge=="number")return ge=Dd(""+ge,Me.mode,xe),ge.return=Me,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case le:return xe=Dc(ge.type,ge.key,ge.props,null,Me.mode,xe),xe.ref=Il(Me,null,ge),xe.return=Me,xe;case ke:return ge=Ad(ge,Me.mode,xe),ge.return=Me,ge}if(fc(ge)||xt(ge))return ge=Hs(ge,Me.mode,xe,null),ge.return=Me,ge;dc(Me,ge)}return null}function rt(Me,ge,xe,Ue){var Qe=ge!==null?ge.key:null;if(typeof xe=="string"||typeof xe=="number")return Qe!==null?null:te(Me,ge,""+xe,Ue);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case le:return xe.key===Qe?xe.type===we?yt(Me,ge,xe.props.children,Ue,Qe):pe(Me,ge,xe,Ue):null;case ke:return xe.key===Qe?Be(Me,ge,xe,Ue):null}if(fc(xe)||xt(xe))return Qe!==null?null:yt(Me,ge,xe,Ue,null);dc(Me,xe)}return null}function At(Me,ge,xe,Ue,Qe){if(typeof Ue=="string"||typeof Ue=="number")return Me=Me.get(xe)||null,te(ge,Me,""+Ue,Qe);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case le:return Me=Me.get(Ue.key===null?xe:Ue.key)||null,Ue.type===we?yt(ge,Me,Ue.props.children,Qe,Ue.key):pe(ge,Me,Ue,Qe);case ke:return Me=Me.get(Ue.key===null?xe:Ue.key)||null,Be(ge,Me,Ue,Qe)}if(fc(Ue)||xt(Ue))return Me=Me.get(xe)||null,yt(ge,Me,Ue,Qe,null);dc(ge,Ue)}return null}function Wt(Me,ge,xe,Ue){for(var Qe=null,Qt=null,Et=ge,Xt=ge=0,ar=null;Et!==null&&Xt<xe.length;Xt++){Et.index>Xt?(ar=Et,Et=null):ar=Et.sibling;var Zt=rt(Me,Et,xe[Xt],Ue);if(Zt===null){Et===null&&(Et=ar);break}s&&Et&&Zt.alternate===null&&u(Me,Et),ge=H(Zt,ge,Xt),Qt===null?Qe=Zt:Qt.sibling=Zt,Qt=Zt,Et=ar}if(Xt===xe.length)return d(Me,Et),Qe;if(Et===null){for(;Xt<xe.length;Xt++)Et=Jt(Me,xe[Xt],Ue),Et!==null&&(ge=H(Et,ge,Xt),Qt===null?Qe=Et:Qt.sibling=Et,Qt=Et);return Qe}for(Et=S(Me,Et);Xt<xe.length;Xt++)ar=At(Et,Me,Xt,xe[Xt],Ue),ar!==null&&(s&&ar.alternate!==null&&Et.delete(ar.key===null?Xt:ar.key),ge=H(ar,ge,Xt),Qt===null?Qe=ar:Qt.sibling=ar,Qt=ar);return s&&Et.forEach(function(ko){return u(Me,ko)}),Qe}function $t(Me,ge,xe,Ue){var Qe=xt(xe);if(typeof Qe!="function")throw Error(n(150));if(xe=Qe.call(xe),xe==null)throw Error(n(151));for(var Qt=Qe=null,Et=ge,Xt=ge=0,ar=null,Zt=xe.next();Et!==null&&!Zt.done;Xt++,Zt=xe.next()){Et.index>Xt?(ar=Et,Et=null):ar=Et.sibling;var ko=rt(Me,Et,Zt.value,Ue);if(ko===null){Et===null&&(Et=ar);break}s&&Et&&ko.alternate===null&&u(Me,Et),ge=H(ko,ge,Xt),Qt===null?Qe=ko:Qt.sibling=ko,Qt=ko,Et=ar}if(Zt.done)return d(Me,Et),Qe;if(Et===null){for(;!Zt.done;Xt++,Zt=xe.next())Zt=Jt(Me,Zt.value,Ue),Zt!==null&&(ge=H(Zt,ge,Xt),Qt===null?Qe=Zt:Qt.sibling=Zt,Qt=Zt);return Qe}for(Et=S(Me,Et);!Zt.done;Xt++,Zt=xe.next())Zt=At(Et,Me,Xt,Zt.value,Ue),Zt!==null&&(s&&Zt.alternate!==null&&Et.delete(Zt.key===null?Xt:Zt.key),ge=H(Zt,ge,Xt),Qt===null?Qe=Zt:Qt.sibling=Zt,Qt=Zt);return s&&Et.forEach(function(kg){return u(Me,kg)}),Qe}return function(Me,ge,xe,Ue){var Qe=typeof xe=="object"&&xe!==null&&xe.type===we&&xe.key===null;Qe&&(xe=xe.props.children);var Qt=typeof xe=="object"&&xe!==null;if(Qt)switch(xe.$$typeof){case le:e:{for(Qt=xe.key,Qe=ge;Qe!==null;){if(Qe.key===Qt){switch(Qe.tag){case 7:if(xe.type===we){d(Me,Qe.sibling),ge=A(Qe,xe.props.children),ge.return=Me,Me=ge;break e}break;default:if(Qe.elementType===xe.type){d(Me,Qe.sibling),ge=A(Qe,xe.props),ge.ref=Il(Me,Qe,xe),ge.return=Me,Me=ge;break e}}d(Me,Qe);break}else u(Me,Qe);Qe=Qe.sibling}xe.type===we?(ge=Hs(xe.props.children,Me.mode,Ue,xe.key),ge.return=Me,Me=ge):(Ue=Dc(xe.type,xe.key,xe.props,null,Me.mode,Ue),Ue.ref=Il(Me,ge,xe),Ue.return=Me,Me=Ue)}return J(Me);case ke:e:{for(Qe=xe.key;ge!==null;){if(ge.key===Qe)if(ge.tag===4&&ge.stateNode.containerInfo===xe.containerInfo&&ge.stateNode.implementation===xe.implementation){d(Me,ge.sibling),ge=A(ge,xe.children||[]),ge.return=Me,Me=ge;break e}else{d(Me,ge);break}else u(Me,ge);ge=ge.sibling}ge=Ad(xe,Me.mode,Ue),ge.return=Me,Me=ge}return J(Me)}if(typeof xe=="string"||typeof xe=="number")return xe=""+xe,ge!==null&&ge.tag===6?(d(Me,ge.sibling),ge=A(ge,xe),ge.return=Me,Me=ge):(d(Me,ge),ge=Dd(xe,Me.mode,Ue),ge.return=Me,Me=ge),J(Me);if(fc(xe))return Wt(Me,ge,xe,Ue);if(xt(xe))return $t(Me,ge,xe,Ue);if(Qt&&dc(Me,xe),typeof xe>"u"&&!Qe)switch(Me.tag){case 1:case 22:case 0:case 11:case 15:throw Error(n(152,Pe(Me.type)||"Component"))}return d(Me,ge)}}var hc=Vh(!0),Uh=Vh(!1),Pl={},ya=Ei(Pl),Bl=Ei(Pl),_l=Ei(Pl);function Wo(s){if(s===Pl)throw Error(n(174));return s}function Kf(s,u){switch(Sr(_l,u),Sr(Bl,s),Sr(ya,Pl),s=u.nodeType,s){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:wr(null,"");break;default:s=s===8?u.parentNode:u,u=s.namespaceURI||null,s=s.tagName,u=wr(u,s)}Vt(ya),Sr(ya,u)}function Rs(){Vt(ya),Vt(Bl),Vt(_l)}function jh(s){Wo(_l.current);var u=Wo(ya.current),d=wr(u,s.type);u!==d&&(Sr(Bl,s),Sr(ya,d))}function Qf(s){Bl.current===s&&(Vt(ya),Vt(Bl))}var zr=Ei(0);function pc(s){for(var u=s;u!==null;){if(u.tag===13){var d=u.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&64)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Ba=null,po=null,wa=!1;function Wh(s,u){var d=$i(5,null,null,0);d.elementType="DELETED",d.type="DELETED",d.stateNode=u,d.return=s,d.flags=8,s.lastEffect!==null?(s.lastEffect.nextEffect=d,s.lastEffect=d):s.firstEffect=s.lastEffect=d}function Gh(s,u){switch(s.tag){case 5:var d=s.type;return u=u.nodeType!==1||d.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(s.stateNode=u,!0):!1;case 6:return u=s.pendingProps===""||u.nodeType!==3?null:u,u!==null?(s.stateNode=u,!0):!1;case 13:return!1;default:return!1}}function Xf(s){if(wa){var u=po;if(u){var d=u;if(!Gh(s,u)){if(u=Ze(d.nextSibling),!u||!Gh(s,u)){s.flags=s.flags&-1025|2,wa=!1,Ba=s;return}Wh(Ba,d)}Ba=s,po=Ze(u.firstChild)}else s.flags=s.flags&-1025|2,wa=!1,Ba=s}}function Jh(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Ba=s}function vc(s){if(s!==Ba)return!1;if(!wa)return Jh(s),wa=!0,!1;var u=s.type;if(s.tag!==5||u!=="head"&&u!=="body"&&!Re(u,s.memoizedProps))for(u=po;u;)Wh(s,u),u=Ze(u.nextSibling);if(Jh(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,u=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"){if(u===0){po=Ze(s.nextSibling);break e}u--}else d!=="$"&&d!=="$!"&&d!=="$?"||u++}s=s.nextSibling}po=null}}else po=Ba?Ze(s.stateNode.nextSibling):null;return!0}function Yf(){po=Ba=null,wa=!1}var Is=[];function Zf(){for(var s=0;s<Is.length;s++)Is[s]._workInProgressVersionPrimary=null;Is.length=0}var Fl=ve.ReactCurrentDispatcher,Hi=ve.ReactCurrentBatchConfig,ql=0,Gr=null,Rn=null,gn=null,mc=!1,Hl=!1;function fi(){throw Error(n(321))}function ed(s,u){if(u===null)return!1;for(var d=0;d<u.length&&d<s.length;d++)if(!li(s[d],u[d]))return!1;return!0}function td(s,u,d,S,A,H){if(ql=H,Gr=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Fl.current=s===null||s.memoizedState===null?Wm:Gm,s=d(S,A),Hl){H=0;do{if(Hl=!1,!(25>H))throw Error(n(301));H+=1,gn=Rn=null,u.updateQueue=null,Fl.current=Jm,s=d(S,A)}while(Hl)}if(Fl.current=bc,u=Rn!==null&&Rn.next!==null,ql=0,gn=Rn=Gr=null,mc=!1,u)throw Error(n(300));return s}function Go(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?Gr.memoizedState=gn=s:gn=gn.next=s,gn}function Jo(){if(Rn===null){var s=Gr.alternate;s=s!==null?s.memoizedState:null}else s=Rn.next;var u=gn===null?Gr.memoizedState:gn.next;if(u!==null)gn=u,Rn=s;else{if(s===null)throw Error(n(310));Rn=s,s={memoizedState:Rn.memoizedState,baseState:Rn.baseState,baseQueue:Rn.baseQueue,queue:Rn.queue,next:null},gn===null?Gr.memoizedState=gn=s:gn=gn.next=s}return gn}function ba(s,u){return typeof u=="function"?u(s):u}function zl(s){var u=Jo(),d=u.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var S=Rn,A=S.baseQueue,H=d.pending;if(H!==null){if(A!==null){var J=A.next;A.next=H.next,H.next=J}S.baseQueue=A=H,d.pending=null}if(A!==null){A=A.next,S=S.baseState;var te=J=H=null,pe=A;do{var Be=pe.lane;if((ql&Be)===Be)te!==null&&(te=te.next={lane:0,action:pe.action,eagerReducer:pe.eagerReducer,eagerState:pe.eagerState,next:null}),S=pe.eagerReducer===s?pe.eagerState:s(S,pe.action);else{var yt={lane:Be,action:pe.action,eagerReducer:pe.eagerReducer,eagerState:pe.eagerState,next:null};te===null?(J=te=yt,H=S):te=te.next=yt,Gr.lanes|=Be,jl|=Be}pe=pe.next}while(pe!==null&&pe!==A);te===null?H=S:te.next=J,li(S,u.memoizedState)||(ra=!0),u.memoizedState=S,u.baseState=H,u.baseQueue=te,d.lastRenderedState=S}return[u.memoizedState,d.dispatch]}function $l(s){var u=Jo(),d=u.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var S=d.dispatch,A=d.pending,H=u.memoizedState;if(A!==null){d.pending=null;var J=A=A.next;do H=s(H,J.action),J=J.next;while(J!==A);li(H,u.memoizedState)||(ra=!0),u.memoizedState=H,u.baseQueue===null&&(u.baseState=H),d.lastRenderedState=H}return[H,S]}function Kh(s,u,d){var S=u._getVersion;S=S(u._source);var A=u._workInProgressVersionPrimary;if(A!==null?s=A===S:(s=s.mutableReadLanes,(s=(ql&s)===s)&&(u._workInProgressVersionPrimary=S,Is.push(u))),s)return d(u._source);throw Is.push(u),Error(n(350))}function Qh(s,u,d,S){var A=Gn;if(A===null)throw Error(n(349));var H=u._getVersion,J=H(u._source),te=Fl.current,pe=te.useState(function(){return Kh(A,u,d)}),Be=pe[1],yt=pe[0];pe=gn;var Jt=s.memoizedState,rt=Jt.refs,At=rt.getSnapshot,Wt=Jt.source;Jt=Jt.subscribe;var $t=Gr;return s.memoizedState={refs:rt,source:u,subscribe:S},te.useEffect(function(){rt.getSnapshot=d,rt.setSnapshot=Be;var Me=H(u._source);if(!li(J,Me)){Me=d(u._source),li(yt,Me)||(Be(Me),Me=mo($t),A.mutableReadLanes|=Me&A.pendingLanes),Me=A.mutableReadLanes,A.entangledLanes|=Me;for(var ge=A.entanglements,xe=Me;0<xe;){var Ue=31-wt(xe),Qe=1<<Ue;ge[Ue]|=Me,xe&=~Qe}}},[d,u,S]),te.useEffect(function(){return S(u._source,function(){var Me=rt.getSnapshot,ge=rt.setSnapshot;try{ge(Me(u._source));var xe=mo($t);A.mutableReadLanes|=xe&A.pendingLanes}catch(Ue){ge(function(){throw Ue})}})},[u,S]),li(At,d)&&li(Wt,u)&&li(Jt,S)||(s={pending:null,dispatch:null,lastRenderedReducer:ba,lastRenderedState:yt},s.dispatch=Be=ad.bind(null,Gr,s),pe.queue=s,pe.baseQueue=null,yt=Kh(A,u,d),pe.memoizedState=pe.baseState=yt),yt}function Xh(s,u,d){var S=Jo();return Qh(S,s,u,d)}function Vl(s){var u=Go();return typeof s=="function"&&(s=s()),u.memoizedState=u.baseState=s,s=u.queue={pending:null,dispatch:null,lastRenderedReducer:ba,lastRenderedState:s},s=s.dispatch=ad.bind(null,Gr,s),[u.memoizedState,s]}function gc(s,u,d,S){return s={tag:s,create:u,destroy:d,deps:S,next:null},u=Gr.updateQueue,u===null?(u={lastEffect:null},Gr.updateQueue=u,u.lastEffect=s.next=s):(d=u.lastEffect,d===null?u.lastEffect=s.next=s:(S=d.next,d.next=s,s.next=S,u.lastEffect=s)),s}function Yh(s){var u=Go();return s={current:s},u.memoizedState=s}function yc(){return Jo().memoizedState}function rd(s,u,d,S){var A=Go();Gr.flags|=s,A.memoizedState=gc(1|u,d,void 0,S===void 0?null:S)}function nd(s,u,d,S){var A=Jo();S=S===void 0?null:S;var H=void 0;if(Rn!==null){var J=Rn.memoizedState;if(H=J.destroy,S!==null&&ed(S,J.deps)){gc(u,d,H,S);return}}Gr.flags|=s,A.memoizedState=gc(1|u,d,H,S)}function Zh(s,u){return rd(516,4,s,u)}function wc(s,u){return nd(516,4,s,u)}function ep(s,u){return nd(4,2,s,u)}function tp(s,u){if(typeof u=="function")return s=s(),u(s),function(){u(null)};if(u!=null)return s=s(),u.current=s,function(){u.current=null}}function rp(s,u,d){return d=d!=null?d.concat([s]):null,nd(4,2,tp.bind(null,u,s),d)}function id(){}function np(s,u){var d=Jo();u=u===void 0?null:u;var S=d.memoizedState;return S!==null&&u!==null&&ed(u,S[1])?S[0]:(d.memoizedState=[s,u],s)}function ip(s,u){var d=Jo();u=u===void 0?null:u;var S=d.memoizedState;return S!==null&&u!==null&&ed(u,S[1])?S[0]:(s=s(),d.memoizedState=[s,u],s)}function jm(s,u){var d=Ds();jo(98>d?98:d,function(){s(!0)}),jo(97<d?97:d,function(){var S=Hi.transition;Hi.transition=1;try{s(!1),u()}finally{Hi.transition=S}})}function ad(s,u,d){var S=Ni(),A=mo(s),H={lane:A,action:d,eagerReducer:null,eagerState:null,next:null},J=u.pending;if(J===null?H.next=H:(H.next=J.next,J.next=H),u.pending=H,J=s.alternate,s===Gr||J!==null&&J===Gr)Hl=mc=!0;else{if(s.lanes===0&&(J===null||J.lanes===0)&&(J=u.lastRenderedReducer,J!==null))try{var te=u.lastRenderedState,pe=J(te,d);if(H.eagerReducer=J,H.eagerState=pe,li(pe,te))return}catch{}finally{}go(s,A,S)}}var bc={readContext:qi,useCallback:fi,useContext:fi,useEffect:fi,useImperativeHandle:fi,useLayoutEffect:fi,useMemo:fi,useReducer:fi,useRef:fi,useState:fi,useDebugValue:fi,useDeferredValue:fi,useTransition:fi,useMutableSource:fi,useOpaqueIdentifier:fi,unstable_isNewReconciler:!1},Wm={readContext:qi,useCallback:function(s,u){return Go().memoizedState=[s,u===void 0?null:u],s},useContext:qi,useEffect:Zh,useImperativeHandle:function(s,u,d){return d=d!=null?d.concat([s]):null,rd(4,2,tp.bind(null,u,s),d)},useLayoutEffect:function(s,u){return rd(4,2,s,u)},useMemo:function(s,u){var d=Go();return u=u===void 0?null:u,s=s(),d.memoizedState=[s,u],s},useReducer:function(s,u,d){var S=Go();return u=d!==void 0?d(u):u,S.memoizedState=S.baseState=u,s=S.queue={pending:null,dispatch:null,lastRenderedReducer:s,lastRenderedState:u},s=s.dispatch=ad.bind(null,Gr,s),[S.memoizedState,s]},useRef:Yh,useState:Vl,useDebugValue:id,useDeferredValue:function(s){var u=Vl(s),d=u[0],S=u[1];return Zh(function(){var A=Hi.transition;Hi.transition=1;try{S(s)}finally{Hi.transition=A}},[s]),d},useTransition:function(){var s=Vl(!1),u=s[0];return s=jm.bind(null,s[1]),Yh(s),[s,u]},useMutableSource:function(s,u,d){var S=Go();return S.memoizedState={refs:{getSnapshot:u,setSnapshot:null},source:s,subscribe:d},Qh(S,s,u,d)},useOpaqueIdentifier:function(){if(wa){var s=!1,u=Pt(function(){throw s||(s=!0,d("r:"+(Kt++).toString(36))),Error(n(355))}),d=Vl(u)[1];return(Gr.mode&2)===0&&(Gr.flags|=516,gc(5,function(){d("r:"+(Kt++).toString(36))},void 0,null)),u}return u="r:"+(Kt++).toString(36),Vl(u),u},unstable_isNewReconciler:!1},Gm={readContext:qi,useCallback:np,useContext:qi,useEffect:wc,useImperativeHandle:rp,useLayoutEffect:ep,useMemo:ip,useReducer:zl,useRef:yc,useState:function(){return zl(ba)},useDebugValue:id,useDeferredValue:function(s){var u=zl(ba),d=u[0],S=u[1];return wc(function(){var A=Hi.transition;Hi.transition=1;try{S(s)}finally{Hi.transition=A}},[s]),d},useTransition:function(){var s=zl(ba)[0];return[yc().current,s]},useMutableSource:Xh,useOpaqueIdentifier:function(){return zl(ba)[0]},unstable_isNewReconciler:!1},Jm={readContext:qi,useCallback:np,useContext:qi,useEffect:wc,useImperativeHandle:rp,useLayoutEffect:ep,useMemo:ip,useReducer:$l,useRef:yc,useState:function(){return $l(ba)},useDebugValue:id,useDeferredValue:function(s){var u=$l(ba),d=u[0],S=u[1];return wc(function(){var A=Hi.transition;Hi.transition=1;try{S(s)}finally{Hi.transition=A}},[s]),d},useTransition:function(){var s=$l(ba)[0];return[yc().current,s]},useMutableSource:Xh,useOpaqueIdentifier:function(){return $l(ba)[0]},unstable_isNewReconciler:!1},Km=ve.ReactCurrentOwner,ra=!1;function di(s,u,d,S){u.child=s===null?Uh(u,null,d,S):hc(u,s.child,d,S)}function ap(s,u,d,S,A){d=d.render;var H=u.ref;return Ls(u,A),S=td(s,u,d,S,H,A),s!==null&&!ra?(u.updateQueue=s.updateQueue,u.flags&=-517,s.lanes&=~A,_a(s,u,A)):(u.flags|=1,di(s,u,S,A),u.child)}function op(s,u,d,S,A,H){if(s===null){var J=d.type;return typeof J=="function"&&!Md(J)&&J.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(u.tag=15,u.type=J,sp(s,u,J,S,A,H)):(s=Dc(d.type,null,S,u,u.mode,H),s.ref=u.ref,s.return=u,u.child=s)}return J=s.child,(A&H)===0&&(A=J.memoizedProps,d=d.compare,d=d!==null?d:zo,d(A,S)&&s.ref===u.ref)?_a(s,u,H):(u.flags|=1,s=bo(J,S),s.ref=u.ref,s.return=u,u.child=s)}function sp(s,u,d,S,A,H){if(s!==null&&zo(s.memoizedProps,S)&&s.ref===u.ref)if(ra=!1,(H&A)!==0)(s.flags&16384)!==0&&(ra=!0);else return u.lanes=s.lanes,_a(s,u,H);return sd(s,u,d,S,H)}function od(s,u,d){var S=u.pendingProps,A=S.children,H=s!==null?s.memoizedState:null;if(S.mode==="hidden"||S.mode==="unstable-defer-without-hiding")if((u.mode&4)===0)u.memoizedState={baseLanes:0},Oc(u,d);else if((d&1073741824)!==0)u.memoizedState={baseLanes:0},Oc(u,H!==null?H.baseLanes:d);else return s=H!==null?H.baseLanes|d:d,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:s},Oc(u,s),null;else H!==null?(S=H.baseLanes|d,u.memoizedState=null):S=d,Oc(u,S);return di(s,u,A,d),u.child}function lp(s,u){var d=u.ref;(s===null&&d!==null||s!==null&&s.ref!==d)&&(u.flags|=128)}function sd(s,u,d,S,A){var H=ci(d)?Vo:Dr.current;return H=Os(u,H),Ls(u,A),d=td(s,u,d,S,H,A),s!==null&&!ra?(u.updateQueue=s.updateQueue,u.flags&=-517,s.lanes&=~A,_a(s,u,A)):(u.flags|=1,di(s,u,d,A),u.child)}function up(s,u,d,S,A){if(ci(d)){var H=!0;nc(u)}else H=!1;if(Ls(u,A),u.stateNode===null)s!==null&&(s.alternate=null,u.alternate=null,u.flags|=2),zh(u,d,S),Jf(u,d,S,A),S=!0;else if(s===null){var J=u.stateNode,te=u.memoizedProps;J.props=te;var pe=J.context,Be=d.contextType;typeof Be=="object"&&Be!==null?Be=qi(Be):(Be=ci(d)?Vo:Dr.current,Be=Os(u,Be));var yt=d.getDerivedStateFromProps,Jt=typeof yt=="function"||typeof J.getSnapshotBeforeUpdate=="function";Jt||typeof J.UNSAFE_componentWillReceiveProps!="function"&&typeof J.componentWillReceiveProps!="function"||(te!==S||pe!==Be)&&$h(u,J,S,Be),co=!1;var rt=u.memoizedState;J.state=rt,Rl(u,S,J,A),pe=u.memoizedState,te!==S||rt!==pe||mn.current||co?(typeof yt=="function"&&(uc(u,d,yt,S),pe=u.memoizedState),(te=co||Hh(u,d,te,S,rt,pe,Be))?(Jt||typeof J.UNSAFE_componentWillMount!="function"&&typeof J.componentWillMount!="function"||(typeof J.componentWillMount=="function"&&J.componentWillMount(),typeof J.UNSAFE_componentWillMount=="function"&&J.UNSAFE_componentWillMount()),typeof J.componentDidMount=="function"&&(u.flags|=4)):(typeof J.componentDidMount=="function"&&(u.flags|=4),u.memoizedProps=S,u.memoizedState=pe),J.props=S,J.state=pe,J.context=Be,S=te):(typeof J.componentDidMount=="function"&&(u.flags|=4),S=!1)}else{J=u.stateNode,Bh(s,u),te=u.memoizedProps,Be=u.type===u.elementType?te:ta(u.type,te),J.props=Be,Jt=u.pendingProps,rt=J.context,pe=d.contextType,typeof pe=="object"&&pe!==null?pe=qi(pe):(pe=ci(d)?Vo:Dr.current,pe=Os(u,pe));var At=d.getDerivedStateFromProps;(yt=typeof At=="function"||typeof J.getSnapshotBeforeUpdate=="function")||typeof J.UNSAFE_componentWillReceiveProps!="function"&&typeof J.componentWillReceiveProps!="function"||(te!==Jt||rt!==pe)&&$h(u,J,S,pe),co=!1,rt=u.memoizedState,J.state=rt,Rl(u,S,J,A);var Wt=u.memoizedState;te!==Jt||rt!==Wt||mn.current||co?(typeof At=="function"&&(uc(u,d,At,S),Wt=u.memoizedState),(Be=co||Hh(u,d,Be,S,rt,Wt,pe))?(yt||typeof J.UNSAFE_componentWillUpdate!="function"&&typeof J.componentWillUpdate!="function"||(typeof J.componentWillUpdate=="function"&&J.componentWillUpdate(S,Wt,pe),typeof J.UNSAFE_componentWillUpdate=="function"&&J.UNSAFE_componentWillUpdate(S,Wt,pe)),typeof J.componentDidUpdate=="function"&&(u.flags|=4),typeof J.getSnapshotBeforeUpdate=="function"&&(u.flags|=256)):(typeof J.componentDidUpdate!="function"||te===s.memoizedProps&&rt===s.memoizedState||(u.flags|=4),typeof J.getSnapshotBeforeUpdate!="function"||te===s.memoizedProps&&rt===s.memoizedState||(u.flags|=256),u.memoizedProps=S,u.memoizedState=Wt),J.props=S,J.state=Wt,J.context=pe,S=Be):(typeof J.componentDidUpdate!="function"||te===s.memoizedProps&&rt===s.memoizedState||(u.flags|=4),typeof J.getSnapshotBeforeUpdate!="function"||te===s.memoizedProps&&rt===s.memoizedState||(u.flags|=256),S=!1)}return ld(s,u,d,S,H,A)}function ld(s,u,d,S,A,H){lp(s,u);var J=(u.flags&64)!==0;if(!S&&!J)return A&&Eh(u,d,!1),_a(s,u,H);S=u.stateNode,Km.current=u;var te=J&&typeof d.getDerivedStateFromError!="function"?null:S.render();return u.flags|=1,s!==null&&J?(u.child=hc(u,s.child,null,H),u.child=hc(u,null,te,H)):di(s,u,te,H),u.memoizedState=S.state,A&&Eh(u,d,!0),u.child}function cp(s){var u=s.stateNode;u.pendingContext?xh(s,u.pendingContext,u.pendingContext!==u.context):u.context&&xh(s,u.context,!1),Kf(s,u.containerInfo)}var kc={dehydrated:null,retryLane:0};function fp(s,u,d){var S=u.pendingProps,A=zr.current,H=!1,J;return(J=(u.flags&64)!==0)||(J=s!==null&&s.memoizedState===null?!1:(A&2)!==0),J?(H=!0,u.flags&=-65):s!==null&&s.memoizedState===null||S.fallback===void 0||S.unstable_avoidThisFallback===!0||(A|=1),Sr(zr,A&1),s===null?(S.fallback!==void 0&&Xf(u),s=S.children,A=S.fallback,H?(s=dp(u,s,A,d),u.child.memoizedState={baseLanes:d},u.memoizedState=kc,s):typeof S.unstable_expectedLoadTime=="number"?(s=dp(u,s,A,d),u.child.memoizedState={baseLanes:d},u.memoizedState=kc,u.lanes=33554432,s):(d=Od({mode:"visible",children:s},u.mode,d,null),d.return=u,u.child=d)):s.memoizedState!==null?H?(S=pp(s,u,S.children,S.fallback,d),H=u.child,A=s.child.memoizedState,H.memoizedState=A===null?{baseLanes:d}:{baseLanes:A.baseLanes|d},H.childLanes=s.childLanes&~d,u.memoizedState=kc,S):(d=hp(s,u,S.children,d),u.memoizedState=null,d):H?(S=pp(s,u,S.children,S.fallback,d),H=u.child,A=s.child.memoizedState,H.memoizedState=A===null?{baseLanes:d}:{baseLanes:A.baseLanes|d},H.childLanes=s.childLanes&~d,u.memoizedState=kc,S):(d=hp(s,u,S.children,d),u.memoizedState=null,d)}function dp(s,u,d,S){var A=s.mode,H=s.child;return u={mode:"hidden",children:u},(A&2)===0&&H!==null?(H.childLanes=0,H.pendingProps=u):H=Od(u,A,0,null),d=Hs(d,A,S,null),H.return=s,d.return=s,H.sibling=d,s.child=H,d}function hp(s,u,d,S){var A=s.child;return s=A.sibling,d=bo(A,{mode:"visible",children:d}),(u.mode&2)===0&&(d.lanes=S),d.return=u,d.sibling=null,s!==null&&(s.nextEffect=null,s.flags=8,u.firstEffect=u.lastEffect=s),u.child=d}function pp(s,u,d,S,A){var H=u.mode,J=s.child;s=J.sibling;var te={mode:"hidden",children:d};return(H&2)===0&&u.child!==J?(d=u.child,d.childLanes=0,d.pendingProps=te,J=d.lastEffect,J!==null?(u.firstEffect=d.firstEffect,u.lastEffect=J,J.nextEffect=null):u.firstEffect=u.lastEffect=null):d=bo(J,te),s!==null?S=bo(s,S):(S=Hs(S,H,A,null),S.flags|=2),S.return=u,d.return=u,d.sibling=S,u.child=d,S}function vp(s,u){s.lanes|=u;var d=s.alternate;d!==null&&(d.lanes|=u),Ph(s.return,u)}function ud(s,u,d,S,A,H){var J=s.memoizedState;J===null?s.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:S,tail:d,tailMode:A,lastEffect:H}:(J.isBackwards=u,J.rendering=null,J.renderingStartTime=0,J.last=S,J.tail=d,J.tailMode=A,J.lastEffect=H)}function mp(s,u,d){var S=u.pendingProps,A=S.revealOrder,H=S.tail;if(di(s,u,S.children,d),S=zr.current,(S&2)!==0)S=S&1|2,u.flags|=64;else{if(s!==null&&(s.flags&64)!==0)e:for(s=u.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&vp(s,d);else if(s.tag===19)vp(s,d);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===u)break e;for(;s.sibling===null;){if(s.return===null||s.return===u)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}S&=1}if(Sr(zr,S),(u.mode&2)===0)u.memoizedState=null;else switch(A){case"forwards":for(d=u.child,A=null;d!==null;)s=d.alternate,s!==null&&pc(s)===null&&(A=d),d=d.sibling;d=A,d===null?(A=u.child,u.child=null):(A=d.sibling,d.sibling=null),ud(u,!1,A,d,H,u.lastEffect);break;case"backwards":for(d=null,A=u.child,u.child=null;A!==null;){if(s=A.alternate,s!==null&&pc(s)===null){u.child=A;break}s=A.sibling,A.sibling=d,d=A,A=s}ud(u,!0,d,null,H,u.lastEffect);break;case"together":ud(u,!1,null,null,void 0,u.lastEffect);break;default:u.memoizedState=null}return u.child}function _a(s,u,d){if(s!==null&&(u.dependencies=s.dependencies),jl|=u.lanes,(d&u.childLanes)!==0){if(s!==null&&u.child!==s.child)throw Error(n(153));if(u.child!==null){for(s=u.child,d=bo(s,s.pendingProps),u.child=d,d.return=u;s.sibling!==null;)s=s.sibling,d=d.sibling=bo(s,s.pendingProps),d.return=u;d.sibling=null}return u.child}return null}var gp,cd,yp,wp;gp=function(s,u){for(var d=u.child;d!==null;){if(d.tag===5||d.tag===6)s.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},cd=function(){},yp=function(s,u,d,S){var A=s.memoizedProps;if(A!==S){s=u.stateNode,Wo(ya.current);var H=null;switch(d){case"input":A=tr(s,A),S=tr(s,S),H=[];break;case"option":A=Sn(s,A),S=Sn(s,S),H=[];break;case"select":A=e({},A,{value:void 0}),S=e({},S,{value:void 0}),H=[];break;case"textarea":A=ht(s,A),S=ht(s,S),H=[];break;default:typeof A.onClick!="function"&&typeof S.onClick=="function"&&(s.onclick=K)}vn(d,S);var J;d=null;for(Be in A)if(!S.hasOwnProperty(Be)&&A.hasOwnProperty(Be)&&A[Be]!=null)if(Be==="style"){var te=A[Be];for(J in te)te.hasOwnProperty(J)&&(d||(d={}),d[J]="")}else Be!=="dangerouslySetInnerHTML"&&Be!=="children"&&Be!=="suppressContentEditableWarning"&&Be!=="suppressHydrationWarning"&&Be!=="autoFocus"&&(a.hasOwnProperty(Be)?H||(H=[]):(H=H||[]).push(Be,null));for(Be in S){var pe=S[Be];if(te=A?.[Be],S.hasOwnProperty(Be)&&pe!==te&&(pe!=null||te!=null))if(Be==="style")if(te){for(J in te)!te.hasOwnProperty(J)||pe&&pe.hasOwnProperty(J)||(d||(d={}),d[J]="");for(J in pe)pe.hasOwnProperty(J)&&te[J]!==pe[J]&&(d||(d={}),d[J]=pe[J])}else d||(H||(H=[]),H.push(Be,d)),d=pe;else Be==="dangerouslySetInnerHTML"?(pe=pe?pe.__html:void 0,te=te?te.__html:void 0,pe!=null&&te!==pe&&(H=H||[]).push(Be,pe)):Be==="children"?typeof pe!="string"&&typeof pe!="number"||(H=H||[]).push(Be,""+pe):Be!=="suppressContentEditableWarning"&&Be!=="suppressHydrationWarning"&&(a.hasOwnProperty(Be)?(pe!=null&&Be==="onScroll"&&Nr("scroll",s),H||te===pe||(H=[])):typeof pe=="object"&&pe!==null&&pe.$$typeof===Ot?pe.toString():(H=H||[]).push(Be,pe))}d&&(H=H||[]).push("style",d);var Be=H;(u.updateQueue=Be)&&(u.flags|=4)}},wp=function(s,u,d,S){d!==S&&(u.flags|=4)};function Ul(s,u){if(!wa)switch(s.tailMode){case"hidden":u=s.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var S=null;d!==null;)d.alternate!==null&&(S=d),d=d.sibling;S===null?u||s.tail===null?s.tail=null:s.tail.sibling=null:S.sibling=null}}function Qm(s,u,d){var S=u.pendingProps;switch(u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return ci(u.type)&&rc(),null;case 3:return Rs(),Vt(mn),Vt(Dr),Zf(),S=u.stateNode,S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(s===null||s.child===null)&&(vc(u)?u.flags|=4:S.hydrate||(u.flags|=256)),cd(u),null;case 5:Qf(u);var A=Wo(_l.current);if(d=u.type,s!==null&&u.stateNode!=null)yp(s,u,d,S,A),s.ref!==u.ref&&(u.flags|=128);else{if(!S){if(u.stateNode===null)throw Error(n(166));return null}if(s=Wo(ya.current),vc(u)){S=u.stateNode,d=u.type;var H=u.memoizedProps;switch(S[lr]=u,S[Cr]=H,d){case"dialog":Nr("cancel",S),Nr("close",S);break;case"iframe":case"object":case"embed":Nr("load",S);break;case"video":case"audio":for(s=0;s<uo.length;s++)Nr(uo[s],S);break;case"source":Nr("error",S);break;case"img":case"image":case"link":Nr("error",S),Nr("load",S);break;case"details":Nr("toggle",S);break;case"input":Vr(S,H),Nr("invalid",S);break;case"select":S._wrapperState={wasMultiple:!!H.multiple},Nr("invalid",S);break;case"textarea":pt(S,H),Nr("invalid",S)}vn(d,H),s=null;for(var J in H)H.hasOwnProperty(J)&&(A=H[J],J==="children"?typeof A=="string"?S.textContent!==A&&(s=["children",A]):typeof A=="number"&&S.textContent!==""+A&&(s=["children",""+A]):a.hasOwnProperty(J)&&A!=null&&J==="onScroll"&&Nr("scroll",S));switch(d){case"input":Gt(S),cr(S,H,!0);break;case"textarea":Gt(S),Ut(S);break;case"select":case"option":break;default:typeof H.onClick=="function"&&(S.onclick=K)}S=s,u.updateQueue=S,S!==null&&(u.flags|=4)}else{switch(J=A.nodeType===9?A:A.ownerDocument,s===or.html&&(s=Qr(d)),s===or.html?d==="script"?(s=J.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof S.is=="string"?s=J.createElement(d,{is:S.is}):(s=J.createElement(d),d==="select"&&(J=s,S.multiple?J.multiple=!0:S.size&&(J.size=S.size))):s=J.createElementNS(s,d),s[lr]=u,s[Cr]=S,gp(s,u,!1,!1),u.stateNode=s,J=an(d,S),d){case"dialog":Nr("cancel",s),Nr("close",s),A=S;break;case"iframe":case"object":case"embed":Nr("load",s),A=S;break;case"video":case"audio":for(A=0;A<uo.length;A++)Nr(uo[A],s);A=S;break;case"source":Nr("error",s),A=S;break;case"img":case"image":case"link":Nr("error",s),Nr("load",s),A=S;break;case"details":Nr("toggle",s),A=S;break;case"input":Vr(s,S),A=tr(s,S),Nr("invalid",s);break;case"option":A=Sn(s,S);break;case"select":s._wrapperState={wasMultiple:!!S.multiple},A=e({},S,{value:void 0}),Nr("invalid",s);break;case"textarea":pt(s,S),A=ht(s,S),Nr("invalid",s);break;default:A=S}vn(d,A);var te=A;for(H in te)if(te.hasOwnProperty(H)){var pe=te[H];H==="style"?ti(s,pe):H==="dangerouslySetInnerHTML"?(pe=pe?pe.__html:void 0,pe!=null&&hn(s,pe)):H==="children"?typeof pe=="string"?(d!=="textarea"||pe!=="")&&pn(s,pe):typeof pe=="number"&&pn(s,""+pe):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(a.hasOwnProperty(H)?pe!=null&&H==="onScroll"&&Nr("scroll",s):pe!=null&&se(s,H,pe,J))}switch(d){case"input":Gt(s),cr(s,S,!1);break;case"textarea":Gt(s),Ut(s);break;case"option":S.value!=null&&s.setAttribute("value",""+qe(S.value));break;case"select":s.multiple=!!S.multiple,H=S.value,H!=null?Ar(s,!!S.multiple,H,!1):S.defaultValue!=null&&Ar(s,!!S.multiple,S.defaultValue,!0);break;default:typeof A.onClick=="function"&&(s.onclick=K)}me(d,S)&&(u.flags|=4)}u.ref!==null&&(u.flags|=128)}return null;case 6:if(s&&u.stateNode!=null)wp(s,u,s.memoizedProps,S);else{if(typeof S!="string"&&u.stateNode===null)throw Error(n(166));d=Wo(_l.current),Wo(ya.current),vc(u)?(S=u.stateNode,d=u.memoizedProps,S[lr]=u,S.nodeValue!==d&&(u.flags|=4)):(S=(d.nodeType===9?d:d.ownerDocument).createTextNode(S),S[lr]=u,u.stateNode=S)}return null;case 13:return Vt(zr),S=u.memoizedState,(u.flags&64)!==0?(u.lanes=d,u):(S=S!==null,d=!1,s===null?u.memoizedProps.fallback!==void 0&&vc(u):d=s.memoizedState!==null,S&&!d&&(u.mode&2)!==0&&(s===null&&u.memoizedProps.unstable_avoidThisFallback!==!0||(zr.current&1)!==0?yn===0&&(yn=3):((yn===0||yn===3)&&(yn=4),Gn===null||(jl&134217727)===0&&(Bs&134217727)===0||Fs(Gn,In))),(S||d)&&(u.flags|=4),null);case 4:return Rs(),cd(u),s===null&&b(u.stateNode.containerInfo),null;case 10:return Wf(u),null;case 17:return ci(u.type)&&rc(),null;case 19:if(Vt(zr),S=u.memoizedState,S===null)return null;if(H=(u.flags&64)!==0,J=S.rendering,J===null)if(H)Ul(S,!1);else{if(yn!==0||s!==null&&(s.flags&64)!==0)for(s=u.child;s!==null;){if(J=pc(s),J!==null){for(u.flags|=64,Ul(S,!1),H=J.updateQueue,H!==null&&(u.updateQueue=H,u.flags|=4),S.lastEffect===null&&(u.firstEffect=null),u.lastEffect=S.lastEffect,S=d,d=u.child;d!==null;)H=d,s=S,H.flags&=2,H.nextEffect=null,H.firstEffect=null,H.lastEffect=null,J=H.alternate,J===null?(H.childLanes=0,H.lanes=s,H.child=null,H.memoizedProps=null,H.memoizedState=null,H.updateQueue=null,H.dependencies=null,H.stateNode=null):(H.childLanes=J.childLanes,H.lanes=J.lanes,H.child=J.child,H.memoizedProps=J.memoizedProps,H.memoizedState=J.memoizedState,H.updateQueue=J.updateQueue,H.type=J.type,s=J.dependencies,H.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),d=d.sibling;return Sr(zr,zr.current&1|2),u.child}s=s.sibling}S.tail!==null&&Ln()>kd&&(u.flags|=64,H=!0,Ul(S,!1),u.lanes=33554432)}else{if(!H)if(s=pc(J),s!==null){if(u.flags|=64,H=!0,d=s.updateQueue,d!==null&&(u.updateQueue=d,u.flags|=4),Ul(S,!0),S.tail===null&&S.tailMode==="hidden"&&!J.alternate&&!wa)return u=u.lastEffect=S.lastEffect,u!==null&&(u.nextEffect=null),null}else 2*Ln()-S.renderingStartTime>kd&&d!==1073741824&&(u.flags|=64,H=!0,Ul(S,!1),u.lanes=33554432);S.isBackwards?(J.sibling=u.child,u.child=J):(d=S.last,d!==null?d.sibling=J:u.child=J,S.last=J)}return S.tail!==null?(d=S.tail,S.rendering=d,S.tail=d.sibling,S.lastEffect=u.lastEffect,S.renderingStartTime=Ln(),d.sibling=null,u=zr.current,Sr(zr,H?u&1|2:u&1),d):null;case 23:case 24:return Nd(),s!==null&&s.memoizedState!==null!=(u.memoizedState!==null)&&S.mode!=="unstable-defer-without-hiding"&&(u.flags|=4),null}throw Error(n(156,u.tag))}function Xm(s){switch(s.tag){case 1:ci(s.type)&&rc();var u=s.flags;return u&4096?(s.flags=u&-4097|64,s):null;case 3:if(Rs(),Vt(mn),Vt(Dr),Zf(),u=s.flags,(u&64)!==0)throw Error(n(285));return s.flags=u&-4097|64,s;case 5:return Qf(s),null;case 13:return Vt(zr),u=s.flags,u&4096?(s.flags=u&-4097|64,s):null;case 19:return Vt(zr),null;case 4:return Rs(),null;case 10:return Wf(s),null;case 23:case 24:return Nd(),null;default:return null}}function fd(s,u){try{var d="",S=u;do d+=de(S),S=S.return;while(S);var A=d}catch(H){A=`
Error generating stack: `+H.message+`
`+H.stack}return{value:s,source:u,stack:A}}function dd(s,u){try{console.error(u.value)}catch(d){setTimeout(function(){throw d})}}var Ym=typeof WeakMap=="function"?WeakMap:Map;function bp(s,u,d){d=fo(-1,d),d.tag=3,d.payload={element:null};var S=u.value;return d.callback=function(){xc||(xc=!0,Cd=S),dd(s,u)},d}function kp(s,u,d){d=fo(-1,d),d.tag=3;var S=s.type.getDerivedStateFromError;if(typeof S=="function"){var A=u.value;d.payload=function(){return dd(s,u),S(A)}}var H=s.stateNode;return H!==null&&typeof H.componentDidCatch=="function"&&(d.callback=function(){typeof S!="function"&&(ka===null?ka=new Set([this]):ka.add(this),dd(s,u));var J=u.stack;this.componentDidCatch(u.value,{componentStack:J!==null?J:""})}),d}var Zm=typeof WeakSet=="function"?WeakSet:Set;function Cp(s){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(d){wo(s,d)}else u.current=null}function eg(s,u){switch(u.tag){case 0:case 11:case 15:case 22:return;case 1:if(u.flags&256&&s!==null){var d=s.memoizedProps,S=s.memoizedState;s=u.stateNode,u=s.getSnapshotBeforeUpdate(u.elementType===u.type?d:ta(u.type,d),S),s.__reactInternalSnapshotBeforeUpdate=u}return;case 3:u.flags&256&&mt(u.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(n(163))}function tg(s,u,d){switch(d.tag){case 0:case 11:case 15:case 22:if(u=d.updateQueue,u=u!==null?u.lastEffect:null,u!==null){s=u=u.next;do{if((s.tag&3)===3){var S=s.create;s.destroy=S()}s=s.next}while(s!==u)}if(u=d.updateQueue,u=u!==null?u.lastEffect:null,u!==null){s=u=u.next;do{var A=s;S=A.next,A=A.tag,(A&4)!==0&&(A&1)!==0&&(_p(d,s),ug(d,s)),s=S}while(s!==u)}return;case 1:s=d.stateNode,d.flags&4&&(u===null?s.componentDidMount():(S=d.elementType===d.type?u.memoizedProps:ta(d.type,u.memoizedProps),s.componentDidUpdate(S,u.memoizedState,s.__reactInternalSnapshotBeforeUpdate))),u=d.updateQueue,u!==null&&Fh(d,u,s);return;case 3:if(u=d.updateQueue,u!==null){if(s=null,d.child!==null)switch(d.child.tag){case 5:s=d.child.stateNode;break;case 1:s=d.child.stateNode}Fh(d,u,s)}return;case 5:s=d.stateNode,u===null&&d.flags&4&&me(d.type,d.memoizedProps)&&s.focus();return;case 6:return;case 4:return;case 12:return;case 13:d.memoizedState===null&&(d=d.alternate,d!==null&&(d=d.memoizedState,d!==null&&(d=d.dehydrated,d!==null&&Io(d))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(n(163))}function Sp(s,u){for(var d=s;;){if(d.tag===5){var S=d.stateNode;if(u)S=S.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{S=d.stateNode;var A=d.memoizedProps.style;A=A!=null&&A.hasOwnProperty("display")?A.display:null,S.style.display=bi("display",A)}}else if(d.tag===6)d.stateNode.nodeValue=u?"":d.memoizedProps;else if((d.tag!==23&&d.tag!==24||d.memoizedState===null||d===s)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break;for(;d.sibling===null;){if(d.return===null||d.return===s)return;d=d.return}d.sibling.return=d.return,d=d.sibling}}function xp(s,u){if(Uo&&typeof Uo.onCommitFiberUnmount=="function")try{Uo.onCommitFiberUnmount(qf,u)}catch{}switch(u.tag){case 0:case 11:case 14:case 15:case 22:if(s=u.updateQueue,s!==null&&(s=s.lastEffect,s!==null)){var d=s=s.next;do{var S=d,A=S.destroy;if(S=S.tag,A!==void 0)if((S&4)!==0)_p(u,d);else{S=u;try{A()}catch(H){wo(S,H)}}d=d.next}while(d!==s)}break;case 1:if(Cp(u),s=u.stateNode,typeof s.componentWillUnmount=="function")try{s.props=u.memoizedProps,s.state=u.memoizedState,s.componentWillUnmount()}catch(H){wo(u,H)}break;case 5:Cp(u);break;case 4:Mp(s,u)}}function Tp(s){s.alternate=null,s.child=null,s.dependencies=null,s.firstEffect=null,s.lastEffect=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.return=null,s.updateQueue=null}function Ep(s){return s.tag===5||s.tag===3||s.tag===4}function Np(s){e:{for(var u=s.return;u!==null;){if(Ep(u))break e;u=u.return}throw Error(n(160))}var d=u;switch(u=d.stateNode,d.tag){case 5:var S=!1;break;case 3:u=u.containerInfo,S=!0;break;case 4:u=u.containerInfo,S=!0;break;default:throw Error(n(161))}d.flags&16&&(pn(u,""),d.flags&=-17);e:t:for(d=s;;){for(;d.sibling===null;){if(d.return===null||Ep(d.return)){d=null;break e}d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue t;d.child.return=d,d=d.child}if(!(d.flags&2)){d=d.stateNode;break e}}S?hd(s,d,u):pd(s,d,u)}function hd(s,u,d){var S=s.tag,A=S===5||S===6;if(A)s=A?s.stateNode:s.stateNode.instance,u?d.nodeType===8?d.parentNode.insertBefore(s,u):d.insertBefore(s,u):(d.nodeType===8?(u=d.parentNode,u.insertBefore(s,d)):(u=d,u.appendChild(s)),d=d._reactRootContainer,d!=null||u.onclick!==null||(u.onclick=K));else if(S!==4&&(s=s.child,s!==null))for(hd(s,u,d),s=s.sibling;s!==null;)hd(s,u,d),s=s.sibling}function pd(s,u,d){var S=s.tag,A=S===5||S===6;if(A)s=A?s.stateNode:s.stateNode.instance,u?d.insertBefore(s,u):d.appendChild(s);else if(S!==4&&(s=s.child,s!==null))for(pd(s,u,d),s=s.sibling;s!==null;)pd(s,u,d),s=s.sibling}function Mp(s,u){for(var d=u,S=!1,A,H;;){if(!S){S=d.return;e:for(;;){if(S===null)throw Error(n(160));switch(A=S.stateNode,S.tag){case 5:H=!1;break e;case 3:A=A.containerInfo,H=!0;break e;case 4:A=A.containerInfo,H=!0;break e}S=S.return}S=!0}if(d.tag===5||d.tag===6){e:for(var J=s,te=d,pe=te;;)if(xp(J,pe),pe.child!==null&&pe.tag!==4)pe.child.return=pe,pe=pe.child;else{if(pe===te)break e;for(;pe.sibling===null;){if(pe.return===null||pe.return===te)break e;pe=pe.return}pe.sibling.return=pe.return,pe=pe.sibling}H?(J=A,te=d.stateNode,J.nodeType===8?J.parentNode.removeChild(te):J.removeChild(te)):A.removeChild(d.stateNode)}else if(d.tag===4){if(d.child!==null){A=d.stateNode.containerInfo,H=!0,d.child.return=d,d=d.child;continue}}else if(xp(s,d),d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return;d=d.return,d.tag===4&&(S=!1)}d.sibling.return=d.return,d=d.sibling}}function vd(s,u){switch(u.tag){case 0:case 11:case 14:case 15:case 22:var d=u.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var S=d=d.next;do(S.tag&3)===3&&(s=S.destroy,S.destroy=void 0,s!==void 0&&s()),S=S.next;while(S!==d)}return;case 1:return;case 5:if(d=u.stateNode,d!=null){S=u.memoizedProps;var A=s!==null?s.memoizedProps:S;s=u.type;var H=u.updateQueue;if(u.updateQueue=null,H!==null){for(d[Cr]=S,s==="input"&&S.type==="radio"&&S.name!=null&&Lr(d,S),an(s,A),u=an(s,S),A=0;A<H.length;A+=2){var J=H[A],te=H[A+1];J==="style"?ti(d,te):J==="dangerouslySetInnerHTML"?hn(d,te):J==="children"?pn(d,te):se(d,J,te,u)}switch(s){case"input":Br(d,S);break;case"textarea":qt(d,S);break;case"select":s=d._wrapperState.wasMultiple,d._wrapperState.wasMultiple=!!S.multiple,H=S.value,H!=null?Ar(d,!!S.multiple,H,!1):s!==!!S.multiple&&(S.defaultValue!=null?Ar(d,!!S.multiple,S.defaultValue,!0):Ar(d,!!S.multiple,S.multiple?[]:"",!1))}}}return;case 6:if(u.stateNode===null)throw Error(n(162));u.stateNode.nodeValue=u.memoizedProps;return;case 3:d=u.stateNode,d.hydrate&&(d.hydrate=!1,Io(d.containerInfo));return;case 12:return;case 13:u.memoizedState!==null&&(bd=Ln(),Sp(u.child,!0)),Op(u);return;case 19:Op(u);return;case 17:return;case 23:case 24:Sp(u,u.memoizedState!==null);return}throw Error(n(163))}function Op(s){var u=s.updateQueue;if(u!==null){s.updateQueue=null;var d=s.stateNode;d===null&&(d=s.stateNode=new Zm),u.forEach(function(S){var A=dg.bind(null,s,S);d.has(S)||(d.add(S),S.then(A,A))})}}function rg(s,u){return s!==null&&(s=s.memoizedState,s===null||s.dehydrated!==null)?(u=u.memoizedState,u!==null&&u.dehydrated===null):!1}var ng=Math.ceil,Cc=ve.ReactCurrentDispatcher,md=ve.ReactCurrentOwner,jt=0,Gn=null,Zr=null,In=0,Ko=0,gd=Ei(0),yn=0,Sc=null,Ps=0,jl=0,Bs=0,yd=0,wd=null,bd=0,kd=1/0;function _s(){kd=Ln()+500}var kt=null,xc=!1,Cd=null,ka=null,vo=!1,Wl=null,Gl=90,Sd=[],xd=[],Fa=null,Jl=0,Td=null,Tc=-1,qa=0,Ec=0,Kl=null,Nc=!1;function Ni(){return(jt&48)!==0?Ln():Tc!==-1?Tc:Tc=Ln()}function mo(s){if(s=s.mode,(s&2)===0)return 1;if((s&4)===0)return Ds()===99?1:2;if(qa===0&&(qa=Ps),Um.transition!==0){Ec!==0&&(Ec=wd!==null?wd.pendingLanes:0),s=qa;var u=4186112&~Ec;return u&=-u,u===0&&(s=4186112&~s,u=s&-s,u===0&&(u=8192)),u}return s=Ds(),(jt&4)!==0&&s===98?s=to(12,qa):(s=oi(s),s=to(s,qa)),s}function go(s,u,d){if(50<Jl)throw Jl=0,Td=null,Error(n(185));if(s=Mc(s,u),s===null)return null;at(s,u,d),s===Gn&&(Bs|=u,yn===4&&Fs(s,In));var S=Ds();u===1?(jt&8)!==0&&(jt&48)===0?Ed(s):(zi(s,d),jt===0&&(_s(),ga())):((jt&4)===0||S!==98&&S!==99||(Fa===null?Fa=new Set([s]):Fa.add(s)),zi(s,d)),wd=s}function Mc(s,u){s.lanes|=u;var d=s.alternate;for(d!==null&&(d.lanes|=u),d=s,s=s.return;s!==null;)s.childLanes|=u,d=s.alternate,d!==null&&(d.childLanes|=u),d=s,s=s.return;return d.tag===3?d.stateNode:null}function zi(s,u){for(var d=s.callbackNode,S=s.suspendedLanes,A=s.pingedLanes,H=s.expirationTimes,J=s.pendingLanes;0<J;){var te=31-wt(J),pe=1<<te,Be=H[te];if(Be===-1){if((pe&S)===0||(pe&A)!==0){Be=u,Un(pe);var yt=mr;H[te]=10<=yt?Be+250:6<=yt?Be+5e3:-1}}else Be<=u&&(s.expiredLanes|=pe);J&=~pe}if(S=da(s,s===Gn?In:0),u=mr,S===0)d!==null&&(d!==Vf&&zf(d),s.callbackNode=null,s.callbackPriority=0);else{if(d!==null){if(s.callbackPriority===u)return;d!==Vf&&zf(d)}u===15?(d=Ed.bind(null,s),Pa===null?(Pa=[d],ac=Hf(ic,Ih)):Pa.push(d),d=Vf):u===14?d=Ll(99,Ed.bind(null,s)):(d=Po(u),d=Ll(d,Dp.bind(null,s))),s.callbackPriority=u,s.callbackNode=d}}function Dp(s){if(Tc=-1,Ec=qa=0,(jt&48)!==0)throw Error(n(327));var u=s.callbackNode;if(yo()&&s.callbackNode!==u)return null;var d=da(s,s===Gn?In:0);if(d===0)return null;var S=d,A=jt;jt|=16;var H=Ip();(Gn!==s||In!==S)&&(_s(),qs(s,S));do try{og();break}catch(te){Rp(s,te)}while(!0);if(jf(),Cc.current=H,jt=A,Zr!==null?S=0:(Gn=null,In=0,S=yn),(Ps&Bs)!==0)qs(s,0);else if(S!==0){if(S===2&&(jt|=64,s.hydrate&&(s.hydrate=!1,mt(s.containerInfo)),d=Bo(s),d!==0&&(S=Ql(s,d))),S===1)throw u=Sc,qs(s,0),Fs(s,d),zi(s,Ln()),u;switch(s.finishedWork=s.current.alternate,s.finishedLanes=d,S){case 0:case 1:throw Error(n(345));case 2:Qo(s);break;case 3:if(Fs(s,d),(d&62914560)===d&&(S=bd+500-Ln(),10<S)){if(da(s,0)!==0)break;if(A=s.suspendedLanes,(A&d)!==d){Ni(),s.pingedLanes|=s.suspendedLanes&A;break}s.timeoutHandle=Ge(Qo.bind(null,s),S);break}Qo(s);break;case 4:if(Fs(s,d),(d&4186112)===d)break;for(S=s.eventTimes,A=-1;0<d;){var J=31-wt(d);H=1<<J,J=S[J],J>A&&(A=J),d&=~H}if(d=A,d=Ln()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*ng(d/1960))-d,10<d){s.timeoutHandle=Ge(Qo.bind(null,s),d);break}Qo(s);break;case 5:Qo(s);break;default:throw Error(n(329))}}return zi(s,Ln()),s.callbackNode===u?Dp.bind(null,s):null}function Fs(s,u){for(u&=~yd,u&=~Bs,s.suspendedLanes|=u,s.pingedLanes&=~u,s=s.expirationTimes;0<u;){var d=31-wt(u),S=1<<d;s[d]=-1,u&=~S}}function Ed(s){if((jt&48)!==0)throw Error(n(327));if(yo(),s===Gn&&(s.expiredLanes&In)!==0){var u=In,d=Ql(s,u);(Ps&Bs)!==0&&(u=da(s,u),d=Ql(s,u))}else u=da(s,0),d=Ql(s,u);if(s.tag!==0&&d===2&&(jt|=64,s.hydrate&&(s.hydrate=!1,mt(s.containerInfo)),u=Bo(s),u!==0&&(d=Ql(s,u))),d===1)throw d=Sc,qs(s,0),Fs(s,u),zi(s,Ln()),d;return s.finishedWork=s.current.alternate,s.finishedLanes=u,Qo(s),zi(s,Ln()),null}function ig(){if(Fa!==null){var s=Fa;Fa=null,s.forEach(function(u){u.expiredLanes|=24&u.pendingLanes,zi(u,Ln())})}ga()}function Ap(s,u){var d=jt;jt|=1;try{return s(u)}finally{jt=d,jt===0&&(_s(),ga())}}function Lp(s,u){var d=jt;jt&=-2,jt|=8;try{return s(u)}finally{jt=d,jt===0&&(_s(),ga())}}function Oc(s,u){Sr(gd,Ko),Ko|=u,Ps|=u}function Nd(){Ko=gd.current,Vt(gd)}function qs(s,u){s.finishedWork=null,s.finishedLanes=0;var d=s.timeoutHandle;if(d!==-1&&(s.timeoutHandle=-1,ut(d)),Zr!==null)for(d=Zr.return;d!==null;){var S=d;switch(S.tag){case 1:S=S.type.childContextTypes,S!=null&&rc();break;case 3:Rs(),Vt(mn),Vt(Dr),Zf();break;case 5:Qf(S);break;case 4:Rs();break;case 13:Vt(zr);break;case 19:Vt(zr);break;case 10:Wf(S);break;case 23:case 24:Nd()}d=d.return}Gn=s,Zr=bo(s.current,null),In=Ko=Ps=u,yn=0,Sc=null,yd=Bs=jl=0}function Rp(s,u){do{var d=Zr;try{if(jf(),Fl.current=bc,mc){for(var S=Gr.memoizedState;S!==null;){var A=S.queue;A!==null&&(A.pending=null),S=S.next}mc=!1}if(ql=0,gn=Rn=Gr=null,Hl=!1,md.current=null,d===null||d.return===null){yn=1,Sc=u,Zr=null;break}e:{var H=s,J=d.return,te=d,pe=u;if(u=In,te.flags|=2048,te.firstEffect=te.lastEffect=null,pe!==null&&typeof pe=="object"&&typeof pe.then=="function"){var Be=pe;if((te.mode&2)===0){var yt=te.alternate;yt?(te.updateQueue=yt.updateQueue,te.memoizedState=yt.memoizedState,te.lanes=yt.lanes):(te.updateQueue=null,te.memoizedState=null)}var Jt=(zr.current&1)!==0,rt=J;do{var At;if(At=rt.tag===13){var Wt=rt.memoizedState;if(Wt!==null)At=Wt.dehydrated!==null;else{var $t=rt.memoizedProps;At=$t.fallback===void 0?!1:$t.unstable_avoidThisFallback!==!0?!0:!Jt}}if(At){var Me=rt.updateQueue;if(Me===null){var ge=new Set;ge.add(Be),rt.updateQueue=ge}else Me.add(Be);if((rt.mode&2)===0){if(rt.flags|=64,te.flags|=16384,te.flags&=-2981,te.tag===1)if(te.alternate===null)te.tag=17;else{var xe=fo(-1,1);xe.tag=2,ho(te,xe)}te.lanes|=1;break e}pe=void 0,te=u;var Ue=H.pingCache;if(Ue===null?(Ue=H.pingCache=new Ym,pe=new Set,Ue.set(Be,pe)):(pe=Ue.get(Be),pe===void 0&&(pe=new Set,Ue.set(Be,pe))),!pe.has(te)){pe.add(te);var Qe=fg.bind(null,H,Be,te);Be.then(Qe,Qe)}rt.flags|=4096,rt.lanes=u;break e}rt=rt.return}while(rt!==null);pe=Error((Pe(te.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}yn!==5&&(yn=2),pe=fd(pe,te),rt=J;do{switch(rt.tag){case 3:H=pe,rt.flags|=4096,u&=-u,rt.lanes|=u;var Qt=bp(rt,H,u);_h(rt,Qt);break e;case 1:H=pe;var Et=rt.type,Xt=rt.stateNode;if((rt.flags&64)===0&&(typeof Et.getDerivedStateFromError=="function"||Xt!==null&&typeof Xt.componentDidCatch=="function"&&(ka===null||!ka.has(Xt)))){rt.flags|=4096,u&=-u,rt.lanes|=u;var ar=kp(rt,H,u);_h(rt,ar);break e}}rt=rt.return}while(rt!==null)}Bp(d)}catch(Zt){u=Zt,Zr===d&&d!==null&&(Zr=d=d.return);continue}break}while(!0)}function Ip(){var s=Cc.current;return Cc.current=bc,s===null?bc:s}function Ql(s,u){var d=jt;jt|=16;var S=Ip();Gn===s&&In===u||qs(s,u);do try{ag();break}catch(A){Rp(s,A)}while(!0);if(jf(),jt=d,Cc.current=S,Zr!==null)throw Error(n(261));return Gn=null,In=0,yn}function ag(){for(;Zr!==null;)Pp(Zr)}function og(){for(;Zr!==null&&!zm();)Pp(Zr)}function Pp(s){var u=qp(s.alternate,s,Ko);s.memoizedProps=s.pendingProps,u===null?Bp(s):Zr=u,md.current=null}function Bp(s){var u=s;do{var d=u.alternate;if(s=u.return,(u.flags&2048)===0){if(d=Qm(d,u,Ko),d!==null){Zr=d;return}if(d=u,d.tag!==24&&d.tag!==23||d.memoizedState===null||(Ko&1073741824)!==0||(d.mode&4)===0){for(var S=0,A=d.child;A!==null;)S|=A.lanes|A.childLanes,A=A.sibling;d.childLanes=S}s!==null&&(s.flags&2048)===0&&(s.firstEffect===null&&(s.firstEffect=u.firstEffect),u.lastEffect!==null&&(s.lastEffect!==null&&(s.lastEffect.nextEffect=u.firstEffect),s.lastEffect=u.lastEffect),1<u.flags&&(s.lastEffect!==null?s.lastEffect.nextEffect=u:s.firstEffect=u,s.lastEffect=u))}else{if(d=Xm(u),d!==null){d.flags&=2047,Zr=d;return}s!==null&&(s.firstEffect=s.lastEffect=null,s.flags|=2048)}if(u=u.sibling,u!==null){Zr=u;return}Zr=u=s}while(u!==null);yn===0&&(yn=5)}function Qo(s){var u=Ds();return jo(99,sg.bind(null,s,u)),null}function sg(s,u){do yo();while(Wl!==null);if((jt&48)!==0)throw Error(n(327));var d=s.finishedWork;if(d===null)return null;if(s.finishedWork=null,s.finishedLanes=0,d===s.current)throw Error(n(177));s.callbackNode=null;var S=d.lanes|d.childLanes,A=S,H=s.pendingLanes&~A;s.pendingLanes=A,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=A,s.mutableReadLanes&=A,s.entangledLanes&=A,A=s.entanglements;for(var J=s.eventTimes,te=s.expirationTimes;0<H;){var pe=31-wt(H),Be=1<<pe;A[pe]=0,J[pe]=-1,te[pe]=-1,H&=~Be}if(Fa!==null&&(S&24)===0&&Fa.has(s)&&Fa.delete(s),s===Gn&&(Zr=Gn=null,In=0),1<d.flags?d.lastEffect!==null?(d.lastEffect.nextEffect=d,S=d.firstEffect):S=d:S=d.firstEffect,S!==null){if(A=jt,jt|=32,md.current=null,ue=xi,J=ec(),El(J)){if("selectionStart"in J)te={start:J.selectionStart,end:J.selectionEnd};else e:if(te=(te=J.ownerDocument)&&te.defaultView||window,(Be=te.getSelection&&te.getSelection())&&Be.rangeCount!==0){te=Be.anchorNode,H=Be.anchorOffset,pe=Be.focusNode,Be=Be.focusOffset;try{te.nodeType,pe.nodeType}catch{te=null;break e}var yt=0,Jt=-1,rt=-1,At=0,Wt=0,$t=J,Me=null;t:for(;;){for(var ge;$t!==te||H!==0&&$t.nodeType!==3||(Jt=yt+H),$t!==pe||Be!==0&&$t.nodeType!==3||(rt=yt+Be),$t.nodeType===3&&(yt+=$t.nodeValue.length),(ge=$t.firstChild)!==null;)Me=$t,$t=ge;for(;;){if($t===J)break t;if(Me===te&&++At===H&&(Jt=yt),Me===pe&&++Wt===Be&&(rt=yt),(ge=$t.nextSibling)!==null)break;$t=Me,Me=$t.parentNode}$t=ge}te=Jt===-1||rt===-1?null:{start:Jt,end:rt}}else te=null;te=te||{start:0,end:0}}else te=null;Se={focusedElem:J,selectionRange:te},xi=!1,Kl=null,Nc=!1,kt=S;do try{lg()}catch(Zt){if(kt===null)throw Error(n(330));wo(kt,Zt),kt=kt.nextEffect}while(kt!==null);Kl=null,kt=S;do try{for(J=s;kt!==null;){var xe=kt.flags;if(xe&16&&pn(kt.stateNode,""),xe&128){var Ue=kt.alternate;if(Ue!==null){var Qe=Ue.ref;Qe!==null&&(typeof Qe=="function"?Qe(null):Qe.current=null)}}switch(xe&1038){case 2:Np(kt),kt.flags&=-3;break;case 6:Np(kt),kt.flags&=-3,vd(kt.alternate,kt);break;case 1024:kt.flags&=-1025;break;case 1028:kt.flags&=-1025,vd(kt.alternate,kt);break;case 4:vd(kt.alternate,kt);break;case 8:te=kt,Mp(J,te);var Qt=te.alternate;Tp(te),Qt!==null&&Tp(Qt)}kt=kt.nextEffect}}catch(Zt){if(kt===null)throw Error(n(330));wo(kt,Zt),kt=kt.nextEffect}while(kt!==null);if(Qe=Se,Ue=ec(),xe=Qe.focusedElem,J=Qe.selectionRange,Ue!==xe&&xe&&xe.ownerDocument&&Tl(xe.ownerDocument.documentElement,xe)){for(J!==null&&El(xe)&&(Ue=J.start,Qe=J.end,Qe===void 0&&(Qe=Ue),"selectionStart"in xe?(xe.selectionStart=Ue,xe.selectionEnd=Math.min(Qe,xe.value.length)):(Qe=(Ue=xe.ownerDocument||document)&&Ue.defaultView||window,Qe.getSelection&&(Qe=Qe.getSelection(),te=xe.textContent.length,Qt=Math.min(J.start,te),J=J.end===void 0?Qt:Math.min(J.end,te),!Qe.extend&&Qt>J&&(te=J,J=Qt,Qt=te),te=Zu(xe,Qt),H=Zu(xe,J),te&&H&&(Qe.rangeCount!==1||Qe.anchorNode!==te.node||Qe.anchorOffset!==te.offset||Qe.focusNode!==H.node||Qe.focusOffset!==H.offset)&&(Ue=Ue.createRange(),Ue.setStart(te.node,te.offset),Qe.removeAllRanges(),Qt>J?(Qe.addRange(Ue),Qe.extend(H.node,H.offset)):(Ue.setEnd(H.node,H.offset),Qe.addRange(Ue)))))),Ue=[],Qe=xe;Qe=Qe.parentNode;)Qe.nodeType===1&&Ue.push({element:Qe,left:Qe.scrollLeft,top:Qe.scrollTop});for(typeof xe.focus=="function"&&xe.focus(),xe=0;xe<Ue.length;xe++)Qe=Ue[xe],Qe.element.scrollLeft=Qe.left,Qe.element.scrollTop=Qe.top}xi=!!ue,Se=ue=null,s.current=d,kt=S;do try{for(xe=s;kt!==null;){var Et=kt.flags;if(Et&36&&tg(xe,kt.alternate,kt),Et&128){Ue=void 0;var Xt=kt.ref;if(Xt!==null){var ar=kt.stateNode;switch(kt.tag){case 5:Ue=ar;break;default:Ue=ar}typeof Xt=="function"?Xt(Ue):Xt.current=Ue}}kt=kt.nextEffect}}catch(Zt){if(kt===null)throw Error(n(330));wo(kt,Zt),kt=kt.nextEffect}while(kt!==null);kt=null,Vm(),jt=A}else s.current=d;if(vo)vo=!1,Wl=s,Gl=u;else for(kt=S;kt!==null;)u=kt.nextEffect,kt.nextEffect=null,kt.flags&8&&(Et=kt,Et.sibling=null,Et.stateNode=null),kt=u;if(S=s.pendingLanes,S===0&&(ka=null),S===1?s===Td?Jl++:(Jl=0,Td=s):Jl=0,d=d.stateNode,Uo&&typeof Uo.onCommitFiberRoot=="function")try{Uo.onCommitFiberRoot(qf,d,void 0,(d.current.flags&64)===64)}catch{}if(zi(s,Ln()),xc)throw xc=!1,s=Cd,Cd=null,s;return(jt&8)!==0||ga(),null}function lg(){for(;kt!==null;){var s=kt.alternate;Nc||Kl===null||((kt.flags&8)!==0?ct(kt,Kl)&&(Nc=!0):kt.tag===13&&rg(s,kt)&&ct(kt,Kl)&&(Nc=!0));var u=kt.flags;(u&256)!==0&&eg(s,kt),(u&512)===0||vo||(vo=!0,Ll(97,function(){return yo(),null})),kt=kt.nextEffect}}function yo(){if(Gl!==90){var s=97<Gl?97:Gl;return Gl=90,jo(s,cg)}return!1}function ug(s,u){Sd.push(u,s),vo||(vo=!0,Ll(97,function(){return yo(),null}))}function _p(s,u){xd.push(u,s),vo||(vo=!0,Ll(97,function(){return yo(),null}))}function cg(){if(Wl===null)return!1;var s=Wl;if(Wl=null,(jt&48)!==0)throw Error(n(331));var u=jt;jt|=32;var d=xd;xd=[];for(var S=0;S<d.length;S+=2){var A=d[S],H=d[S+1],J=A.destroy;if(A.destroy=void 0,typeof J=="function")try{J()}catch(pe){if(H===null)throw Error(n(330));wo(H,pe)}}for(d=Sd,Sd=[],S=0;S<d.length;S+=2){A=d[S],H=d[S+1];try{var te=A.create;A.destroy=te()}catch(pe){if(H===null)throw Error(n(330));wo(H,pe)}}for(te=s.current.firstEffect;te!==null;)s=te.nextEffect,te.nextEffect=null,te.flags&8&&(te.sibling=null,te.stateNode=null),te=s;return jt=u,ga(),!0}function Fp(s,u,d){u=fd(d,u),u=bp(s,u,1),ho(s,u),u=Ni(),s=Mc(s,1),s!==null&&(at(s,1,u),zi(s,u))}function wo(s,u){if(s.tag===3)Fp(s,s,u);else for(var d=s.return;d!==null;){if(d.tag===3){Fp(d,s,u);break}else if(d.tag===1){var S=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(ka===null||!ka.has(S))){s=fd(u,s);var A=kp(d,s,1);if(ho(d,A),A=Ni(),d=Mc(d,1),d!==null)at(d,1,A),zi(d,A);else if(typeof S.componentDidCatch=="function"&&(ka===null||!ka.has(S)))try{S.componentDidCatch(u,s)}catch{}break}}d=d.return}}function fg(s,u,d){var S=s.pingCache;S!==null&&S.delete(u),u=Ni(),s.pingedLanes|=s.suspendedLanes&d,Gn===s&&(In&d)===d&&(yn===4||yn===3&&(In&62914560)===In&&500>Ln()-bd?qs(s,0):yd|=d),zi(s,u)}function dg(s,u){var d=s.stateNode;d!==null&&d.delete(u),u=0,u===0&&(u=s.mode,(u&2)===0?u=1:(u&4)===0?u=Ds()===99?1:2:(qa===0&&(qa=Ps),u=Tt(62914560&~qa),u===0&&(u=4194304))),d=Ni(),s=Mc(s,u),s!==null&&(at(s,u,d),zi(s,d))}var qp;qp=function(s,u,d){var S=u.lanes;if(s!==null)if(s.memoizedProps!==u.pendingProps||mn.current)ra=!0;else if((d&S)!==0)ra=(s.flags&16384)!==0;else{switch(ra=!1,u.tag){case 3:cp(u),Yf();break;case 5:jh(u);break;case 1:ci(u.type)&&nc(u);break;case 4:Kf(u,u.stateNode.containerInfo);break;case 10:S=u.memoizedProps.value;var A=u.type._context;Sr(oc,A._currentValue),A._currentValue=S;break;case 13:if(u.memoizedState!==null)return(d&u.child.childLanes)!==0?fp(s,u,d):(Sr(zr,zr.current&1),u=_a(s,u,d),u!==null?u.sibling:null);Sr(zr,zr.current&1);break;case 19:if(S=(d&u.childLanes)!==0,(s.flags&64)!==0){if(S)return mp(s,u,d);u.flags|=64}if(A=u.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),Sr(zr,zr.current),S)break;return null;case 23:case 24:return u.lanes=0,od(s,u,d)}return _a(s,u,d)}else ra=!1;switch(u.lanes=0,u.tag){case 2:if(S=u.type,s!==null&&(s.alternate=null,u.alternate=null,u.flags|=2),s=u.pendingProps,A=Os(u,Dr.current),Ls(u,d),A=td(null,u,S,s,A,d),u.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0){if(u.tag=1,u.memoizedState=null,u.updateQueue=null,ci(S)){var H=!0;nc(u)}else H=!1;u.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,Gf(u);var J=S.getDerivedStateFromProps;typeof J=="function"&&uc(u,S,J,s),A.updater=cc,u.stateNode=A,A._reactInternals=u,Jf(u,S,s,d),u=ld(null,u,S,!0,H,d)}else u.tag=0,di(null,u,A,d),u=u.child;return u;case 16:A=u.elementType;e:{switch(s!==null&&(s.alternate=null,u.alternate=null,u.flags|=2),s=u.pendingProps,H=A._init,A=H(A._payload),u.type=A,H=u.tag=pg(A),s=ta(A,s),H){case 0:u=sd(null,u,A,s,d);break e;case 1:u=up(null,u,A,s,d);break e;case 11:u=ap(null,u,A,s,d);break e;case 14:u=op(null,u,A,ta(A.type,s),S,d);break e}throw Error(n(306,A,""))}return u;case 0:return S=u.type,A=u.pendingProps,A=u.elementType===S?A:ta(S,A),sd(s,u,S,A,d);case 1:return S=u.type,A=u.pendingProps,A=u.elementType===S?A:ta(S,A),up(s,u,S,A,d);case 3:if(cp(u),S=u.updateQueue,s===null||S===null)throw Error(n(282));if(S=u.pendingProps,A=u.memoizedState,A=A!==null?A.element:null,Bh(s,u),Rl(u,S,null,d),S=u.memoizedState.element,S===A)Yf(),u=_a(s,u,d);else{if(A=u.stateNode,(H=A.hydrate)&&(po=Ze(u.stateNode.containerInfo.firstChild),Ba=u,H=wa=!0),H){if(s=A.mutableSourceEagerHydrationData,s!=null)for(A=0;A<s.length;A+=2)H=s[A],H._workInProgressVersionPrimary=s[A+1],Is.push(H);for(d=Uh(u,null,S,d),u.child=d;d;)d.flags=d.flags&-3|1024,d=d.sibling}else di(s,u,S,d),Yf();u=u.child}return u;case 5:return jh(u),s===null&&Xf(u),S=u.type,A=u.pendingProps,H=s!==null?s.memoizedProps:null,J=A.children,Re(S,A)?J=null:H!==null&&Re(S,H)&&(u.flags|=16),lp(s,u),di(s,u,J,d),u.child;case 6:return s===null&&Xf(u),null;case 13:return fp(s,u,d);case 4:return Kf(u,u.stateNode.containerInfo),S=u.pendingProps,s===null?u.child=hc(u,null,S,d):di(s,u,S,d),u.child;case 11:return S=u.type,A=u.pendingProps,A=u.elementType===S?A:ta(S,A),ap(s,u,S,A,d);case 7:return di(s,u,u.pendingProps,d),u.child;case 8:return di(s,u,u.pendingProps.children,d),u.child;case 12:return di(s,u,u.pendingProps.children,d),u.child;case 10:e:{S=u.type._context,A=u.pendingProps,J=u.memoizedProps,H=A.value;var te=u.type._context;if(Sr(oc,te._currentValue),te._currentValue=H,J!==null)if(te=J.value,H=li(te,H)?0:(typeof S._calculateChangedBits=="function"?S._calculateChangedBits(te,H):1073741823)|0,H===0){if(J.children===A.children&&!mn.current){u=_a(s,u,d);break e}}else for(te=u.child,te!==null&&(te.return=u);te!==null;){var pe=te.dependencies;if(pe!==null){J=te.child;for(var Be=pe.firstContext;Be!==null;){if(Be.context===S&&(Be.observedBits&H)!==0){te.tag===1&&(Be=fo(-1,d&-d),Be.tag=2,ho(te,Be)),te.lanes|=d,Be=te.alternate,Be!==null&&(Be.lanes|=d),Ph(te.return,d),pe.lanes|=d;break}Be=Be.next}}else J=te.tag===10&&te.type===u.type?null:te.child;if(J!==null)J.return=te;else for(J=te;J!==null;){if(J===u){J=null;break}if(te=J.sibling,te!==null){te.return=J.return,J=te;break}J=J.return}te=J}di(s,u,A.children,d),u=u.child}return u;case 9:return A=u.type,H=u.pendingProps,S=H.children,Ls(u,d),A=qi(A,H.unstable_observedBits),S=S(A),u.flags|=1,di(s,u,S,d),u.child;case 14:return A=u.type,H=ta(A,u.pendingProps),H=ta(A.type,H),op(s,u,A,H,S,d);case 15:return sp(s,u,u.type,u.pendingProps,S,d);case 17:return S=u.type,A=u.pendingProps,A=u.elementType===S?A:ta(S,A),s!==null&&(s.alternate=null,u.alternate=null,u.flags|=2),u.tag=1,ci(S)?(s=!0,nc(u)):s=!1,Ls(u,d),zh(u,S,A),Jf(u,S,A,d),ld(null,u,S,!0,s,d);case 19:return mp(s,u,d);case 23:return od(s,u,d);case 24:return od(s,u,d)}throw Error(n(156,u.tag))};function hg(s,u,d,S){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function $i(s,u,d,S){return new hg(s,u,d,S)}function Md(s){return s=s.prototype,!(!s||!s.isReactComponent)}function pg(s){if(typeof s=="function")return Md(s)?1:0;if(s!=null){if(s=s.$$typeof,s===St)return 11;if(s===Lt)return 14}return 2}function bo(s,u){var d=s.alternate;return d===null?(d=$i(s.tag,u,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=u,d.type=s.type,d.flags=0,d.nextEffect=null,d.firstEffect=null,d.lastEffect=null),d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,u=s.dependencies,d.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d}function Dc(s,u,d,S,A,H){var J=2;if(S=s,typeof s=="function")Md(s)&&(J=1);else if(typeof s=="string")J=5;else e:switch(s){case we:return Hs(d.children,A,H,u);case st:J=8,A|=16;break;case Le:J=8,A|=1;break;case je:return s=$i(12,d,u,A|8),s.elementType=je,s.type=je,s.lanes=H,s;case It:return s=$i(13,d,u,A),s.type=It,s.elementType=It,s.lanes=H,s;case Mt:return s=$i(19,d,u,A),s.elementType=Mt,s.lanes=H,s;case Ie:return Od(d,A,H,u);case Ve:return s=$i(24,d,u,A),s.elementType=Ve,s.lanes=H,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Nt:J=10;break e;case et:J=9;break e;case St:J=11;break e;case Lt:J=14;break e;case be:J=16,S=null;break e;case We:J=22;break e}throw Error(n(130,s==null?s:typeof s,""))}return u=$i(J,d,u,A),u.elementType=s,u.type=S,u.lanes=H,u}function Hs(s,u,d,S){return s=$i(7,s,S,u),s.lanes=d,s}function Od(s,u,d,S){return s=$i(23,s,S,u),s.elementType=Ie,s.lanes=d,s}function Dd(s,u,d){return s=$i(6,s,null,u),s.lanes=d,s}function Ad(s,u,d){return u=$i(4,s.children!==null?s.children:[],s.key,u),u.lanes=d,u.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},u}function vg(s,u,d){this.tag=u,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=d,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Te(0),this.expirationTimes=Te(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Te(0),this.mutableSourceEagerHydrationData=null}function mg(s,u,d){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ke,key:S==null?null:""+S,children:s,containerInfo:u,implementation:d}}function Ac(s,u,d,S){var A=u.current,H=Ni(),J=mo(A);e:if(d){d=d._reactInternals;t:{if(oe(d)!==d||d.tag!==1)throw Error(n(170));var te=d;do{switch(te.tag){case 3:te=te.stateNode.context;break t;case 1:if(ci(te.type)){te=te.stateNode.__reactInternalMemoizedMergedChildContext;break t}}te=te.return}while(te!==null);throw Error(n(171))}if(d.tag===1){var pe=d.type;if(ci(pe)){d=Th(d,pe,te);break e}}d=te}else d=Hr;return u.context===null?u.context=d:u.pendingContext=d,u=fo(H,J),u.payload={element:s},S=S===void 0?null:S,S!==null&&(u.callback=S),ho(A,u),go(A,J,H),J}function Ld(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Hp(s,u){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<u?d:u}}function Rd(s,u){Hp(s,u),(s=s.alternate)&&Hp(s,u)}function gg(){return null}function Id(s,u,d){var S=d!=null&&d.hydrationOptions!=null&&d.hydrationOptions.mutableSources||null;if(d=new vg(s,u,d!=null&&d.hydrate===!0),u=$i(3,null,null,u===2?7:u===1?3:0),d.current=u,u.stateNode=d,Gf(u),s[un]=d.current,b(s.nodeType===8?s.parentNode:s),S)for(s=0;s<S.length;s++){u=S[s];var A=u._getVersion;A=A(u._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[u,A]:d.mutableSourceEagerHydrationData.push(u,A)}this._internalRoot=d}Id.prototype.render=function(s){Ac(s,this._internalRoot,null,null)},Id.prototype.unmount=function(){var s=this._internalRoot,u=s.containerInfo;Ac(null,s,null,function(){u[un]=null})};function Xl(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function yg(s,u){if(u||(u=s?s.nodeType===9?s.documentElement:s.firstChild:null,u=!(!u||u.nodeType!==1||!u.hasAttribute("data-reactroot"))),!u)for(var d;d=s.lastChild;)s.removeChild(d);return new Id(s,0,u?{hydrate:!0}:void 0)}function Lc(s,u,d,S,A){var H=d._reactRootContainer;if(H){var J=H._internalRoot;if(typeof A=="function"){var te=A;A=function(){var Be=Ld(J);te.call(Be)}}Ac(u,J,s,A)}else{if(H=d._reactRootContainer=yg(d,S),J=H._internalRoot,typeof A=="function"){var pe=A;A=function(){var Be=Ld(J);pe.call(Be)}}Lp(function(){Ac(u,J,s,A)})}return Ld(J)}Bt=function(s){if(s.tag===13){var u=Ni();go(s,4,u),Rd(s,4)}},ir=function(s){if(s.tag===13){var u=Ni();go(s,67108864,u),Rd(s,67108864)}},kr=function(s){if(s.tag===13){var u=Ni(),d=mo(s);go(s,d,u),Rd(s,d)}},Hn=function(s,u){return u()},Tn=function(s,u,d){switch(u){case"input":if(Br(s,d),u=d.name,d.type==="radio"&&u!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<d.length;u++){var S=d[u];if(S!==s&&S.form===s.form){var A=ui(S);if(!A)throw Error(n(90));zt(S),Br(S,A)}}}break;case"textarea":qt(s,d);break;case"select":u=d.value,u!=null&&Ar(s,!!d.multiple,u,!1)}},F=Ap,U=function(s,u,d,S,A){var H=jt;jt|=4;try{return jo(98,s.bind(null,u,d,S,A))}finally{jt=H,jt===0&&(_s(),ga())}},W=function(){(jt&49)===0&&(ig(),yo())},ie=function(s,u){var d=jt;jt|=2;try{return s(u)}finally{jt=d,jt===0&&(_s(),ga())}};function zp(s,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xl(u))throw Error(n(200));return mg(s,u,null,d)}var wg={Events:[An,Ti,ui,Y,z,yo,{current:!1}]},Yl={findFiberByHostInstance:qr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},bg={bundleType:Yl.bundleType,version:Yl.version,rendererPackageName:Yl.rendererPackageName,rendererConfig:Yl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ve.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Ye(s),s===null?null:s.stateNode},findFiberByHostInstance:Yl.findFiberByHostInstance||gg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{qf=Rc.inject(bg),Uo=Rc}catch{}}return oa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wg,oa.createPortal=zp,oa.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var u=s._reactInternals;if(u===void 0)throw typeof s.render=="function"?Error(n(188)):Error(n(268,Object.keys(s)));return s=Ye(u),s=s===null?null:s.stateNode,s},oa.flushSync=function(s,u){var d=jt;if((d&48)!==0)return s(u);jt|=1;try{if(s)return jo(99,s.bind(null,u))}finally{jt=d,ga()}},oa.hydrate=function(s,u,d){if(!Xl(u))throw Error(n(200));return Lc(null,s,u,!0,d)},oa.render=function(s,u,d){if(!Xl(u))throw Error(n(200));return Lc(null,s,u,!1,d)},oa.unmountComponentAtNode=function(s){if(!Xl(s))throw Error(n(40));return s._reactRootContainer?(Lp(function(){Lc(null,null,s,!1,function(){s._reactRootContainer=null,s[un]=null})}),!0):!1},oa.unstable_batchedUpdates=Ap,oa.unstable_createPortal=function(s,u){return zp(s,u,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)},oa.unstable_renderSubtreeIntoContainer=function(s,u,d,S){if(!Xl(d))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Lc(s,u,d,!1,S)},oa.version="17.0.2",oa}var Lk;function Ute(){if(Lk)return ry.exports;Lk=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ry.exports=Vte(),ry.exports}var jte=Ute();const Wte=X0(jte);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function th(){return th=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},th.apply(this,arguments)}var Gs;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Gs||(Gs={}));const Rk="popstate";function Gte(r){r===void 0&&(r={});function e(n,i){let{pathname:a,search:o,hash:l}=n.location;return Yy("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:Ov(i)}return Kte(e,t,null,r)}function fn(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Mx(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Jte(){return Math.random().toString(36).substr(2,8)}function Ik(r,e){return{usr:r.state,key:r.key,idx:e}}function Yy(r,e,t,n){return t===void 0&&(t=null),th({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?yf(e):e,{state:t,key:e&&e.key||n||Jte()})}function Ov(r){let{pathname:e="/",search:t="",hash:n=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function yf(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substr(n),r=r.substr(0,n)),r&&(e.pathname=r)}return e}function Kte(r,e,t,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,l=Gs.Pop,c=null,f=v();f==null&&(f=0,o.replaceState(th({},o.state,{idx:f}),""));function v(){return(o.state||{idx:null}).idx}function y(){l=Gs.Pop;let L=v(),$=L==null?null:L-f;f=L,c&&c({action:l,location:P.location,delta:$})}function T(L,$){l=Gs.Push;let ee=Yy(P.location,L,$);f=v()+1;let re=Ik(ee,f),se=P.createHref(ee);try{o.pushState(re,"",se)}catch(ve){if(ve instanceof DOMException&&ve.name==="DataCloneError")throw ve;i.location.assign(se)}a&&c&&c({action:l,location:P.location,delta:1})}function N(L,$){l=Gs.Replace;let ee=Yy(P.location,L,$);f=v();let re=Ik(ee,f),se=P.createHref(ee);o.replaceState(re,"",se),a&&c&&c({action:l,location:P.location,delta:0})}function E(L){let $=i.location.origin!=="null"?i.location.origin:i.location.href,ee=typeof L=="string"?L:Ov(L);return ee=ee.replace(/ $/,"%20"),fn($,"No window.location.(origin|href) available to create URL for href: "+ee),new URL(ee,$)}let P={get action(){return l},get location(){return r(i,o)},listen(L){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Rk,y),c=L,()=>{i.removeEventListener(Rk,y),c=null}},createHref(L){return e(i,L)},createURL:E,encodeLocation(L){let $=E(L);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:T,replace:N,go(L){return o.go(L)}};return P}var Pk;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(Pk||(Pk={}));function Qte(r,e,t){return t===void 0&&(t="/"),Xte(r,e,t)}function Xte(r,e,t,n){let i=typeof e=="string"?yf(e):e,a=ew(i.pathname||"/",t);if(a==null)return null;let o=Ox(r);Yte(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let f=cre(a);l=sre(o[c],f)}return l}function Ox(r,e,t,n){e===void 0&&(e=[]),t===void 0&&(t=[]),n===void 0&&(n="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(fn(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let f=Ys([n,c.relativePath]),v=t.concat(c);a.children&&a.children.length>0&&(fn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),Ox(a.children,e,v,f)),!(a.path==null&&!a.index)&&e.push({path:f,score:are(f,a.index),routesMeta:v})};return r.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of Dx(a.path))i(a,o,c)}),e}function Dx(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=Dx(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>r.startsWith("/")&&c===""?"/":c)}function Yte(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:ore(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}const Zte=/^:[\w-]+$/,ere=3,tre=2,rre=1,nre=10,ire=-2,Bk=r=>r==="*";function are(r,e){let t=r.split("/"),n=t.length;return t.some(Bk)&&(n+=ire),e&&(n+=tre),t.filter(i=>!Bk(i)).reduce((i,a)=>i+(Zte.test(a)?ere:a===""?rre:nre),n)}function ore(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function sre(r,e,t){let{routesMeta:n}=r,i={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],f=l===n.length-1,v=a==="/"?e:e.slice(a.length)||"/",y=lre({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},v),T=c.route;if(!y)return null;Object.assign(i,y.params),o.push({params:i,pathname:Ys([a,y.pathname]),pathnameBase:pre(Ys([a,y.pathnameBase])),route:T}),y.pathnameBase!=="/"&&(a=Ys([a,y.pathnameBase]))}return o}function lre(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=ure(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((f,v,y)=>{let{paramName:T,isOptional:N}=v;if(T==="*"){let P=l[y]||"";o=a.slice(0,a.length-P.length).replace(/(.)\/+$/,"$1")}const E=l[y];return N&&!E?f[T]=void 0:f[T]=(E||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:o,pattern:r}}function ure(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Mx(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function cre(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mx(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function ew(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function fre(r,e){e===void 0&&(e="/");let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?yf(r):r;return{pathname:t?t.startsWith("/")?t:dre(t,e):e,search:vre(n),hash:mre(i)}}function dre(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function ay(r,e,t,n){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hre(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ax(r,e){let t=hre(r);return e?t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase):t.map(n=>n.pathnameBase)}function Lx(r,e,t,n){n===void 0&&(n=!1);let i;typeof r=="string"?i=yf(r):(i=th({},r),fn(!i.pathname||!i.pathname.includes("?"),ay("?","pathname","search",i)),fn(!i.pathname||!i.pathname.includes("#"),ay("#","pathname","hash",i)),fn(!i.search||!i.search.includes("#"),ay("#","search","hash",i)));let a=r===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=t;else{let y=e.length-1;if(!n&&o.startsWith("..")){let T=o.split("/");for(;T[0]==="..";)T.shift(),y-=1;i.pathname=T.join("/")}l=y>=0?e[y]:"/"}let c=fre(i,l),f=o&&o!=="/"&&o.endsWith("/"),v=(a||o===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(f||v)&&(c.pathname+="/"),c}const Ys=r=>r.join("/").replace(/\/\/+/g,"/"),pre=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),vre=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,mre=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function gre(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const Rx=["post","put","patch","delete"];new Set(Rx);const yre=["get",...Rx];new Set(yre);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rh(){return rh=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},rh.apply(this,arguments)}const tw=it.createContext(null),wre=it.createContext(null),Au=it.createContext(null),um=it.createContext(null),ul=it.createContext({outlet:null,matches:[],isDataRoute:!1}),Ix=it.createContext(null);function bre(r,e){let{relative:t}=e===void 0?{}:e;ph()||fn(!1);let{basename:n,navigator:i}=it.useContext(Au),{hash:a,pathname:o,search:l}=Bx(r,{relative:t}),c=o;return n!=="/"&&(c=o==="/"?n:Ys([n,o])),i.createHref({pathname:c,search:l,hash:a})}function ph(){return it.useContext(um)!=null}function Lu(){return ph()||fn(!1),it.useContext(um).location}function Px(r){it.useContext(Au).static||it.useLayoutEffect(r)}function vs(){let{isDataRoute:r}=it.useContext(ul);return r?Pre():kre()}function kre(){ph()||fn(!1);let r=it.useContext(tw),{basename:e,future:t,navigator:n}=it.useContext(Au),{matches:i}=it.useContext(ul),{pathname:a}=Lu(),o=JSON.stringify(Ax(i,t.v7_relativeSplatPath)),l=it.useRef(!1);return Px(()=>{l.current=!0}),it.useCallback(function(f,v){if(v===void 0&&(v={}),!l.current)return;if(typeof f=="number"){n.go(f);return}let y=Lx(f,JSON.parse(o),a,v.relative==="path");r==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Ys([e,y.pathname])),(v.replace?n.replace:n.push)(y,v.state,v)},[e,n,o,a,r])}const Cre=it.createContext(null);function Sre(r){let e=it.useContext(ul).outlet;return e&&it.createElement(Cre.Provider,{value:r},e)}function Bx(r,e){let{relative:t}=e===void 0?{}:e,{future:n}=it.useContext(Au),{matches:i}=it.useContext(ul),{pathname:a}=Lu(),o=JSON.stringify(Ax(i,n.v7_relativeSplatPath));return it.useMemo(()=>Lx(r,JSON.parse(o),a,t==="path"),[r,o,a,t])}function xre(r,e){return Tre(r,e)}function Tre(r,e,t,n){ph()||fn(!1);let{navigator:i}=it.useContext(Au),{matches:a}=it.useContext(ul),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let f=Lu(),v;if(e){var y;let L=typeof e=="string"?yf(e):e;c==="/"||(y=L.pathname)!=null&&y.startsWith(c)||fn(!1),v=L}else v=f;let T=v.pathname||"/",N=T;if(c!=="/"){let L=c.replace(/^\//,"").split("/");N="/"+T.replace(/^\//,"").split("/").slice(L.length).join("/")}let E=Qte(r,{pathname:N}),P=Dre(E&&E.map(L=>Object.assign({},L,{params:Object.assign({},l,L.params),pathname:Ys([c,i.encodeLocation?i.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?c:Ys([c,i.encodeLocation?i.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),a,t,n);return e&&P?it.createElement(um.Provider,{value:{location:rh({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:Gs.Pop}},P):P}function Ere(){let r=Ire(),e=gre(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return it.createElement(it.Fragment,null,it.createElement("h2",null,"Unexpected Application Error!"),it.createElement("h3",{style:{fontStyle:"italic"}},e),t?it.createElement("pre",{style:i},t):null,null)}const Nre=it.createElement(Ere,null);class Mre extends it.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?it.createElement(ul.Provider,{value:this.props.routeContext},it.createElement(Ix.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ore(r){let{routeContext:e,match:t,children:n}=r,i=it.useContext(tw);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),it.createElement(ul.Provider,{value:e},n)}function Dre(r,e,t,n){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),n===void 0&&(n=null),r==null){var a;if(!t)return null;if(t.errors)r=t.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,l=(i=t)==null?void 0:i.errors;if(l!=null){let v=o.findIndex(y=>y.route.id&&l?.[y.route.id]!==void 0);v>=0||fn(!1),o=o.slice(0,Math.min(o.length,v+1))}let c=!1,f=-1;if(t&&n&&n.v7_partialHydration)for(let v=0;v<o.length;v++){let y=o[v];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=v),y.route.id){let{loaderData:T,errors:N}=t,E=y.route.loader&&T[y.route.id]===void 0&&(!N||N[y.route.id]===void 0);if(y.route.lazy||E){c=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((v,y,T)=>{let N,E=!1,P=null,L=null;t&&(N=l&&y.route.id?l[y.route.id]:void 0,P=y.route.errorElement||Nre,c&&(f<0&&T===0?(Bre("route-fallback"),E=!0,L=null):f===T&&(E=!0,L=y.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,T+1)),ee=()=>{let re;return N?re=P:E?re=L:y.route.Component?re=it.createElement(y.route.Component,null):y.route.element?re=y.route.element:re=v,it.createElement(Ore,{match:y,routeContext:{outlet:v,matches:$,isDataRoute:t!=null},children:re})};return t&&(y.route.ErrorBoundary||y.route.errorElement||T===0)?it.createElement(Mre,{location:t.location,revalidation:t.revalidation,component:P,error:N,children:ee(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):ee()},null)}var _x=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(_x||{}),Fx=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(Fx||{});function Are(r){let e=it.useContext(tw);return e||fn(!1),e}function Lre(r){let e=it.useContext(wre);return e||fn(!1),e}function Rre(r){let e=it.useContext(ul);return e||fn(!1),e}function qx(r){let e=Rre(),t=e.matches[e.matches.length-1];return t.route.id||fn(!1),t.route.id}function Ire(){var r;let e=it.useContext(Ix),t=Lre(),n=qx();return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function Pre(){let{router:r}=Are(_x.UseNavigateStable),e=qx(Fx.UseNavigateStable),t=it.useRef(!1);return Px(()=>{t.current=!0}),it.useCallback(function(i,a){a===void 0&&(a={}),t.current&&(typeof i=="number"?r.navigate(i):r.navigate(i,rh({fromRouteId:e},a)))},[r,e])}const _k={};function Bre(r,e,t){_k[r]||(_k[r]=!0)}function _re(r,e){r?.v7_startTransition,r?.v7_relativeSplatPath}function Fre(r){return Sre(r.context)}function is(r){fn(!1)}function qre(r){let{basename:e="/",children:t=null,location:n,navigationType:i=Gs.Pop,navigator:a,static:o=!1,future:l}=r;ph()&&fn(!1);let c=e.replace(/^\/*/,"/"),f=it.useMemo(()=>({basename:c,navigator:a,static:o,future:rh({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=yf(n));let{pathname:v="/",search:y="",hash:T="",state:N=null,key:E="default"}=n,P=it.useMemo(()=>{let L=ew(v,c);return L==null?null:{location:{pathname:L,search:y,hash:T,state:N,key:E},navigationType:i}},[c,v,y,T,N,E,i]);return P==null?null:it.createElement(Au.Provider,{value:f},it.createElement(um.Provider,{children:t,value:P}))}function Hre(r){let{children:e,location:t}=r;return xre(Zy(e),t)}new Promise(()=>{});function Zy(r,e){e===void 0&&(e=[]);let t=[];return it.Children.forEach(r,(n,i)=>{if(!it.isValidElement(n))return;let a=[...e,i];if(n.type===it.Fragment){t.push.apply(t,Zy(n.props.children,a));return}n.type!==is&&fn(!1),!n.props.index||!n.props.children||fn(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Zy(n.props.children,a)),t.push(o)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function e0(){return e0=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},e0.apply(this,arguments)}function zre(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function $re(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Vre(r,e){return r.button===0&&(!e||e==="_self")&&!$re(r)}function t0(r){return r===void 0&&(r=""),new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,t)=>{let n=r[t];return e.concat(Array.isArray(n)?n.map(i=>[t,i]):[[t,n]])},[]))}function Ure(r,e){let t=t0(r);return e&&e.forEach((n,i)=>{t.has(i)||e.getAll(i).forEach(a=>{t.append(i,a)})}),t}const jre=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Wre="6";try{window.__reactRouterVersion=Wre}catch{}const Gre="startTransition",Fk=Hte[Gre];function Jre(r){let{basename:e,children:t,future:n,window:i}=r,a=it.useRef();a.current==null&&(a.current=Gte({window:i,v5Compat:!0}));let o=a.current,[l,c]=it.useState({action:o.action,location:o.location}),{v7_startTransition:f}=n||{},v=it.useCallback(y=>{f&&Fk?Fk(()=>c(y)):c(y)},[c,f]);return it.useLayoutEffect(()=>o.listen(v),[o,v]),it.useEffect(()=>_re(n),[n]),it.createElement(qre,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:o,future:n})}const Kre=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qre=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gc=it.forwardRef(function(e,t){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:f,preventScrollReset:v,viewTransition:y}=e,T=zre(e,jre),{basename:N}=it.useContext(Au),E,P=!1;if(typeof f=="string"&&Qre.test(f)&&(E=f,Kre))try{let re=new URL(window.location.href),se=f.startsWith("//")?new URL(re.protocol+f):new URL(f),ve=ew(se.pathname,N);se.origin===re.origin&&ve!=null?f=ve+se.search+se.hash:P=!0}catch{}let L=bre(f,{relative:i}),$=Xre(f,{replace:o,state:l,target:c,preventScrollReset:v,relative:i,viewTransition:y});function ee(re){n&&n(re),re.defaultPrevented||$(re)}return it.createElement("a",e0({},T,{href:E||L,onClick:P||a?n:ee,ref:t,target:c}))});var qk;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(qk||(qk={}));var Hk;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(Hk||(Hk={}));function Xre(r,e){let{target:t,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:l}=e===void 0?{}:e,c=vs(),f=Lu(),v=Bx(r,{relative:o});return it.useCallback(y=>{if(Vre(y,t)){y.preventDefault();let T=n!==void 0?n:Ov(f)===Ov(v);c(r,{replace:T,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[f,c,v,n,i,t,r,a,o,l])}function Yre(r){let e=it.useRef(t0(r)),t=it.useRef(!1),n=Lu(),i=it.useMemo(()=>Ure(n.search,t.current?null:e.current),[n.search]),a=vs(),o=it.useCallback((l,c)=>{const f=t0(typeof l=="function"?l(i):l);t.current=!0,a("?"+f,c)},[a,i]);return[i,o]}function Zre(r){let e;const t=new Set,n=(f,v)=>{const y=typeof f=="function"?f(e):f;if(y!==e){const T=e;e=v?y:Object.assign({},e,y),t.forEach(N=>N(e,T))}},i=()=>e,a=(f,v=i,y=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let T=v(e);function N(){const E=v(e);if(!y(T,E)){const P=T;f(T=E,P)}}return t.add(N),()=>t.delete(N)},c={setState:n,getState:i,subscribe:(f,v,y)=>v||y?a(f,v,y):(t.add(f),()=>t.delete(f)),destroy:()=>t.clear()};return e=r(n,i,c),c}const ene=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),zk=ene?it.useEffect:it.useLayoutEffect;function tne(r){const e=typeof r=="function"?Zre(r):r,t=(n=e.getState,i=Object.is)=>{const[,a]=it.useReducer(L=>L+1,0),o=e.getState(),l=it.useRef(o),c=it.useRef(n),f=it.useRef(i),v=it.useRef(!1),y=it.useRef();y.current===void 0&&(y.current=n(o));let T,N=!1;(l.current!==o||c.current!==n||f.current!==i||v.current)&&(T=n(o),N=!i(y.current,T)),zk(()=>{N&&(y.current=T),l.current=o,c.current=n,f.current=i,v.current=!1});const E=it.useRef(o);zk(()=>{const L=()=>{try{const ee=e.getState(),re=c.current(ee);f.current(y.current,re)||(l.current=ee,y.current=re,a())}catch{v.current=!0,a()}},$=e.subscribe(L);return e.getState()!==E.current&&L(),$},[]);const P=N?T:y.current;return it.useDebugValue(P),P};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const n=[t,e];return{next(){const i=n.length<=0;return{value:n.shift(),done:i}}}},t}var rne=Object.defineProperty,$k=Object.getOwnPropertySymbols,nne=Object.prototype.hasOwnProperty,ine=Object.prototype.propertyIsEnumerable,Vk=(r,e,t)=>e in r?rne(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Hc=(r,e)=>{for(var t in e||(e={}))nne.call(e,t)&&Vk(r,t,e[t]);if($k)for(var t of $k(e))ine.call(e,t)&&Vk(r,t,e[t]);return r};const Dv=r=>e=>{try{const t=r(e);return t instanceof Promise?t:{then(n){return Dv(n)(t)},catch(n){return this}}}catch(t){return{then(n){return this},catch(n){return Dv(n)(t)}}}},ane=(r,e)=>(t,n,i)=>{let a=Hc({getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:L=>L,version:0,merge:(L,$)=>Hc(Hc({},$),L)},e);(a.blacklist||a.whitelist)&&console.warn(`The ${a.blacklist?"blacklist":"whitelist"} option is deprecated and will be removed in the next version. Please use the 'partialize' option instead.`);let o=!1;const l=new Set,c=new Set;let f;try{f=a.getStorage()}catch{}if(f)f.removeItem||console.warn(`[zustand persist middleware] The given storage for item '${a.name}' does not contain a 'removeItem' method, which will be required in v4.`);else return r((...L)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),t(...L)},n,i);const v=Dv(a.serialize),y=()=>{const L=a.partialize(Hc({},n()));a.whitelist&&Object.keys(L).forEach(re=>{var se;!((se=a.whitelist)!=null&&se.includes(re))&&delete L[re]}),a.blacklist&&a.blacklist.forEach(re=>delete L[re]);let $;const ee=v({state:L,version:a.version}).then(re=>f.setItem(a.name,re)).catch(re=>{$=re});if($)throw $;return ee},T=i.setState;i.setState=(L,$)=>{T(L,$),y()};const N=r((...L)=>{t(...L),y()},n,i);let E;const P=()=>{var L;if(!f)return;o=!1,l.forEach(ee=>ee(n()));const $=((L=a.onRehydrateStorage)==null?void 0:L.call(a,n()))||void 0;return Dv(f.getItem.bind(f))(a.name).then(ee=>{if(ee)return a.deserialize(ee)}).then(ee=>{if(ee)if(typeof ee.version=="number"&&ee.version!==a.version){if(a.migrate)return a.migrate(ee.state,ee.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return ee.state}).then(ee=>{var re;return E=a.merge(ee,(re=n())!=null?re:N),t(E,!0),y()}).then(()=>{$?.(E,void 0),o=!0,c.forEach(ee=>ee(E))}).catch(ee=>{$?.(void 0,ee)})};return i.persist={setOptions:L=>{a=Hc(Hc({},a),L),L.getStorage&&(f=L.getStorage())},clearStorage:()=>{var L;(L=f?.removeItem)==null||L.call(f,a.name)},rehydrate:()=>P(),hasHydrated:()=>o,onHydrate:L=>(l.add(L),()=>{l.delete(L)}),onFinishHydration:L=>(c.add(L),()=>{c.delete(L)})},P(),E||N},ol=tne(ane(r=>({userData:null,userToken:null,setAuthData:({userData:e,userToken:t})=>r({userData:e,userToken:t}),resetAuthData:()=>r({userData:null,userToken:null})}),{name:"auth-storage"})),one=()=>{const r=ol(i=>i.userData),e=ol(i=>i.resetAuthData),t=vs(),n=()=>{e(),t("/login")};return Xe.jsxs("header",{className:"header",children:[Xe.jsxs("div",{className:"top-row",children:[Xe.jsx("div",{className:"user-info",children:r?Xe.jsxs(Xe.Fragment,{children:[Xe.jsxs("span",{className:"username",children:[r?.username||""," "]}),Xe.jsx("button",{className:"logout-btn",onClick:n,children:""})]}):Xe.jsxs(Xe.Fragment,{children:[Xe.jsx(Gc,{className:"login-link",to:"/login",children:""}),Xe.jsx(Gc,{className:"login-link",to:"/register",children:""})]})}),Xe.jsx("h1",{className:"title",children:" "})]}),Xe.jsxs("nav",{className:"menu-row",children:[Xe.jsx(Gc,{to:"/",children:""}),Xe.jsx(Gc,{to:"/todo_list",children:"TodoList"}),Xe.jsx(Gc,{to:"/memo_editorv3",children:""})]})]})},sne=()=>Xe.jsx("footer",{className:"footer",children:Xe.jsx("p",{children:" 2025   . All rights reserved."})}),lne=()=>Xe.jsxs(Xe.Fragment,{children:[Xe.jsx(one,{}),Xe.jsx("main",{children:Xe.jsx(Fre,{})}),Xe.jsx(sne,{})]}),une=()=>Xe.jsxs(Xe.Fragment,{children:[Xe.jsx("h2",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:" !"}),Xe.jsx("p",{children:"   "}),Xe.jsx(Gc,{to:"/todo_list",children:Xe.jsx("button",{className:`px-6 py-3 bg-gradient-to-r
        from-green-500 to-indigo-500`,children:"Todo List "})})]});function Hx(r,e){return function(){return r.apply(e,arguments)}}const{toString:cne}=Object.prototype,{getPrototypeOf:rw}=Object,{iterator:cm,toStringTag:zx}=Symbol,fm=(r=>e=>{const t=cne.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Ka=r=>(r=r.toLowerCase(),e=>fm(e)===r),dm=r=>e=>typeof e===r,{isArray:wf}=Array,nh=dm("undefined");function fne(r){return r!==null&&!nh(r)&&r.constructor!==null&&!nh(r.constructor)&&Wi(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const $x=Ka("ArrayBuffer");function dne(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&$x(r.buffer),e}const hne=dm("string"),Wi=dm("function"),Vx=dm("number"),hm=r=>r!==null&&typeof r=="object",pne=r=>r===!0||r===!1,mv=r=>{if(fm(r)!=="object")return!1;const e=rw(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(zx in r)&&!(cm in r)},vne=Ka("Date"),mne=Ka("File"),gne=Ka("Blob"),yne=Ka("FileList"),wne=r=>hm(r)&&Wi(r.pipe),bne=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||Wi(r.append)&&((e=fm(r))==="formdata"||e==="object"&&Wi(r.toString)&&r.toString()==="[object FormData]"))},kne=Ka("URLSearchParams"),[Cne,Sne,xne,Tne]=["ReadableStream","Request","Response","Headers"].map(Ka),Ene=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function vh(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let n,i;if(typeof r!="object"&&(r=[r]),wf(r))for(n=0,i=r.length;n<i;n++)e.call(null,r[n],n,r);else{const a=t?Object.getOwnPropertyNames(r):Object.keys(r),o=a.length;let l;for(n=0;n<o;n++)l=a[n],e.call(null,r[l],l,r)}}function Ux(r,e){e=e.toLowerCase();const t=Object.keys(r);let n=t.length,i;for(;n-- >0;)if(i=t[n],e===i.toLowerCase())return i;return null}const uu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,jx=r=>!nh(r)&&r!==uu;function r0(){const{caseless:r}=jx(this)&&this||{},e={},t=(n,i)=>{const a=r&&Ux(e,i)||i;mv(e[a])&&mv(n)?e[a]=r0(e[a],n):mv(n)?e[a]=r0({},n):wf(n)?e[a]=n.slice():e[a]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&vh(arguments[n],t);return e}const Nne=(r,e,t,{allOwnKeys:n}={})=>(vh(e,(i,a)=>{t&&Wi(i)?r[a]=Hx(i,t):r[a]=i},{allOwnKeys:n}),r),Mne=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),One=(r,e,t,n)=>{r.prototype=Object.create(e.prototype,n),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},Dne=(r,e,t,n)=>{let i,a,o;const l={};if(e=e||{},r==null)return e;do{for(i=Object.getOwnPropertyNames(r),a=i.length;a-- >0;)o=i[a],(!n||n(o,r,e))&&!l[o]&&(e[o]=r[o],l[o]=!0);r=t!==!1&&rw(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},Ane=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const n=r.indexOf(e,t);return n!==-1&&n===t},Lne=r=>{if(!r)return null;if(wf(r))return r;let e=r.length;if(!Vx(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},Rne=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&rw(Uint8Array)),Ine=(r,e)=>{const n=(r&&r[cm]).call(r);let i;for(;(i=n.next())&&!i.done;){const a=i.value;e.call(r,a[0],a[1])}},Pne=(r,e)=>{let t;const n=[];for(;(t=r.exec(e))!==null;)n.push(t);return n},Bne=Ka("HTMLFormElement"),_ne=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,i){return n.toUpperCase()+i}),Uk=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),Fne=Ka("RegExp"),Wx=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),n={};vh(t,(i,a)=>{let o;(o=e(i,a,r))!==!1&&(n[a]=o||i)}),Object.defineProperties(r,n)},qne=r=>{Wx(r,(e,t)=>{if(Wi(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=r[t];if(Wi(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Hne=(r,e)=>{const t={},n=i=>{i.forEach(a=>{t[a]=!0})};return wf(r)?n(r):n(String(r).split(e)),t},zne=()=>{},$ne=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function Vne(r){return!!(r&&Wi(r.append)&&r[zx]==="FormData"&&r[cm])}const Une=r=>{const e=new Array(10),t=(n,i)=>{if(hm(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const a=wf(n)?[]:{};return vh(n,(o,l)=>{const c=t(o,i+1);!nh(c)&&(a[l]=c)}),e[i]=void 0,a}}return n};return t(r,0)},jne=Ka("AsyncFunction"),Wne=r=>r&&(hm(r)||Wi(r))&&Wi(r.then)&&Wi(r.catch),Gx=((r,e)=>r?setImmediate:e?((t,n)=>(uu.addEventListener("message",({source:i,data:a})=>{i===uu&&a===t&&n.length&&n.shift()()},!1),i=>{n.push(i),uu.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Wi(uu.postMessage)),Gne=typeof queueMicrotask<"u"?queueMicrotask.bind(uu):typeof process<"u"&&process.nextTick||Gx,Jne=r=>r!=null&&Wi(r[cm]),Fe={isArray:wf,isArrayBuffer:$x,isBuffer:fne,isFormData:bne,isArrayBufferView:dne,isString:hne,isNumber:Vx,isBoolean:pne,isObject:hm,isPlainObject:mv,isReadableStream:Cne,isRequest:Sne,isResponse:xne,isHeaders:Tne,isUndefined:nh,isDate:vne,isFile:mne,isBlob:gne,isRegExp:Fne,isFunction:Wi,isStream:wne,isURLSearchParams:kne,isTypedArray:Rne,isFileList:yne,forEach:vh,merge:r0,extend:Nne,trim:Ene,stripBOM:Mne,inherits:One,toFlatObject:Dne,kindOf:fm,kindOfTest:Ka,endsWith:Ane,toArray:Lne,forEachEntry:Ine,matchAll:Pne,isHTMLForm:Bne,hasOwnProperty:Uk,hasOwnProp:Uk,reduceDescriptors:Wx,freezeMethods:qne,toObjectSet:Hne,toCamelCase:_ne,noop:zne,toFiniteNumber:$ne,findKey:Ux,global:uu,isContextDefined:jx,isSpecCompliantForm:Vne,toJSONObject:Une,isAsyncFn:jne,isThenable:Wne,setImmediate:Gx,asap:Gne,isIterable:Jne};function nr(r,e,t,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}Fe.inherits(nr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Fe.toJSONObject(this.config),code:this.code,status:this.status}}});const Jx=nr.prototype,Kx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{Kx[r]={value:r}});Object.defineProperties(nr,Kx);Object.defineProperty(Jx,"isAxiosError",{value:!0});nr.from=(r,e,t,n,i,a)=>{const o=Object.create(Jx);return Fe.toFlatObject(r,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),nr.call(o,r.message,e,t,n,i),o.cause=r,o.name=r.name,a&&Object.assign(o,a),o};const Kne=null;function n0(r){return Fe.isPlainObject(r)||Fe.isArray(r)}function Qx(r){return Fe.endsWith(r,"[]")?r.slice(0,-2):r}function jk(r,e,t){return r?r.concat(e).map(function(i,a){return i=Qx(i),!t&&a?"["+i+"]":i}).join(t?".":""):e}function Qne(r){return Fe.isArray(r)&&!r.some(n0)}const Xne=Fe.toFlatObject(Fe,{},null,function(e){return/^is[A-Z]/.test(e)});function pm(r,e,t){if(!Fe.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=Fe.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(P,L){return!Fe.isUndefined(L[P])});const n=t.metaTokens,i=t.visitor||v,a=t.dots,o=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&Fe.isSpecCompliantForm(e);if(!Fe.isFunction(i))throw new TypeError("visitor must be a function");function f(E){if(E===null)return"";if(Fe.isDate(E))return E.toISOString();if(Fe.isBoolean(E))return E.toString();if(!c&&Fe.isBlob(E))throw new nr("Blob is not supported. Use a Buffer instead.");return Fe.isArrayBuffer(E)||Fe.isTypedArray(E)?c&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function v(E,P,L){let $=E;if(E&&!L&&typeof E=="object"){if(Fe.endsWith(P,"{}"))P=n?P:P.slice(0,-2),E=JSON.stringify(E);else if(Fe.isArray(E)&&Qne(E)||(Fe.isFileList(E)||Fe.endsWith(P,"[]"))&&($=Fe.toArray(E)))return P=Qx(P),$.forEach(function(re,se){!(Fe.isUndefined(re)||re===null)&&e.append(o===!0?jk([P],se,a):o===null?P:P+"[]",f(re))}),!1}return n0(E)?!0:(e.append(jk(L,P,a),f(E)),!1)}const y=[],T=Object.assign(Xne,{defaultVisitor:v,convertValue:f,isVisitable:n0});function N(E,P){if(!Fe.isUndefined(E)){if(y.indexOf(E)!==-1)throw Error("Circular reference detected in "+P.join("."));y.push(E),Fe.forEach(E,function($,ee){(!(Fe.isUndefined($)||$===null)&&i.call(e,$,Fe.isString(ee)?ee.trim():ee,P,T))===!0&&N($,P?P.concat(ee):[ee])}),y.pop()}}if(!Fe.isObject(r))throw new TypeError("data must be an object");return N(r),e}function Wk(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function nw(r,e){this._pairs=[],r&&pm(r,this,e)}const Xx=nw.prototype;Xx.append=function(e,t){this._pairs.push([e,t])};Xx.toString=function(e){const t=e?function(n){return e.call(this,n,Wk)}:Wk;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function Yne(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Yx(r,e,t){if(!e)return r;const n=t&&t.encode||Yne;Fe.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let a;if(i?a=i(e,t):a=Fe.isURLSearchParams(e)?e.toString():new nw(e,t).toString(n),a){const o=r.indexOf("#");o!==-1&&(r=r.slice(0,o)),r+=(r.indexOf("?")===-1?"?":"&")+a}return r}class Gk{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Fe.forEach(this.handlers,function(n){n!==null&&e(n)})}}const Zx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Zne=typeof URLSearchParams<"u"?URLSearchParams:nw,eie=typeof FormData<"u"?FormData:null,tie=typeof Blob<"u"?Blob:null,rie={isBrowser:!0,classes:{URLSearchParams:Zne,FormData:eie,Blob:tie},protocols:["http","https","file","blob","url","data"]},iw=typeof window<"u"&&typeof document<"u",i0=typeof navigator=="object"&&navigator||void 0,nie=iw&&(!i0||["ReactNative","NativeScript","NS"].indexOf(i0.product)<0),iie=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",aie=iw&&window.location.href||"http://localhost",oie=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:iw,hasStandardBrowserEnv:nie,hasStandardBrowserWebWorkerEnv:iie,navigator:i0,origin:aie},Symbol.toStringTag,{value:"Module"})),vi={...oie,...rie};function sie(r,e){return pm(r,new vi.classes.URLSearchParams,Object.assign({visitor:function(t,n,i,a){return vi.isNode&&Fe.isBuffer(t)?(this.append(n,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function lie(r){return Fe.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function uie(r){const e={},t=Object.keys(r);let n;const i=t.length;let a;for(n=0;n<i;n++)a=t[n],e[a]=r[a];return e}function eT(r){function e(t,n,i,a){let o=t[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=a>=t.length;return o=!o&&Fe.isArray(i)?i.length:o,c?(Fe.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!l):((!i[o]||!Fe.isObject(i[o]))&&(i[o]=[]),e(t,n,i[o],a)&&Fe.isArray(i[o])&&(i[o]=uie(i[o])),!l)}if(Fe.isFormData(r)&&Fe.isFunction(r.entries)){const t={};return Fe.forEachEntry(r,(n,i)=>{e(lie(n),i,t,0)}),t}return null}function cie(r,e,t){if(Fe.isString(r))try{return(e||JSON.parse)(r),Fe.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(r)}const mh={transitional:Zx,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",i=n.indexOf("application/json")>-1,a=Fe.isObject(e);if(a&&Fe.isHTMLForm(e)&&(e=new FormData(e)),Fe.isFormData(e))return i?JSON.stringify(eT(e)):e;if(Fe.isArrayBuffer(e)||Fe.isBuffer(e)||Fe.isStream(e)||Fe.isFile(e)||Fe.isBlob(e)||Fe.isReadableStream(e))return e;if(Fe.isArrayBufferView(e))return e.buffer;if(Fe.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return sie(e,this.formSerializer).toString();if((l=Fe.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return pm(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),cie(e)):e}],transformResponse:[function(e){const t=this.transitional||mh.transitional,n=t&&t.forcedJSONParsing,i=this.responseType==="json";if(Fe.isResponse(e)||Fe.isReadableStream(e))return e;if(e&&Fe.isString(e)&&(n&&!this.responseType||i)){const o=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?nr.from(l,nr.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:vi.classes.FormData,Blob:vi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Fe.forEach(["delete","get","head","post","put","patch"],r=>{mh.headers[r]={}});const fie=Fe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),die=r=>{const e={};let t,n,i;return r&&r.split(`
`).forEach(function(o){i=o.indexOf(":"),t=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!t||e[t]&&fie[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},Jk=Symbol("internals");function _d(r){return r&&String(r).trim().toLowerCase()}function gv(r){return r===!1||r==null?r:Fe.isArray(r)?r.map(gv):String(r)}function hie(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(r);)e[n[1]]=n[2];return e}const pie=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function oy(r,e,t,n,i){if(Fe.isFunction(n))return n.call(this,e,t);if(i&&(e=t),!!Fe.isString(e)){if(Fe.isString(n))return e.indexOf(n)!==-1;if(Fe.isRegExp(n))return n.test(e)}}function vie(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function mie(r,e){const t=Fe.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(r,n+t,{value:function(i,a,o){return this[n].call(this,e,i,a,o)},configurable:!0})})}let Gi=class{constructor(e){e&&this.set(e)}set(e,t,n){const i=this;function a(l,c,f){const v=_d(c);if(!v)throw new Error("header name must be a non-empty string");const y=Fe.findKey(i,v);(!y||i[y]===void 0||f===!0||f===void 0&&i[y]!==!1)&&(i[y||c]=gv(l))}const o=(l,c)=>Fe.forEach(l,(f,v)=>a(f,v,c));if(Fe.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(Fe.isString(e)&&(e=e.trim())&&!pie(e))o(die(e),t);else if(Fe.isObject(e)&&Fe.isIterable(e)){let l={},c,f;for(const v of e){if(!Fe.isArray(v))throw TypeError("Object iterator must return a key-value pair");l[f=v[0]]=(c=l[f])?Fe.isArray(c)?[...c,v[1]]:[c,v[1]]:v[1]}o(l,t)}else e!=null&&a(t,e,n);return this}get(e,t){if(e=_d(e),e){const n=Fe.findKey(this,e);if(n){const i=this[n];if(!t)return i;if(t===!0)return hie(i);if(Fe.isFunction(t))return t.call(this,i,n);if(Fe.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=_d(e),e){const n=Fe.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||oy(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let i=!1;function a(o){if(o=_d(o),o){const l=Fe.findKey(n,o);l&&(!t||oy(n,n[l],l,t))&&(delete n[l],i=!0)}}return Fe.isArray(e)?e.forEach(a):a(e),i}clear(e){const t=Object.keys(this);let n=t.length,i=!1;for(;n--;){const a=t[n];(!e||oy(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const t=this,n={};return Fe.forEach(this,(i,a)=>{const o=Fe.findKey(n,a);if(o){t[o]=gv(i),delete t[a];return}const l=e?vie(a):String(a).trim();l!==a&&delete t[a],t[l]=gv(i),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Fe.forEach(this,(n,i)=>{n!=null&&n!==!1&&(t[i]=e&&Fe.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[Jk]=this[Jk]={accessors:{}}).accessors,i=this.prototype;function a(o){const l=_d(o);n[l]||(mie(i,o),n[l]=!0)}return Fe.isArray(e)?e.forEach(a):a(e),this}};Gi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Fe.reduceDescriptors(Gi.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(n){this[t]=n}}});Fe.freezeMethods(Gi);function sy(r,e){const t=this||mh,n=e||t,i=Gi.from(n.headers);let a=n.data;return Fe.forEach(r,function(l){a=l.call(t,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function tT(r){return!!(r&&r.__CANCEL__)}function bf(r,e,t){nr.call(this,r??"canceled",nr.ERR_CANCELED,e,t),this.name="CanceledError"}Fe.inherits(bf,nr,{__CANCEL__:!0});function rT(r,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?r(t):e(new nr("Request failed with status code "+t.status,[nr.ERR_BAD_REQUEST,nr.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function gie(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function yie(r,e){r=r||10;const t=new Array(r),n=new Array(r);let i=0,a=0,o;return e=e!==void 0?e:1e3,function(c){const f=Date.now(),v=n[a];o||(o=f),t[i]=c,n[i]=f;let y=a,T=0;for(;y!==i;)T+=t[y++],y=y%r;if(i=(i+1)%r,i===a&&(a=(a+1)%r),f-o<e)return;const N=v&&f-v;return N?Math.round(T*1e3/N):void 0}}function wie(r,e){let t=0,n=1e3/e,i,a;const o=(f,v=Date.now())=>{t=v,i=null,a&&(clearTimeout(a),a=null),r.apply(null,f)};return[(...f)=>{const v=Date.now(),y=v-t;y>=n?o(f,v):(i=f,a||(a=setTimeout(()=>{a=null,o(i)},n-y)))},()=>i&&o(i)]}const Av=(r,e,t=3)=>{let n=0;const i=yie(50,250);return wie(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,c=o-n,f=i(c),v=o<=l;n=o;const y={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:f||void 0,estimated:f&&l&&v?(l-o)/f:void 0,event:a,lengthComputable:l!=null,[e?"download":"upload"]:!0};r(y)},t)},Kk=(r,e)=>{const t=r!=null;return[n=>e[0]({lengthComputable:t,total:r,loaded:n}),e[1]]},Qk=r=>(...e)=>Fe.asap(()=>r(...e)),bie=vi.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,vi.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(vi.origin),vi.navigator&&/(msie|trident)/i.test(vi.navigator.userAgent)):()=>!0,kie=vi.hasStandardBrowserEnv?{write(r,e,t,n,i,a){const o=[r+"="+encodeURIComponent(e)];Fe.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),Fe.isString(n)&&o.push("path="+n),Fe.isString(i)&&o.push("domain="+i),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Cie(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function Sie(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function nT(r,e,t){let n=!Cie(e);return r&&(n||t==!1)?Sie(r,e):e}const Xk=r=>r instanceof Gi?{...r}:r;function wu(r,e){e=e||{};const t={};function n(f,v,y,T){return Fe.isPlainObject(f)&&Fe.isPlainObject(v)?Fe.merge.call({caseless:T},f,v):Fe.isPlainObject(v)?Fe.merge({},v):Fe.isArray(v)?v.slice():v}function i(f,v,y,T){if(Fe.isUndefined(v)){if(!Fe.isUndefined(f))return n(void 0,f,y,T)}else return n(f,v,y,T)}function a(f,v){if(!Fe.isUndefined(v))return n(void 0,v)}function o(f,v){if(Fe.isUndefined(v)){if(!Fe.isUndefined(f))return n(void 0,f)}else return n(void 0,v)}function l(f,v,y){if(y in e)return n(f,v);if(y in r)return n(void 0,f)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(f,v,y)=>i(Xk(f),Xk(v),y,!0)};return Fe.forEach(Object.keys(Object.assign({},r,e)),function(v){const y=c[v]||i,T=y(r[v],e[v],v);Fe.isUndefined(T)&&y!==l||(t[v]=T)}),t}const iT=r=>{const e=wu({},r);let{data:t,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:l}=e;e.headers=o=Gi.from(o),e.url=Yx(nT(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(Fe.isFormData(t)){if(vi.hasStandardBrowserEnv||vi.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[f,...v]=c?c.split(";").map(y=>y.trim()).filter(Boolean):[];o.setContentType([f||"multipart/form-data",...v].join("; "))}}if(vi.hasStandardBrowserEnv&&(n&&Fe.isFunction(n)&&(n=n(e)),n||n!==!1&&bie(e.url))){const f=i&&a&&kie.read(a);f&&o.set(i,f)}return e},xie=typeof XMLHttpRequest<"u",Tie=xie&&function(r){return new Promise(function(t,n){const i=iT(r);let a=i.data;const o=Gi.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:f}=i,v,y,T,N,E;function P(){N&&N(),E&&E(),i.cancelToken&&i.cancelToken.unsubscribe(v),i.signal&&i.signal.removeEventListener("abort",v)}let L=new XMLHttpRequest;L.open(i.method.toUpperCase(),i.url,!0),L.timeout=i.timeout;function $(){if(!L)return;const re=Gi.from("getAllResponseHeaders"in L&&L.getAllResponseHeaders()),ve={data:!l||l==="text"||l==="json"?L.responseText:L.response,status:L.status,statusText:L.statusText,headers:re,config:r,request:L};rT(function(ke){t(ke),P()},function(ke){n(ke),P()},ve),L=null}"onloadend"in L?L.onloadend=$:L.onreadystatechange=function(){!L||L.readyState!==4||L.status===0&&!(L.responseURL&&L.responseURL.indexOf("file:")===0)||setTimeout($)},L.onabort=function(){L&&(n(new nr("Request aborted",nr.ECONNABORTED,r,L)),L=null)},L.onerror=function(){n(new nr("Network Error",nr.ERR_NETWORK,r,L)),L=null},L.ontimeout=function(){let se=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const ve=i.transitional||Zx;i.timeoutErrorMessage&&(se=i.timeoutErrorMessage),n(new nr(se,ve.clarifyTimeoutError?nr.ETIMEDOUT:nr.ECONNABORTED,r,L)),L=null},a===void 0&&o.setContentType(null),"setRequestHeader"in L&&Fe.forEach(o.toJSON(),function(se,ve){L.setRequestHeader(ve,se)}),Fe.isUndefined(i.withCredentials)||(L.withCredentials=!!i.withCredentials),l&&l!=="json"&&(L.responseType=i.responseType),f&&([T,E]=Av(f,!0),L.addEventListener("progress",T)),c&&L.upload&&([y,N]=Av(c),L.upload.addEventListener("progress",y),L.upload.addEventListener("loadend",N)),(i.cancelToken||i.signal)&&(v=re=>{L&&(n(!re||re.type?new bf(null,r,L):re),L.abort(),L=null)},i.cancelToken&&i.cancelToken.subscribe(v),i.signal&&(i.signal.aborted?v():i.signal.addEventListener("abort",v)));const ee=gie(i.url);if(ee&&vi.protocols.indexOf(ee)===-1){n(new nr("Unsupported protocol "+ee+":",nr.ERR_BAD_REQUEST,r));return}L.send(a||null)})},Eie=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let n=new AbortController,i;const a=function(f){if(!i){i=!0,l();const v=f instanceof Error?f:this.reason;n.abort(v instanceof nr?v:new bf(v instanceof Error?v.message:v))}};let o=e&&setTimeout(()=>{o=null,a(new nr(`timeout ${e} of ms exceeded`,nr.ETIMEDOUT))},e);const l=()=>{r&&(o&&clearTimeout(o),o=null,r.forEach(f=>{f.unsubscribe?f.unsubscribe(a):f.removeEventListener("abort",a)}),r=null)};r.forEach(f=>f.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>Fe.asap(l),c}},Nie=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let n=0,i;for(;n<t;)i=n+e,yield r.slice(n,i),n=i},Mie=async function*(r,e){for await(const t of Oie(r))yield*Nie(t,e)},Oie=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},Yk=(r,e,t,n)=>{const i=Mie(r,e);let a=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:f,value:v}=await i.next();if(f){l(),c.close();return}let y=v.byteLength;if(t){let T=a+=y;t(T)}c.enqueue(new Uint8Array(v))}catch(f){throw l(f),f}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},vm=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",aT=vm&&typeof ReadableStream=="function",Die=vm&&(typeof TextEncoder=="function"?(r=>e=>r.encode(e))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),oT=(r,...e)=>{try{return!!r(...e)}catch{return!1}},Aie=aT&&oT(()=>{let r=!1;const e=new Request(vi.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!e}),Zk=64*1024,a0=aT&&oT(()=>Fe.isReadableStream(new Response("").body)),Lv={stream:a0&&(r=>r.body)};vm&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Lv[e]&&(Lv[e]=Fe.isFunction(r[e])?t=>t[e]():(t,n)=>{throw new nr(`Response type '${e}' is not supported`,nr.ERR_NOT_SUPPORT,n)})})})(new Response);const Lie=async r=>{if(r==null)return 0;if(Fe.isBlob(r))return r.size;if(Fe.isSpecCompliantForm(r))return(await new Request(vi.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(Fe.isArrayBufferView(r)||Fe.isArrayBuffer(r))return r.byteLength;if(Fe.isURLSearchParams(r)&&(r=r+""),Fe.isString(r))return(await Die(r)).byteLength},Rie=async(r,e)=>{const t=Fe.toFiniteNumber(r.getContentLength());return t??Lie(e)},Iie=vm&&(async r=>{let{url:e,method:t,data:n,signal:i,cancelToken:a,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:f,headers:v,withCredentials:y="same-origin",fetchOptions:T}=iT(r);f=f?(f+"").toLowerCase():"text";let N=Eie([i,a&&a.toAbortSignal()],o),E;const P=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let L;try{if(c&&Aie&&t!=="get"&&t!=="head"&&(L=await Rie(v,n))!==0){let ve=new Request(e,{method:"POST",body:n,duplex:"half"}),le;if(Fe.isFormData(n)&&(le=ve.headers.get("content-type"))&&v.setContentType(le),ve.body){const[ke,we]=Kk(L,Av(Qk(c)));n=Yk(ve.body,Zk,ke,we)}}Fe.isString(y)||(y=y?"include":"omit");const $="credentials"in Request.prototype;E=new Request(e,{...T,signal:N,method:t.toUpperCase(),headers:v.normalize().toJSON(),body:n,duplex:"half",credentials:$?y:void 0});let ee=await fetch(E,T);const re=a0&&(f==="stream"||f==="response");if(a0&&(l||re&&P)){const ve={};["status","statusText","headers"].forEach(Le=>{ve[Le]=ee[Le]});const le=Fe.toFiniteNumber(ee.headers.get("content-length")),[ke,we]=l&&Kk(le,Av(Qk(l),!0))||[];ee=new Response(Yk(ee.body,Zk,ke,()=>{we&&we(),P&&P()}),ve)}f=f||"text";let se=await Lv[Fe.findKey(Lv,f)||"text"](ee,r);return!re&&P&&P(),await new Promise((ve,le)=>{rT(ve,le,{data:se,headers:Gi.from(ee.headers),status:ee.status,statusText:ee.statusText,config:r,request:E})})}catch($){throw P&&P(),$&&$.name==="TypeError"&&/Load failed|fetch/i.test($.message)?Object.assign(new nr("Network Error",nr.ERR_NETWORK,r,E),{cause:$.cause||$}):nr.from($,$&&$.code,r,E)}}),o0={http:Kne,xhr:Tie,fetch:Iie};Fe.forEach(o0,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const e1=r=>`- ${r}`,Pie=r=>Fe.isFunction(r)||r===null||r===!1,sT={getAdapter:r=>{r=Fe.isArray(r)?r:[r];const{length:e}=r;let t,n;const i={};for(let a=0;a<e;a++){t=r[a];let o;if(n=t,!Pie(t)&&(n=o0[(o=String(t)).toLowerCase()],n===void 0))throw new nr(`Unknown adapter '${o}'`);if(n)break;i[o||"#"+a]=n}if(!n){const a=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?a.length>1?`since :
`+a.map(e1).join(`
`):" "+e1(a[0]):"as no adapter specified";throw new nr("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:o0};function ly(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new bf(null,r)}function t1(r){return ly(r),r.headers=Gi.from(r.headers),r.data=sy.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),sT.getAdapter(r.adapter||mh.adapter)(r).then(function(n){return ly(r),n.data=sy.call(r,r.transformResponse,n),n.headers=Gi.from(n.headers),n},function(n){return tT(n)||(ly(r),n&&n.response&&(n.response.data=sy.call(r,r.transformResponse,n.response),n.response.headers=Gi.from(n.response.headers))),Promise.reject(n)})}const lT="1.10.0",mm={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{mm[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});const r1={};mm.transitional=function(e,t,n){function i(a,o){return"[Axios v"+lT+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,l)=>{if(e===!1)throw new nr(i(o," has been removed"+(t?" in "+t:"")),nr.ERR_DEPRECATED);return t&&!r1[o]&&(r1[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(a,o,l):!0}};mm.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function Bie(r,e,t){if(typeof r!="object")throw new nr("options must be an object",nr.ERR_BAD_OPTION_VALUE);const n=Object.keys(r);let i=n.length;for(;i-- >0;){const a=n[i],o=e[a];if(o){const l=r[a],c=l===void 0||o(l,a,r);if(c!==!0)throw new nr("option "+a+" must be "+c,nr.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new nr("Unknown option "+a,nr.ERR_BAD_OPTION)}}const yv={assertOptions:Bie,validators:mm},Co=yv.validators;let hu=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Gk,response:new Gk}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=wu(this.defaults,t);const{transitional:n,paramsSerializer:i,headers:a}=t;n!==void 0&&yv.assertOptions(n,{silentJSONParsing:Co.transitional(Co.boolean),forcedJSONParsing:Co.transitional(Co.boolean),clarifyTimeoutError:Co.transitional(Co.boolean)},!1),i!=null&&(Fe.isFunction(i)?t.paramsSerializer={serialize:i}:yv.assertOptions(i,{encode:Co.function,serialize:Co.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),yv.assertOptions(t,{baseUrl:Co.spelling("baseURL"),withXsrfToken:Co.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=a&&Fe.merge(a.common,a[t.method]);a&&Fe.forEach(["delete","get","head","post","put","patch","common"],E=>{delete a[E]}),t.headers=Gi.concat(o,a);const l=[];let c=!0;this.interceptors.request.forEach(function(P){typeof P.runWhen=="function"&&P.runWhen(t)===!1||(c=c&&P.synchronous,l.unshift(P.fulfilled,P.rejected))});const f=[];this.interceptors.response.forEach(function(P){f.push(P.fulfilled,P.rejected)});let v,y=0,T;if(!c){const E=[t1.bind(this),void 0];for(E.unshift.apply(E,l),E.push.apply(E,f),T=E.length,v=Promise.resolve(t);y<T;)v=v.then(E[y++],E[y++]);return v}T=l.length;let N=t;for(y=0;y<T;){const E=l[y++],P=l[y++];try{N=E(N)}catch(L){P.call(this,L);break}}try{v=t1.call(this,N)}catch(E){return Promise.reject(E)}for(y=0,T=f.length;y<T;)v=v.then(f[y++],f[y++]);return v}getUri(e){e=wu(this.defaults,e);const t=nT(e.baseURL,e.url,e.allowAbsoluteUrls);return Yx(t,e.params,e.paramsSerializer)}};Fe.forEach(["delete","get","head","options"],function(e){hu.prototype[e]=function(t,n){return this.request(wu(n||{},{method:e,url:t,data:(n||{}).data}))}});Fe.forEach(["post","put","patch"],function(e){function t(n){return function(a,o,l){return this.request(wu(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}hu.prototype[e]=t(),hu.prototype[e+"Form"]=t(!0)});let _ie=class uT{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(l=>{n.subscribe(l),a=l}).then(i);return o.cancel=function(){n.unsubscribe(a)},o},e(function(a,o,l){n.reason||(n.reason=new bf(a,o,l),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new uT(function(i){e=i}),cancel:e}}};function Fie(r){return function(t){return r.apply(null,t)}}function qie(r){return Fe.isObject(r)&&r.isAxiosError===!0}const s0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(s0).forEach(([r,e])=>{s0[e]=r});function cT(r){const e=new hu(r),t=Hx(hu.prototype.request,e);return Fe.extend(t,hu.prototype,e,{allOwnKeys:!0}),Fe.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return cT(wu(r,i))},t}const xr=cT(mh);xr.Axios=hu;xr.CanceledError=bf;xr.CancelToken=_ie;xr.isCancel=tT;xr.VERSION=lT;xr.toFormData=pm;xr.AxiosError=nr;xr.Cancel=xr.CanceledError;xr.all=function(e){return Promise.all(e)};xr.spread=Fie;xr.isAxiosError=qie;xr.mergeConfig=wu;xr.AxiosHeaders=Gi;xr.formToJSON=r=>eT(Fe.isHTMLForm(r)?new FormData(r):r);xr.getAdapter=sT.getAdapter;xr.HttpStatusCode=s0;xr.default=xr;const{Axios:QQe,AxiosError:XQe,CanceledError:YQe,isCancel:ZQe,CancelToken:eXe,VERSION:tXe,all:rXe,Cancel:nXe,isAxiosError:iXe,spread:aXe,toFormData:oXe,AxiosHeaders:sXe,HttpStatusCode:lXe,formToJSON:uXe,getAdapter:cXe,mergeConfig:fXe}=xr,aw=()=>{const r=ol(t=>t?.userToken??""),e=vs();it.useEffect(()=>{(async()=>{try{let n=await xr.post("https://hono-memo-academy.vercel.app/api/auth/validate",{token:r});n=n?.data,console.log("## useValidateToken :",n),n.success||e("/login")}catch(n){console.error(" ",n),alert(` ${n?.message??""}`),e("/")}})()},[r,e])},Hie=()=>{aw();const r=ol(v=>v?.userToken??"");ol(v=>v.userData);const e=vs(),[t,n]=it.useState(""),[i,a]=it.useState(""),[o,l]=it.useState([]);it.useEffect(()=>{(async()=>{await xr.get("https://hono-memo-academy.vercel.app/api/memo/list",{headers:{Authorization:`Bearer ${r}`}}).then(y=>{console.log("## res:",y),l(y?.data?.data??[]),console.log("## todos:",o)}).catch(y=>{console.error("   :",y)})})()},[]);const c=async v=>{try{const y=await xr.post("https://hono-memo-academy.vercel.app/api/memo/delete",{idp:v});if(y?.data?.success){const T=o.filter(N=>N.idp!==v);l(T)}else alert(` : ${y.data.message}`)}catch(y){console.error("   :",y),alert("   .")}},f=v=>{e(`/memo_editorv3?idp=${v}`)};return Xe.jsxs("div",{className:"max-w-2xl mx-auto mt-10 p-6 bg-white rounded shadow",children:[Xe.jsx("h2",{className:"text-2xl font-bold mb-6",children:" Todo List !"}),Xe.jsx("ul",{className:"space-y-4",children:o.map((v,y)=>Xe.jsxs("li",{className:"border-b pb-2",children:[Xe.jsx("div",{className:"font-semibold text-lg text-blue-600 hover:underline cursor-pointer block w-full py-1",onClick:()=>e(`/memo_detail?idp=${v?.idp??0}`),children:v.title}),Xe.jsx("div",{className:"text-gray-600",dangerouslySetInnerHTML:{__html:v.content.length>20?`${v.content.substring(0,20)}...`:v.content}}),Xe.jsx("div",{className:"text-sm text-gray-400",children:v.createdDt}),Xe.jsxs("div",{className:"mt-2 flex gap-3",children:[Xe.jsx("button",{onClick:()=>f(v?.idp),className:"text-blue-600 hover:underline",children:"update"}),Xe.jsx("button",{onClick:()=>c(v?.idp),className:"text-red-600 hover:underline",children:"delete"})]})]},y))})]})},zie=()=>{const r=vs(),e=Lu(),[t,n]=it.useState(""),[i,a]=it.useState(""),[o,l]=it.useState(0);it.useEffect(()=>{(async()=>{try{const v=new URLSearchParams(e?.search),y=Number(v.get("idp")??0);l(y);let T=await xr.get(`https://hono-memo-academy.vercel.app/api/memo/get_memo_by_idp?idp=${y}`);T=T?.data,console.log("## res:",T),T?.success||alert(` . ${T?.message}`),T=T?.data,n(T?.title??""),a(T?.content??"")}catch(v){console.error("   :",v),alert(`   ${v?.message??""}`)}})()},[]);const c=async()=>{if(!t?.trim()||!i?.trim()){alert("  ");return}try{const f=await xr.post("https://hono-memo-academy.vercel.app/api/memo/upsert",{idp:o,title:t,content:i});alert(" "),r("/todo_list")}catch(f){console.error("!!! /api/memo/upsert error: ",f?.message),alert(`  . ${f?.message??""}`)}};return Xe.jsxs("div",{className:"max-w-2xl mx-auto mt-10 p-6 bg-white shadow-xl rounded-xl",children:[Xe.jsx("div",{children:o}),Xe.jsx("div",{className:"text-2xl font-bold mb-6 text-center",children:" "}),Xe.jsx("input",{className:"w-full p-3 mb-4 border-b-2 border-gray-300 outline-none text-xl font-semibold placeholder-gray-400",type:"text",placeholder:" ",value:t,onChange:f=>n(f?.target?.value??"")}),Xe.jsx("textarea",{className:"w-full h-80 p-4 resize-none border border-gray-300 outline-none placeholder-gray-500 text-base font-light leading-relaxed bg-[url('data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%22100%25%22 height=%22100%25%22><line x1=%220%22 y1=%2218%22 x2=%221000%22 y2=%2218%22 stroke=%22%23e5e7eb%22 stroke-width=%221%22/></svg>')] bg-[length:100%_2.25rem] bg-repeat-y",placeholder:" ",value:i,onChange:f=>a(f?.target?.value??"")}),Xe.jsx("div",{className:"text-right mt-6",children:Xe.jsx("button",{className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-xl shadow",onClick:c,children:""})})]})};function Jn(r){this.content=r}Jn.prototype={constructor:Jn,find:function(r){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===r)return e;return-1},get:function(r){var e=this.find(r);return e==-1?void 0:this.content[e+1]},update:function(r,e,t){var n=t&&t!=r?this.remove(t):this,i=n.find(r),a=n.content.slice();return i==-1?a.push(t||r,e):(a[i+1]=e,t&&(a[i]=t)),new Jn(a)},remove:function(r){var e=this.find(r);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new Jn(t)},addToStart:function(r,e){return new Jn([r,e].concat(this.remove(r).content))},addToEnd:function(r,e){var t=this.remove(r).content.slice();return t.push(r,e),new Jn(t)},addBefore:function(r,e,t){var n=this.remove(e),i=n.content.slice(),a=n.find(r);return i.splice(a==-1?i.length:a,0,e,t),new Jn(i)},forEach:function(r){for(var e=0;e<this.content.length;e+=2)r(this.content[e],this.content[e+1])},prepend:function(r){return r=Jn.from(r),r.size?new Jn(r.content.concat(this.subtract(r).content)):this},append:function(r){return r=Jn.from(r),r.size?new Jn(this.subtract(r).content.concat(r.content)):this},subtract:function(r){var e=this;r=Jn.from(r);for(var t=0;t<r.content.length;t+=2)e=e.remove(r.content[t]);return e},toObject:function(){var r={};return this.forEach(function(e,t){r[e]=t}),r},get size(){return this.content.length>>1}};Jn.from=function(r){if(r instanceof Jn)return r;var e=[];if(r)for(var t in r)e.push(t,r[t]);return new Jn(e)};function fT(r,e,t){for(let n=0;;n++){if(n==r.childCount||n==e.childCount)return r.childCount==e.childCount?null:t;let i=r.child(n),a=e.child(n);if(i==a){t+=i.nodeSize;continue}if(!i.sameMarkup(a))return t;if(i.isText&&i.text!=a.text){for(let o=0;i.text[o]==a.text[o];o++)t++;return t}if(i.content.size||a.content.size){let o=fT(i.content,a.content,t+1);if(o!=null)return o}t+=i.nodeSize}}function dT(r,e,t,n){for(let i=r.childCount,a=e.childCount;;){if(i==0||a==0)return i==a?null:{a:t,b:n};let o=r.child(--i),l=e.child(--a),c=o.nodeSize;if(o==l){t-=c,n-=c;continue}if(!o.sameMarkup(l))return{a:t,b:n};if(o.isText&&o.text!=l.text){let f=0,v=Math.min(o.text.length,l.text.length);for(;f<v&&o.text[o.text.length-f-1]==l.text[l.text.length-f-1];)f++,t--,n--;return{a:t,b:n}}if(o.content.size||l.content.size){let f=dT(o.content,l.content,t-1,n-1);if(f)return f}t-=c,n-=c}}class nt{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,t,n,i=0,a){for(let o=0,l=0;l<t;o++){let c=this.content[o],f=l+c.nodeSize;if(f>e&&n(c,i+l,a||null,o)!==!1&&c.content.size){let v=l+1;c.nodesBetween(Math.max(0,e-v),Math.min(c.content.size,t-v),n,i+v)}l=f}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,n,i){let a="",o=!0;return this.nodesBetween(e,t,(l,c)=>{let f=l.isText?l.text.slice(Math.max(e,c)-c,t-c):l.isLeaf?i?typeof i=="function"?i(l):i:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&f||l.isTextblock)&&n&&(o?o=!1:a+=n),a+=f},0),a}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,i=this.content.slice(),a=0;for(t.isText&&t.sameMarkup(n)&&(i[i.length-1]=t.withText(t.text+n.text),a=1);a<e.content.length;a++)i.push(e.content[a]);return new nt(i,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let n=[],i=0;if(t>e)for(let a=0,o=0;o<t;a++){let l=this.content[a],c=o+l.nodeSize;c>e&&((o<e||c>t)&&(l.isText?l=l.cut(Math.max(0,e-o),Math.min(l.text.length,t-o)):l=l.cut(Math.max(0,e-o-1),Math.min(l.content.size,t-o-1))),n.push(l),i+=l.nodeSize),o=c}return new nt(n,i)}cutByIndex(e,t){return e==t?nt.empty:e==0&&t==this.content.length?this:new nt(this.content.slice(e,t))}replaceChild(e,t){let n=this.content[e];if(n==t)return this;let i=this.content.slice(),a=this.size+t.nodeSize-n.nodeSize;return i[e]=t,new nt(i,a)}addToStart(e){return new nt([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new nt(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,n=0;t<this.content.length;t++){let i=this.content[t];e(i,n,t),n+=i.nodeSize}}findDiffStart(e,t=0){return fT(this,e,t)}findDiffEnd(e,t=this.size,n=e.size){return dT(this,e,t,n)}findIndex(e,t=-1){if(e==0)return tv(0,e);if(e==this.size)return tv(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,i=0;;n++){let a=this.child(n),o=i+a.nodeSize;if(o>=e)return o==e||t>0?tv(n+1,o):tv(n,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return nt.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new nt(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return nt.empty;let t,n=0;for(let i=0;i<e.length;i++){let a=e[i];n+=a.nodeSize,i&&a.isText&&e[i-1].sameMarkup(a)?(t||(t=e.slice(0,i)),t[t.length-1]=a.withText(t[t.length-1].text+a.text)):t&&t.push(a)}return new nt(t||e,n)}static from(e){if(!e)return nt.empty;if(e instanceof nt)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new nt([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}nt.empty=new nt([],0);const uy={index:0,offset:0};function tv(r,e){return uy.index=r,uy.offset=e,uy}function Rv(r,e){if(r===e)return!0;if(!(r&&typeof r=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(r);if(Array.isArray(e)!=t)return!1;if(t){if(r.length!=e.length)return!1;for(let n=0;n<r.length;n++)if(!Rv(r[n],e[n]))return!1}else{for(let n in r)if(!(n in e)||!Rv(r[n],e[n]))return!1;for(let n in e)if(!(n in r))return!1}return!0}let Mr=class l0{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,n=!1;for(let i=0;i<e.length;i++){let a=e[i];if(this.eq(a))return e;if(this.type.excludes(a.type))t||(t=e.slice(0,i));else{if(a.type.excludes(this.type))return e;!n&&a.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),n=!0),t&&t.push(a)}}return t||(t=e.slice()),n||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Rv(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[t.type];if(!n)throw new RangeError(`There is no mark type ${t.type} in this schema`);let i=n.create(t.attrs);return n.checkAttrs(i.attrs),i}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return l0.none;if(e instanceof l0)return[e];let t=e.slice();return t.sort((n,i)=>n.type.rank-i.type.rank),t}};Mr.none=[];class Iv extends Error{}class gt{constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let n=pT(this.content,e+this.openStart,t);return n&&new gt(n,this.openStart,this.openEnd)}removeBetween(e,t){return new gt(hT(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return gt.empty;let n=t.openStart||0,i=t.openEnd||0;if(typeof n!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new gt(nt.fromJSON(e,t.content),n,i)}static maxOpen(e,t=!0){let n=0,i=0;for(let a=e.firstChild;a&&!a.isLeaf&&(t||!a.type.spec.isolating);a=a.firstChild)n++;for(let a=e.lastChild;a&&!a.isLeaf&&(t||!a.type.spec.isolating);a=a.lastChild)i++;return new gt(e,n,i)}}gt.empty=new gt(nt.empty,0,0);function hT(r,e,t){let{index:n,offset:i}=r.findIndex(e),a=r.maybeChild(n),{index:o,offset:l}=r.findIndex(t);if(i==e||a.isText){if(l!=t&&!r.child(o).isText)throw new RangeError("Removing non-flat range");return r.cut(0,e).append(r.cut(t))}if(n!=o)throw new RangeError("Removing non-flat range");return r.replaceChild(n,a.copy(hT(a.content,e-i-1,t-i-1)))}function pT(r,e,t,n){let{index:i,offset:a}=r.findIndex(e),o=r.maybeChild(i);if(a==e||o.isText)return r.cut(0,e).append(t).append(r.cut(e));let l=pT(o.content,e-a-1,t);return l&&r.replaceChild(i,o.copy(l))}function $ie(r,e,t){if(t.openStart>r.depth)throw new Iv("Inserted content deeper than insertion position");if(r.depth-t.openStart!=e.depth-t.openEnd)throw new Iv("Inconsistent open depths");return vT(r,e,t,0)}function vT(r,e,t,n){let i=r.index(n),a=r.node(n);if(i==e.index(n)&&n<r.depth-t.openStart){let o=vT(r,e,t,n+1);return a.copy(a.content.replaceChild(i,o))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&r.depth==n&&e.depth==n){let o=r.parent,l=o.content;return vu(o,l.cut(0,r.parentOffset).append(t.content).append(l.cut(e.parentOffset)))}else{let{start:o,end:l}=Vie(t,r);return vu(a,gT(r,o,l,e,n))}else return vu(a,Pv(r,e,n))}function mT(r,e){if(!e.type.compatibleContent(r.type))throw new Iv("Cannot join "+e.type.name+" onto "+r.type.name)}function u0(r,e,t){let n=r.node(t);return mT(n,e.node(t)),n}function pu(r,e){let t=e.length-1;t>=0&&r.isText&&r.sameMarkup(e[t])?e[t]=r.withText(e[t].text+r.text):e.push(r)}function Kd(r,e,t,n){let i=(e||r).node(t),a=0,o=e?e.index(t):i.childCount;r&&(a=r.index(t),r.depth>t?a++:r.textOffset&&(pu(r.nodeAfter,n),a++));for(let l=a;l<o;l++)pu(i.child(l),n);e&&e.depth==t&&e.textOffset&&pu(e.nodeBefore,n)}function vu(r,e){return r.type.checkContent(e),r.copy(e)}function gT(r,e,t,n,i){let a=r.depth>i&&u0(r,e,i+1),o=n.depth>i&&u0(t,n,i+1),l=[];return Kd(null,r,i,l),a&&o&&e.index(i)==t.index(i)?(mT(a,o),pu(vu(a,gT(r,e,t,n,i+1)),l)):(a&&pu(vu(a,Pv(r,e,i+1)),l),Kd(e,t,i,l),o&&pu(vu(o,Pv(t,n,i+1)),l)),Kd(n,null,i,l),new nt(l)}function Pv(r,e,t){let n=[];if(Kd(null,r,t,n),r.depth>t){let i=u0(r,e,t+1);pu(vu(i,Pv(r,e,t+1)),n)}return Kd(e,null,t,n),new nt(n)}function Vie(r,e){let t=e.depth-r.openStart,i=e.node(t).copy(r.content);for(let a=t-1;a>=0;a--)i=e.node(a).copy(nt.from(i));return{start:i.resolveNoCache(r.openStart+t),end:i.resolveNoCache(i.content.size-r.openEnd-t)}}class ih{constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],i=e.child(t);return n?e.child(t).cut(n):i}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let n=this.path[t*3],i=t==0?0:this.path[t*3-1]+1;for(let a=0;a<e;a++)i+=n.child(a).nodeSize;return i}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return Mr.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),i=e.maybeChild(t);if(!n){let l=n;n=i,i=l}let a=n.marks;for(var o=0;o<a.length;o++)a[o].type.spec.inclusive===!1&&(!i||!a[o].isInSet(i.marks))&&(a=a[o--].removeFromSet(a));return a}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,i=e.parent.maybeChild(e.index());for(var a=0;a<n.length;a++)n[a].type.spec.inclusive===!1&&(!i||!n[a].isInSet(i.marks))&&(n=n[a--].removeFromSet(n));return n}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new Bv(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let n=[],i=0,a=t;for(let o=e;;){let{index:l,offset:c}=o.content.findIndex(a),f=a-c;if(n.push(o,l,i+c),!f||(o=o.child(l),o.isText))break;a=f-1,i+=c+1}return new ih(t,n,a)}static resolveCached(e,t){let n=n1.get(e);if(n)for(let a=0;a<n.elts.length;a++){let o=n.elts[a];if(o.pos==t)return o}else n1.set(e,n=new Uie);let i=n.elts[n.i]=ih.resolve(e,t);return n.i=(n.i+1)%jie,i}}class Uie{constructor(){this.elts=[],this.i=0}}const jie=12,n1=new WeakMap;class Bv{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Wie=Object.create(null);let Zs=class c0{constructor(e,t,n,i=Mr.none){this.type=e,this.attrs=t,this.marks=i,this.content=n||nt.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n,i=0){this.content.nodesBetween(e,t,n,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,i){return this.content.textBetween(e,t,n,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&Rv(this.attrs,t||e.defaultAttrs||Wie)&&Mr.sameSet(this.marks,n||Mr.none)}copy(e=null){return e==this.content?this:new c0(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new c0(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,n=!1){if(e==t)return gt.empty;let i=this.resolve(e),a=this.resolve(t),o=n?0:i.sharedDepth(t),l=i.start(o),f=i.node(o).content.cut(i.pos-l,a.pos-l);return new gt(f,i.depth-o,a.depth-o)}replace(e,t,n){return $ie(this.resolve(e),this.resolve(t),n)}nodeAt(e){for(let t=this;;){let{index:n,offset:i}=t.content.findIndex(e);if(t=t.maybeChild(n),!t)return null;if(i==e||t.isText)return t;e-=i+1}}childAfter(e){let{index:t,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(t),index:t,offset:n};let i=this.content.child(t-1);return{node:i,index:t-1,offset:n-i.nodeSize}}resolve(e){return ih.resolveCached(this,e)}resolveNoCache(e){return ih.resolve(this,e)}rangeHasMark(e,t,n){let i=!1;return t>e&&this.nodesBetween(e,t,a=>(n.isInSet(a.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),yT(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,n=nt.empty,i=0,a=n.childCount){let o=this.contentMatchAt(e).matchFragment(n,i,a),l=o&&o.matchFragment(this.content,t);if(!l||!l.validEnd)return!1;for(let c=i;c<a;c++)if(!this.type.allowsMarks(n.child(c).marks))return!1;return!0}canReplaceWith(e,t,n,i){if(i&&!this.type.allowsMarks(i))return!1;let a=this.contentMatchAt(e).matchType(n),o=a&&a.matchFragment(this.content,t);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Mr.none;for(let t=0;t<this.marks.length;t++){let n=this.marks[t];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!Mr.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let n;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}let i=nt.fromJSON(e,t.content),a=e.nodeType(t.type).create(t.attrs,i,n);return a.type.checkAttrs(a.attrs),a}};Zs.prototype.text=void 0;class _v extends Zs{constructor(e,t,n,i){if(super(e,t,null,i),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):yT(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new _v(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new _v(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function yT(r,e){for(let t=r.length-1;t>=0;t--)e=r[t].type.name+"("+e+")";return e}class bu{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let n=new Gie(e,t);if(n.next==null)return bu.empty;let i=wT(n);n.next&&n.err("Unexpected trailing text");let a=eae(Zie(i));return tae(a,n),a}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,n=e.childCount){let i=this;for(let a=t;i&&a<n;a++)i=i.matchType(e.child(a).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}fillBefore(e,t=!1,n=0){let i=[this];function a(o,l){let c=o.matchFragment(e,n);if(c&&(!t||c.validEnd))return nt.from(l.map(f=>f.createAndFill()));for(let f=0;f<o.next.length;f++){let{type:v,next:y}=o.next[f];if(!(v.isText||v.hasRequiredAttrs())&&i.indexOf(y)==-1){i.push(y);let T=a(y,l.concat(v));if(T)return T}}return null}return a(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let i=n.shift(),a=i.match;if(a.matchType(e)){let o=[];for(let l=i;l.type;l=l.via)o.push(l.type);return o.reverse()}for(let o=0;o<a.next.length;o++){let{type:l,next:c}=a.next[o];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in t)&&(!i.type||c.validEnd)&&(n.push({match:l.contentMatch,type:l,via:i}),t[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(n){e.push(n);for(let i=0;i<n.next.length;i++)e.indexOf(n.next[i].next)==-1&&t(n.next[i].next)}return t(this),e.map((n,i)=>{let a=i+(n.validEnd?"*":" ")+" ";for(let o=0;o<n.next.length;o++)a+=(o?", ":"")+n.next[o].type.name+"->"+e.indexOf(n.next[o].next);return a}).join(`
`)}}bu.empty=new bu(!0);class Gie{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function wT(r){let e=[];do e.push(Jie(r));while(r.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Jie(r){let e=[];do e.push(Kie(r));while(r.next&&r.next!=")"&&r.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Kie(r){let e=Yie(r);for(;;)if(r.eat("+"))e={type:"plus",expr:e};else if(r.eat("*"))e={type:"star",expr:e};else if(r.eat("?"))e={type:"opt",expr:e};else if(r.eat("{"))e=Qie(r,e);else break;return e}function i1(r){/\D/.test(r.next)&&r.err("Expected number, got '"+r.next+"'");let e=Number(r.next);return r.pos++,e}function Qie(r,e){let t=i1(r),n=t;return r.eat(",")&&(r.next!="}"?n=i1(r):n=-1),r.eat("}")||r.err("Unclosed braced range"),{type:"range",min:t,max:n,expr:e}}function Xie(r,e){let t=r.nodeTypes,n=t[e];if(n)return[n];let i=[];for(let a in t){let o=t[a];o.isInGroup(e)&&i.push(o)}return i.length==0&&r.err("No node type or group '"+e+"' found"),i}function Yie(r){if(r.eat("(")){let e=wT(r);return r.eat(")")||r.err("Missing closing paren"),e}else if(/\W/.test(r.next))r.err("Unexpected token '"+r.next+"'");else{let e=Xie(r,r.next).map(t=>(r.inline==null?r.inline=t.isInline:r.inline!=t.isInline&&r.err("Mixing inline and block content"),{type:"name",value:t}));return r.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function Zie(r){let e=[[]];return i(a(r,0),t()),e;function t(){return e.push([])-1}function n(o,l,c){let f={term:c,to:l};return e[o].push(f),f}function i(o,l){o.forEach(c=>c.to=l)}function a(o,l){if(o.type=="choice")return o.exprs.reduce((c,f)=>c.concat(a(f,l)),[]);if(o.type=="seq")for(let c=0;;c++){let f=a(o.exprs[c],l);if(c==o.exprs.length-1)return f;i(f,l=t())}else if(o.type=="star"){let c=t();return n(l,c),i(a(o.expr,c),c),[n(c)]}else if(o.type=="plus"){let c=t();return i(a(o.expr,l),c),i(a(o.expr,c),c),[n(c)]}else{if(o.type=="opt")return[n(l)].concat(a(o.expr,l));if(o.type=="range"){let c=l;for(let f=0;f<o.min;f++){let v=t();i(a(o.expr,c),v),c=v}if(o.max==-1)i(a(o.expr,c),c);else for(let f=o.min;f<o.max;f++){let v=t();n(c,v),i(a(o.expr,c),v),c=v}return[n(c)]}else{if(o.type=="name")return[n(l,void 0,o.value)];throw new Error("Unknown expr type")}}}}function bT(r,e){return e-r}function a1(r,e){let t=[];return n(e),t.sort(bT);function n(i){let a=r[i];if(a.length==1&&!a[0].term)return n(a[0].to);t.push(i);for(let o=0;o<a.length;o++){let{term:l,to:c}=a[o];!l&&t.indexOf(c)==-1&&n(c)}}}function eae(r){let e=Object.create(null);return t(a1(r,0));function t(n){let i=[];n.forEach(o=>{r[o].forEach(({term:l,to:c})=>{if(!l)return;let f;for(let v=0;v<i.length;v++)i[v][0]==l&&(f=i[v][1]);a1(r,c).forEach(v=>{f||i.push([l,f=[]]),f.indexOf(v)==-1&&f.push(v)})})});let a=e[n.join(",")]=new bu(n.indexOf(r.length-1)>-1);for(let o=0;o<i.length;o++){let l=i[o][1].sort(bT);a.next.push({type:i[o][0],next:e[l.join(",")]||t(l)})}return a}}function tae(r,e){for(let t=0,n=[r];t<n.length;t++){let i=n[t],a=!i.validEnd,o=[];for(let l=0;l<i.next.length;l++){let{type:c,next:f}=i.next[l];o.push(c.name),a&&!(c.isText||c.hasRequiredAttrs())&&(a=!1),n.indexOf(f)==-1&&n.push(f)}a&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function kT(r){let e=Object.create(null);for(let t in r){let n=r[t];if(!n.hasDefault)return null;e[t]=n.default}return e}function CT(r,e){let t=Object.create(null);for(let n in r){let i=e&&e[n];if(i===void 0){let a=r[n];if(a.hasDefault)i=a.default;else throw new RangeError("No value supplied for attribute "+n)}t[n]=i}return t}function ST(r,e,t,n){for(let i in e)if(!(i in r))throw new RangeError(`Unsupported attribute ${i} for ${t} of type ${i}`);for(let i in r){let a=r[i];a.validate&&a.validate(e[i])}}function xT(r,e){let t=Object.create(null);if(e)for(let n in e)t[n]=new nae(r,n,e[n]);return t}let o1=class TT{constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=xT(e,n.attrs),this.defaultAttrs=kT(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==bu.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:CT(this.attrs,e)}create(e=null,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Zs(this,this.computeAttrs(e),nt.from(t),Mr.setFrom(n))}createChecked(e=null,t,n){return t=nt.from(t),this.checkContent(t),new Zs(this,this.computeAttrs(e),t,Mr.setFrom(n))}createAndFill(e=null,t,n){if(e=this.computeAttrs(e),t=nt.from(t),t.size){let o=this.contentMatch.fillBefore(t);if(!o)return null;t=o.append(t)}let i=this.contentMatch.matchFragment(t),a=i&&i.fillBefore(nt.empty,!0);return a?new Zs(this,e,t.append(a),Mr.setFrom(n)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){ST(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:Mr.none:e}static compile(e,t){let n=Object.create(null);e.forEach((a,o)=>n[a]=new TT(a,t,o));let i=t.spec.topNode||"doc";if(!n[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let a in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function rae(r,e,t){let n=t.split("|");return i=>{let a=i===null?"null":typeof i;if(n.indexOf(a)<0)throw new RangeError(`Expected value of type ${n} for attribute ${e} on type ${r}, got ${a}`)}}class nae{constructor(e,t,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?rae(e,t,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class gm{constructor(e,t,n,i){this.name=e,this.rank=t,this.schema=n,this.spec=i,this.attrs=xT(e,i.attrs),this.excluded=null;let a=kT(this.attrs);this.instance=a?new Mr(this,a):null}create(e=null){return!e&&this.instance?this.instance:new Mr(this,CT(this.attrs,e))}static compile(e,t){let n=Object.create(null),i=0;return e.forEach((a,o)=>n[a]=new gm(a,i++,t,o)),n}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){ST(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class ET{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let i in e)t[i]=e[i];t.nodes=Jn.from(e.nodes),t.marks=Jn.from(e.marks||{}),this.nodes=o1.compile(this.spec.nodes,this),this.marks=gm.compile(this.spec.marks,this);let n=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let a=this.nodes[i],o=a.spec.content||"",l=a.spec.marks;if(a.contentMatch=n[o]||(n[o]=bu.parse(o,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!a.isInline||!a.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=a}a.markSet=l=="_"?null:l?s1(this,l.split(" ")):l==""||!a.inlineContent?[]:null}for(let i in this.marks){let a=this.marks[i],o=a.spec.excludes;a.excluded=o==null?[a]:o==""?[]:s1(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,n,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof o1){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,n,i)}text(e,t){let n=this.nodes.text;return new _v(n,n.defaultAttrs,e,Mr.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return Zs.fromJSON(this,e)}markFromJSON(e){return Mr.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function s1(r,e){let t=[];for(let n=0;n<e.length;n++){let i=e[n],a=r.marks[i],o=a;if(a)t.push(a);else for(let l in r.marks){let c=r.marks[l];(i=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(i)>-1)&&t.push(o=c)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return t}function iae(r){return r.tag!=null}function aae(r){return r.style!=null}class ku{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let n=this.matchedStyles=[];t.forEach(i=>{if(iae(i))this.tags.push(i);else if(aae(i)){let a=/[^=]*/.exec(i.style)[0];n.indexOf(a)<0&&n.push(a),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let a=e.nodes[i.node];return a.contentMatch.matchType(a)})}parse(e,t={}){let n=new u1(this,t,!1);return n.addAll(e,Mr.none,t.from,t.to),n.finish()}parseSlice(e,t={}){let n=new u1(this,t,!0);return n.addAll(e,Mr.none,t.from,t.to),gt.maxOpen(n.finish())}matchTag(e,t,n){for(let i=n?this.tags.indexOf(n)+1:0;i<this.tags.length;i++){let a=this.tags[i];if(lae(e,a.tag)&&(a.namespace===void 0||e.namespaceURI==a.namespace)&&(!a.context||t.matchesContext(a.context))){if(a.getAttrs){let o=a.getAttrs(e);if(o===!1)continue;a.attrs=o||void 0}return a}}}matchStyle(e,t,n,i){for(let a=i?this.styles.indexOf(i)+1:0;a<this.styles.length;a++){let o=this.styles[a],l=o.style;if(!(l.indexOf(e)!=0||o.context&&!n.matchesContext(o.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=t))){if(o.getAttrs){let c=o.getAttrs(t);if(c===!1)continue;o.attrs=c||void 0}return o}}}static schemaRules(e){let t=[];function n(i){let a=i.priority==null?50:i.priority,o=0;for(;o<t.length;o++){let l=t[o];if((l.priority==null?50:l.priority)<a)break}t.splice(o,0,i)}for(let i in e.marks){let a=e.marks[i].spec.parseDOM;a&&a.forEach(o=>{n(o=c1(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let a=e.nodes[i].spec.parseDOM;a&&a.forEach(o=>{n(o=c1(o)),o.node||o.ignore||o.mark||(o.node=i)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new ku(e,ku.schemaRules(e)))}}const NT={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},oae={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},MT={ol:!0,ul:!0},ah=1,f0=2,Qd=4;function l1(r,e,t){return e!=null?(e?ah:0)|(e==="full"?f0:0):r&&r.whitespace=="pre"?ah|f0:t&~Qd}class rv{constructor(e,t,n,i,a,o){this.type=e,this.attrs=t,this.marks=n,this.solid=i,this.options=o,this.content=[],this.activeMarks=Mr.none,this.match=a||(o&Qd?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(nt.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let n=this.type.contentMatch,i;return(i=n.findWrapping(e.type))?(this.match=n,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&ah)){let n=this.content[this.content.length-1],i;if(n&&n.isText&&(i=/[ \t\r\n\u000c]+$/.exec(n.text))){let a=n;n.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=a.withText(a.text.slice(0,a.text.length-i[0].length))}}let t=nt.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(nt.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!NT.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class u1{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let i=t.topNode,a,o=l1(null,t.preserveWhitespace,0)|(n?Qd:0);i?a=new rv(i.type,i.attrs,Mr.none,!0,t.topMatch||i.type.contentMatch,o):n?a=new rv(null,null,Mr.none,!0,null,o):a=new rv(e.schema.topNodeType,null,Mr.none,!0,null,o),this.nodes=[a],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let n=e.nodeValue,i=this.top,a=i.options&f0?"full":this.localPreserveWS||(i.options&ah)>0;if(a==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(a)a!=="full"?n=n.replace(/\r?\n|\r/g," "):n=n.replace(/\r\n?/g,`
`);else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let o=i.content[i.content.length-1],l=e.previousSibling;(!o||l&&l.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),t,!/\S/.test(n)),this.findInText(e)}else this.findInside(e)}addElement(e,t,n){let i=this.localPreserveWS,a=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),l;MT.hasOwnProperty(o)&&this.parser.normalizeLists&&sae(e);let c=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,n));e:if(c?c.ignore:oae.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,t);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(e=c.skip);let f,v=this.needsBlock;if(NT.hasOwnProperty(o))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),f=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let y=c&&c.skip?t:this.readStyles(e,t);y&&this.addAll(e,y),f&&this.sync(a),this.needsBlock=v}else{let f=this.readStyles(e,t);f&&this.addElementByRule(e,c,f,c.consuming===!1?l:void 0)}this.localPreserveWS=i}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let n=e.style;if(n&&n.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let a=this.parser.matchedStyles[i],o=n.getPropertyValue(a);if(o)for(let l=void 0;;){let c=this.parser.matchStyle(a,o,this,l);if(!c)break;if(c.ignore)return null;if(c.clearMark?t=t.filter(f=>!c.clearMark(f)):t=t.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)l=c;else break}}return t}addElementByRule(e,t,n,i){let a,o;if(t.node)if(o=this.parser.schema.nodes[t.node],o.isLeaf)this.insertNode(o.create(t.attrs),n,e.nodeName=="BR")||this.leafFallback(e,n);else{let c=this.enter(o,t.attrs||null,n,t.preserveWhitespace);c&&(a=!0,n=c)}else{let c=this.parser.schema.marks[t.mark];n=n.concat(c.create(t.attrs))}let l=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,n,i);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(c=>this.insertNode(c,n,!1));else{let c=e;typeof t.contentElement=="string"?c=e.querySelector(t.contentElement):typeof t.contentElement=="function"?c=t.contentElement(e):t.contentElement&&(c=t.contentElement),this.findAround(e,c,!0),this.addAll(c,n),this.findAround(e,c,!1)}a&&this.sync(l)&&this.open--}addAll(e,t,n,i){let a=n||0;for(let o=n?e.childNodes[n]:e.firstChild,l=i==null?null:e.childNodes[i];o!=l;o=o.nextSibling,++a)this.findAtPoint(e,a),this.addDOM(o,t);this.findAtPoint(e,a)}findPlace(e,t,n){let i,a;for(let o=this.open,l=0;o>=0;o--){let c=this.nodes[o],f=c.findWrapping(e);if(f&&(!i||i.length>f.length+l)&&(i=f,a=c,!f.length))break;if(c.solid){if(n)break;l+=2}}if(!i)return null;this.sync(a);for(let o=0;o<i.length;o++)t=this.enterInner(i[o],null,t,!1);return t}insertNode(e,t,n){if(e.isInline&&this.needsBlock&&!this.top.type){let a=this.textblockFromContext();a&&(t=this.enterInner(a,null,t))}let i=this.findPlace(e,t,n);if(i){this.closeExtra();let a=this.top;a.match&&(a.match=a.match.matchType(e.type));let o=Mr.none;for(let l of i.concat(e.marks))(a.type?a.type.allowsMarkType(l.type):f1(l.type,e.type))&&(o=l.addToSet(o));return a.content.push(e.mark(o)),!0}return!1}enter(e,t,n,i){let a=this.findPlace(e.create(t),n,!1);return a&&(a=this.enterInner(e,t,n,!0,i)),a}enterInner(e,t,n,i=!1,a){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let l=l1(e,a,o.options);o.options&Qd&&o.content.length==0&&(l|=Qd);let c=Mr.none;return n=n.filter(f=>(o.type?o.type.allowsMarkType(f.type):f1(f.type,e))?(c=f.addToSet(c),!1):!0),this.nodes.push(new rv(e,t,c,i,null,l)),this.open++,n}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=ah)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let i=n.length-1;i>=0;i--)e+=n[i].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&t.compareDocumentPosition(this.find[i].node)&(n?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,i=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),a=-(n?n.depth+1:0)+(i?0:1),o=(l,c)=>{for(;l>=0;l--){let f=t[l];if(f==""){if(l==t.length-1||l==0)continue;for(;c>=a;c--)if(o(l-1,c))return!0;return!1}else{let v=c>0||c==0&&i?this.nodes[c].type:n&&c>=a?n.node(c-a).type:null;if(!v||v.name!=f&&!v.isInGroup(f))return!1;c--}}return!0};return o(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let t in this.parser.schema.nodes){let n=this.parser.schema.nodes[t];if(n.isTextblock&&n.defaultAttrs)return n}}}function sae(r){for(let e=r.firstChild,t=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&MT.hasOwnProperty(n)&&t?(t.appendChild(e),e=t):n=="li"?t=e:n&&(t=null)}}function lae(r,e){return(r.matches||r.msMatchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector).call(r,e)}function c1(r){let e={};for(let t in r)e[t]=r[t];return e}function f1(r,e){let t=e.schema.nodes;for(let n in t){let i=t[n];if(!i.allowsMarkType(r))continue;let a=[],o=l=>{a.push(l);for(let c=0;c<l.edgeCount;c++){let{type:f,next:v}=l.edge(c);if(f==e||a.indexOf(v)<0&&o(v))return!0}};if(o(i.contentMatch))return!0}}class kf{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},n){n||(n=cy(t).createDocumentFragment());let i=n,a=[];return e.forEach(o=>{if(a.length||o.marks.length){let l=0,c=0;for(;l<a.length&&c<o.marks.length;){let f=o.marks[c];if(!this.marks[f.type.name]){c++;continue}if(!f.eq(a[l][0])||f.type.spec.spanning===!1)break;l++,c++}for(;l<a.length;)i=a.pop()[1];for(;c<o.marks.length;){let f=o.marks[c++],v=this.serializeMark(f,o.isInline,t);v&&(a.push([f,i]),i.appendChild(v.dom),i=v.contentDOM||v.dom)}}i.appendChild(this.serializeNodeInner(o,t))}),n}serializeNodeInner(e,t){let{dom:n,contentDOM:i}=wv(cy(t),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,i)}return n}serializeNode(e,t={}){let n=this.serializeNodeInner(e,t);for(let i=e.marks.length-1;i>=0;i--){let a=this.serializeMark(e.marks[i],e.isInline,t);a&&((a.contentDOM||a.dom).appendChild(n),n=a.dom)}return n}serializeMark(e,t,n={}){let i=this.marks[e.type.name];return i&&wv(cy(n),i(e,t),null,e.attrs)}static renderSpec(e,t,n=null,i){return wv(e,t,n,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new kf(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=d1(e.nodes);return t.text||(t.text=n=>n.text),t}static marksFromSchema(e){return d1(e.marks)}}function d1(r){let e={};for(let t in r){let n=r[t].spec.toDOM;n&&(e[t]=n)}return e}function cy(r){return r.document||window.document}const h1=new WeakMap;function uae(r){let e=h1.get(r);return e===void 0&&h1.set(r,e=cae(r)),e}function cae(r){let e=null;function t(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")e||(e=[]),e.push(n);else for(let i=0;i<n.length;i++)t(n[i]);else for(let i in n)t(n[i])}return t(r),e}function wv(r,e,t,n){if(typeof e=="string")return{dom:r.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],a;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(a=uae(n))&&a.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(t=i.slice(0,o),i=i.slice(o+1));let l,c=t?r.createElementNS(t,i):r.createElement(i),f=e[1],v=1;if(f&&typeof f=="object"&&f.nodeType==null&&!Array.isArray(f)){v=2;for(let y in f)if(f[y]!=null){let T=y.indexOf(" ");T>0?c.setAttributeNS(y.slice(0,T),y.slice(T+1),f[y]):c.setAttribute(y,f[y])}}for(let y=v;y<e.length;y++){let T=e[y];if(T===0){if(y<e.length-1||y>v)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:N,contentDOM:E}=wv(r,T,t,n);if(c.appendChild(N),E){if(l)throw new RangeError("Multiple content holes");l=E}}}return{dom:c,contentDOM:l}}const OT=65535,DT=Math.pow(2,16);function fae(r,e){return r+e*DT}function p1(r){return r&OT}function dae(r){return(r-(r&OT))/DT}const AT=1,LT=2,bv=4,RT=8;class d0{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(this.delInfo&RT)>0}get deletedBefore(){return(this.delInfo&(AT|bv))>0}get deletedAfter(){return(this.delInfo&(LT|bv))>0}get deletedAcross(){return(this.delInfo&bv)>0}}class Ui{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&Ui.empty)return Ui.empty}recover(e){let t=0,n=p1(e);if(!this.inverted)for(let i=0;i<n;i++)t+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[n*3]+t+dae(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,n){let i=0,a=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?i:0);if(c>e)break;let f=this.ranges[l+a],v=this.ranges[l+o],y=c+f;if(e<=y){let T=f?e==c?-1:e==y?1:t:t,N=c+i+(T<0?0:v);if(n)return N;let E=e==(t<0?c:y)?null:fae(l/3,e-c),P=e==c?LT:e==y?AT:bv;return(t<0?e!=c:e!=y)&&(P|=RT),new d0(N,P,E)}i+=v-f}return n?e+i:new d0(e+i,0,null)}touches(e,t){let n=0,i=p1(t),a=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?n:0);if(c>e)break;let f=this.ranges[l+a],v=c+f;if(e<=v&&l==i*3)return!0;n+=this.ranges[l+o]-f}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let i=0,a=0;i<this.ranges.length;i+=3){let o=this.ranges[i],l=o-(this.inverted?a:0),c=o+(this.inverted?0:a),f=this.ranges[i+t],v=this.ranges[i+n];e(l,l+f,c,c+v),a+=v-f}}invert(){return new Ui(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Ui.empty:new Ui(e<0?[0,-e,0]:[0,0,e])}}Ui.empty=new Ui([]);class oh{constructor(e,t,n=0,i=e?e.length:0){this.mirror=t,this.from=n,this.to=i,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new oh(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,n=this._maps.length;t<e._maps.length;t++){let i=e.getMirror(t);this.appendMap(e._maps[t],i!=null&&i<t?n+i:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this._maps.length+e._maps.length;t>=0;t--){let i=e.getMirror(t);this.appendMap(e._maps[t].invert(),i!=null&&i>t?n-i-1:void 0)}}invert(){let e=new oh;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,n){let i=0;for(let a=this.from;a<this.to;a++){let o=this._maps[a],l=o.mapResult(e,t);if(l.recover!=null){let c=this.getMirror(a);if(c!=null&&c>a&&c<this.to){a=c,e=this._maps[c].recover(l.recover);continue}}i|=l.delInfo,e=l.pos}return n?e:new d0(e,i,null)}}const fy=Object.create(null);class yi{getMap(){return Ui.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=fy[t.stepType];if(!n)throw new RangeError(`No step type ${t.stepType} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in fy)throw new RangeError("Duplicate use of step JSON ID "+e);return fy[e]=t,t.prototype.jsonID=e,t}}class cn{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new cn(e,null)}static fail(e){return new cn(null,e)}static fromReplace(e,t,n,i){try{return cn.ok(e.replace(t,n,i))}catch(a){if(a instanceof Iv)return cn.fail(a.message);throw a}}}function ow(r,e,t){let n=[];for(let i=0;i<r.childCount;i++){let a=r.child(i);a.content.size&&(a=a.copy(ow(a.content,e,a))),a.isInline&&(a=e(a,t,i)),n.push(a)}return nt.fromArray(n)}class Js extends yi{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),i=n.node(n.sharedDepth(this.to)),a=new gt(ow(t.content,(o,l)=>!o.isAtom||!l.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),t.openStart,t.openEnd);return cn.fromReplace(e,this.from,this.to,a)}invert(){return new Eo(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new Js(t.pos,n.pos,this.mark)}merge(e){return e instanceof Js&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Js(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Js(t.from,t.to,e.markFromJSON(t.mark))}}yi.jsonID("addMark",Js);class Eo extends yi{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=new gt(ow(t.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),t.openStart,t.openEnd);return cn.fromReplace(e,this.from,this.to,n)}invert(){return new Js(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new Eo(t.pos,n.pos,this.mark)}merge(e){return e instanceof Eo&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Eo(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Eo(t.from,t.to,e.markFromJSON(t.mark))}}yi.jsonID("removeMark",Eo);class Ks extends yi{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return cn.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return cn.fromReplace(e,this.pos,this.pos+1,new gt(nt.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let n=this.mark.addToSet(t.marks);if(n.length==t.marks.length){for(let i=0;i<t.marks.length;i++)if(!t.marks[i].isInSet(n))return new Ks(this.pos,t.marks[i]);return new Ks(this.pos,this.mark)}}return new Cu(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Ks(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ks(t.pos,e.markFromJSON(t.mark))}}yi.jsonID("addNodeMark",Ks);class Cu extends yi{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return cn.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return cn.fromReplace(e,this.pos,this.pos+1,new gt(nt.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new Ks(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Cu(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Cu(t.pos,e.markFromJSON(t.mark))}}yi.jsonID("removeNodeMark",Cu);class pi extends yi{constructor(e,t,n,i=!1){super(),this.from=e,this.to=t,this.slice=n,this.structure=i}apply(e){return this.structure&&h0(e,this.from,this.to)?cn.fail("Structure replace would overwrite content"):cn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Ui([this.from,this.to-this.from,this.slice.size])}invert(e){return new pi(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new pi(t.pos,Math.max(t.pos,n.pos),this.slice,this.structure)}merge(e){if(!(e instanceof pi)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?gt.empty:new gt(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new pi(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?gt.empty:new gt(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new pi(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new pi(t.from,t.to,gt.fromJSON(e,t.slice),!!t.structure)}}yi.jsonID("replace",pi);class _n extends yi{constructor(e,t,n,i,a,o,l=!1){super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=i,this.slice=a,this.insert=o,this.structure=l}apply(e){if(this.structure&&(h0(e,this.from,this.gapFrom)||h0(e,this.gapTo,this.to)))return cn.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return cn.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?cn.fromReplace(e,this.from,this.to,n):cn.fail("Content does not fit in gap")}getMap(){return new Ui([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new _n(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),i=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),a=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||i<t.pos||a>n.pos?null:new _n(t.pos,n.pos,i,a,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new _n(t.from,t.to,t.gapFrom,t.gapTo,gt.fromJSON(e,t.slice),t.insert,!!t.structure)}}yi.jsonID("replaceAround",_n);function h0(r,e,t){let n=r.resolve(e),i=t-e,a=n.depth;for(;i>0&&a>0&&n.indexAfter(a)==n.node(a).childCount;)a--,i--;if(i>0){let o=n.node(a).maybeChild(n.indexAfter(a));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function hae(r,e,t,n){let i=[],a=[],o,l;r.doc.nodesBetween(e,t,(c,f,v)=>{if(!c.isInline)return;let y=c.marks;if(!n.isInSet(y)&&v.type.allowsMarkType(n.type)){let T=Math.max(f,e),N=Math.min(f+c.nodeSize,t),E=n.addToSet(y);for(let P=0;P<y.length;P++)y[P].isInSet(E)||(o&&o.to==T&&o.mark.eq(y[P])?o.to=N:i.push(o=new Eo(T,N,y[P])));l&&l.to==T?l.to=N:a.push(l=new Js(T,N,n))}}),i.forEach(c=>r.step(c)),a.forEach(c=>r.step(c))}function pae(r,e,t,n){let i=[],a=0;r.doc.nodesBetween(e,t,(o,l)=>{if(!o.isInline)return;a++;let c=null;if(n instanceof gm){let f=o.marks,v;for(;v=n.isInSet(f);)(c||(c=[])).push(v),f=v.removeFromSet(f)}else n?n.isInSet(o.marks)&&(c=[n]):c=o.marks;if(c&&c.length){let f=Math.min(l+o.nodeSize,t);for(let v=0;v<c.length;v++){let y=c[v],T;for(let N=0;N<i.length;N++){let E=i[N];E.step==a-1&&y.eq(i[N].style)&&(T=E)}T?(T.to=f,T.step=a):i.push({style:y,from:Math.max(l,e),to:f,step:a})}}}),i.forEach(o=>r.step(new Eo(o.from,o.to,o.style)))}function sw(r,e,t,n=t.contentMatch,i=!0){let a=r.doc.nodeAt(e),o=[],l=e+1;for(let c=0;c<a.childCount;c++){let f=a.child(c),v=l+f.nodeSize,y=n.matchType(f.type);if(!y)o.push(new pi(l,v,gt.empty));else{n=y;for(let T=0;T<f.marks.length;T++)t.allowsMarkType(f.marks[T].type)||r.step(new Eo(l,v,f.marks[T]));if(i&&f.isText&&t.whitespace!="pre"){let T,N=/\r?\n|\r/g,E;for(;T=N.exec(f.text);)E||(E=new gt(nt.from(t.schema.text(" ",t.allowedMarks(f.marks))),0,0)),o.push(new pi(l+T.index,l+T.index+T[0].length,E))}}l=v}if(!n.validEnd){let c=n.fillBefore(nt.empty,!0);r.replace(l,l,new gt(c,0,0))}for(let c=o.length-1;c>=0;c--)r.step(o[c])}function vae(r,e,t){return(e==0||r.canReplace(e,r.childCount))&&(t==r.childCount||r.canReplace(0,t))}function ym(r){let t=r.parent.content.cutByIndex(r.startIndex,r.endIndex);for(let n=r.depth;;--n){let i=r.$from.node(n),a=r.$from.index(n),o=r.$to.indexAfter(n);if(n<r.depth&&i.canReplace(a,o,t))return n;if(n==0||i.type.spec.isolating||!vae(i,a,o))break}return null}function mae(r,e,t){let{$from:n,$to:i,depth:a}=e,o=n.before(a+1),l=i.after(a+1),c=o,f=l,v=nt.empty,y=0;for(let E=a,P=!1;E>t;E--)P||n.index(E)>0?(P=!0,v=nt.from(n.node(E).copy(v)),y++):c--;let T=nt.empty,N=0;for(let E=a,P=!1;E>t;E--)P||i.after(E+1)<i.end(E)?(P=!0,T=nt.from(i.node(E).copy(T)),N++):f++;r.step(new _n(c,f,o,l,new gt(v.append(T),y,N),v.size-y,!0))}function gae(r,e,t=null,n=r){let i=yae(r,e),a=i&&wae(n,e);return a?i.map(v1).concat({type:e,attrs:t}).concat(a.map(v1)):null}function v1(r){return{type:r,attrs:null}}function yae(r,e){let{parent:t,startIndex:n,endIndex:i}=r,a=t.contentMatchAt(n).findWrapping(e);if(!a)return null;let o=a.length?a[0]:e;return t.canReplaceWith(n,i,o)?a:null}function wae(r,e){let{parent:t,startIndex:n,endIndex:i}=r,a=t.child(n),o=e.contentMatch.findWrapping(a.type);if(!o)return null;let c=(o.length?o[o.length-1]:e).contentMatch;for(let f=n;c&&f<i;f++)c=c.matchType(t.child(f).type);return!c||!c.validEnd?null:o}function bae(r,e,t){let n=nt.empty;for(let o=t.length-1;o>=0;o--){if(n.size){let l=t[o].type.contentMatch.matchFragment(n);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=nt.from(t[o].type.create(t[o].attrs,n))}let i=e.start,a=e.end;r.step(new _n(i,a,i,a,new gt(n,0,0),t.length,!0))}function kae(r,e,t,n,i){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let a=r.steps.length;r.doc.nodesBetween(e,t,(o,l)=>{let c=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(n,c)&&Cae(r.doc,r.mapping.slice(a).map(l),n)){let f=null;if(n.schema.linebreakReplacement){let N=n.whitespace=="pre",E=!!n.contentMatch.matchType(n.schema.linebreakReplacement);N&&!E?f=!1:!N&&E&&(f=!0)}f===!1&&PT(r,o,l,a),sw(r,r.mapping.slice(a).map(l,1),n,void 0,f===null);let v=r.mapping.slice(a),y=v.map(l,1),T=v.map(l+o.nodeSize,1);return r.step(new _n(y,T,y+1,T-1,new gt(nt.from(n.create(c,null,o.marks)),0,0),1,!0)),f===!0&&IT(r,o,l,a),!1}})}function IT(r,e,t,n){e.forEach((i,a)=>{if(i.isText){let o,l=/\r?\n|\r/g;for(;o=l.exec(i.text);){let c=r.mapping.slice(n).map(t+1+a+o.index);r.replaceWith(c,c+1,e.type.schema.linebreakReplacement.create())}}})}function PT(r,e,t,n){e.forEach((i,a)=>{if(i.type==i.type.schema.linebreakReplacement){let o=r.mapping.slice(n).map(t+1+a);r.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function Cae(r,e,t){let n=r.resolve(e),i=n.index();return n.parent.canReplaceWith(i,i+1,t)}function Sae(r,e,t,n,i){let a=r.doc.nodeAt(e);if(!a)throw new RangeError("No node at given position");t||(t=a.type);let o=t.create(n,null,i||a.marks);if(a.isLeaf)return r.replaceWith(e,e+a.nodeSize,o);if(!t.validContent(a.content))throw new RangeError("Invalid content for node type "+t.name);r.step(new _n(e,e+a.nodeSize,e+1,e+a.nodeSize-1,new gt(nt.from(o),0,0),1,!0))}function Zc(r,e,t=1,n){let i=r.resolve(e),a=i.depth-t,o=n&&n[n.length-1]||i.parent;if(a<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let f=i.depth-1,v=t-2;f>a;f--,v--){let y=i.node(f),T=i.index(f);if(y.type.spec.isolating)return!1;let N=y.content.cutByIndex(T,y.childCount),E=n&&n[v+1];E&&(N=N.replaceChild(0,E.type.create(E.attrs)));let P=n&&n[v]||y;if(!y.canReplace(T+1,y.childCount)||!P.type.validContent(N))return!1}let l=i.indexAfter(a),c=n&&n[0];return i.node(a).canReplaceWith(l,l,c?c.type:i.node(a+1).type)}function xae(r,e,t=1,n){let i=r.doc.resolve(e),a=nt.empty,o=nt.empty;for(let l=i.depth,c=i.depth-t,f=t-1;l>c;l--,f--){a=nt.from(i.node(l).copy(a));let v=n&&n[f];o=nt.from(v?v.type.create(v.attrs,o):i.node(l).copy(o))}r.step(new pi(e,e,new gt(a.append(o),t,t),!0))}function BT(r,e){let t=r.resolve(e),n=t.index();return Eae(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(n,n+1)}function Tae(r,e){e.content.size||r.type.compatibleContent(e.type);let t=r.contentMatchAt(r.childCount),{linebreakReplacement:n}=r.type.schema;for(let i=0;i<e.childCount;i++){let a=e.child(i),o=a.type==n?r.type.schema.nodes.text:a.type;if(t=t.matchType(o),!t||!r.type.allowsMarks(a.marks))return!1}return t.validEnd}function Eae(r,e){return!!(r&&e&&!r.isLeaf&&Tae(r,e))}function Nae(r,e,t){let n=null,{linebreakReplacement:i}=r.doc.type.schema,a=r.doc.resolve(e-t),o=a.node().type;if(i&&o.inlineContent){let v=o.whitespace=="pre",y=!!o.contentMatch.matchType(i);v&&!y?n=!1:!v&&y&&(n=!0)}let l=r.steps.length;if(n===!1){let v=r.doc.resolve(e+t);PT(r,v.node(),v.before(),l)}o.inlineContent&&sw(r,e+t-1,o,a.node().contentMatchAt(a.index()),n==null);let c=r.mapping.slice(l),f=c.map(e-t);if(r.step(new pi(f,c.map(e+t,-1),gt.empty,!0)),n===!0){let v=r.doc.resolve(f);IT(r,v.node(),v.before(),r.steps.length)}return r}function Mae(r,e,t){let n=r.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),t))return e;if(n.parentOffset==0)for(let i=n.depth-1;i>=0;i--){let a=n.index(i);if(n.node(i).canReplaceWith(a,a,t))return n.before(i+1);if(a>0)return null}if(n.parentOffset==n.parent.content.size)for(let i=n.depth-1;i>=0;i--){let a=n.indexAfter(i);if(n.node(i).canReplaceWith(a,a,t))return n.after(i+1);if(a<n.node(i).childCount)return null}return null}function Oae(r,e,t){let n=r.resolve(e);if(!t.content.size)return e;let i=t.content;for(let a=0;a<t.openStart;a++)i=i.firstChild.content;for(let a=1;a<=(t.openStart==0&&t.size?2:1);a++)for(let o=n.depth;o>=0;o--){let l=o==n.depth?0:n.pos<=(n.start(o+1)+n.end(o+1))/2?-1:1,c=n.index(o)+(l>0?1:0),f=n.node(o),v=!1;if(a==1)v=f.canReplace(c,c,i);else{let y=f.contentMatchAt(c).findWrapping(i.firstChild.type);v=y&&f.canReplaceWith(c,c,y[0])}if(v)return l==0?n.pos:l<0?n.before(o+1):n.after(o+1)}return null}function lw(r,e,t=e,n=gt.empty){if(e==t&&!n.size)return null;let i=r.resolve(e),a=r.resolve(t);return _T(i,a,n)?new pi(e,t,n):new Dae(i,a,n).fit()}function _T(r,e,t){return!t.openStart&&!t.openEnd&&r.start()==e.start()&&r.parent.canReplace(r.index(),e.index(),t.content)}class Dae{constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=nt.empty;for(let i=0;i<=e.depth;i++){let a=e.node(i);this.frontier.push({type:a.type,match:a.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=nt.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let f=this.findFittable();f?this.placeNodes(f):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,i=this.close(e<0?this.$to:n.doc.resolve(e));if(!i)return null;let a=this.placed,o=n.depth,l=i.depth;for(;o&&l&&a.childCount==1;)a=a.firstChild.content,o--,l--;let c=new gt(a,o,l);return e>-1?new _n(n.pos,e,this.$to.pos,this.$to.end(),c,t):c.size||n.pos!=this.$to.pos?new pi(n.pos,i.pos,c):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,n=0,i=this.unplaced.openEnd;n<e;n++){let a=t.firstChild;if(t.childCount>1&&(i=0),a.type.spec.isolating&&i<=n){e=n;break}t=a.content}for(let t=1;t<=2;t++)for(let n=t==1?e:this.unplaced.openStart;n>=0;n--){let i,a=null;n?(a=dy(this.unplaced.content,n-1).firstChild,i=a.content):i=this.unplaced.content;let o=i.firstChild;for(let l=this.depth;l>=0;l--){let{type:c,match:f}=this.frontier[l],v,y=null;if(t==1&&(o?f.matchType(o.type)||(y=f.fillBefore(nt.from(o),!1)):a&&c.compatibleContent(a.type)))return{sliceDepth:n,frontierDepth:l,parent:a,inject:y};if(t==2&&o&&(v=f.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:l,parent:a,wrap:v};if(a&&f.matchType(a.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,i=dy(e,t);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new gt(e,t+1,Math.max(n,i.size+t>=e.size-n?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,i=dy(e,t);if(i.childCount<=1&&t>0){let a=e.size-t<=t+i.size;this.unplaced=new gt(Ud(e,t-1,1),t-1,a?t-1:n)}else this.unplaced=new gt(Ud(e,t,1),t,n)}placeNodes({sliceDepth:e,frontierDepth:t,parent:n,inject:i,wrap:a}){for(;this.depth>t;)this.closeFrontierNode();if(a)for(let P=0;P<a.length;P++)this.openFrontierNode(a[P]);let o=this.unplaced,l=n?n.content:o.content,c=o.openStart-e,f=0,v=[],{match:y,type:T}=this.frontier[t];if(i){for(let P=0;P<i.childCount;P++)v.push(i.child(P));y=y.matchFragment(i)}let N=l.size+e-(o.content.size-o.openEnd);for(;f<l.childCount;){let P=l.child(f),L=y.matchType(P.type);if(!L)break;f++,(f>1||c==0||P.content.size)&&(y=L,v.push(FT(P.mark(T.allowedMarks(P.marks)),f==1?c:0,f==l.childCount?N:-1)))}let E=f==l.childCount;E||(N=-1),this.placed=jd(this.placed,t,nt.from(v)),this.frontier[t].match=y,E&&N<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let P=0,L=l;P<N;P++){let $=L.lastChild;this.frontier.push({type:$.type,match:$.contentMatchAt($.childCount)}),L=$.content}this.unplaced=E?e==0?gt.empty:new gt(Ud(o.content,e-1,1),e-1,N<0?o.openEnd:e-1):new gt(Ud(o.content,e,f),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!hy(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:n}=this.$to,i=this.$to.after(n);for(;n>1&&i==this.$to.end(--n);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:i}=this.frontier[t],a=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),o=hy(e,t,i,n,a);if(o){for(let l=t-1;l>=0;l--){let{match:c,type:f}=this.frontier[l],v=hy(e,l,f,c,!0);if(!v||v.childCount)continue e}return{depth:t,fit:o,move:a?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=jd(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let i=e.node(n),a=i.type.contentMatch.fillBefore(i.content,!0,e.index(n));this.openFrontierNode(i.type,i.attrs,a)}return e}openFrontierNode(e,t=null,n){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=jd(this.placed,this.depth,nt.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(nt.empty,!0);t.childCount&&(this.placed=jd(this.placed,this.frontier.length,t))}}function Ud(r,e,t){return e==0?r.cutByIndex(t,r.childCount):r.replaceChild(0,r.firstChild.copy(Ud(r.firstChild.content,e-1,t)))}function jd(r,e,t){return e==0?r.append(t):r.replaceChild(r.childCount-1,r.lastChild.copy(jd(r.lastChild.content,e-1,t)))}function dy(r,e){for(let t=0;t<e;t++)r=r.firstChild.content;return r}function FT(r,e,t){if(e<=0)return r;let n=r.content;return e>1&&(n=n.replaceChild(0,FT(n.firstChild,e-1,n.childCount==1?t-1:0))),e>0&&(n=r.type.contentMatch.fillBefore(n).append(n),t<=0&&(n=n.append(r.type.contentMatch.matchFragment(n).fillBefore(nt.empty,!0)))),r.copy(n)}function hy(r,e,t,n,i){let a=r.node(e),o=i?r.indexAfter(e):r.index(e);if(o==a.childCount&&!t.compatibleContent(a.type))return null;let l=n.fillBefore(a.content,!0,o);return l&&!Aae(t,a.content,o)?l:null}function Aae(r,e,t){for(let n=t;n<e.childCount;n++)if(!r.allowsMarks(e.child(n).marks))return!0;return!1}function Lae(r){return r.spec.defining||r.spec.definingForContent}function Rae(r,e,t,n){if(!n.size)return r.deleteRange(e,t);let i=r.doc.resolve(e),a=r.doc.resolve(t);if(_T(i,a,n))return r.step(new pi(e,t,n));let o=HT(i,r.doc.resolve(t));o[o.length-1]==0&&o.pop();let l=-(i.depth+1);o.unshift(l);for(let T=i.depth,N=i.pos-1;T>0;T--,N--){let E=i.node(T).type.spec;if(E.defining||E.definingAsContext||E.isolating)break;o.indexOf(T)>-1?l=T:i.before(T)==N&&o.splice(1,0,-T)}let c=o.indexOf(l),f=[],v=n.openStart;for(let T=n.content,N=0;;N++){let E=T.firstChild;if(f.push(E),N==n.openStart)break;T=E.content}for(let T=v-1;T>=0;T--){let N=f[T],E=Lae(N.type);if(E&&!N.sameMarkup(i.node(Math.abs(l)-1)))v=T;else if(E||!N.type.isTextblock)break}for(let T=n.openStart;T>=0;T--){let N=(T+v+1)%(n.openStart+1),E=f[N];if(E)for(let P=0;P<o.length;P++){let L=o[(P+c)%o.length],$=!0;L<0&&($=!1,L=-L);let ee=i.node(L-1),re=i.index(L-1);if(ee.canReplaceWith(re,re,E.type,E.marks))return r.replace(i.before(L),$?a.after(L):t,new gt(qT(n.content,0,n.openStart,N),N,n.openEnd))}}let y=r.steps.length;for(let T=o.length-1;T>=0&&(r.replace(e,t,n),!(r.steps.length>y));T--){let N=o[T];N<0||(e=i.before(N),t=a.after(N))}}function qT(r,e,t,n,i){if(e<t){let a=r.firstChild;r=r.replaceChild(0,a.copy(qT(a.content,e+1,t,n,a)))}if(e>n){let a=i.contentMatchAt(0),o=a.fillBefore(r).append(r);r=o.append(a.matchFragment(o).fillBefore(nt.empty,!0))}return r}function Iae(r,e,t,n){if(!n.isInline&&e==t&&r.doc.resolve(e).parent.content.size){let i=Mae(r.doc,e,n.type);i!=null&&(e=t=i)}r.replaceRange(e,t,new gt(nt.from(n),0,0))}function Pae(r,e,t){let n=r.doc.resolve(e),i=r.doc.resolve(t),a=HT(n,i);for(let o=0;o<a.length;o++){let l=a[o],c=o==a.length-1;if(c&&l==0||n.node(l).type.contentMatch.validEnd)return r.delete(n.start(l),i.end(l));if(l>0&&(c||n.node(l-1).canReplace(n.index(l-1),i.indexAfter(l-1))))return r.delete(n.before(l),i.after(l))}for(let o=1;o<=n.depth&&o<=i.depth;o++)if(e-n.start(o)==n.depth-o&&t>n.end(o)&&i.end(o)-t!=i.depth-o&&n.start(o-1)==i.start(o-1)&&n.node(o-1).canReplace(n.index(o-1),i.index(o-1)))return r.delete(n.before(o),t);r.delete(e,t)}function HT(r,e){let t=[],n=Math.min(r.depth,e.depth);for(let i=n;i>=0;i--){let a=r.start(i);if(a<r.pos-(r.depth-i)||e.end(i)>e.pos+(e.depth-i)||r.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(a==e.start(i)||i==r.depth&&i==e.depth&&r.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==a-1)&&t.push(i)}return t}class ef extends yi{constructor(e,t,n){super(),this.pos=e,this.attr=t,this.value=n}apply(e){let t=e.nodeAt(this.pos);if(!t)return cn.fail("No node at attribute step's position");let n=Object.create(null);for(let a in t.attrs)n[a]=t.attrs[a];n[this.attr]=this.value;let i=t.type.create(n,null,t.marks);return cn.fromReplace(e,this.pos,this.pos+1,new gt(nt.from(i),0,t.isLeaf?0:1))}getMap(){return Ui.empty}invert(e){return new ef(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new ef(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new ef(t.pos,t.attr,t.value)}}yi.jsonID("attr",ef);class sh extends yi{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let i in e.attrs)t[i]=e.attrs[i];t[this.attr]=this.value;let n=e.type.create(t,e.content,e.marks);return cn.ok(n)}getMap(){return Ui.empty}invert(e){return new sh(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new sh(t.attr,t.value)}}yi.jsonID("docAttr",sh);let rf=class extends Error{};rf=function r(e){let t=Error.call(this,e);return t.__proto__=r.prototype,t};rf.prototype=Object.create(Error.prototype);rf.prototype.constructor=rf;rf.prototype.name="TransformError";class Bae{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new oh}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new rf(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,n=gt.empty){let i=lw(this.doc,e,t,n);return i&&this.step(i),this}replaceWith(e,t,n){return this.replace(e,t,new gt(nt.from(n),0,0))}delete(e,t){return this.replace(e,t,gt.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return Rae(this,e,t,n),this}replaceRangeWith(e,t,n){return Iae(this,e,t,n),this}deleteRange(e,t){return Pae(this,e,t),this}lift(e,t){return mae(this,e,t),this}join(e,t=1){return Nae(this,e,t),this}wrap(e,t){return bae(this,e,t),this}setBlockType(e,t=e,n,i=null){return kae(this,e,t,n,i),this}setNodeMarkup(e,t,n=null,i){return Sae(this,e,t,n,i),this}setNodeAttribute(e,t,n){return this.step(new ef(e,t,n)),this}setDocAttribute(e,t){return this.step(new sh(e,t)),this}addNodeMark(e,t){return this.step(new Ks(e,t)),this}removeNodeMark(e,t){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(t instanceof Mr)t.isInSet(n.marks)&&this.step(new Cu(e,t));else{let i=n.marks,a,o=[];for(;a=t.isInSet(i);)o.push(new Cu(e,a)),i=a.removeFromSet(i);for(let l=o.length-1;l>=0;l--)this.step(o[l])}return this}split(e,t=1,n){return xae(this,e,t,n),this}addMark(e,t,n){return hae(this,e,t,n),this}removeMark(e,t,n){return pae(this,e,t,n),this}clearIncompatible(e,t,n){return sw(this,e,t,n),this}}const py=Object.create(null);class fr{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new zT(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=gt.empty){let n=t.content.lastChild,i=null;for(let l=0;l<t.openEnd;l++)i=n,n=n.lastChild;let a=e.steps.length,o=this.ranges;for(let l=0;l<o.length;l++){let{$from:c,$to:f}=o[l],v=e.mapping.slice(a);e.replaceRange(v.map(c.pos),v.map(f.pos),l?gt.empty:t),l==0&&y1(e,a,(n?n.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){let{$from:o,$to:l}=i[a],c=e.mapping.slice(n),f=c.map(o.pos),v=c.map(l.pos);a?e.deleteRange(f,v):(e.replaceRangeWith(f,v,t),y1(e,n,t.isInline?-1:1))}}static findFrom(e,t,n=!1){let i=e.parent.inlineContent?new vr(e):Jc(e.node(0),e.parent,e.pos,e.index(),t,n);if(i)return i;for(let a=e.depth-1;a>=0;a--){let o=t<0?Jc(e.node(0),e.node(a),e.before(a+1),e.index(a),t,n):Jc(e.node(0),e.node(a),e.after(a+1),e.index(a)+1,t,n);if(o)return o}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new Oi(e.node(0))}static atStart(e){return Jc(e,e,0,0,1)||new Oi(e)}static atEnd(e){return Jc(e,e,e.content.size,e.childCount,-1)||new Oi(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=py[t.type];if(!n)throw new RangeError(`No selection type ${t.type} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in py)throw new RangeError("Duplicate use of selection JSON ID "+e);return py[e]=t,t.prototype.jsonID=e,t}getBookmark(){return vr.between(this.$anchor,this.$head).getBookmark()}}fr.prototype.visible=!0;class zT{constructor(e,t){this.$from=e,this.$to=t}}let m1=!1;function g1(r){!m1&&!r.parent.inlineContent&&(m1=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+r.parent.type.name+")"))}class vr extends fr{constructor(e,t=e){g1(e),g1(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let n=e.resolve(t.map(this.head));if(!n.parent.inlineContent)return fr.near(n);let i=e.resolve(t.map(this.anchor));return new vr(i.parent.inlineContent?i:n,n)}replace(e,t=gt.empty){if(super.replace(e,t),t==gt.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof vr&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new wm(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new vr(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){let i=e.resolve(t);return new this(i,n==t?i:e.resolve(n))}static between(e,t,n){let i=e.pos-t.pos;if((!n||i)&&(n=i>=0?1:-1),!t.parent.inlineContent){let a=fr.findFrom(t,n,!0)||fr.findFrom(t,-n,!0);if(a)t=a.$head;else return fr.near(t,n)}return e.parent.inlineContent||(i==0?e=t:(e=(fr.findFrom(e,-n,!0)||fr.findFrom(e,n,!0)).$anchor,e.pos<t.pos!=i<0&&(e=t))),new vr(e,t)}}fr.jsonID("text",vr);class wm{constructor(e,t){this.anchor=e,this.head=t}map(e){return new wm(e.map(this.anchor),e.map(this.head))}resolve(e){return vr.between(e.resolve(this.anchor),e.resolve(this.head))}}class er extends fr{constructor(e){let t=e.nodeAfter,n=e.node(0).resolve(e.pos+t.nodeSize);super(e,n),this.node=t}map(e,t){let{deleted:n,pos:i}=t.mapResult(this.anchor),a=e.resolve(i);return n?fr.near(a):new er(a)}content(){return new gt(nt.from(this.node),0,0)}eq(e){return e instanceof er&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new uw(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new er(e.resolve(t.anchor))}static create(e,t){return new er(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}er.prototype.visible=!1;fr.jsonID("node",er);class uw{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:n}=e.mapResult(this.anchor);return t?new wm(n,n):new uw(n)}resolve(e){let t=e.resolve(this.anchor),n=t.nodeAfter;return n&&er.isSelectable(n)?new er(t):fr.near(t)}}class Oi extends fr{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=gt.empty){if(t==gt.empty){e.delete(0,e.doc.content.size);let n=fr.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new Oi(e)}map(e){return new Oi(e)}eq(e){return e instanceof Oi}getBookmark(){return _ae}}fr.jsonID("all",Oi);const _ae={map(){return this},resolve(r){return new Oi(r)}};function Jc(r,e,t,n,i,a=!1){if(e.inlineContent)return vr.create(r,t);for(let o=n-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let l=e.child(o);if(l.isAtom){if(!a&&er.isSelectable(l))return er.create(r,t-(i<0?l.nodeSize:0))}else{let c=Jc(r,l,t+i,i<0?l.childCount:0,i,a);if(c)return c}t+=l.nodeSize*i}return null}function y1(r,e,t){let n=r.steps.length-1;if(n<e)return;let i=r.steps[n];if(!(i instanceof pi||i instanceof _n))return;let a=r.mapping.maps[n],o;a.forEach((l,c,f,v)=>{o==null&&(o=v)}),r.setSelection(fr.near(r.doc.resolve(o),t))}const w1=1,nv=2,b1=4;class Fae extends Bae{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|w1)&~nv,this.storedMarks=null,this}get selectionSet(){return(this.updated&w1)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=nv,this}ensureMarks(e){return Mr.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&nv)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~nv,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||Mr.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,n){let i=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(n==null&&(n=t),n=n??t,!e)return this.deleteRange(t,n);let a=this.storedMarks;if(!a){let o=this.doc.resolve(t);a=n==t?o.marks():o.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,i.text(e,a)),this.selection.empty||this.setSelection(fr.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=b1,this}get scrolledIntoView(){return(this.updated&b1)>0}}function k1(r,e){return!e||!r?r:r.bind(e)}class Wd{constructor(e,t,n){this.name=e,this.init=k1(t.init,n),this.apply=k1(t.apply,n)}}const qae=[new Wd("doc",{init(r){return r.doc||r.schema.topNodeType.createAndFill()},apply(r){return r.doc}}),new Wd("selection",{init(r,e){return r.selection||fr.atStart(e.doc)},apply(r){return r.selection}}),new Wd("storedMarks",{init(r){return r.storedMarks||null},apply(r,e,t,n){return n.selection.$cursor?r.storedMarks:null}}),new Wd("scrollToSelection",{init(){return 0},apply(r,e){return r.scrolledIntoView?e+1:e}})];class vy{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=qae.slice(),t&&t.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new Wd(n.key,n.spec.state,n))})}}class cu{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=t){let i=this.config.plugins[n];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],n=this.applyInner(e),i=null;for(;;){let a=!1;for(let o=0;o<this.config.plugins.length;o++){let l=this.config.plugins[o];if(l.spec.appendTransaction){let c=i?i[o].n:0,f=i?i[o].state:this,v=c<t.length&&l.spec.appendTransaction.call(l,c?t.slice(c):t,f,n);if(v&&n.filterTransaction(v,o)){if(v.setMeta("appendedTransaction",e),!i){i=[];for(let y=0;y<this.config.plugins.length;y++)i.push(y<o?{state:n,n:t.length}:{state:this,n:0})}t.push(v),n=n.applyInner(v),a=!0}i&&(i[o]={state:n,n:t.length})}}if(!a)return{state:n,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new cu(this.config),n=this.config.fields;for(let i=0;i<n.length;i++){let a=n[i];t[a.name]=a.apply(e,this[a.name],this,t)}return t}get tr(){return new Fae(this)}static create(e){let t=new vy(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new cu(t);for(let i=0;i<t.fields.length;i++)n[t.fields[i].name]=t.fields[i].init(e,n);return n}reconfigure(e){let t=new vy(this.schema,e.plugins),n=t.fields,i=new cu(t);for(let a=0;a<n.length;a++){let o=n[a].name;i[o]=this.hasOwnProperty(o)?this[o]:n[a].init(e,i)}return i}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[n],a=i.spec.state;a&&a.toJSON&&(t[n]=a.toJSON.call(i,this[i.key]))}return t}static fromJSON(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new vy(e.schema,e.plugins),a=new cu(i);return i.fields.forEach(o=>{if(o.name=="doc")a.doc=Zs.fromJSON(e.schema,t.doc);else if(o.name=="selection")a.selection=fr.fromJSON(a.doc,t.selection);else if(o.name=="storedMarks")t.storedMarks&&(a.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let l in n){let c=n[l],f=c.spec.state;if(c.key==o.name&&f&&f.fromJSON&&Object.prototype.hasOwnProperty.call(t,l)){a[o.name]=f.fromJSON.call(c,e,t[l],a);return}}a[o.name]=o.init(e,a)}}),a}}function $T(r,e,t){for(let n in r){let i=r[n];i instanceof Function?i=i.bind(e):n=="handleDOMEvents"&&(i=$T(i,e,{})),t[n]=i}return t}class Qi{constructor(e){this.spec=e,this.props={},e.props&&$T(e.props,this,this.props),this.key=e.key?e.key.key:VT("plugin")}getState(e){return e[this.key]}}const my=Object.create(null);function VT(r){return r in my?r+"$"+ ++my[r]:(my[r]=0,r+"$")}class gh{constructor(e="key"){this.key=VT(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Xn=function(r){for(var e=0;;e++)if(r=r.previousSibling,!r)return e},nf=function(r){let e=r.assignedSlot||r.parentNode;return e&&e.nodeType==11?e.host:e};let p0=null;const as=function(r,e,t){let n=p0||(p0=document.createRange());return n.setEnd(r,t??r.nodeValue.length),n.setStart(r,e||0),n},Hae=function(){p0=null},Su=function(r,e,t,n){return t&&(C1(r,e,t,n,-1)||C1(r,e,t,n,1))},zae=/^(img|br|input|textarea|hr)$/i;function C1(r,e,t,n,i){for(var a;;){if(r==t&&e==n)return!0;if(e==(i<0?0:Ta(r))){let o=r.parentNode;if(!o||o.nodeType!=1||yh(r)||zae.test(r.nodeName)||r.contentEditable=="false")return!1;e=Xn(r)+(i<0?0:1),r=o}else if(r.nodeType==1){let o=r.childNodes[e+(i<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((a=o.pmViewDesc)===null||a===void 0)&&a.ignoreForSelection)e+=i;else return!1;else r=o,e=i<0?Ta(r):0}else return!1}}function Ta(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function $ae(r,e){for(;;){if(r.nodeType==3&&e)return r;if(r.nodeType==1&&e>0){if(r.contentEditable=="false")return null;r=r.childNodes[e-1],e=Ta(r)}else if(r.parentNode&&!yh(r))e=Xn(r),r=r.parentNode;else return null}}function Vae(r,e){for(;;){if(r.nodeType==3&&e<r.nodeValue.length)return r;if(r.nodeType==1&&e<r.childNodes.length){if(r.contentEditable=="false")return null;r=r.childNodes[e],e=0}else if(r.parentNode&&!yh(r))e=Xn(r)+1,r=r.parentNode;else return null}}function Uae(r,e,t){for(let n=e==0,i=e==Ta(r);n||i;){if(r==t)return!0;let a=Xn(r);if(r=r.parentNode,!r)return!1;n=n&&a==0,i=i&&a==Ta(r)}}function yh(r){let e;for(let t=r;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==r||e.contentDOM==r)}const bm=function(r){return r.focusNode&&Su(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)};function lu(r,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=r,t.key=t.code=e,t}function jae(r){let e=r.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Wae(r,e,t){if(r.caretPositionFromPoint)try{let n=r.caretPositionFromPoint(e,t);if(n)return{node:n.offsetNode,offset:Math.min(Ta(n.offsetNode),n.offset)}}catch{}if(r.caretRangeFromPoint){let n=r.caretRangeFromPoint(e,t);if(n)return{node:n.startContainer,offset:Math.min(Ta(n.startContainer),n.startOffset)}}}const Oo=typeof navigator<"u"?navigator:null,S1=typeof document<"u"?document:null,cl=Oo&&Oo.userAgent||"",v0=/Edge\/(\d+)/.exec(cl),UT=/MSIE \d/.exec(cl),m0=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(cl),Ji=!!(UT||m0||v0),el=UT?document.documentMode:m0?+m0[1]:v0?+v0[1]:0,Wa=!Ji&&/gecko\/(\d+)/i.test(cl);Wa&&+(/Firefox\/(\d+)/.exec(cl)||[0,0])[1];const g0=!Ji&&/Chrome\/(\d+)/.exec(cl),mi=!!g0,jT=g0?+g0[1]:0,Di=!Ji&&!!Oo&&/Apple Computer/.test(Oo.vendor),af=Di&&(/Mobile\/\w+/.test(cl)||!!Oo&&Oo.maxTouchPoints>2),xa=af||(Oo?/Mac/.test(Oo.platform):!1),Gae=Oo?/Win/.test(Oo.platform):!1,us=/Android \d/.test(cl),wh=!!S1&&"webkitFontSmoothing"in S1.documentElement.style,Jae=wh?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Kae(r){let e=r.defaultView&&r.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:r.documentElement.clientWidth,top:0,bottom:r.documentElement.clientHeight}}function rs(r,e){return typeof r=="number"?r:r[e]}function Qae(r){let e=r.getBoundingClientRect(),t=e.width/r.offsetWidth||1,n=e.height/r.offsetHeight||1;return{left:e.left,right:e.left+r.clientWidth*t,top:e.top,bottom:e.top+r.clientHeight*n}}function x1(r,e,t){let n=r.someProp("scrollThreshold")||0,i=r.someProp("scrollMargin")||5,a=r.dom.ownerDocument;for(let o=t||r.dom;o;){if(o.nodeType!=1){o=nf(o);continue}let l=o,c=l==a.body,f=c?Kae(a):Qae(l),v=0,y=0;if(e.top<f.top+rs(n,"top")?y=-(f.top-e.top+rs(i,"top")):e.bottom>f.bottom-rs(n,"bottom")&&(y=e.bottom-e.top>f.bottom-f.top?e.top+rs(i,"top")-f.top:e.bottom-f.bottom+rs(i,"bottom")),e.left<f.left+rs(n,"left")?v=-(f.left-e.left+rs(i,"left")):e.right>f.right-rs(n,"right")&&(v=e.right-f.right+rs(i,"right")),v||y)if(c)a.defaultView.scrollBy(v,y);else{let N=l.scrollLeft,E=l.scrollTop;y&&(l.scrollTop+=y),v&&(l.scrollLeft+=v);let P=l.scrollLeft-N,L=l.scrollTop-E;e={left:e.left-P,top:e.top-L,right:e.right-P,bottom:e.bottom-L}}let T=c?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(T))break;o=T=="absolute"?o.offsetParent:nf(o)}}function Xae(r){let e=r.dom.getBoundingClientRect(),t=Math.max(0,e.top),n,i;for(let a=(e.left+e.right)/2,o=t+1;o<Math.min(innerHeight,e.bottom);o+=5){let l=r.root.elementFromPoint(a,o);if(!l||l==r.dom||!r.dom.contains(l))continue;let c=l.getBoundingClientRect();if(c.top>=t-20){n=l,i=c.top;break}}return{refDOM:n,refTop:i,stack:WT(r.dom)}}function WT(r){let e=[],t=r.ownerDocument;for(let n=r;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),r!=t);n=nf(n));return e}function Yae({refDOM:r,refTop:e,stack:t}){let n=r?r.getBoundingClientRect().top:0;GT(t,n==0?0:n-e)}function GT(r,e){for(let t=0;t<r.length;t++){let{dom:n,top:i,left:a}=r[t];n.scrollTop!=i+e&&(n.scrollTop=i+e),n.scrollLeft!=a&&(n.scrollLeft=a)}}let zc=null;function Zae(r){if(r.setActive)return r.setActive();if(zc)return r.focus(zc);let e=WT(r);r.focus(zc==null?{get preventScroll(){return zc={preventScroll:!0},!0}}:void 0),zc||(zc=!1,GT(e,0))}function JT(r,e){let t,n=2e8,i,a=0,o=e.top,l=e.top,c,f;for(let v=r.firstChild,y=0;v;v=v.nextSibling,y++){let T;if(v.nodeType==1)T=v.getClientRects();else if(v.nodeType==3)T=as(v).getClientRects();else continue;for(let N=0;N<T.length;N++){let E=T[N];if(E.top<=o&&E.bottom>=l){o=Math.max(E.bottom,o),l=Math.min(E.top,l);let P=E.left>e.left?E.left-e.left:E.right<e.left?e.left-E.right:0;if(P<n){t=v,n=P,i=P&&t.nodeType==3?{left:E.right<e.left?E.right:E.left,top:e.top}:e,v.nodeType==1&&P&&(a=y+(e.left>=(E.left+E.right)/2?1:0));continue}}else E.top>e.top&&!c&&E.left<=e.left&&E.right>=e.left&&(c=v,f={left:Math.max(E.left,Math.min(E.right,e.left)),top:E.top});!t&&(e.left>=E.right&&e.top>=E.top||e.left>=E.left&&e.top>=E.bottom)&&(a=y+1)}}return!t&&c&&(t=c,i=f,n=0),t&&t.nodeType==3?eoe(t,i):!t||n&&t.nodeType==1?{node:r,offset:a}:JT(t,i)}function eoe(r,e){let t=r.nodeValue.length,n=document.createRange();for(let i=0;i<t;i++){n.setEnd(r,i+1),n.setStart(r,i);let a=$s(n,1);if(a.top!=a.bottom&&cw(e,a))return{node:r,offset:i+(e.left>=(a.left+a.right)/2?1:0)}}return{node:r,offset:0}}function cw(r,e){return r.left>=e.left-1&&r.left<=e.right+1&&r.top>=e.top-1&&r.top<=e.bottom+1}function toe(r,e){let t=r.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<r.getBoundingClientRect().left?t:r}function roe(r,e,t){let{node:n,offset:i}=JT(e,t),a=-1;if(n.nodeType==1&&!n.firstChild){let o=n.getBoundingClientRect();a=o.left!=o.right&&t.left>(o.left+o.right)/2?1:-1}return r.docView.posFromDOM(n,i,a)}function noe(r,e,t,n){let i=-1;for(let a=e,o=!1;a!=r.dom;){let l=r.docView.nearestDesc(a,!0),c;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((c=l.dom.getBoundingClientRect()).width||c.height)&&(l.node.isBlock&&l.parent&&(!o&&c.left>n.left||c.top>n.top?i=l.posBefore:(!o&&c.right<n.left||c.bottom<n.top)&&(i=l.posAfter),o=!0),!l.contentDOM&&i<0&&!l.node.isText))return(l.node.isBlock?n.top<(c.top+c.bottom)/2:n.left<(c.left+c.right)/2)?l.posBefore:l.posAfter;a=l.dom.parentNode}return i>-1?i:r.docView.posFromDOM(e,t,-1)}function KT(r,e,t){let n=r.childNodes.length;if(n&&t.top<t.bottom)for(let i=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-t.top)/(t.bottom-t.top))-2)),a=i;;){let o=r.childNodes[a];if(o.nodeType==1){let l=o.getClientRects();for(let c=0;c<l.length;c++){let f=l[c];if(cw(e,f))return KT(o,e,f)}}if((a=(a+1)%n)==i)break}return r}function ioe(r,e){let t=r.dom.ownerDocument,n,i=0,a=Wae(t,e.left,e.top);a&&({node:n,offset:i}=a);let o=(r.root.elementFromPoint?r.root:t).elementFromPoint(e.left,e.top),l;if(!o||!r.dom.contains(o.nodeType!=1?o.parentNode:o)){let f=r.dom.getBoundingClientRect();if(!cw(e,f)||(o=KT(r.dom,e,f),!o))return null}if(Di)for(let f=o;n&&f;f=nf(f))f.draggable&&(n=void 0);if(o=toe(o,e),n){if(Wa&&n.nodeType==1&&(i=Math.min(i,n.childNodes.length),i<n.childNodes.length)){let v=n.childNodes[i],y;v.nodeName=="IMG"&&(y=v.getBoundingClientRect()).right<=e.left&&y.bottom>e.top&&i++}let f;wh&&i&&n.nodeType==1&&(f=n.childNodes[i-1]).nodeType==1&&f.contentEditable=="false"&&f.getBoundingClientRect().top>=e.top&&i--,n==r.dom&&i==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?l=r.state.doc.content.size:(i==0||n.nodeType!=1||n.childNodes[i-1].nodeName!="BR")&&(l=noe(r,n,i,e))}l==null&&(l=roe(r,o,e));let c=r.docView.nearestDesc(o,!0);return{pos:l,inside:c?c.posAtStart-c.border:-1}}function T1(r){return r.top<r.bottom||r.left<r.right}function $s(r,e){let t=r.getClientRects();if(t.length){let n=t[e<0?0:t.length-1];if(T1(n))return n}return Array.prototype.find.call(t,T1)||r.getBoundingClientRect()}const aoe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function QT(r,e,t){let{node:n,offset:i,atom:a}=r.docView.domFromPos(e,t<0?-1:1),o=wh||Wa;if(n.nodeType==3)if(o&&(aoe.test(n.nodeValue)||(t<0?!i:i==n.nodeValue.length))){let c=$s(as(n,i,i),t);if(Wa&&i&&/\s/.test(n.nodeValue[i-1])&&i<n.nodeValue.length){let f=$s(as(n,i-1,i-1),-1);if(f.top==c.top){let v=$s(as(n,i,i+1),-1);if(v.top!=c.top)return Fd(v,v.left<f.left)}}return c}else{let c=i,f=i,v=t<0?1:-1;return t<0&&!i?(f++,v=-1):t>=0&&i==n.nodeValue.length?(c--,v=1):t<0?c--:f++,Fd($s(as(n,c,f),v),v<0)}if(!r.state.doc.resolve(e-(a||0)).parent.inlineContent){if(a==null&&i&&(t<0||i==Ta(n))){let c=n.childNodes[i-1];if(c.nodeType==1)return gy(c.getBoundingClientRect(),!1)}if(a==null&&i<Ta(n)){let c=n.childNodes[i];if(c.nodeType==1)return gy(c.getBoundingClientRect(),!0)}return gy(n.getBoundingClientRect(),t>=0)}if(a==null&&i&&(t<0||i==Ta(n))){let c=n.childNodes[i-1],f=c.nodeType==3?as(c,Ta(c)-(o?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(f)return Fd($s(f,1),!1)}if(a==null&&i<Ta(n)){let c=n.childNodes[i];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let f=c?c.nodeType==3?as(c,0,o?0:1):c.nodeType==1?c:null:null;if(f)return Fd($s(f,-1),!0)}return Fd($s(n.nodeType==3?as(n):n,-t),t>=0)}function Fd(r,e){if(r.width==0)return r;let t=e?r.left:r.right;return{top:r.top,bottom:r.bottom,left:t,right:t}}function gy(r,e){if(r.height==0)return r;let t=e?r.top:r.bottom;return{top:t,bottom:t,left:r.left,right:r.right}}function XT(r,e,t){let n=r.state,i=r.root.activeElement;n!=e&&r.updateState(e),i!=r.dom&&r.focus();try{return t()}finally{n!=e&&r.updateState(n),i!=r.dom&&i&&i.focus()}}function ooe(r,e,t){let n=e.selection,i=t=="up"?n.$from:n.$to;return XT(r,e,()=>{let{node:a}=r.docView.domFromPos(i.pos,t=="up"?-1:1);for(;;){let l=r.docView.nearestDesc(a,!0);if(!l)break;if(l.node.isBlock){a=l.contentDOM||l.dom;break}a=l.dom.parentNode}let o=QT(r,i.pos,1);for(let l=a.firstChild;l;l=l.nextSibling){let c;if(l.nodeType==1)c=l.getClientRects();else if(l.nodeType==3)c=as(l,0,l.nodeValue.length).getClientRects();else continue;for(let f=0;f<c.length;f++){let v=c[f];if(v.bottom>v.top+1&&(t=="up"?o.top-v.top>(v.bottom-o.top)*2:v.bottom-o.bottom>(o.bottom-v.top)*2))return!1}}return!0})}const soe=/[\u0590-\u08ac]/;function loe(r,e,t){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let i=n.parentOffset,a=!i,o=i==n.parent.content.size,l=r.domSelection();return l?!soe.test(n.parent.textContent)||!l.modify?t=="left"||t=="backward"?a:o:XT(r,e,()=>{let{focusNode:c,focusOffset:f,anchorNode:v,anchorOffset:y}=r.domSelectionRange(),T=l.caretBidiLevel;l.modify("move",t,"character");let N=n.depth?r.docView.domAfterPos(n.before()):r.dom,{focusNode:E,focusOffset:P}=r.domSelectionRange(),L=E&&!N.contains(E.nodeType==1?E:E.parentNode)||c==E&&f==P;try{l.collapse(v,y),c&&(c!=v||f!=y)&&l.extend&&l.extend(c,f)}catch{}return T!=null&&(l.caretBidiLevel=T),L}):n.pos==n.start()||n.pos==n.end()}let E1=null,N1=null,M1=!1;function uoe(r,e,t){return E1==e&&N1==t?M1:(E1=e,N1=t,M1=t=="up"||t=="down"?ooe(r,e,t):loe(r,e,t))}const Ea=0,O1=1,fu=2,Do=3;class bh{constructor(e,t,n,i){this.parent=e,this.children=t,this.dom=n,this.contentDOM=i,this.dirty=Ea,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let i=this.children[t];if(i==e)return n;n+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let a,o;if(e==this.contentDOM)a=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.previousSibling}for(;a&&!((o=a.pmViewDesc)&&o.parent==this);)a=a.previousSibling;return a?this.posBeforeChild(o)+o.size:this.posAtStart}else{let a,o;if(e==this.contentDOM)a=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.nextSibling}for(;a&&!((o=a.pmViewDesc)&&o.parent==this);)a=a.nextSibling;return a?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=t>Xn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let a=e;;a=a.parentNode){if(a==this.dom){i=!1;break}if(a.previousSibling)break}if(i==null&&t==e.childNodes.length)for(let a=e;;a=a.parentNode){if(a==this.dom){i=!0;break}if(a.nextSibling)break}}return i??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let n=!0,i=e;i;i=i.parentNode){let a=this.getDesc(i),o;if(a&&(!t||a.node))if(n&&(o=a.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))n=!1;else return a}}getDesc(e){let t=e.pmViewDesc;for(let n=t;n;n=n.parent)if(n==this)return t}posFromDOM(e,t,n){for(let i=e;i;i=i.parentNode){let a=this.getDesc(i);if(a)return a.localPosFromDOM(e,t,n)}return-1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let i=this.children[t],a=n+i.size;if(n==e&&a!=n){for(;!i.border&&i.children.length;)for(let o=0;o<i.children.length;o++){let l=i.children[o];if(l.size){i=l;break}}return i}if(e<a)return i.descAt(e-n-i.border);n=a}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,i=0;for(let a=0;n<this.children.length;n++){let o=this.children[n],l=a+o.size;if(l>e||o instanceof ZT){i=e-a;break}a=l}if(i)return this.children[n].domFromPos(i-this.children[n].border,t);for(let a;n&&!(a=this.children[n-1]).size&&a instanceof YT&&a.side>=0;n--);if(t<=0){let a,o=!0;for(;a=n?this.children[n-1]:null,!(!a||a.dom.parentNode==this.contentDOM);n--,o=!1);return a&&t&&o&&!a.border&&!a.domAtom?a.domFromPos(a.size,t):{node:this.contentDOM,offset:a?Xn(a.dom)+1:0}}else{let a,o=!0;for(;a=n<this.children.length?this.children[n]:null,!(!a||a.dom.parentNode==this.contentDOM);n++,o=!1);return a&&o&&!a.border&&!a.domAtom?a.domFromPos(0,t):{node:this.contentDOM,offset:a?Xn(a.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,a=-1;for(let o=n,l=0;;l++){let c=this.children[l],f=o+c.size;if(i==-1&&e<=f){let v=o+c.border;if(e>=v&&t<=f-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(e,t,v);e=o;for(let y=l;y>0;y--){let T=this.children[y-1];if(T.size&&T.dom.parentNode==this.contentDOM&&!T.emptyChildAt(1)){i=Xn(T.dom)+1;break}e-=T.size}i==-1&&(i=0)}if(i>-1&&(f>t||l==this.children.length-1)){t=f;for(let v=l+1;v<this.children.length;v++){let y=this.children[v];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(-1)){a=Xn(y.dom);break}t+=y.size}a==-1&&(a=this.contentDOM.childNodes.length);break}o=f}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:a}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(t.nodeType!=1||n==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n,i=!1){let a=Math.min(e,t),o=Math.max(e,t);for(let N=0,E=0;N<this.children.length;N++){let P=this.children[N],L=E+P.size;if(a>E&&o<L)return P.setSelection(e-E-P.border,t-E-P.border,n,i);E=L}let l=this.domFromPos(e,e?-1:1),c=t==e?l:this.domFromPos(t,t?-1:1),f=n.root.getSelection(),v=n.domSelectionRange(),y=!1;if((Wa||Di)&&e==t){let{node:N,offset:E}=l;if(N.nodeType==3){if(y=!!(E&&N.nodeValue[E-1]==`
`),y&&E==N.nodeValue.length)for(let P=N,L;P;P=P.parentNode){if(L=P.nextSibling){L.nodeName=="BR"&&(l=c={node:L.parentNode,offset:Xn(L)+1});break}let $=P.pmViewDesc;if($&&$.node&&$.node.isBlock)break}}else{let P=N.childNodes[E-1];y=P&&(P.nodeName=="BR"||P.contentEditable=="false")}}if(Wa&&v.focusNode&&v.focusNode!=c.node&&v.focusNode.nodeType==1){let N=v.focusNode.childNodes[v.focusOffset];N&&N.contentEditable=="false"&&(i=!0)}if(!(i||y&&Di)&&Su(l.node,l.offset,v.anchorNode,v.anchorOffset)&&Su(c.node,c.offset,v.focusNode,v.focusOffset))return;let T=!1;if((f.extend||e==t)&&!y){f.collapse(l.node,l.offset);try{e!=t&&f.extend(c.node,c.offset),T=!0}catch{}}if(!T){if(e>t){let E=l;l=c,c=E}let N=document.createRange();N.setEnd(c.node,c.offset),N.setStart(l.node,l.offset),f.removeAllRanges(),f.addRange(N)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,i=0;i<this.children.length;i++){let a=this.children[i],o=n+a.size;if(n==o?e<=o&&t>=n:e<o&&t>n){let l=n+a.border,c=o-a.border;if(e>=l&&t<=c){this.dirty=e==n||t==o?fu:O1,e==l&&t==c&&(a.contentLost||a.dom.parentNode!=this.contentDOM)?a.dirty=Do:a.markDirty(e-l,t-l);return}else a.dirty=a.dom==a.contentDOM&&a.dom.parentNode==this.contentDOM&&!a.children.length?fu:Do}n=o}this.dirty=fu}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=e==1?fu:O1;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class YT extends bh{constructor(e,t,n,i){let a,o=t.type.toDOM;if(typeof o=="function"&&(o=o(n,()=>{if(!a)return i;if(a.parent)return a.parent.posBeforeChild(a)})),!t.type.spec.raw){if(o.nodeType!=1){let l=document.createElement("span");l.appendChild(o),o=l}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=t,this.widget=t,a=this}matchesWidget(e){return this.dirty==Ea&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class coe extends bh{constructor(e,t,n,i){super(e,[],t,null),this.textDOM=n,this.text=i}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class xu extends bh{constructor(e,t,n,i,a){super(e,[],n,i),this.mark=t,this.spec=a}static create(e,t,n,i){let a=i.nodeViews[t.type.name],o=a&&a(t,i,n);return(!o||!o.dom)&&(o=kf.renderSpec(document,t.type.spec.toDOM(t,n),null,t.attrs)),new xu(e,t,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&Do||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Do&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=Ea){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=Ea}}slice(e,t,n){let i=xu.create(this.parent,this.mark,!0,n),a=this.children,o=this.size;t<o&&(a=w0(a,t,o,n)),e>0&&(a=w0(a,0,e,n));for(let l=0;l<a.length;l++)a[l].parent=i;return i.children=a,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class tl extends bh{constructor(e,t,n,i,a,o,l,c,f){super(e,[],a,o),this.node=t,this.outerDeco=n,this.innerDeco=i,this.nodeDOM=l}static create(e,t,n,i,a,o){let l=a.nodeViews[t.type.name],c,f=l&&l(t,a,()=>{if(!c)return o;if(c.parent)return c.parent.posBeforeChild(c)},n,i),v=f&&f.dom,y=f&&f.contentDOM;if(t.isText){if(!v)v=document.createTextNode(t.text);else if(v.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else v||({dom:v,contentDOM:y}=kf.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!y&&!t.isText&&v.nodeName!="BR"&&(v.hasAttribute("contenteditable")||(v.contentEditable="false"),t.type.spec.draggable&&(v.draggable=!0));let T=v;return v=rE(v,n,t),f?c=new foe(e,t,n,i,v,y||null,T,f,a,o+1):t.isText?new km(e,t,n,i,v,T,a):new tl(e,t,n,i,v,y||null,T,a,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let n=this.children[t];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>nt.empty)}return e}matchesNode(e,t,n){return this.dirty==Ea&&e.eq(this.node)&&Fv(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let n=this.node.inlineContent,i=t,a=e.composing?this.localCompositionInfo(e,t):null,o=a&&a.pos>-1?a:null,l=a&&a.pos<0,c=new hoe(this,o&&o.node,e);moe(this.node,this.innerDeco,(f,v,y)=>{f.spec.marks?c.syncToMarks(f.spec.marks,n,e):f.type.side>=0&&!y&&c.syncToMarks(v==this.node.childCount?Mr.none:this.node.child(v).marks,n,e),c.placeWidget(f,e,i)},(f,v,y,T)=>{c.syncToMarks(f.marks,n,e);let N;c.findNodeMatch(f,v,y,T)||l&&e.state.selection.from>i&&e.state.selection.to<i+f.nodeSize&&(N=c.findIndexWithChild(a.node))>-1&&c.updateNodeAt(f,v,y,N,e)||c.updateNextNode(f,v,y,e,T,i)||c.addNode(f,v,y,e,i),i+=f.nodeSize}),c.syncToMarks([],n,e),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==fu)&&(o&&this.protectLocalComposition(e,o),eE(this.contentDOM,this.children,e),af&&goe(this.dom))}localCompositionInfo(e,t){let{from:n,to:i}=e.state.selection;if(!(e.state.selection instanceof vr)||n<t||i>t+this.node.content.size)return null;let a=e.input.compositionNode;if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let o=a.nodeValue,l=yoe(this.node.content,o,n-t,i-t);return l<0?null:{node:a,pos:l,text:o}}else return{node:a,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:n,text:i}){if(this.getDesc(t))return;let a=t;for(;a.parentNode!=this.contentDOM;a=a.parentNode){for(;a.previousSibling;)a.parentNode.removeChild(a.previousSibling);for(;a.nextSibling;)a.parentNode.removeChild(a.nextSibling);a.pmViewDesc&&(a.pmViewDesc=void 0)}let o=new coe(this,a,t,i);e.input.compositionNodes.push(o),this.children=w0(this.children,n,n+i.length,e,o)}update(e,t,n,i){return this.dirty==Do||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,n,i),!0)}updateInner(e,t,n,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Ea}updateOuterDeco(e){if(Fv(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=tE(this.dom,this.nodeDOM,y0(this.outerDeco,this.node,t),y0(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function D1(r,e,t,n,i){rE(n,e,r);let a=new tl(void 0,r,e,t,n,n,n,i,0);return a.contentDOM&&a.updateChildren(i,0),a}class km extends tl{constructor(e,t,n,i,a,o,l){super(e,t,n,i,a,null,o,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,n,i){return this.dirty==Do||this.dirty!=Ea&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=Ea||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Ea,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,n){let i=this.node.cut(e,t),a=document.createTextNode(i.text);return new km(this.parent,i,this.outerDeco,this.innerDeco,a,a,n)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=Do)}get domAtom(){return!1}isText(e){return this.node.text==e}}class ZT extends bh{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Ea&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class foe extends tl{constructor(e,t,n,i,a,o,l,c,f,v){super(e,t,n,i,a,o,l,f,v),this.spec=c}update(e,t,n,i){if(this.dirty==Do)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let a=this.spec.update(e,t,n);return a&&this.updateInner(e,t,n,i),a}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,n,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,i){this.spec.setSelection?this.spec.setSelection(e,t,n.root):super.setSelection(e,t,n,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function eE(r,e,t){let n=r.firstChild,i=!1;for(let a=0;a<e.length;a++){let o=e[a],l=o.dom;if(l.parentNode==r){for(;l!=n;)n=A1(n),i=!0;n=n.nextSibling}else i=!0,r.insertBefore(l,n);if(o instanceof xu){let c=n?n.previousSibling:r.lastChild;eE(o.contentDOM,o.children,t),n=c?c.nextSibling:r.firstChild}}for(;n;)n=A1(n),i=!0;i&&t.trackWrites==r&&(t.trackWrites=null)}const Xd=function(r){r&&(this.nodeName=r)};Xd.prototype=Object.create(null);const du=[new Xd];function y0(r,e,t){if(r.length==0)return du;let n=t?du[0]:new Xd,i=[n];for(let a=0;a<r.length;a++){let o=r[a].type.attrs;if(o){o.nodeName&&i.push(n=new Xd(o.nodeName));for(let l in o){let c=o[l];c!=null&&(t&&i.length==1&&i.push(n=new Xd(e.isInline?"span":"div")),l=="class"?n.class=(n.class?n.class+" ":"")+c:l=="style"?n.style=(n.style?n.style+";":"")+c:l!="nodeName"&&(n[l]=c))}}}return i}function tE(r,e,t,n){if(t==du&&n==du)return e;let i=e;for(let a=0;a<n.length;a++){let o=n[a],l=t[a];if(a){let c;l&&l.nodeName==o.nodeName&&i!=r&&(c=i.parentNode)&&c.nodeName.toLowerCase()==o.nodeName||(c=document.createElement(o.nodeName),c.pmIsDeco=!0,c.appendChild(i),l=du[0]),i=c}doe(i,l||du[0],o)}return i}function doe(r,e,t){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in t)&&r.removeAttribute(n);for(let n in t)n!="class"&&n!="style"&&n!="nodeName"&&t[n]!=e[n]&&r.setAttribute(n,t[n]);if(e.class!=t.class){let n=e.class?e.class.split(" ").filter(Boolean):[],i=t.class?t.class.split(" ").filter(Boolean):[];for(let a=0;a<n.length;a++)i.indexOf(n[a])==-1&&r.classList.remove(n[a]);for(let a=0;a<i.length;a++)n.indexOf(i[a])==-1&&r.classList.add(i[a]);r.classList.length==0&&r.removeAttribute("class")}if(e.style!=t.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=n.exec(e.style);)r.style.removeProperty(i[1])}t.style&&(r.style.cssText+=t.style)}}function rE(r,e,t){return tE(r,r,du,y0(e,t,r.nodeType!=1))}function Fv(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(!r[t].type.eq(e[t].type))return!1;return!0}function A1(r){let e=r.nextSibling;return r.parentNode.removeChild(r),e}class hoe{constructor(e,t,n){this.lock=t,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=poe(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n){let i=0,a=this.stack.length>>1,o=Math.min(a,e.length);for(;i<o&&(i==a-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<a;)this.destroyRest(),this.top.dirty=Ea,this.index=this.stack.pop(),this.top=this.stack.pop(),a--;for(;a<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++){let f=this.top.children[c];if(f.matchesMark(e[a])&&!this.isLocked(f.dom)){l=c;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let c=xu.create(this.top,e[a],t,n);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,a++}}findNodeMatch(e,t,n,i){let a=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,n))a=this.top.children.indexOf(o,this.index);else for(let l=this.index,c=Math.min(this.top.children.length,l+5);l<c;l++){let f=this.top.children[l];if(f.matchesNode(e,t,n)&&!this.preMatch.matched.has(f)){a=l;break}}return a<0?!1:(this.destroyBetween(this.index,a),this.index++,!0)}updateNodeAt(e,t,n,i,a){let o=this.top.children[i];return o.dirty==Do&&o.dom==o.contentDOM&&(o.dirty=fu),o.update(e,t,n,a)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==n)return i}return-1}e=t}}updateNextNode(e,t,n,i,a,o){for(let l=this.index;l<this.top.children.length;l++){let c=this.top.children[l];if(c instanceof tl){let f=this.preMatch.matched.get(c);if(f!=null&&f!=a)return!1;let v=c.dom,y,T=this.isLocked(v)&&!(e.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==e.text&&c.dirty!=Do&&Fv(t,c.outerDeco));if(!T&&c.update(e,t,n,i))return this.destroyBetween(this.index,l),c.dom!=v&&(this.changed=!0),this.index++,!0;if(!T&&(y=this.recreateWrapper(c,e,t,n,i,o)))return this.destroyBetween(this.index,l),this.top.children[this.index]=y,y.contentDOM&&(y.dirty=fu,y.updateChildren(i,o+1),y.dirty=Ea),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,n,i,a,o){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!Fv(n,e.outerDeco)||!i.eq(e.innerDeco))return null;let l=tl.create(this.top,t,n,i,a,o);if(l.contentDOM){l.children=e.children,e.children=[];for(let c of l.children)c.parent=l}return e.destroy(),l}addNode(e,t,n,i,a){let o=tl.create(this.top,e,t,n,i,a);o.contentDOM&&o.updateChildren(i,a+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,t,n){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let a=new YT(this.top,e,t,n);this.top.children.splice(this.index++,0,a),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof xu;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof km)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Di||mi)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let i=new ZT(this.top,[],n,null);t!=this.top?t.children.push(i):t.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function poe(r,e){let t=e,n=t.children.length,i=r.childCount,a=new Map,o=[];e:for(;i>0;){let l;for(;;)if(n){let f=t.children[n-1];if(f instanceof xu)t=f,n=f.children.length;else{l=f,n--;break}}else{if(t==e)break e;n=t.parent.children.indexOf(t),t=t.parent}let c=l.node;if(c){if(c!=r.child(i-1))break;--i,a.set(l,i),o.push(l)}}return{index:i,matched:a,matches:o.reverse()}}function voe(r,e){return r.type.side-e.type.side}function moe(r,e,t,n){let i=e.locals(r),a=0;if(i.length==0){for(let f=0;f<r.childCount;f++){let v=r.child(f);n(v,i,e.forChild(a,v),f),a+=v.nodeSize}return}let o=0,l=[],c=null;for(let f=0;;){let v,y;for(;o<i.length&&i[o].to==a;){let L=i[o++];L.widget&&(v?(y||(y=[v])).push(L):v=L)}if(v)if(y){y.sort(voe);for(let L=0;L<y.length;L++)t(y[L],f,!!c)}else t(v,f,!!c);let T,N;if(c)N=-1,T=c,c=null;else if(f<r.childCount)N=f,T=r.child(f++);else break;for(let L=0;L<l.length;L++)l[L].to<=a&&l.splice(L--,1);for(;o<i.length&&i[o].from<=a&&i[o].to>a;)l.push(i[o++]);let E=a+T.nodeSize;if(T.isText){let L=E;o<i.length&&i[o].from<L&&(L=i[o].from);for(let $=0;$<l.length;$++)l[$].to<L&&(L=l[$].to);L<E&&(c=T.cut(L-a),T=T.cut(0,L-a),E=L,N=-1)}else for(;o<i.length&&i[o].to<E;)o++;let P=T.isInline&&!T.isLeaf?l.filter(L=>!L.inline):l.slice();n(T,P,e.forChild(a,T),N),a=E}}function goe(r){if(r.nodeName=="UL"||r.nodeName=="OL"){let e=r.style.cssText;r.style.cssText=e+"; list-style: square !important",window.getComputedStyle(r).listStyle,r.style.cssText=e}}function yoe(r,e,t,n){for(let i=0,a=0;i<r.childCount&&a<=n;){let o=r.child(i++),l=a;if(a+=o.nodeSize,!o.isText)continue;let c=o.text;for(;i<r.childCount;){let f=r.child(i++);if(a+=f.nodeSize,!f.isText)break;c+=f.text}if(a>=t){if(a>=n&&c.slice(n-e.length-l,n-l)==e)return n-e.length;let f=l<n?c.lastIndexOf(e,n-l-1):-1;if(f>=0&&f+e.length+l>=t)return l+f;if(t==n&&c.length>=n+e.length-l&&c.slice(n-l,n-l+e.length)==e)return n}}return-1}function w0(r,e,t,n,i){let a=[];for(let o=0,l=0;o<r.length;o++){let c=r[o],f=l,v=l+=c.size;f>=t||v<=e?a.push(c):(f<e&&a.push(c.slice(0,e-f,n)),i&&(a.push(i),i=void 0),v>t&&a.push(c.slice(t-f,c.size,n)))}return a}function fw(r,e=null){let t=r.domSelectionRange(),n=r.state.doc;if(!t.focusNode)return null;let i=r.docView.nearestDesc(t.focusNode),a=i&&i.size==0,o=r.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(o<0)return null;let l=n.resolve(o),c,f;if(bm(t)){for(c=o;i&&!i.node;)i=i.parent;let y=i.node;if(i&&y.isAtom&&er.isSelectable(y)&&i.parent&&!(y.isInline&&Uae(t.focusNode,t.focusOffset,i.dom))){let T=i.posBefore;f=new er(o==T?l:n.resolve(T))}}else{if(t instanceof r.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let y=o,T=o;for(let N=0;N<t.rangeCount;N++){let E=t.getRangeAt(N);y=Math.min(y,r.docView.posFromDOM(E.startContainer,E.startOffset,1)),T=Math.max(T,r.docView.posFromDOM(E.endContainer,E.endOffset,-1))}if(y<0)return null;[c,o]=T==r.state.selection.anchor?[T,y]:[y,T],l=n.resolve(o)}else c=r.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(c<0)return null}let v=n.resolve(c);if(!f){let y=e=="pointer"||r.state.selection.head<l.pos&&!a?1:-1;f=dw(r,v,l,y)}return f}function nE(r){return r.editable?r.hasFocus():aE(r)&&document.activeElement&&document.activeElement.contains(r.dom)}function fs(r,e=!1){let t=r.state.selection;if(iE(r,t),!!nE(r)){if(!e&&r.input.mouseDown&&r.input.mouseDown.allowDefault&&mi){let n=r.domSelectionRange(),i=r.domObserver.currentSelection;if(n.anchorNode&&i.anchorNode&&Su(n.anchorNode,n.anchorOffset,i.anchorNode,i.anchorOffset)){r.input.mouseDown.delayedSelectionSync=!0,r.domObserver.setCurSelection();return}}if(r.domObserver.disconnectSelection(),r.cursorWrapper)boe(r);else{let{anchor:n,head:i}=t,a,o;L1&&!(t instanceof vr)&&(t.$from.parent.inlineContent||(a=R1(r,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(o=R1(r,t.to))),r.docView.setSelection(n,i,r,e),L1&&(a&&I1(a),o&&I1(o)),t.visible?r.dom.classList.remove("ProseMirror-hideselection"):(r.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&woe(r))}r.domObserver.setCurSelection(),r.domObserver.connectSelection()}}const L1=Di||mi&&jT<63;function R1(r,e){let{node:t,offset:n}=r.docView.domFromPos(e,0),i=n<t.childNodes.length?t.childNodes[n]:null,a=n?t.childNodes[n-1]:null;if(Di&&i&&i.contentEditable=="false")return yy(i);if((!i||i.contentEditable=="false")&&(!a||a.contentEditable=="false")){if(i)return yy(i);if(a)return yy(a)}}function yy(r){return r.contentEditable="true",Di&&r.draggable&&(r.draggable=!1,r.wasDraggable=!0),r}function I1(r){r.contentEditable="false",r.wasDraggable&&(r.draggable=!0,r.wasDraggable=null)}function woe(r){let e=r.dom.ownerDocument;e.removeEventListener("selectionchange",r.input.hideSelectionGuard);let t=r.domSelectionRange(),n=t.anchorNode,i=t.anchorOffset;e.addEventListener("selectionchange",r.input.hideSelectionGuard=()=>{(t.anchorNode!=n||t.anchorOffset!=i)&&(e.removeEventListener("selectionchange",r.input.hideSelectionGuard),setTimeout(()=>{(!nE(r)||r.state.selection.visible)&&r.dom.classList.remove("ProseMirror-hideselection")},20))})}function boe(r){let e=r.domSelection(),t=document.createRange();if(!e)return;let n=r.cursorWrapper.dom,i=n.nodeName=="IMG";i?t.setStart(n.parentNode,Xn(n)+1):t.setStart(n,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!i&&!r.state.selection.visible&&Ji&&el<=11&&(n.disabled=!0,n.disabled=!1)}function iE(r,e){if(e instanceof er){let t=r.docView.descAt(e.from);t!=r.lastSelectedViewDesc&&(P1(r),t&&t.selectNode(),r.lastSelectedViewDesc=t)}else P1(r)}function P1(r){r.lastSelectedViewDesc&&(r.lastSelectedViewDesc.parent&&r.lastSelectedViewDesc.deselectNode(),r.lastSelectedViewDesc=void 0)}function dw(r,e,t,n){return r.someProp("createSelectionBetween",i=>i(r,e,t))||vr.between(e,t,n)}function B1(r){return r.editable&&!r.hasFocus()?!1:aE(r)}function aE(r){let e=r.domSelectionRange();if(!e.anchorNode)return!1;try{return r.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(r.editable||r.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function koe(r){let e=r.docView.domFromPos(r.state.selection.anchor,0),t=r.domSelectionRange();return Su(e.node,e.offset,t.anchorNode,t.anchorOffset)}function b0(r,e){let{$anchor:t,$head:n}=r.selection,i=e>0?t.max(n):t.min(n),a=i.parent.inlineContent?i.depth?r.doc.resolve(e>0?i.after():i.before()):null:i;return a&&fr.findFrom(a,e)}function Vs(r,e){return r.dispatch(r.state.tr.setSelection(e).scrollIntoView()),!0}function _1(r,e,t){let n=r.state.selection;if(n instanceof vr)if(t.indexOf("s")>-1){let{$head:i}=n,a=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!a||a.isText||!a.isLeaf)return!1;let o=r.state.doc.resolve(i.pos+a.nodeSize*(e<0?-1:1));return Vs(r,new vr(n.$anchor,o))}else if(n.empty){if(r.endOfTextblock(e>0?"forward":"backward")){let i=b0(r.state,e);return i&&i instanceof er?Vs(r,i):!1}else if(!(xa&&t.indexOf("m")>-1)){let i=n.$head,a=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!a||a.isText)return!1;let l=e<0?i.pos-a.nodeSize:i.pos;return a.isAtom||(o=r.docView.descAt(l))&&!o.contentDOM?er.isSelectable(a)?Vs(r,new er(e<0?r.state.doc.resolve(i.pos-a.nodeSize):i)):wh?Vs(r,new vr(r.state.doc.resolve(e<0?l:l+a.nodeSize))):!1:!1}}else return!1;else{if(n instanceof er&&n.node.isInline)return Vs(r,new vr(e>0?n.$to:n.$from));{let i=b0(r.state,e);return i?Vs(r,i):!1}}}function qv(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function Yd(r,e){let t=r.pmViewDesc;return t&&t.size==0&&(e<0||r.nextSibling||r.nodeName!="BR")}function $c(r,e){return e<0?Coe(r):Soe(r)}function Coe(r){let e=r.domSelectionRange(),t=e.focusNode,n=e.focusOffset;if(!t)return;let i,a,o=!1;for(Wa&&t.nodeType==1&&n<qv(t)&&Yd(t.childNodes[n],-1)&&(o=!0);;)if(n>0){if(t.nodeType!=1)break;{let l=t.childNodes[n-1];if(Yd(l,-1))i=t,a=--n;else if(l.nodeType==3)t=l,n=t.nodeValue.length;else break}}else{if(oE(t))break;{let l=t.previousSibling;for(;l&&Yd(l,-1);)i=t.parentNode,a=Xn(l),l=l.previousSibling;if(l)t=l,n=qv(t);else{if(t=t.parentNode,t==r.dom)break;n=0}}}o?k0(r,t,n):i&&k0(r,i,a)}function Soe(r){let e=r.domSelectionRange(),t=e.focusNode,n=e.focusOffset;if(!t)return;let i=qv(t),a,o;for(;;)if(n<i){if(t.nodeType!=1)break;let l=t.childNodes[n];if(Yd(l,1))a=t,o=++n;else break}else{if(oE(t))break;{let l=t.nextSibling;for(;l&&Yd(l,1);)a=l.parentNode,o=Xn(l)+1,l=l.nextSibling;if(l)t=l,n=0,i=qv(t);else{if(t=t.parentNode,t==r.dom)break;n=i=0}}}a&&k0(r,a,o)}function oE(r){let e=r.pmViewDesc;return e&&e.node&&e.node.isBlock}function xoe(r,e){for(;r&&e==r.childNodes.length&&!yh(r);)e=Xn(r)+1,r=r.parentNode;for(;r&&e<r.childNodes.length;){let t=r.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;r=t,e=0}}function Toe(r,e){for(;r&&!e&&!yh(r);)e=Xn(r),r=r.parentNode;for(;r&&e;){let t=r.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;r=t,e=r.childNodes.length}}function k0(r,e,t){if(e.nodeType!=3){let a,o;(o=xoe(e,t))?(e=o,t=0):(a=Toe(e,t))&&(e=a,t=a.nodeValue.length)}let n=r.domSelection();if(!n)return;if(bm(n)){let a=document.createRange();a.setEnd(e,t),a.setStart(e,t),n.removeAllRanges(),n.addRange(a)}else n.extend&&n.extend(e,t);r.domObserver.setCurSelection();let{state:i}=r;setTimeout(()=>{r.state==i&&fs(r)},50)}function F1(r,e){let t=r.state.doc.resolve(e);if(!(mi||Gae)&&t.parent.inlineContent){let i=r.coordsAtPos(e);if(e>t.start()){let a=r.coordsAtPos(e-1),o=(a.top+a.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(a.left-i.left)>1)return a.left<i.left?"ltr":"rtl"}if(e<t.end()){let a=r.coordsAtPos(e+1),o=(a.top+a.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(a.left-i.left)>1)return a.left>i.left?"ltr":"rtl"}}return getComputedStyle(r.dom).direction=="rtl"?"rtl":"ltr"}function q1(r,e,t){let n=r.state.selection;if(n instanceof vr&&!n.empty||t.indexOf("s")>-1||xa&&t.indexOf("m")>-1)return!1;let{$from:i,$to:a}=n;if(!i.parent.inlineContent||r.endOfTextblock(e<0?"up":"down")){let o=b0(r.state,e);if(o&&o instanceof er)return Vs(r,o)}if(!i.parent.inlineContent){let o=e<0?i:a,l=n instanceof Oi?fr.near(o,e):fr.findFrom(o,e);return l?Vs(r,l):!1}return!1}function H1(r,e){if(!(r.state.selection instanceof vr))return!0;let{$head:t,$anchor:n,empty:i}=r.state.selection;if(!t.sameParent(n))return!0;if(!i)return!1;if(r.endOfTextblock(e>0?"forward":"backward"))return!0;let a=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(a&&!a.isText){let o=r.state.tr;return e<0?o.delete(t.pos-a.nodeSize,t.pos):o.delete(t.pos,t.pos+a.nodeSize),r.dispatch(o),!0}return!1}function z1(r,e,t){r.domObserver.stop(),e.contentEditable=t,r.domObserver.start()}function Eoe(r){if(!Di||r.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=r.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;z1(r,n,"true"),setTimeout(()=>z1(r,n,"false"),20)}return!1}function Noe(r){let e="";return r.ctrlKey&&(e+="c"),r.metaKey&&(e+="m"),r.altKey&&(e+="a"),r.shiftKey&&(e+="s"),e}function Moe(r,e){let t=e.keyCode,n=Noe(e);if(t==8||xa&&t==72&&n=="c")return H1(r,-1)||$c(r,-1);if(t==46&&!e.shiftKey||xa&&t==68&&n=="c")return H1(r,1)||$c(r,1);if(t==13||t==27)return!0;if(t==37||xa&&t==66&&n=="c"){let i=t==37?F1(r,r.state.selection.from)=="ltr"?-1:1:-1;return _1(r,i,n)||$c(r,i)}else if(t==39||xa&&t==70&&n=="c"){let i=t==39?F1(r,r.state.selection.from)=="ltr"?1:-1:1;return _1(r,i,n)||$c(r,i)}else{if(t==38||xa&&t==80&&n=="c")return q1(r,-1,n)||$c(r,-1);if(t==40||xa&&t==78&&n=="c")return Eoe(r)||q1(r,1,n)||$c(r,1);if(n==(xa?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function hw(r,e){r.someProp("transformCopied",N=>{e=N(e,r)});let t=[],{content:n,openStart:i,openEnd:a}=e;for(;i>1&&a>1&&n.childCount==1&&n.firstChild.childCount==1;){i--,a--;let N=n.firstChild;t.push(N.type.name,N.attrs!=N.type.defaultAttrs?N.attrs:null),n=N.content}let o=r.someProp("clipboardSerializer")||kf.fromSchema(r.state.schema),l=dE(),c=l.createElement("div");c.appendChild(o.serializeFragment(n,{document:l}));let f=c.firstChild,v,y=0;for(;f&&f.nodeType==1&&(v=fE[f.nodeName.toLowerCase()]);){for(let N=v.length-1;N>=0;N--){let E=l.createElement(v[N]);for(;c.firstChild;)E.appendChild(c.firstChild);c.appendChild(E),y++}f=c.firstChild}f&&f.nodeType==1&&f.setAttribute("data-pm-slice",`${i} ${a}${y?` -${y}`:""} ${JSON.stringify(t)}`);let T=r.someProp("clipboardTextSerializer",N=>N(e,r))||e.content.textBetween(0,e.content.size,`

`);return{dom:c,text:T,slice:e}}function sE(r,e,t,n,i){let a=i.parent.type.spec.code,o,l;if(!t&&!e)return null;let c=e&&(n||a||!t);if(c){if(r.someProp("transformPastedText",T=>{e=T(e,a||n,r)}),a)return e?new gt(nt.from(r.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):gt.empty;let y=r.someProp("clipboardTextParser",T=>T(e,i,n,r));if(y)l=y;else{let T=i.marks(),{schema:N}=r.state,E=kf.fromSchema(N);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(P=>{let L=o.appendChild(document.createElement("p"));P&&L.appendChild(E.serializeNode(N.text(P,T)))})}}else r.someProp("transformPastedHTML",y=>{t=y(t,r)}),o=Loe(t),wh&&Roe(o);let f=o&&o.querySelector("[data-pm-slice]"),v=f&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(f.getAttribute("data-pm-slice")||"");if(v&&v[3])for(let y=+v[3];y>0;y--){let T=o.firstChild;for(;T&&T.nodeType!=1;)T=T.nextSibling;if(!T)break;o=T}if(l||(l=(r.someProp("clipboardParser")||r.someProp("domParser")||ku.fromSchema(r.state.schema)).parseSlice(o,{preserveWhitespace:!!(c||v),context:i,ruleFromNode(T){return T.nodeName=="BR"&&!T.nextSibling&&T.parentNode&&!Ooe.test(T.parentNode.nodeName)?{ignore:!0}:null}})),v)l=Ioe($1(l,+v[1],+v[2]),v[4]);else if(l=gt.maxOpen(Doe(l.content,i),!0),l.openStart||l.openEnd){let y=0,T=0;for(let N=l.content.firstChild;y<l.openStart&&!N.type.spec.isolating;y++,N=N.firstChild);for(let N=l.content.lastChild;T<l.openEnd&&!N.type.spec.isolating;T++,N=N.lastChild);l=$1(l,y,T)}return r.someProp("transformPasted",y=>{l=y(l,r)}),l}const Ooe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Doe(r,e){if(r.childCount<2)return r;for(let t=e.depth;t>=0;t--){let i=e.node(t).contentMatchAt(e.index(t)),a,o=[];if(r.forEach(l=>{if(!o)return;let c=i.findWrapping(l.type),f;if(!c)return o=null;if(f=o.length&&a.length&&uE(c,a,l,o[o.length-1],0))o[o.length-1]=f;else{o.length&&(o[o.length-1]=cE(o[o.length-1],a.length));let v=lE(l,c);o.push(v),i=i.matchType(v.type),a=c}}),o)return nt.from(o)}return r}function lE(r,e,t=0){for(let n=e.length-1;n>=t;n--)r=e[n].create(null,nt.from(r));return r}function uE(r,e,t,n,i){if(i<r.length&&i<e.length&&r[i]==e[i]){let a=uE(r,e,t,n.lastChild,i+1);if(a)return n.copy(n.content.replaceChild(n.childCount-1,a));if(n.contentMatchAt(n.childCount).matchType(i==r.length-1?t.type:r[i+1]))return n.copy(n.content.append(nt.from(lE(t,r,i+1))))}}function cE(r,e){if(e==0)return r;let t=r.content.replaceChild(r.childCount-1,cE(r.lastChild,e-1)),n=r.contentMatchAt(r.childCount).fillBefore(nt.empty,!0);return r.copy(t.append(n))}function C0(r,e,t,n,i,a){let o=e<0?r.firstChild:r.lastChild,l=o.content;return r.childCount>1&&(a=0),i<n-1&&(l=C0(l,e,t,n,i+1,a)),i>=t&&(l=e<0?o.contentMatchAt(0).fillBefore(l,a<=i).append(l):l.append(o.contentMatchAt(o.childCount).fillBefore(nt.empty,!0))),r.replaceChild(e<0?0:r.childCount-1,o.copy(l))}function $1(r,e,t){return e<r.openStart&&(r=new gt(C0(r.content,-1,e,r.openStart,0,r.openEnd),e,r.openEnd)),t<r.openEnd&&(r=new gt(C0(r.content,1,t,r.openEnd,0,0),r.openStart,t)),r}const fE={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let V1=null;function dE(){return V1||(V1=document.implementation.createHTMLDocument("title"))}let wy=null;function Aoe(r){let e=window.trustedTypes;return e?(wy||(wy=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),wy.createHTML(r)):r}function Loe(r){let e=/^(\s*<meta [^>]*>)*/.exec(r);e&&(r=r.slice(e[0].length));let t=dE().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(r),i;if((i=n&&fE[n[1].toLowerCase()])&&(r=i.map(a=>"<"+a+">").join("")+r+i.map(a=>"</"+a+">").reverse().join("")),t.innerHTML=Aoe(r),i)for(let a=0;a<i.length;a++)t=t.querySelector(i[a])||t;return t}function Roe(r){let e=r.querySelectorAll(mi?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let n=e[t];n.childNodes.length==1&&n.textContent==""&&n.parentNode&&n.parentNode.replaceChild(r.ownerDocument.createTextNode(" "),n)}}function Ioe(r,e){if(!r.size)return r;let t=r.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return r}let{content:i,openStart:a,openEnd:o}=r;for(let l=n.length-2;l>=0;l-=2){let c=t.nodes[n[l]];if(!c||c.hasRequiredAttrs())break;i=nt.from(c.create(n[l+1],i)),a++,o++}return new gt(i,a,o)}const Ai={},Li={},Poe={touchstart:!0,touchmove:!0};class Boe{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function _oe(r){for(let e in Ai){let t=Ai[e];r.dom.addEventListener(e,r.input.eventHandlers[e]=n=>{qoe(r,n)&&!pw(r,n)&&(r.editable||!(n.type in Li))&&t(r,n)},Poe[e]?{passive:!0}:void 0)}Di&&r.dom.addEventListener("input",()=>null),S0(r)}function Qs(r,e){r.input.lastSelectionOrigin=e,r.input.lastSelectionTime=Date.now()}function Foe(r){r.domObserver.stop();for(let e in r.input.eventHandlers)r.dom.removeEventListener(e,r.input.eventHandlers[e]);clearTimeout(r.input.composingTimeout),clearTimeout(r.input.lastIOSEnterFallbackTimeout)}function S0(r){r.someProp("handleDOMEvents",e=>{for(let t in e)r.input.eventHandlers[t]||r.dom.addEventListener(t,r.input.eventHandlers[t]=n=>pw(r,n))})}function pw(r,e){return r.someProp("handleDOMEvents",t=>{let n=t[e.type];return n?n(r,e)||e.defaultPrevented:!1})}function qoe(r,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=r.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function Hoe(r,e){!pw(r,e)&&Ai[e.type]&&(r.editable||!(e.type in Li))&&Ai[e.type](r,e)}Li.keydown=(r,e)=>{let t=e;if(r.input.shiftKey=t.keyCode==16||t.shiftKey,!pE(r,t)&&(r.input.lastKeyCode=t.keyCode,r.input.lastKeyCodeTime=Date.now(),!(us&&mi&&t.keyCode==13)))if(t.keyCode!=229&&r.domObserver.forceFlush(),af&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let n=Date.now();r.input.lastIOSEnter=n,r.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{r.input.lastIOSEnter==n&&(r.someProp("handleKeyDown",i=>i(r,lu(13,"Enter"))),r.input.lastIOSEnter=0)},200)}else r.someProp("handleKeyDown",n=>n(r,t))||Moe(r,t)?t.preventDefault():Qs(r,"key")};Li.keyup=(r,e)=>{e.keyCode==16&&(r.input.shiftKey=!1)};Li.keypress=(r,e)=>{let t=e;if(pE(r,t)||!t.charCode||t.ctrlKey&&!t.altKey||xa&&t.metaKey)return;if(r.someProp("handleKeyPress",i=>i(r,t))){t.preventDefault();return}let n=r.state.selection;if(!(n instanceof vr)||!n.$from.sameParent(n.$to)){let i=String.fromCharCode(t.charCode),a=()=>r.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!r.someProp("handleTextInput",o=>o(r,n.$from.pos,n.$to.pos,i,a))&&r.dispatch(a()),t.preventDefault()}};function Cm(r){return{left:r.clientX,top:r.clientY}}function zoe(r,e){let t=e.x-r.clientX,n=e.y-r.clientY;return t*t+n*n<100}function vw(r,e,t,n,i){if(n==-1)return!1;let a=r.state.doc.resolve(n);for(let o=a.depth+1;o>0;o--)if(r.someProp(e,l=>o>a.depth?l(r,t,a.nodeAfter,a.before(o),i,!0):l(r,t,a.node(o),a.before(o),i,!1)))return!0;return!1}function tf(r,e,t){if(r.focused||r.focus(),r.state.selection.eq(e))return;let n=r.state.tr.setSelection(e);n.setMeta("pointer",!0),r.dispatch(n)}function $oe(r,e){if(e==-1)return!1;let t=r.state.doc.resolve(e),n=t.nodeAfter;return n&&n.isAtom&&er.isSelectable(n)?(tf(r,new er(t)),!0):!1}function Voe(r,e){if(e==-1)return!1;let t=r.state.selection,n,i;t instanceof er&&(n=t.node);let a=r.state.doc.resolve(e);for(let o=a.depth+1;o>0;o--){let l=o>a.depth?a.nodeAfter:a.node(o);if(er.isSelectable(l)){n&&t.$from.depth>0&&o>=t.$from.depth&&a.before(t.$from.depth+1)==t.$from.pos?i=a.before(t.$from.depth):i=a.before(o);break}}return i!=null?(tf(r,er.create(r.state.doc,i)),!0):!1}function Uoe(r,e,t,n,i){return vw(r,"handleClickOn",e,t,n)||r.someProp("handleClick",a=>a(r,e,n))||(i?Voe(r,t):$oe(r,t))}function joe(r,e,t,n){return vw(r,"handleDoubleClickOn",e,t,n)||r.someProp("handleDoubleClick",i=>i(r,e,n))}function Woe(r,e,t,n){return vw(r,"handleTripleClickOn",e,t,n)||r.someProp("handleTripleClick",i=>i(r,e,n))||Goe(r,t,n)}function Goe(r,e,t){if(t.button!=0)return!1;let n=r.state.doc;if(e==-1)return n.inlineContent?(tf(r,vr.create(n,0,n.content.size)),!0):!1;let i=n.resolve(e);for(let a=i.depth+1;a>0;a--){let o=a>i.depth?i.nodeAfter:i.node(a),l=i.before(a);if(o.inlineContent)tf(r,vr.create(n,l+1,l+1+o.content.size));else if(er.isSelectable(o))tf(r,er.create(n,l));else continue;return!0}}function mw(r){return Hv(r)}const hE=xa?"metaKey":"ctrlKey";Ai.mousedown=(r,e)=>{let t=e;r.input.shiftKey=t.shiftKey;let n=mw(r),i=Date.now(),a="singleClick";i-r.input.lastClick.time<500&&zoe(t,r.input.lastClick)&&!t[hE]&&r.input.lastClick.button==t.button&&(r.input.lastClick.type=="singleClick"?a="doubleClick":r.input.lastClick.type=="doubleClick"&&(a="tripleClick")),r.input.lastClick={time:i,x:t.clientX,y:t.clientY,type:a,button:t.button};let o=r.posAtCoords(Cm(t));o&&(a=="singleClick"?(r.input.mouseDown&&r.input.mouseDown.done(),r.input.mouseDown=new Joe(r,o,t,!!n)):(a=="doubleClick"?joe:Woe)(r,o.pos,o.inside,t)?t.preventDefault():Qs(r,"pointer"))};class Joe{constructor(e,t,n,i){this.view=e,this.pos=t,this.event=n,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[hE],this.allowDefault=n.shiftKey;let a,o;if(t.inside>-1)a=e.state.doc.nodeAt(t.inside),o=t.inside;else{let v=e.state.doc.resolve(t.pos);a=v.parent,o=v.depth?v.before():0}const l=i?null:n.target,c=l?e.docView.nearestDesc(l,!0):null;this.target=c&&c.dom.nodeType==1?c.dom:null;let{selection:f}=e.state;(n.button==0&&a.type.spec.draggable&&a.type.spec.selectable!==!1||f instanceof er&&f.from<=o&&f.to>o)&&(this.mightDrag={node:a,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Wa&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Qs(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>fs(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Cm(e))),this.updateAllowDefault(e),this.allowDefault||!t?Qs(this.view,"pointer"):Uoe(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Di&&this.mightDrag&&!this.mightDrag.node.isAtom||mi&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(tf(this.view,fr.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):Qs(this.view,"pointer")}move(e){this.updateAllowDefault(e),Qs(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Ai.touchstart=r=>{r.input.lastTouch=Date.now(),mw(r),Qs(r,"pointer")};Ai.touchmove=r=>{r.input.lastTouch=Date.now(),Qs(r,"pointer")};Ai.contextmenu=r=>mw(r);function pE(r,e){return r.composing?!0:Di&&Math.abs(e.timeStamp-r.input.compositionEndedAt)<500?(r.input.compositionEndedAt=-2e8,!0):!1}const Koe=us?5e3:-1;Li.compositionstart=Li.compositionupdate=r=>{if(!r.composing){r.domObserver.flush();let{state:e}=r,t=e.selection.$to;if(e.selection instanceof vr&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))r.markCursor=r.state.storedMarks||t.marks(),Hv(r,!0),r.markCursor=null;else if(Hv(r,!e.selection.empty),Wa&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let n=r.domSelectionRange();for(let i=n.focusNode,a=n.focusOffset;i&&i.nodeType==1&&a!=0;){let o=a<0?i.lastChild:i.childNodes[a-1];if(!o)break;if(o.nodeType==3){let l=r.domSelection();l&&l.collapse(o,o.nodeValue.length);break}else i=o,a=-1}}r.input.composing=!0}vE(r,Koe)};Li.compositionend=(r,e)=>{r.composing&&(r.input.composing=!1,r.input.compositionEndedAt=e.timeStamp,r.input.compositionPendingChanges=r.domObserver.pendingRecords().length?r.input.compositionID:0,r.input.compositionNode=null,r.input.compositionPendingChanges&&Promise.resolve().then(()=>r.domObserver.flush()),r.input.compositionID++,vE(r,20))};function vE(r,e){clearTimeout(r.input.composingTimeout),e>-1&&(r.input.composingTimeout=setTimeout(()=>Hv(r),e))}function mE(r){for(r.composing&&(r.input.composing=!1,r.input.compositionEndedAt=Xoe());r.input.compositionNodes.length>0;)r.input.compositionNodes.pop().markParentsDirty()}function Qoe(r){let e=r.domSelectionRange();if(!e.focusNode)return null;let t=$ae(e.focusNode,e.focusOffset),n=Vae(e.focusNode,e.focusOffset);if(t&&n&&t!=n){let i=n.pmViewDesc,a=r.domObserver.lastChangedTextNode;if(t==a||n==a)return a;if(!i||!i.isText(n.nodeValue))return n;if(r.input.compositionNode==n){let o=t.pmViewDesc;if(!(!o||!o.isText(t.nodeValue)))return n}}return t||n}function Xoe(){let r=document.createEvent("Event");return r.initEvent("event",!0,!0),r.timeStamp}function Hv(r,e=!1){if(!(us&&r.domObserver.flushingSoon>=0)){if(r.domObserver.forceFlush(),mE(r),e||r.docView&&r.docView.dirty){let t=fw(r),n=r.state.selection;return t&&!t.eq(n)?r.dispatch(r.state.tr.setSelection(t)):(r.markCursor||e)&&!n.$from.node(n.$from.sharedDepth(n.to)).inlineContent?r.dispatch(r.state.tr.deleteSelection()):r.updateState(r.state),!0}return!1}}function Yoe(r,e){if(!r.dom.parentNode)return;let t=r.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),i=document.createRange();i.selectNodeContents(e),r.dom.blur(),n.removeAllRanges(),n.addRange(i),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),r.focus()},50)}const lh=Ji&&el<15||af&&Jae<604;Ai.copy=Li.cut=(r,e)=>{let t=e,n=r.state.selection,i=t.type=="cut";if(n.empty)return;let a=lh?null:t.clipboardData,o=n.content(),{dom:l,text:c}=hw(r,o);a?(t.preventDefault(),a.clearData(),a.setData("text/html",l.innerHTML),a.setData("text/plain",c)):Yoe(r,l),i&&r.dispatch(r.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Zoe(r){return r.openStart==0&&r.openEnd==0&&r.content.childCount==1?r.content.firstChild:null}function ese(r,e){if(!r.dom.parentNode)return;let t=r.input.shiftKey||r.state.selection.$from.parent.type.spec.code,n=r.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let i=r.input.shiftKey&&r.input.lastKeyCode!=45;setTimeout(()=>{r.focus(),n.parentNode&&n.parentNode.removeChild(n),t?uh(r,n.value,null,i,e):uh(r,n.textContent,n.innerHTML,i,e)},50)}function uh(r,e,t,n,i){let a=sE(r,e,t,n,r.state.selection.$from);if(r.someProp("handlePaste",c=>c(r,i,a||gt.empty)))return!0;if(!a)return!1;let o=Zoe(a),l=o?r.state.tr.replaceSelectionWith(o,n):r.state.tr.replaceSelection(a);return r.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function gE(r){let e=r.getData("text/plain")||r.getData("Text");if(e)return e;let t=r.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}Li.paste=(r,e)=>{let t=e;if(r.composing&&!us)return;let n=lh?null:t.clipboardData,i=r.input.shiftKey&&r.input.lastKeyCode!=45;n&&uh(r,gE(n),n.getData("text/html"),i,t)?t.preventDefault():ese(r,t)};class yE{constructor(e,t,n){this.slice=e,this.move=t,this.node=n}}const tse=xa?"altKey":"ctrlKey";function wE(r,e){let t=r.someProp("dragCopies",n=>!n(e));return t??!e[tse]}Ai.dragstart=(r,e)=>{let t=e,n=r.input.mouseDown;if(n&&n.done(),!t.dataTransfer)return;let i=r.state.selection,a=i.empty?null:r.posAtCoords(Cm(t)),o;if(!(a&&a.pos>=i.from&&a.pos<=(i instanceof er?i.to-1:i.to))){if(n&&n.mightDrag)o=er.create(r.state.doc,n.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let y=r.docView.nearestDesc(t.target,!0);y&&y.node.type.spec.draggable&&y!=r.docView&&(o=er.create(r.state.doc,y.posBefore))}}let l=(o||r.state.selection).content(),{dom:c,text:f,slice:v}=hw(r,l);(!t.dataTransfer.files.length||!mi||jT>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(lh?"Text":"text/html",c.innerHTML),t.dataTransfer.effectAllowed="copyMove",lh||t.dataTransfer.setData("text/plain",f),r.dragging=new yE(v,wE(r,t),o)};Ai.dragend=r=>{let e=r.dragging;window.setTimeout(()=>{r.dragging==e&&(r.dragging=null)},50)};Li.dragover=Li.dragenter=(r,e)=>e.preventDefault();Li.drop=(r,e)=>{let t=e,n=r.dragging;if(r.dragging=null,!t.dataTransfer)return;let i=r.posAtCoords(Cm(t));if(!i)return;let a=r.state.doc.resolve(i.pos),o=n&&n.slice;o?r.someProp("transformPasted",E=>{o=E(o,r)}):o=sE(r,gE(t.dataTransfer),lh?null:t.dataTransfer.getData("text/html"),!1,a);let l=!!(n&&wE(r,t));if(r.someProp("handleDrop",E=>E(r,t,o||gt.empty,l))){t.preventDefault();return}if(!o)return;t.preventDefault();let c=o?Oae(r.state.doc,a.pos,o):a.pos;c==null&&(c=a.pos);let f=r.state.tr;if(l){let{node:E}=n;E?E.replace(f):f.deleteSelection()}let v=f.mapping.map(c),y=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,T=f.doc;if(y?f.replaceRangeWith(v,v,o.content.firstChild):f.replaceRange(v,v,o),f.doc.eq(T))return;let N=f.doc.resolve(v);if(y&&er.isSelectable(o.content.firstChild)&&N.nodeAfter&&N.nodeAfter.sameMarkup(o.content.firstChild))f.setSelection(new er(N));else{let E=f.mapping.map(c);f.mapping.maps[f.mapping.maps.length-1].forEach((P,L,$,ee)=>E=ee),f.setSelection(dw(r,N,f.doc.resolve(E)))}r.focus(),r.dispatch(f.setMeta("uiEvent","drop"))};Ai.focus=r=>{r.input.lastFocus=Date.now(),r.focused||(r.domObserver.stop(),r.dom.classList.add("ProseMirror-focused"),r.domObserver.start(),r.focused=!0,setTimeout(()=>{r.docView&&r.hasFocus()&&!r.domObserver.currentSelection.eq(r.domSelectionRange())&&fs(r)},20))};Ai.blur=(r,e)=>{let t=e;r.focused&&(r.domObserver.stop(),r.dom.classList.remove("ProseMirror-focused"),r.domObserver.start(),t.relatedTarget&&r.dom.contains(t.relatedTarget)&&r.domObserver.currentSelection.clear(),r.focused=!1)};Ai.beforeinput=(r,e)=>{if(mi&&us&&e.inputType=="deleteContentBackward"){r.domObserver.flushSoon();let{domChangeCount:n}=r.input;setTimeout(()=>{if(r.input.domChangeCount!=n||(r.dom.blur(),r.focus(),r.someProp("handleKeyDown",a=>a(r,lu(8,"Backspace")))))return;let{$cursor:i}=r.state.selection;i&&i.pos>0&&r.dispatch(r.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let r in Li)Ai[r]=Li[r];function ch(r,e){if(r==e)return!0;for(let t in r)if(r[t]!==e[t])return!1;for(let t in e)if(!(t in r))return!1;return!0}class zv{constructor(e,t){this.toDOM=e,this.spec=t||mu,this.side=this.spec.side||0}map(e,t,n,i){let{pos:a,deleted:o}=e.mapResult(t.from+i,this.side<0?-1:1);return o?null:new ji(a-n,a-n,this)}valid(){return!0}eq(e){return this==e||e instanceof zv&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&ch(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class rl{constructor(e,t){this.attrs=e,this.spec=t||mu}map(e,t,n,i){let a=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-n,o=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-n;return a>=o?null:new ji(a,o,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof rl&&ch(this.attrs,e.attrs)&&ch(this.spec,e.spec)}static is(e){return e.type instanceof rl}destroy(){}}class gw{constructor(e,t){this.attrs=e,this.spec=t||mu}map(e,t,n,i){let a=e.mapResult(t.from+i,1);if(a.deleted)return null;let o=e.mapResult(t.to+i,-1);return o.deleted||o.pos<=a.pos?null:new ji(a.pos-n,o.pos-n,this)}valid(e,t){let{index:n,offset:i}=e.content.findIndex(t.from),a;return i==t.from&&!(a=e.child(n)).isText&&i+a.nodeSize==t.to}eq(e){return this==e||e instanceof gw&&ch(this.attrs,e.attrs)&&ch(this.spec,e.spec)}destroy(){}}class ji{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new ji(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new ji(e,e,new zv(t,n))}static inline(e,t,n,i){return new ji(e,t,new rl(n,i))}static node(e,t,n,i){return new ji(e,t,new gw(n,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof rl}get widget(){return this.type instanceof zv}}const Kc=[],mu={};class nn{constructor(e,t){this.local=e.length?e:Kc,this.children=t.length?t:Kc}static create(e,t){return t.length?$v(t,e,0,mu):hi}find(e,t,n){let i=[];return this.findInner(e??0,t??1e9,i,0,n),i}findInner(e,t,n,i,a){for(let o=0;o<this.local.length;o++){let l=this.local[o];l.from<=t&&l.to>=e&&(!a||a(l.spec))&&n.push(l.copy(l.from+i,l.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<t&&this.children[o+1]>e){let l=this.children[o]+1;this.children[o+2].findInner(e-l,t-l,n,i+l,a)}}map(e,t,n){return this==hi||e.maps.length==0?this:this.mapInner(e,t,0,0,n||mu)}mapInner(e,t,n,i,a){let o;for(let l=0;l<this.local.length;l++){let c=this.local[l].map(e,n,i);c&&c.type.valid(t,c)?(o||(o=[])).push(c):a.onRemove&&a.onRemove(this.local[l].spec)}return this.children.length?rse(this.children,o||[],e,t,n,i,a):o?new nn(o.sort(gu),Kc):hi}add(e,t){return t.length?this==hi?nn.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let i,a=0;e.forEach((l,c)=>{let f=c+n,v;if(v=kE(t,l,f)){for(i||(i=this.children.slice());a<i.length&&i[a]<c;)a+=3;i[a]==c?i[a+2]=i[a+2].addInner(l,v,f+1):i.splice(a,0,c,c+l.nodeSize,$v(v,l,f+1,mu)),a+=3}});let o=bE(a?CE(t):t,-n);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||o.splice(l--,1);return new nn(o.length?this.local.concat(o).sort(gu):this.local,i||this.children)}remove(e){return e.length==0||this==hi?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,i=this.local;for(let a=0;a<n.length;a+=3){let o,l=n[a]+t,c=n[a+1]+t;for(let v=0,y;v<e.length;v++)(y=e[v])&&y.from>l&&y.to<c&&(e[v]=null,(o||(o=[])).push(y));if(!o)continue;n==this.children&&(n=this.children.slice());let f=n[a+2].removeInner(o,l+1);f!=hi?n[a+2]=f:(n.splice(a,3),a-=3)}if(i.length){for(let a=0,o;a<e.length;a++)if(o=e[a])for(let l=0;l<i.length;l++)i[l].eq(o,t)&&(i==this.local&&(i=this.local.slice()),i.splice(l--,1))}return n==this.children&&i==this.local?this:i.length||n.length?new nn(i,n):hi}forChild(e,t){if(this==hi)return this;if(t.isLeaf)return nn.empty;let n,i;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(n=this.children[l+2]);break}let a=e+1,o=a+t.content.size;for(let l=0;l<this.local.length;l++){let c=this.local[l];if(c.from<o&&c.to>a&&c.type instanceof rl){let f=Math.max(a,c.from)-a,v=Math.min(o,c.to)-a;f<v&&(i||(i=[])).push(c.copy(f,v))}}if(i){let l=new nn(i.sort(gu),Kc);return n?new js([l,n]):l}return n||hi}eq(e){if(this==e)return!0;if(!(e instanceof nn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return yw(this.localsInner(e))}localsInner(e){if(this==hi)return Kc;if(e.inlineContent||!this.local.some(rl.is))return this.local;let t=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof rl||t.push(this.local[n]);return t}forEachSet(e){e(this)}}nn.empty=new nn([],[]);nn.removeOverlap=yw;const hi=nn.empty;class js{constructor(e){this.members=e}map(e,t){const n=this.members.map(i=>i.map(e,t,mu));return js.from(n)}forChild(e,t){if(t.isLeaf)return nn.empty;let n=[];for(let i=0;i<this.members.length;i++){let a=this.members[i].forChild(e,t);a!=hi&&(a instanceof js?n=n.concat(a.members):n.push(a))}return js.from(n)}eq(e){if(!(e instanceof js)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let i=0;i<this.members.length;i++){let a=this.members[i].localsInner(e);if(a.length)if(!t)t=a;else{n&&(t=t.slice(),n=!1);for(let o=0;o<a.length;o++)t.push(a[o])}}return t?yw(n?t:t.sort(gu)):Kc}static from(e){switch(e.length){case 0:return hi;case 1:return e[0];default:return new js(e.every(t=>t instanceof nn)?e:e.reduce((t,n)=>t.concat(n instanceof nn?n:n.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function rse(r,e,t,n,i,a,o){let l=r.slice();for(let f=0,v=a;f<t.maps.length;f++){let y=0;t.maps[f].forEach((T,N,E,P)=>{let L=P-E-(N-T);for(let $=0;$<l.length;$+=3){let ee=l[$+1];if(ee<0||T>ee+v-y)continue;let re=l[$]+v-y;N>=re?l[$+1]=T<=re?-2:-1:T>=v&&L&&(l[$]+=L,l[$+1]+=L)}y+=L}),v=t.maps[f].map(v,-1)}let c=!1;for(let f=0;f<l.length;f+=3)if(l[f+1]<0){if(l[f+1]==-2){c=!0,l[f+1]=-1;continue}let v=t.map(r[f]+a),y=v-i;if(y<0||y>=n.content.size){c=!0;continue}let T=t.map(r[f+1]+a,-1),N=T-i,{index:E,offset:P}=n.content.findIndex(y),L=n.maybeChild(E);if(L&&P==y&&P+L.nodeSize==N){let $=l[f+2].mapInner(t,L,v+1,r[f]+a+1,o);$!=hi?(l[f]=y,l[f+1]=N,l[f+2]=$):(l[f+1]=-2,c=!0)}else c=!0}if(c){let f=nse(l,r,e,t,i,a,o),v=$v(f,n,0,o);e=v.local;for(let y=0;y<l.length;y+=3)l[y+1]<0&&(l.splice(y,3),y-=3);for(let y=0,T=0;y<v.children.length;y+=3){let N=v.children[y];for(;T<l.length&&l[T]<N;)T+=3;l.splice(T,0,v.children[y],v.children[y+1],v.children[y+2])}}return new nn(e.sort(gu),l)}function bE(r,e){if(!e||!r.length)return r;let t=[];for(let n=0;n<r.length;n++){let i=r[n];t.push(new ji(i.from+e,i.to+e,i.type))}return t}function nse(r,e,t,n,i,a,o){function l(c,f){for(let v=0;v<c.local.length;v++){let y=c.local[v].map(n,i,f);y?t.push(y):o.onRemove&&o.onRemove(c.local[v].spec)}for(let v=0;v<c.children.length;v+=3)l(c.children[v+2],c.children[v]+f+1)}for(let c=0;c<r.length;c+=3)r[c+1]==-1&&l(r[c+2],e[c]+a+1);return t}function kE(r,e,t){if(e.isLeaf)return null;let n=t+e.nodeSize,i=null;for(let a=0,o;a<r.length;a++)(o=r[a])&&o.from>t&&o.to<n&&((i||(i=[])).push(o),r[a]=null);return i}function CE(r){let e=[];for(let t=0;t<r.length;t++)r[t]!=null&&e.push(r[t]);return e}function $v(r,e,t,n){let i=[],a=!1;e.forEach((l,c)=>{let f=kE(r,l,c+t);if(f){a=!0;let v=$v(f,l,t+c+1,n);v!=hi&&i.push(c,c+l.nodeSize,v)}});let o=bE(a?CE(r):r,-t).sort(gu);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||(n.onRemove&&n.onRemove(o[l].spec),o.splice(l--,1));return o.length||i.length?new nn(o,i):hi}function gu(r,e){return r.from-e.from||r.to-e.to}function yw(r){let e=r;for(let t=0;t<e.length-1;t++){let n=e[t];if(n.from!=n.to)for(let i=t+1;i<e.length;i++){let a=e[i];if(a.from==n.from){a.to!=n.to&&(e==r&&(e=r.slice()),e[i]=a.copy(a.from,n.to),U1(e,i+1,a.copy(n.to,a.to)));continue}else{a.from<n.to&&(e==r&&(e=r.slice()),e[t]=n.copy(n.from,a.from),U1(e,i,n.copy(a.from,n.to)));break}}}return e}function U1(r,e,t){for(;e<r.length&&gu(t,r[e])>0;)e++;r.splice(e,0,t)}function by(r){let e=[];return r.someProp("decorations",t=>{let n=t(r.state);n&&n!=hi&&e.push(n)}),r.cursorWrapper&&e.push(nn.create(r.state.doc,[r.cursorWrapper.deco])),js.from(e)}const ise={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},ase=Ji&&el<=11;class ose{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class sse{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new ose,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let i=0;i<n.length;i++)this.queue.push(n[i]);Ji&&el<=11&&n.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),ase&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,ise)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(B1(this.view)){if(this.suppressingSelectionUpdates)return fs(this.view);if(Ji&&el<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Su(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,n;for(let a=e.focusNode;a;a=nf(a))t.add(a);for(let a=e.anchorNode;a;a=nf(a))if(t.has(a)){n=a;break}let i=n&&this.view.docView.nearestDesc(n);if(i&&i.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let n=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&B1(e)&&!this.ignoreSelectionChange(n),a=-1,o=-1,l=!1,c=[];if(e.editable)for(let v=0;v<t.length;v++){let y=this.registerMutation(t[v],c);y&&(a=a<0?y.from:Math.min(y.from,a),o=o<0?y.to:Math.max(y.to,o),y.typeOver&&(l=!0))}if(Wa&&c.length){let v=c.filter(y=>y.nodeName=="BR");if(v.length==2){let[y,T]=v;y.parentNode&&y.parentNode.parentNode==T.parentNode?T.remove():y.remove()}else{let{focusNode:y}=this.currentSelection;for(let T of v){let N=T.parentNode;N&&N.nodeName=="LI"&&(!y||cse(e,y)!=N)&&T.remove()}}}let f=null;a<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&bm(n)&&(f=fw(e))&&f.eq(fr.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,fs(e),this.currentSelection.set(n),e.scrollToSelection()):(a>-1||i)&&(a>-1&&(e.docView.markDirty(a,o),lse(e)),this.handleDOMChange(a,o,l,c),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||fs(e),this.currentSelection.set(n))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let v=0;v<e.addedNodes.length;v++){let y=e.addedNodes[v];t.push(y),y.nodeType==3&&(this.lastChangedTextNode=y)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let i=e.previousSibling,a=e.nextSibling;if(Ji&&el<=11&&e.addedNodes.length)for(let v=0;v<e.addedNodes.length;v++){let{previousSibling:y,nextSibling:T}=e.addedNodes[v];(!y||Array.prototype.indexOf.call(e.addedNodes,y)<0)&&(i=y),(!T||Array.prototype.indexOf.call(e.addedNodes,T)<0)&&(a=T)}let o=i&&i.parentNode==e.target?Xn(i)+1:0,l=n.localPosFromDOM(e.target,o,-1),c=a&&a.parentNode==e.target?Xn(a):e.target.childNodes.length,f=n.localPosFromDOM(e.target,c,1);return{from:l,to:f}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let j1=new WeakMap,W1=!1;function lse(r){if(!j1.has(r)&&(j1.set(r,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(r.dom).whiteSpace)!==-1)){if(r.requiresGeckoHackNode=Wa,W1)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),W1=!0}}function G1(r,e){let t=e.startContainer,n=e.startOffset,i=e.endContainer,a=e.endOffset,o=r.domAtPos(r.state.selection.anchor);return Su(o.node,o.offset,i,a)&&([t,n,i,a]=[i,a,t,n]),{anchorNode:t,anchorOffset:n,focusNode:i,focusOffset:a}}function use(r,e){if(e.getComposedRanges){let i=e.getComposedRanges(r.root)[0];if(i)return G1(r,i)}let t;function n(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return r.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),r.dom.removeEventListener("beforeinput",n,!0),t?G1(r,t):null}function cse(r,e){for(let t=e.parentNode;t&&t!=r.dom;t=t.parentNode){let n=r.docView.nearestDesc(t,!0);if(n&&n.node.isBlock)return t}return null}function fse(r,e,t){let{node:n,fromOffset:i,toOffset:a,from:o,to:l}=r.docView.parseRange(e,t),c=r.domSelectionRange(),f,v=c.anchorNode;if(v&&r.dom.contains(v.nodeType==1?v:v.parentNode)&&(f=[{node:v,offset:c.anchorOffset}],bm(c)||f.push({node:c.focusNode,offset:c.focusOffset})),mi&&r.input.lastKeyCode===8)for(let L=a;L>i;L--){let $=n.childNodes[L-1],ee=$.pmViewDesc;if($.nodeName=="BR"&&!ee){a=L;break}if(!ee||ee.size)break}let y=r.state.doc,T=r.someProp("domParser")||ku.fromSchema(r.state.schema),N=y.resolve(o),E=null,P=T.parse(n,{topNode:N.parent,topMatch:N.parent.contentMatchAt(N.index()),topOpen:!0,from:i,to:a,preserveWhitespace:N.parent.type.whitespace=="pre"?"full":!0,findPositions:f,ruleFromNode:dse,context:N});if(f&&f[0].pos!=null){let L=f[0].pos,$=f[1]&&f[1].pos;$==null&&($=L),E={anchor:L+o,head:$+o}}return{doc:P,sel:E,from:o,to:l}}function dse(r){let e=r.pmViewDesc;if(e)return e.parseRule();if(r.nodeName=="BR"&&r.parentNode){if(Di&&/^(ul|ol)$/i.test(r.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(r.parentNode.lastChild==r||Di&&/^(tr|table)$/i.test(r.parentNode.nodeName))return{ignore:!0}}else if(r.nodeName=="IMG"&&r.getAttribute("mark-placeholder"))return{ignore:!0};return null}const hse=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function pse(r,e,t,n,i){let a=r.input.compositionPendingChanges||(r.composing?r.input.compositionID:0);if(r.input.compositionPendingChanges=0,e<0){let we=r.input.lastSelectionTime>Date.now()-50?r.input.lastSelectionOrigin:null,Le=fw(r,we);if(Le&&!r.state.selection.eq(Le)){if(mi&&us&&r.input.lastKeyCode===13&&Date.now()-100<r.input.lastKeyCodeTime&&r.someProp("handleKeyDown",Nt=>Nt(r,lu(13,"Enter"))))return;let je=r.state.tr.setSelection(Le);we=="pointer"?je.setMeta("pointer",!0):we=="key"&&je.scrollIntoView(),a&&je.setMeta("composition",a),r.dispatch(je)}return}let o=r.state.doc.resolve(e),l=o.sharedDepth(t);e=o.before(l+1),t=r.state.doc.resolve(t).after(l+1);let c=r.state.selection,f=fse(r,e,t),v=r.state.doc,y=v.slice(f.from,f.to),T,N;r.input.lastKeyCode===8&&Date.now()-100<r.input.lastKeyCodeTime?(T=r.state.selection.to,N="end"):(T=r.state.selection.from,N="start"),r.input.lastKeyCode=null;let E=gse(y.content,f.doc.content,f.from,T,N);if(E&&r.input.domChangeCount++,(af&&r.input.lastIOSEnter>Date.now()-225||us)&&i.some(we=>we.nodeType==1&&!hse.test(we.nodeName))&&(!E||E.endA>=E.endB)&&r.someProp("handleKeyDown",we=>we(r,lu(13,"Enter")))){r.input.lastIOSEnter=0;return}if(!E)if(n&&c instanceof vr&&!c.empty&&c.$head.sameParent(c.$anchor)&&!r.composing&&!(f.sel&&f.sel.anchor!=f.sel.head))E={start:c.from,endA:c.to,endB:c.to};else{if(f.sel){let we=J1(r,r.state.doc,f.sel);if(we&&!we.eq(r.state.selection)){let Le=r.state.tr.setSelection(we);a&&Le.setMeta("composition",a),r.dispatch(Le)}}return}r.state.selection.from<r.state.selection.to&&E.start==E.endB&&r.state.selection instanceof vr&&(E.start>r.state.selection.from&&E.start<=r.state.selection.from+2&&r.state.selection.from>=f.from?E.start=r.state.selection.from:E.endA<r.state.selection.to&&E.endA>=r.state.selection.to-2&&r.state.selection.to<=f.to&&(E.endB+=r.state.selection.to-E.endA,E.endA=r.state.selection.to)),Ji&&el<=11&&E.endB==E.start+1&&E.endA==E.start&&E.start>f.from&&f.doc.textBetween(E.start-f.from-1,E.start-f.from+1)==" "&&(E.start--,E.endA--,E.endB--);let P=f.doc.resolveNoCache(E.start-f.from),L=f.doc.resolveNoCache(E.endB-f.from),$=v.resolve(E.start),ee=P.sameParent(L)&&P.parent.inlineContent&&$.end()>=E.endA,re;if((af&&r.input.lastIOSEnter>Date.now()-225&&(!ee||i.some(we=>we.nodeName=="DIV"||we.nodeName=="P"))||!ee&&P.pos<f.doc.content.size&&(!P.sameParent(L)||!P.parent.inlineContent)&&!/\S/.test(f.doc.textBetween(P.pos,L.pos,"",""))&&(re=fr.findFrom(f.doc.resolve(P.pos+1),1,!0))&&re.head>P.pos)&&r.someProp("handleKeyDown",we=>we(r,lu(13,"Enter")))){r.input.lastIOSEnter=0;return}if(r.state.selection.anchor>E.start&&mse(v,E.start,E.endA,P,L)&&r.someProp("handleKeyDown",we=>we(r,lu(8,"Backspace")))){us&&mi&&r.domObserver.suppressSelectionUpdates();return}mi&&E.endB==E.start&&(r.input.lastChromeDelete=Date.now()),us&&!ee&&P.start()!=L.start()&&L.parentOffset==0&&P.depth==L.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==E.endA&&(E.endB-=2,L=f.doc.resolveNoCache(E.endB-f.from),setTimeout(()=>{r.someProp("handleKeyDown",function(we){return we(r,lu(13,"Enter"))})},20));let se=E.start,ve=E.endA,le=we=>{let Le=we||r.state.tr.replace(se,ve,f.doc.slice(E.start-f.from,E.endB-f.from));if(f.sel){let je=J1(r,Le.doc,f.sel);je&&!(mi&&r.composing&&je.empty&&(E.start!=E.endB||r.input.lastChromeDelete<Date.now()-100)&&(je.head==se||je.head==Le.mapping.map(ve)-1)||Ji&&je.empty&&je.head==se)&&Le.setSelection(je)}return a&&Le.setMeta("composition",a),Le.scrollIntoView()},ke;if(ee){if(P.pos==L.pos){Ji&&el<=11&&P.parentOffset==0&&(r.domObserver.suppressSelectionUpdates(),setTimeout(()=>fs(r),20));let we=le(r.state.tr.delete(se,ve)),Le=v.resolve(E.start).marksAcross(v.resolve(E.endA));Le&&we.ensureMarks(Le),r.dispatch(we)}else if(E.endA==E.endB&&(ke=vse(P.parent.content.cut(P.parentOffset,L.parentOffset),$.parent.content.cut($.parentOffset,E.endA-$.start())))){let we=le(r.state.tr);ke.type=="add"?we.addMark(se,ve,ke.mark):we.removeMark(se,ve,ke.mark),r.dispatch(we)}else if(P.parent.child(P.index()).isText&&P.index()==L.index()-(L.textOffset?0:1)){let we=P.parent.textBetween(P.parentOffset,L.parentOffset),Le=()=>le(r.state.tr.insertText(we,se,ve));r.someProp("handleTextInput",je=>je(r,se,ve,we,Le))||r.dispatch(Le())}}else r.dispatch(le())}function J1(r,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:dw(r,e.resolve(t.anchor),e.resolve(t.head))}function vse(r,e){let t=r.firstChild.marks,n=e.firstChild.marks,i=t,a=n,o,l,c;for(let v=0;v<n.length;v++)i=n[v].removeFromSet(i);for(let v=0;v<t.length;v++)a=t[v].removeFromSet(a);if(i.length==1&&a.length==0)l=i[0],o="add",c=v=>v.mark(l.addToSet(v.marks));else if(i.length==0&&a.length==1)l=a[0],o="remove",c=v=>v.mark(l.removeFromSet(v.marks));else return null;let f=[];for(let v=0;v<e.childCount;v++)f.push(c(e.child(v)));if(nt.from(f).eq(r))return{mark:l,type:o}}function mse(r,e,t,n,i){if(t-e<=i.pos-n.pos||ky(n,!0,!1)<i.pos)return!1;let a=r.resolve(e);if(!n.parent.isTextblock){let l=a.nodeAfter;return l!=null&&t==e+l.nodeSize}if(a.parentOffset<a.parent.content.size||!a.parent.isTextblock)return!1;let o=r.resolve(ky(a,!0,!0));return!o.parent.isTextblock||o.pos>t||ky(o,!0,!1)<t?!1:n.parent.content.cut(n.parentOffset).eq(o.parent.content)}function ky(r,e,t){let n=r.depth,i=e?r.end():r.pos;for(;n>0&&(e||r.indexAfter(n)==r.node(n).childCount);)n--,i++,e=!1;if(t){let a=r.node(n).maybeChild(r.indexAfter(n));for(;a&&!a.isLeaf;)a=a.firstChild,i++}return i}function gse(r,e,t,n,i){let a=r.findDiffStart(e,t);if(a==null)return null;let{a:o,b:l}=r.findDiffEnd(e,t+r.size,t+e.size);if(i=="end"){let c=Math.max(0,a-Math.min(o,l));n-=o+c-a}if(o<a&&r.size<e.size){let c=n<=a&&n>=o?a-n:0;a-=c,a&&a<e.size&&K1(e.textBetween(a-1,a+1))&&(a+=c?1:-1),l=a+(l-o),o=a}else if(l<a){let c=n<=a&&n>=l?a-n:0;a-=c,a&&a<r.size&&K1(r.textBetween(a-1,a+1))&&(a+=c?1:-1),o=a+(o-l),l=a}return{start:a,endA:o,endB:l}}function K1(r){if(r.length!=2)return!1;let e=r.charCodeAt(0),t=r.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class Sm{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Boe,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(eC),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Y1(this),X1(this),this.nodeViews=Z1(this),this.docView=D1(this.state.doc,Q1(this),by(this),this.dom,this),this.domObserver=new sse(this,(n,i,a,o)=>pse(this,n,i,a,o)),this.domObserver.start(),_oe(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&S0(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(eC),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let n in this._props)t[n]=this._props[n];t.state=this.state;for(let n in e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var n;let i=this.state,a=!1,o=!1;e.storedMarks&&this.composing&&(mE(this),o=!0),this.state=e;let l=i.plugins!=e.plugins||this._props.plugins!=t.plugins;if(l||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let N=Z1(this);wse(N,this.nodeViews)&&(this.nodeViews=N,a=!0)}(l||t.handleDOMEvents!=this._props.handleDOMEvents)&&S0(this),this.editable=Y1(this),X1(this);let c=by(this),f=Q1(this),v=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",y=a||!this.docView.matchesNode(e.doc,f,c);(y||!e.selection.eq(i.selection))&&(o=!0);let T=v=="preserve"&&o&&this.dom.style.overflowAnchor==null&&Xae(this);if(o){this.domObserver.stop();let N=y&&(Ji||mi)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&yse(i.selection,e.selection);if(y){let E=mi?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Qoe(this)),(a||!this.docView.update(e.doc,f,c,this))&&(this.docView.updateOuterDeco(f),this.docView.destroy(),this.docView=D1(e.doc,f,c,this.dom,this)),E&&!this.trackWrites&&(N=!0)}N||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&koe(this))?fs(this,N):(iE(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((n=this.dragging)===null||n===void 0)&&n.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),v=="reset"?this.dom.scrollTop=0:v=="to selection"?this.scrollToSelection():T&&Yae(T)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof er){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&x1(this,t.getBoundingClientRect(),e)}else x1(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let n=this.directPlugins[t];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let n=this.state.plugins[t];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}}updateDraggedNode(e,t){let n=e.node,i=-1;if(this.state.doc.nodeAt(n.from)==n.node)i=n.from;else{let a=n.from+(this.state.doc.content.size-t.doc.content.size);(a>0&&this.state.doc.nodeAt(a))==n.node&&(i=a)}this.dragging=new yE(e.slice,e.move,i<0?void 0:er.create(this.state.doc,i))}someProp(e,t){let n=this._props&&this._props[e],i;if(n!=null&&(i=t?t(n):n))return i;for(let o=0;o<this.directPlugins.length;o++){let l=this.directPlugins[o].props[e];if(l!=null&&(i=t?t(l):l))return i}let a=this.state.plugins;if(a)for(let o=0;o<a.length;o++){let l=a[o].props[e];if(l!=null&&(i=t?t(l):l))return i}}hasFocus(){if(Ji){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Zae(this.dom),fs(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return ioe(this,e)}coordsAtPos(e,t=1){return QT(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,n=-1){let i=this.docView.posFromDOM(e,t,n);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,t){return uoe(this,t||this.state,e)}pasteHTML(e,t){return uh(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return uh(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return hw(this,e)}destroy(){this.docView&&(Foe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],by(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Hae())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return Hoe(this,e)}domSelectionRange(){let e=this.domSelection();return e?Di&&this.root.nodeType===11&&jae(this.dom.ownerDocument)==this.dom&&use(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}Sm.prototype.dispatch=function(r){let e=this._props.dispatchTransaction;e?e.call(this,r):this.updateState(this.state.apply(r))};function Q1(r){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(r.editable),r.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(r.state)),t)for(let n in t)n=="class"?e.class+=" "+t[n]:n=="style"?e.style=(e.style?e.style+";":"")+t[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(t[n]))}),e.translate||(e.translate="no"),[ji.node(0,r.state.doc.content.size,e)]}function X1(r){if(r.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),r.cursorWrapper={dom:e,deco:ji.widget(r.state.selection.from,e,{raw:!0,marks:r.markCursor})}}else r.cursorWrapper=null}function Y1(r){return!r.someProp("editable",e=>e(r.state)===!1)}function yse(r,e){let t=Math.min(r.$anchor.sharedDepth(r.head),e.$anchor.sharedDepth(e.head));return r.$anchor.start(t)!=e.$anchor.start(t)}function Z1(r){let e=Object.create(null);function t(n){for(let i in n)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=n[i])}return r.someProp("nodeViews",t),r.someProp("markViews",t),e}function wse(r,e){let t=0,n=0;for(let i in r){if(r[i]!=e[i])return!0;t++}for(let i in e)n++;return t!=n}function eC(r){if(r.spec.state||r.spec.filterTransaction||r.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var sl={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Vv={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},bse=typeof navigator<"u"&&/Mac/.test(navigator.platform),kse=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Yn=0;Yn<10;Yn++)sl[48+Yn]=sl[96+Yn]=String(Yn);for(var Yn=1;Yn<=24;Yn++)sl[Yn+111]="F"+Yn;for(var Yn=65;Yn<=90;Yn++)sl[Yn]=String.fromCharCode(Yn+32),Vv[Yn]=String.fromCharCode(Yn);for(var Cy in sl)Vv.hasOwnProperty(Cy)||(Vv[Cy]=sl[Cy]);function Cse(r){var e=bse&&r.metaKey&&r.shiftKey&&!r.ctrlKey&&!r.altKey||kse&&r.shiftKey&&r.key&&r.key.length==1||r.key=="Unidentified",t=!e&&r.key||(r.shiftKey?Vv:sl)[r.keyCode]||r.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const Sse=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),xse=typeof navigator<"u"&&/Win/.test(navigator.platform);function Tse(r){let e=r.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let n,i,a,o;for(let l=0;l<e.length-1;l++){let c=e[l];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))n=!0;else if(/^(c|ctrl|control)$/i.test(c))i=!0;else if(/^s(hift)?$/i.test(c))a=!0;else if(/^mod$/i.test(c))Sse?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+c)}return n&&(t="Alt-"+t),i&&(t="Ctrl-"+t),o&&(t="Meta-"+t),a&&(t="Shift-"+t),t}function Ese(r){let e=Object.create(null);for(let t in r)e[Tse(t)]=r[t];return e}function Sy(r,e,t=!0){return e.altKey&&(r="Alt-"+r),e.ctrlKey&&(r="Ctrl-"+r),e.metaKey&&(r="Meta-"+r),t&&e.shiftKey&&(r="Shift-"+r),r}function fh(r){return new Qi({props:{handleKeyDown:Nse(r)}})}function Nse(r){let e=Ese(r);return function(t,n){let i=Cse(n),a,o=e[Sy(i,n)];if(o&&o(t.state,t.dispatch,t))return!0;if(i.length==1&&i!=" "){if(n.shiftKey){let l=e[Sy(i,n,!1)];if(l&&l(t.state,t.dispatch,t))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(xse&&n.ctrlKey&&n.altKey)&&(a=sl[n.keyCode])&&a!=i){let l=e[Sy(a,n)];if(l&&l(t.state,t.dispatch,t))return!0}}return!1}}const ww=(r,e)=>r.selection.empty?!1:(e&&e(r.tr.deleteSelection().scrollIntoView()),!0);function Mse(r,e){let{$cursor:t}=r.selection;return!t||(e?!e.endOfTextblock("backward",r):t.parentOffset>0)?null:t}const Ose=(r,e,t)=>{let n=Mse(r,t);if(!n)return!1;let i=SE(n);if(!i){let o=n.blockRange(),l=o&&ym(o);return l==null?!1:(e&&e(r.tr.lift(o,l).scrollIntoView()),!0)}let a=i.nodeBefore;if(ME(r,i,e,-1))return!0;if(n.parent.content.size==0&&(of(a,"end")||er.isSelectable(a)))for(let o=n.depth;;o--){let l=lw(r.doc,n.before(o),n.after(o),gt.empty);if(l&&l.slice.size<l.to-l.from){if(e){let c=r.tr.step(l);c.setSelection(of(a,"end")?fr.findFrom(c.doc.resolve(c.mapping.map(i.pos,-1)),-1):er.create(c.doc,i.pos-a.nodeSize)),e(c.scrollIntoView())}return!0}if(o==1||n.node(o-1).childCount>1)break}return a.isAtom&&i.depth==n.depth-1?(e&&e(r.tr.delete(i.pos-a.nodeSize,i.pos).scrollIntoView()),!0):!1};function of(r,e,t=!1){for(let n=r;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(t&&n.childCount!=1)return!1}return!1}const Dse=(r,e,t)=>{let{$head:n,empty:i}=r.selection,a=n;if(!i)return!1;if(n.parent.isTextblock){if(t?!t.endOfTextblock("backward",r):n.parentOffset>0)return!1;a=SE(n)}let o=a&&a.nodeBefore;return!o||!er.isSelectable(o)?!1:(e&&e(r.tr.setSelection(er.create(r.doc,a.pos-o.nodeSize)).scrollIntoView()),!0)};function SE(r){if(!r.parent.type.spec.isolating)for(let e=r.depth-1;e>=0;e--){if(r.index(e)>0)return r.doc.resolve(r.before(e+1));if(r.node(e).type.spec.isolating)break}return null}function Ase(r,e){let{$cursor:t}=r.selection;return!t||(e?!e.endOfTextblock("forward",r):t.parentOffset<t.parent.content.size)?null:t}const xE=(r,e,t)=>{let n=Ase(r,t);if(!n)return!1;let i=TE(n);if(!i)return!1;let a=i.nodeAfter;if(ME(r,i,e,1))return!0;if(n.parent.content.size==0&&(of(a,"start")||er.isSelectable(a))){let o=lw(r.doc,n.before(),n.after(),gt.empty);if(o&&o.slice.size<o.to-o.from){if(e){let l=r.tr.step(o);l.setSelection(of(a,"start")?fr.findFrom(l.doc.resolve(l.mapping.map(i.pos)),1):er.create(l.doc,l.mapping.map(i.pos))),e(l.scrollIntoView())}return!0}}return a.isAtom&&i.depth==n.depth-1?(e&&e(r.tr.delete(i.pos,i.pos+a.nodeSize).scrollIntoView()),!0):!1},Lse=(r,e,t)=>{let{$head:n,empty:i}=r.selection,a=n;if(!i)return!1;if(n.parent.isTextblock){if(t?!t.endOfTextblock("forward",r):n.parentOffset<n.parent.content.size)return!1;a=TE(n)}let o=a&&a.nodeAfter;return!o||!er.isSelectable(o)?!1:(e&&e(r.tr.setSelection(er.create(r.doc,a.pos)).scrollIntoView()),!0)};function TE(r){if(!r.parent.type.spec.isolating)for(let e=r.depth-1;e>=0;e--){let t=r.node(e);if(r.index(e)+1<t.childCount)return r.doc.resolve(r.after(e+1));if(t.type.spec.isolating)break}return null}const EE=(r,e)=>{let{$head:t,$anchor:n}=r.selection;return!t.parent.type.spec.code||!t.sameParent(n)?!1:(e&&e(r.tr.insertText(`
`).scrollIntoView()),!0)};function bw(r){for(let e=0;e<r.edgeCount;e++){let{type:t}=r.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const kw=(r,e)=>{let{$head:t,$anchor:n}=r.selection;if(!t.parent.type.spec.code||!t.sameParent(n))return!1;let i=t.node(-1),a=t.indexAfter(-1),o=bw(i.contentMatchAt(a));if(!o||!i.canReplaceWith(a,a,o))return!1;if(e){let l=t.after(),c=r.tr.replaceWith(l,l,o.createAndFill());c.setSelection(fr.near(c.doc.resolve(l),1)),e(c.scrollIntoView())}return!0},Rse=(r,e)=>{let t=r.selection,{$from:n,$to:i}=t;if(t instanceof Oi||n.parent.inlineContent||i.parent.inlineContent)return!1;let a=bw(i.parent.contentMatchAt(i.indexAfter()));if(!a||!a.isTextblock)return!1;if(e){let o=(!n.parentOffset&&i.index()<i.parent.childCount?n:i).pos,l=r.tr.insert(o,a.createAndFill());l.setSelection(vr.create(l.doc,o+1)),e(l.scrollIntoView())}return!0},Ise=(r,e)=>{let{$cursor:t}=r.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let a=t.before();if(Zc(r.doc,a))return e&&e(r.tr.split(a).scrollIntoView()),!0}let n=t.blockRange(),i=n&&ym(n);return i==null?!1:(e&&e(r.tr.lift(n,i).scrollIntoView()),!0)};function Pse(r){return(e,t)=>{let{$from:n,$to:i}=e.selection;if(e.selection instanceof er&&e.selection.node.isBlock)return!n.parentOffset||!Zc(e.doc,n.pos)?!1:(t&&t(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let a=[],o,l,c=!1,f=!1;for(let N=n.depth;;N--)if(n.node(N).isBlock){c=n.end(N)==n.pos+(n.depth-N),f=n.start(N)==n.pos-(n.depth-N),l=bw(n.node(N-1).contentMatchAt(n.indexAfter(N-1))),a.unshift(c&&l?{type:l}:null),o=N;break}else{if(N==1)return!1;a.unshift(null)}let v=e.tr;(e.selection instanceof vr||e.selection instanceof Oi)&&v.deleteSelection();let y=v.mapping.map(n.pos),T=Zc(v.doc,y,a.length,a);if(T||(a[0]=l?{type:l}:null,T=Zc(v.doc,y,a.length,a)),!T)return!1;if(v.split(y,a.length,a),!c&&f&&n.node(o).type!=l){let N=v.mapping.map(n.before(o)),E=v.doc.resolve(N);l&&n.node(o-1).canReplaceWith(E.index(),E.index()+1,l)&&v.setNodeMarkup(v.mapping.map(n.before(o)),l)}return t&&t(v.scrollIntoView()),!0}}const Bse=Pse(),NE=(r,e)=>(e&&e(r.tr.setSelection(new Oi(r.doc))),!0);function _se(r,e,t){let n=e.nodeBefore,i=e.nodeAfter,a=e.index();return!n||!i||!n.type.compatibleContent(i.type)?!1:!n.content.size&&e.parent.canReplace(a-1,a)?(t&&t(r.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(a,a+1)||!(i.isTextblock||BT(r.doc,e.pos))?!1:(t&&t(r.tr.join(e.pos).scrollIntoView()),!0)}function ME(r,e,t,n){let i=e.nodeBefore,a=e.nodeAfter,o,l,c=i.type.spec.isolating||a.type.spec.isolating;if(!c&&_se(r,e,t))return!0;let f=!c&&e.parent.canReplace(e.index(),e.index()+1);if(f&&(o=(l=i.contentMatchAt(i.childCount)).findWrapping(a.type))&&l.matchType(o[0]||a.type).validEnd){if(t){let N=e.pos+a.nodeSize,E=nt.empty;for(let $=o.length-1;$>=0;$--)E=nt.from(o[$].create(null,E));E=nt.from(i.copy(E));let P=r.tr.step(new _n(e.pos-1,N,e.pos,N,new gt(E,1,0),o.length,!0)),L=P.doc.resolve(N+2*o.length);L.nodeAfter&&L.nodeAfter.type==i.type&&BT(P.doc,L.pos)&&P.join(L.pos),t(P.scrollIntoView())}return!0}let v=a.type.spec.isolating||n>0&&c?null:fr.findFrom(e,1),y=v&&v.$from.blockRange(v.$to),T=y&&ym(y);if(T!=null&&T>=e.depth)return t&&t(r.tr.lift(y,T).scrollIntoView()),!0;if(f&&of(a,"start",!0)&&of(i,"end")){let N=i,E=[];for(;E.push(N),!N.isTextblock;)N=N.lastChild;let P=a,L=1;for(;!P.isTextblock;P=P.firstChild)L++;if(N.canReplace(N.childCount,N.childCount,P.content)){if(t){let $=nt.empty;for(let re=E.length-1;re>=0;re--)$=nt.from(E[re].copy($));let ee=r.tr.step(new _n(e.pos-E.length,e.pos+a.nodeSize,e.pos+L,e.pos+a.nodeSize-L,new gt($,E.length,0),0,!0));t(ee.scrollIntoView())}return!0}}return!1}function OE(r){return function(e,t){let n=e.selection,i=r<0?n.$from:n.$to,a=i.depth;for(;i.node(a).isInline;){if(!a)return!1;a--}return i.node(a).isTextblock?(t&&t(e.tr.setSelection(vr.create(e.doc,r<0?i.start(a):i.end(a)))),!0):!1}}const Fse=OE(-1),qse=OE(1);function Hse(r,e=null){return function(t,n){let{$from:i,$to:a}=t.selection,o=i.blockRange(a),l=o&&gae(o,r,e);return l?(n&&n(t.tr.wrap(o,l).scrollIntoView()),!0):!1}}function Cw(r,e=null){return function(t,n){let i=!1;for(let a=0;a<t.selection.ranges.length&&!i;a++){let{$from:{pos:o},$to:{pos:l}}=t.selection.ranges[a];t.doc.nodesBetween(o,l,(c,f)=>{if(i)return!1;if(!(!c.isTextblock||c.hasMarkup(r,e)))if(c.type==r)i=!0;else{let v=t.doc.resolve(f),y=v.index();i=v.parent.canReplaceWith(y,y+1,r)}})}if(!i)return!1;if(n){let a=t.tr;for(let o=0;o<t.selection.ranges.length;o++){let{$from:{pos:l},$to:{pos:c}}=t.selection.ranges[o];a.setBlockType(l,c,r,e)}n(a.scrollIntoView())}return!0}}function zse(r,e,t,n){for(let i=0;i<e.length;i++){let{$from:a,$to:o}=e[i],l=a.depth==0?r.inlineContent&&r.type.allowsMarkType(t):!1;if(r.nodesBetween(a.pos,o.pos,(c,f)=>{if(l)return!1;l=c.inlineContent&&c.type.allowsMarkType(t)}),l)return!0}return!1}function kh(r,e=null,t){return function(n,i){let{empty:a,$cursor:o,ranges:l}=n.selection;if(a&&!o||!zse(n.doc,l,r))return!1;if(i)if(o)r.isInSet(n.storedMarks||o.marks())?i(n.tr.removeStoredMark(r)):i(n.tr.addStoredMark(r.create(e)));else{let c,f=n.tr;c=!l.some(v=>n.doc.rangeHasMark(v.$from.pos,v.$to.pos,r));for(let v=0;v<l.length;v++){let{$from:y,$to:T}=l[v];if(!c)f.removeMark(y.pos,T.pos,r);else{let N=y.pos,E=T.pos,P=y.nodeAfter,L=T.nodeBefore,$=P&&P.isText?/^\s*/.exec(P.text)[0].length:0,ee=L&&L.isText?/\s*$/.exec(L.text)[0].length:0;N+$<E&&(N+=$,E-=ee),f.addMark(N,E,r.create(e))}}i(f.scrollIntoView())}return!0}}function xm(...r){return function(e,t,n){for(let i=0;i<r.length;i++)if(r[i](e,t,n))return!0;return!1}}let xy=xm(ww,Ose,Dse),tC=xm(ww,xE,Lse);const ss={Enter:xm(EE,Rse,Ise,Bse),"Mod-Enter":kw,Backspace:xy,"Mod-Backspace":xy,"Shift-Backspace":xy,Delete:tC,"Mod-Delete":tC,"Mod-a":NE},DE={"Ctrl-h":ss.Backspace,"Alt-Backspace":ss["Mod-Backspace"],"Ctrl-d":ss.Delete,"Ctrl-Alt-Backspace":ss["Mod-Delete"],"Alt-Delete":ss["Mod-Delete"],"Alt-d":ss["Mod-Delete"],"Ctrl-a":Fse,"Ctrl-e":qse};for(let r in ss)DE[r]=ss[r];const $se=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,rC=$se?DE:ss;class fl{constructor(e,t,n={}){this.match=e,this.match=e,this.handler=typeof t=="string"?Vse(t):t,this.undoable=n.undoable!==!1,this.inCode=n.inCode||!1,this.inCodeMark=n.inCodeMark!==!1}}function Vse(r){return function(e,t,n,i){let a=r;if(t[1]){let o=t[0].lastIndexOf(t[1]);a+=t[0].slice(o+t[1].length),n+=o;let l=n-i;l>0&&(a=t[0].slice(o-l,o)+a,n=i)}return e.tr.insertText(a,n,i)}}const Use=500;function AE({rules:r}){let e=new Qi({state:{init(){return null},apply(t,n){let i=t.getMeta(this);return i||(t.selectionSet||t.docChanged?null:n)}},props:{handleTextInput(t,n,i,a){return nC(t,n,i,a,r,e)},handleDOMEvents:{compositionend:t=>{setTimeout(()=>{let{$cursor:n}=t.state.selection;n&&nC(t,n.pos,n.pos,"",r,e)})}}},isInputRules:!0});return e}function nC(r,e,t,n,i,a){if(r.composing)return!1;let o=r.state,l=o.doc.resolve(e),c=l.parent.textBetween(Math.max(0,l.parentOffset-Use),l.parentOffset,null,"")+n;for(let f=0;f<i.length;f++){let v=i[f];if(!v.inCodeMark&&l.marks().some(N=>N.type.spec.code))continue;if(l.parent.type.spec.code){if(!v.inCode)continue}else if(v.inCode==="only")continue;let y=v.match.exec(c),T=y&&y[0].length>=n.length&&v.handler(o,y,e-(y[0].length-n.length),t);if(T)return v.undoable&&T.setMeta(a,{transform:T,from:e,to:t,text:n}),r.dispatch(T),!0}return!1}const jse=(r,e)=>{let t=r.plugins;for(let n=0;n<t.length;n++){let i=t[n],a;if(i.spec.isInputRules&&(a=i.getState(r))){if(e){let o=r.tr,l=a.transform;for(let c=l.steps.length-1;c>=0;c--)o.step(l.steps[c].invert(l.docs[c]));if(a.text){let c=o.doc.resolve(a.from).marks();o.replaceWith(a.from,a.to,r.schema.text(a.text,c))}else o.delete(a.from,a.to);e(o)}return!0}}return!1};new fl(/--$/,"",{inCodeMark:!1});new fl(/\.\.\.$/,"",{inCodeMark:!1});new fl(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"",{inCodeMark:!1});new fl(/"$/,"",{inCodeMark:!1});new fl(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"",{inCodeMark:!1});new fl(/'$/,"",{inCodeMark:!1});var Uv=200,Fn=function(){};Fn.prototype.append=function(e){return e.length?(e=Fn.from(e),!this.length&&e||e.length<Uv&&this.leafAppend(e)||this.length<Uv&&e.leafPrepend(this)||this.appendInner(e)):this};Fn.prototype.prepend=function(e){return e.length?Fn.from(e).append(this):this};Fn.prototype.appendInner=function(e){return new Wse(this,e)};Fn.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?Fn.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};Fn.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Fn.prototype.forEach=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)};Fn.prototype.map=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length);var i=[];return this.forEach(function(a,o){return i.push(e(a,o))},t,n),i};Fn.from=function(e){return e instanceof Fn?e:e&&e.length?new LE(e):Fn.empty};var LE=function(r){function e(n){r.call(this),this.values=n}r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,a){return i==0&&a==this.length?this:new e(this.values.slice(i,a))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,a,o,l){for(var c=a;c<o;c++)if(i(this.values[c],l+c)===!1)return!1},e.prototype.forEachInvertedInner=function(i,a,o,l){for(var c=a-1;c>=o;c--)if(i(this.values[c],l+c)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Uv)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Uv)return new e(i.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(Fn);Fn.empty=new LE([]);var Wse=function(r){function e(t,n){r.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,i,a,o){var l=this.left.length;if(i<l&&this.left.forEachInner(n,i,Math.min(a,l),o)===!1||a>l&&this.right.forEachInner(n,Math.max(i-l,0),Math.min(this.length,a)-l,o+l)===!1)return!1},e.prototype.forEachInvertedInner=function(n,i,a,o){var l=this.left.length;if(i>l&&this.right.forEachInvertedInner(n,i-l,Math.max(a,l)-l,o+l)===!1||a<l&&this.left.forEachInvertedInner(n,Math.min(i,l),a,o)===!1)return!1},e.prototype.sliceInner=function(n,i){if(n==0&&i==this.length)return this;var a=this.left.length;return i<=a?this.left.slice(n,i):n>=a?this.right.slice(n-a,i-a):this.left.slice(n,a).append(this.right.slice(0,i-a))},e.prototype.leafAppend=function(n){var i=this.right.leafAppend(n);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(n){var i=this.left.leafPrepend(n);if(i)return new e(i,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e}(Fn);const Gse=500;class $a{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let i,a;t&&(i=this.remapping(n,this.items.length),a=i.maps.length);let o=e.tr,l,c,f=[],v=[];return this.items.forEach((y,T)=>{if(!y.step){i||(i=this.remapping(n,T+1),a=i.maps.length),a--,v.push(y);return}if(i){v.push(new To(y.map));let N=y.step.map(i.slice(a)),E;N&&o.maybeStep(N).doc&&(E=o.mapping.maps[o.mapping.maps.length-1],f.push(new To(E,void 0,void 0,f.length+v.length))),a--,E&&i.appendMap(E,a)}else o.maybeStep(y.step);if(y.selection)return l=i?y.selection.map(i.slice(a)):y.selection,c=new $a(this.items.slice(0,n).append(v.reverse().concat(f)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:o,selection:l}}addTransform(e,t,n,i){let a=[],o=this.eventCount,l=this.items,c=!i&&l.length?l.get(l.length-1):null;for(let v=0;v<e.steps.length;v++){let y=e.steps[v].invert(e.docs[v]),T=new To(e.mapping.maps[v],y,t),N;(N=c&&c.merge(T))&&(T=N,v?a.pop():l=l.slice(0,l.length-1)),a.push(T),t&&(o++,t=void 0),i||(c=T)}let f=o-n.depth;return f>Kse&&(l=Jse(l,f),o-=f),new $a(l.append(a),o)}remapping(e,t){let n=new oh;return this.items.forEach((i,a)=>{let o=i.mirrorOffset!=null&&a-i.mirrorOffset>=e?n.maps.length-i.mirrorOffset:void 0;n.appendMap(i.map,o)},e,t),n}addMaps(e){return this.eventCount==0?this:new $a(this.items.append(e.map(t=>new To(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],i=Math.max(0,this.items.length-t),a=e.mapping,o=e.steps.length,l=this.eventCount;this.items.forEach(T=>{T.selection&&l--},i);let c=t;this.items.forEach(T=>{let N=a.getMirror(--c);if(N==null)return;o=Math.min(o,N);let E=a.maps[N];if(T.step){let P=e.steps[N].invert(e.docs[N]),L=T.selection&&T.selection.map(a.slice(c+1,N));L&&l++,n.push(new To(E,P,L))}else n.push(new To(E))},i);let f=[];for(let T=t;T<o;T++)f.push(new To(a.maps[T]));let v=this.items.slice(0,i).append(f).append(n),y=new $a(v,l);return y.emptyItemCount()>Gse&&(y=y.compress(this.items.length-n.length)),y}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,i=[],a=0;return this.items.forEach((o,l)=>{if(l>=e)i.push(o),o.selection&&a++;else if(o.step){let c=o.step.map(t.slice(n)),f=c&&c.getMap();if(n--,f&&t.appendMap(f,n),c){let v=o.selection&&o.selection.map(t.slice(n));v&&a++;let y=new To(f.invert(),c,v),T,N=i.length-1;(T=i.length&&i[N].merge(y))?i[N]=T:i.push(y)}}else o.map&&n--},this.items.length,0),new $a(Fn.from(i.reverse()),a)}}$a.empty=new $a(Fn.empty,0);function Jse(r,e){let t;return r.forEach((n,i)=>{if(n.selection&&e--==0)return t=i,!1}),r.slice(t)}class To{constructor(e,t,n,i){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new To(t.getMap().invert(),t,this.selection)}}}class Us{constructor(e,t,n,i,a){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=i,this.prevComposition=a}}const Kse=20;function Qse(r,e,t,n){let i=t.getMeta(nl),a;if(i)return i.historyState;t.getMeta(Zse)&&(r=new Us(r.done,r.undone,null,0,-1));let o=t.getMeta("appendedTransaction");if(t.steps.length==0)return r;if(o&&o.getMeta(nl))return o.getMeta(nl).redo?new Us(r.done.addTransform(t,void 0,n,kv(e)),r.undone,iC(t.mapping.maps),r.prevTime,r.prevComposition):new Us(r.done,r.undone.addTransform(t,void 0,n,kv(e)),null,r.prevTime,r.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let l=t.getMeta("composition"),c=r.prevTime==0||!o&&r.prevComposition!=l&&(r.prevTime<(t.time||0)-n.newGroupDelay||!Xse(t,r.prevRanges)),f=o?Ty(r.prevRanges,t.mapping):iC(t.mapping.maps);return new Us(r.done.addTransform(t,c?e.selection.getBookmark():void 0,n,kv(e)),$a.empty,f,t.time,l??r.prevComposition)}else return(a=t.getMeta("rebased"))?new Us(r.done.rebased(t,a),r.undone.rebased(t,a),Ty(r.prevRanges,t.mapping),r.prevTime,r.prevComposition):new Us(r.done.addMaps(t.mapping.maps),r.undone.addMaps(t.mapping.maps),Ty(r.prevRanges,t.mapping),r.prevTime,r.prevComposition)}function Xse(r,e){if(!e)return!1;if(!r.docChanged)return!0;let t=!1;return r.mapping.maps[0].forEach((n,i)=>{for(let a=0;a<e.length;a+=2)n<=e[a+1]&&i>=e[a]&&(t=!0)}),t}function iC(r){let e=[];for(let t=r.length-1;t>=0&&e.length==0;t--)r[t].forEach((n,i,a,o)=>e.push(a,o));return e}function Ty(r,e){if(!r)return null;let t=[];for(let n=0;n<r.length;n+=2){let i=e.map(r[n],1),a=e.map(r[n+1],-1);i<=a&&t.push(i,a)}return t}function Yse(r,e,t){let n=kv(e),i=nl.get(e).spec.config,a=(t?r.undone:r.done).popEvent(e,n);if(!a)return null;let o=a.selection.resolve(a.transform.doc),l=(t?r.done:r.undone).addTransform(a.transform,e.selection.getBookmark(),i,n),c=new Us(t?l:a.remaining,t?a.remaining:l,null,0,-1);return a.transform.setSelection(o).setMeta(nl,{redo:t,historyState:c})}let Ey=!1,aC=null;function kv(r){let e=r.plugins;if(aC!=e){Ey=!1,aC=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){Ey=!0;break}}return Ey}const nl=new gh("history"),Zse=new gh("closeHistory");function RE(r={}){return r={depth:r.depth||100,newGroupDelay:r.newGroupDelay||500},new Qi({key:nl,state:{init(){return new Us($a.empty,$a.empty,null,0,-1)},apply(e,t,n){return Qse(t,n,e,r)}},config:r,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,i=n=="historyUndo"?Zd:n=="historyRedo"?Sw:null;return i?(t.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function IE(r,e){return(t,n)=>{let i=nl.getState(t);if(!i||(r?i.undone:i.done).eventCount==0)return!1;if(n){let a=Yse(i,t,r);a&&n(e?a.scrollIntoView():a)}return!0}}const Zd=IE(!1,!0),Sw=IE(!0,!0);function ele(r){let e=nl.getState(r);return e?e.done.eventCount:0}/**
 * @toast-ui/editor
 * @version 3.2.2 | Fri Feb 17 2023
 * @author NHN Cloud FE Development Lab <dl_javascript@nhn.com>
 * @license MIT
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var x0=function(r,e){return x0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},x0(r,e)};function Ct(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");x0(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var He=function(){return He=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},He.apply(this,arguments)};function Ki(r,e,t){if(arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return r.concat(a||Array.prototype.slice.call(e))}function gr(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}function tle(r,e,t){var n;t=t||null;for(n in r)if(r.hasOwnProperty(n)&&e.call(t,r[n],n,r)===!1)break}var sf=tle;function rle(r,e){var t=Object.prototype.hasOwnProperty,n,i,a,o;for(a=1,o=arguments.length;a<o;a+=1){n=arguments[a];for(i in n)t.call(n,i)&&(r[i]=n[i])}return r}var xw=rle;function nle(r){return typeof r=="string"||r instanceof String}var ms=nle;function ile(r){return r instanceof Array}var Cf=ile;function ale(r,e,t){var n=0,i=r.length;for(t=t||null;n<i&&e.call(t,r[n],n,r)!==!1;n+=1);}var lf=ale,ole=Cf,sle=lf,lle=sf;function ule(r,e,t){ole(r)?sle(r,e,t):lle(r,e,t)}var Tm=ule,cle=ms,fle=Tm;function dle(r,e,t){var n=r.style;if(cle(e)){n[e]=t;return}fle(e,function(i,a){n[a]=i})}var Ao=dle,hle=Cf;function ple(r,e,t){var n,i;if(t=t||0,!hle(e))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(e,r,t);for(i=e.length,n=t;t>=0&&n<i;n+=1)if(e[n]===r)return n;return-1}var Tu=ple;function vle(r){return r===void 0}var Ga=vle,mle=Ga;function gle(r){return!r||!r.className?"":mle(r.className.baseVal)?r.className:r.className.baseVal}var Tw=gle,yle=Cf,wle=Ga;function ble(r,e){if(e=yle(e)?e.join(" "):e,e=e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),wle(r.className.baseVal)){r.className=e;return}r.className.baseVal=e}var PE=ble,oC=Tm,kle=Tu,Cle=Tw,Sle=PE;function xle(r){var e=Array.prototype.slice.call(arguments,1),t=r.classList,n=[],i;if(t){oC(e,function(a){r.classList.add(a)});return}i=Cle(r),i&&(e=[].concat(i.split(/\s+/),e)),oC(e,function(a){kle(a,n)<0&&n.push(a)}),Sle(r,n)}var No=xle,sC=lf,Tle=Tu,Ele=Tw,Nle=PE;function Mle(r){var e=Array.prototype.slice.call(arguments,1),t=r.classList,n,i;if(t){sC(e,function(a){t.remove(a)});return}n=Ele(r).split(/\s+/),i=[],sC(n,function(a){Tle(a,e)<0&&i.push(a)}),Nle(r,i)}var Va=Mle;function Ole(r){return typeof r=="number"||r instanceof Number}var ls=Ole;function Dle(r){return r===null}var jv=Dle,Ale=sf;function Lle(r,e){var t=document.createElement("img"),n="";return Ale(e,function(i,a){n+="&"+a+"="+i}),n=n.substring(1),t.src=r+"?"+n,t.style.display="none",document.body.appendChild(t),document.body.removeChild(t),t}var Rle=Lle,Ile=Ga,Ple=Rle,Ble=7*24*60*60*1e3;function _le(r){var e=new Date().getTime();return e-r>Ble}function Fle(r,e){var t="https://www.google-analytics.com/collect",n=location.hostname,i="event",a="use",o="TOAST UI "+r+" for "+n+": Statistics",l=window.localStorage.getItem(o);!Ile(window.tui)&&window.tui.usageStatistics===!1||l&&!_le(l)||(window.localStorage.setItem(o,new Date().getTime()),setTimeout(function(){(document.readyState==="interactive"||document.readyState==="complete")&&Ple(t,{v:1,t:i,tid:e,cid:n,dp:n,dh:r,el:r,ec:a})},1e3))}var qle=Fle,Hle=/[\u0020]+/g,zle=/[>(){}[\]+-.!#|]/g,lC=/<([a-zA-Z_][a-zA-Z0-9\-._]*)(\s|[^\\>])*\/?>|<(\/)([a-zA-Z_][a-zA-Z0-9\-._]*)\s*\/?>|<!--[^-]+-->|<([a-zA-Z_][a-zA-Z0-9\-.:/]*)>/g,uC=/\\[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~\\]/g,$le=/[*_~`]/g,cC=/!\[.*\]\(.*\)/g,Vle=/[[\]]/g,fC=/(?:^|[^\\])\\(?!\\)/g,Ule='[&<>"]',dC=new RegExp(Ule,"g");function jle(r){switch(r){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return r}}function Xc(r){return dC.test(r)?r.replace(dC,jle):r}function Wle(){qle("editor","UA-129966929-1")}function ei(r,e){return r.indexOf(e)!==-1}var Gle=["rel","target","hreflang","type"],Jle={codeblock:/(^ {4}[^\n]+\n*)+/,thematicBreak:/^ *((\* *){3,}|(- *){3,} *|(_ *){3,}) */,atxHeading:/^(#{1,6}) +[\s\S]+/,seTextheading:/^([^\n]+)\n *(=|-){2,} */,blockquote:/^( *>[^\n]+.*)+/,list:/^ *(\*+|-+|\d+\.) [\s\S]+/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? */,link:/!?\[.*\]\(.*\)/,reflink:/!?\[.*\]\s*\[([^\]]*)\]/,verticalBar:/\u007C/,fencedCodeblock:/^((`|~){3,})/};function BE(r){if(!r)return null;var e={};return Gle.forEach(function(t){Ga(r[t])||(e[t]=r[t])}),e}function Wv(r,e){for(var t="",n=0;n<e;n+=1)t+=r;return t}function Kle(r){var e=!1;return sf(Jle,function(t){return t.test(r)&&(e=!0),!e}),e}function Gv(r){for(var e=[],t=cC.exec(r);t;)e.push([t.index,t.index+t[0].length]),t=cC.exec(r);return r.replace(Vle,function(n,i){var a=e.some(function(o){return i>o[0]&&i<o[1]});return a?n:"\\"+n})}function Qle(r){var e=function(i){return"\\"+i},t=function(i){return i+"\\"},n=r.replace(Hle," ");return uC.test(n)&&(n=n.replace(uC,e)),fC.test(n)&&(n=n.replace(fC,t)),n=n.replace($le,e),lC.test(n)&&(n=n.replace(lC,e)),Kle(n)&&(n=n.replace(zle,e)),n}function Xle(r){var e;return r.indexOf('"')===-1?e='""':e=r.indexOf("'")===-1?"''":"()",e[0]+r+e[1]}function T0(r){return jv(r)||Ga(r)}function Ew(r,e){if(r===null&&r===e)return!0;if(typeof r!="object"||typeof e!="object"||T0(r)||T0(e))return r===e;for(var t in r)if(r[t]!==e[t])return!1;for(var t in e)if(!(t in r))return!1;return!0}function gi(r){return r[r.length-1]}function Yle(r,e,t){return r>=e&&r<=t}function Nw(r){return typeof r=="object"&&r!==null}function Jv(r,e){var t=He({},r);return r&&e&&Object.keys(e).forEach(function(n){Nw(t[n])?Array.isArray(e[n])?t[n]=Mw(e[n]):t.hasOwnProperty(n)?t[n]=Jv(t[n],e[n]):t[n]=Ow(e[n]):t[n]=e[n]}),t}function Mw(r){return r.map(function(e){return Nw(e)?Array.isArray(e)?Mw(e):Ow(e):e})}function Ow(r){var e=Object.keys(r);return e.length?e.reduce(function(t,n){return Nw(r[n])?t[n]=Array.isArray(r[n])?Mw(r[n]):Ow(r[n]):t[n]=r[n],t},{}):r}function Dw(r,e){return e===void 0&&(e={}),Object.keys(e).forEach(function(t){r.hasOwnProperty(t)&&typeof r[t]=="object"?Array.isArray(e[t])?r[t]=e[t]:Dw(r[t],e[t]):r[t]=e[t]}),r}function hC(r,e){return r>e?[e,r]:[r,e]}var Zle=lf;function eue(r){var e;try{e=Array.prototype.slice.call(r)}catch{e=[],Zle(r,function(n){e.push(n)})}return e}var Lo=eue;function Kv(r,e){var t=r.nodes.paragraph;return e?t.create(null,ms(e)?r.text(e):e):t.createAndFill()}function Zn(r,e,t){return r.text(e,t)}function Jr(r,e,t){t===void 0&&(t=e);var n=r.doc.content.size,i=n>0?n-1:1;return vr.create(r.doc,Math.min(e,i),Math.min(t,i))}function Aw(r,e,t){var n=e.pos;return r.replaceWith(n,n,Kv(t)),r.setSelection(Jr(r,n+1))}function Qv(r){for(var e=r.state,t=r.from,n=r.startIndex,i=r.endIndex,a=r.createText,o=e.tr,l=e.doc,c=e.schema,f=n;f<=i;f+=1){var v=l.child(f),y=v.nodeSize,T=v.textContent,N=v.content,E=a(T),P=E?Zn(c,E):nt.empty,L=o.mapping.map(t),$=L+N.size;o.replaceWith(L,$,P),t+=y}return o}function Lw(r,e,t,n){var i=t.length;r.split(e).delete(e-i,e).insert(r.mapping.map(e),n).setSelection(Jr(r,r.mapping.map(e)-i))}function Ch(r){return r.sourcepos[0][0]}function Em(r){return r.sourcepos[1][0]}function Nm(r){return r.sourcepos[0][1]}function il(r){return r.sourcepos[1][1]}function tue(r){var e=r.type;return e==="htmlBlock"||e==="htmlInline"}function rue(r){var e=r.type;return e==="strike"||e==="strong"||e==="emph"||e==="code"||e==="link"||e==="image"}function nue(r){return r&&r.type==="codeBlock"}function Eu(r){return r&&(r.type==="item"||r.type==="list")}function _E(r){return Eu(r)&&r.listData.type==="ordered"}function iue(r){return Eu(r)&&r.listData.type!=="ordered"}function pC(r){return r&&(r.type==="tableCell"||r.type==="tableDelimCell")}function aue(r){switch(r.type){case"code":case"text":case"emph":case"strong":case"strike":case"link":case"image":case"htmlInline":case"linebreak":case"softbreak":case"customInline":return!0;default:return!1}}function uf(r,e,t){for(t===void 0&&(t=!0),r=t?r:r.parent;r&&r.type!=="document";){if(e(r))return r;r=r.parent}return null}function oue(r,e,t){for(t===void 0&&(t=!0),r=t?r:r.parent;r&&r.type!=="document";)e(r),r=r.parent}function Bn(r,e){return[r[0],r[1]+e]}function al(r,e){return[r[0],e]}function sue(r){var e=r.firstChild.literal;switch(r.type){case"emph":return"*"+e+"*";case"strong":return"**"+e+"**";case"strike":return"~~"+e+"~~";case"code":return"`"+e+"`";case"link":case"image":var t=r,n=t.destination,i=t.title,a=r.type==="link"?"":"!";return a+"["+e+"]("+n+(i?' "'+i+'"':"")+")";default:return null}}function lue(r){switch(r.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}function uue(r){for(var e=[],t=r.walker(),n=null;n=t.next();){var i=n.node;i.type==="text"&&e.push(i.literal)}return e.join("")}var dh=[],FE={},vC=/\$\$widget\d+\s/;function Mm(r){var e=r.search(vC);if(e!==-1){var t=r.substring(e),n=t.replace(vC,"").replace("$$","");r=r.substring(0,e),r+=Mm(n)}return r}function qE(r,e){return"$$"+r+" "+e+"$$"}function HE(r,e){var t=FE[r],n=t.rule,i=t.toDOM,a=Mm(e).match(n);return a&&(e=a[0]),i(e)}function cue(){return dh}function fue(r){dh=r,dh.forEach(function(e,t){FE["widget"+t]=e})}function Ny(r,e,t,n){return r.concat(yu(e,t,n))}function yu(r,e,t){t===void 0&&(t=0);var n=[],i=(dh[t]||{}).rule,a=t+1;if(r=Mm(r),i&&i.test(r)){for(var o=void 0;(o=r.search(i))!==-1;){var l=r.substring(0,o);l&&(n=Ny(n,l,e,a)),r=r.substring(o);var c=r.match(i)[0],f="widget"+t;n.push(e.nodes.widget.create({info:f},e.text(qE(f,c)))),r=r.substring(c.length)}r&&(n=Ny(n,r,e,a))}else r&&(n=t<dh.length-1?Ny(n,r,e,a):[e.text(r)]);return n}function zE(r){for(var e,t="",n=r.walker();e=n.next();){var i=e.node,a=e.entering;a&&(i!==r&&i.type!=="text"?(t+=sue(i),n.resumeAt(r,!1),n.next()):i.type==="text"&&(t+=i.literal))}return t}function $E(){return{deleteSelection:function(){return ww},selectAll:function(){return NE},undo:function(){return Zd},redo:function(){return Sw}}}function due(r){return new Qi({props:{decorations:function(e){var t=e.doc;if(r.text&&t.childCount===1&&t.firstChild.isTextblock&&t.firstChild.content.size===0){var n=document.createElement("span");return No(n,"placeholder"),r.className&&No(n,r.className),n.textContent=r.text,nn.create(t,[ji.widget(1,n)])}return null}}})}var hue=Tu,pue=Tw;function vue(r,e){var t;return r.classList?r.classList.contains(e):(t=pue(r).split(/\s+/),hue(e,t)>-1)}var VE=vue,mue=Tu,gue=Lo,iv=Element.prototype,yue=iv.matches||iv.webkitMatchesSelector||iv.mozMatchesSelector||iv.msMatchesSelector||function(r){var e=this.document||this.ownerDocument;return mue(this,gue(e.querySelectorAll(r)))>-1};function wue(r,e){return yue.call(r,e)}var bue=wue,UE="[A-Za-z][A-Za-z0-9-]*",kue="[a-zA-Z_:][a-zA-Z0-9:._-]*",Cue="[^\"'=<>`\\x00-\\x20]+",Sue="'[^']*'",xue='"[^"]*"',Tue="(?:"+Cue+"|"+Sue+"|"+xue+")",Eue="(?:\\s*=\\s*"+Tue+")",jE="(?:\\s+"+kue+Eue+"?)",WE="<("+UE+")("+jE+")*\\s*/?>",Nue="</("+UE+")\\s*[>]",GE="(?:"+WE+"|"+Nue+")",cf=new RegExp("^"+GE,"i"),E0=/<br\s*\/*>/i,Mue=/<! ---->|<!--(?:-?[^>-])(?:-?[^-])*-->/,JE="</p><p>";function Rw(r,e,t){var n=parseInt(r.left,10),i=parseInt(r.top,10),a=parseInt(r.width,10)+parseInt(r.paddingLeft,10)+parseInt(r.paddingRight,10),o=parseInt(r.height,10)+parseInt(r.paddingTop,10)+parseInt(r.paddingBottom,10);return e>=n&&e<=n+a&&t>=i&&t<=i+o}var KE="toastui-editor-";function Dt(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];for(var t=[],n=0,i=r;n<i.length;n++){var a=i[n],o=void 0;Array.isArray(a)?o=a[0]?a[1]:null:o=a,o&&t.push(""+KE+o)}return t.join(" ")}function Cn(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return r.map(function(t){return KE+"md-"+t}).join(" ")}function Oue(r){return r?.nodeType===Node.TEXT_NODE}function Om(r){return r&&r.nodeType===Node.ELEMENT_NODE}function Due(r,e){var t=Lo(r.querySelectorAll(e));return t.length?t:[]}function Aue(r,e){e=Cf(e)?Lo(e):[e],e.forEach(function(t){r.appendChild(t)})}function Lue(r,e){e.parentNode&&e.parentNode.insertBefore(r,e)}function Nu(r){r.parentNode&&r.parentNode.removeChild(r)}function Rue(r){for(var e=[];r.firstChild;)e.push(r.firstChild),r.parentNode&&r.parentNode.insertBefore(r.firstChild,r);return Nu(r),e}function Iw(r,e,t){Ga(t)&&(t=!VE(r,e));var n=t?No:Va;n(r,e)}function QE(r,e){var t=document.createElement("div");ms(r)?t.innerHTML=r:t.appendChild(r);var n=t.firstChild;return e&&e.appendChild(n),n}function Pw(r){var e=window.getComputedStyle(r);return["margin-left","margin-right"].reduce(function(t,n){return t+parseInt(e.getPropertyValue(n),10)},0)+r.offsetWidth}function Mo(r,e){var t;for(ms(e)?t=function(n){return bue(n,e)}:t=function(n){return n===e};r&&r!==document;){if(Om(r)&&t(r))return r;r=r.parentNode}return null}function XE(r,e){for(var t=0,n=0;r&&r!==e;){var i=r.offsetTop,a=r.offsetLeft,o=r.offsetParent;if(t+=i,n+=a,o===e.offsetParent)break;r=r.offsetParent}return{offsetTop:t,offsetLeft:n}}function Bw(r,e){Object.keys(r).forEach(function(t){T0(r[t])?e.removeAttribute(t):e.setAttribute(t,r[t])})}function Iue(r){var e=r.replace(/<p><br\s*\/*><\/p>/gi,"<p></p>"),t=new RegExp(GE,"ig"),n=e.match(t);return n?.forEach(function(i,a){if(E0.test(i)){var o=JE;if(a){var l=n[a-1],c=l.match(WE);if(c&&!/br/i.test(c[1])){var f=c[1];o="</"+f+"><"+f+">"}}e=e.replace(E0,o)}}),e}function _w(r){var e=/<img class="ProseMirror-separator" alt="">/g,t=/ class="ProseMirror-trailingBreak"/g,n=r;return n=n.replace(e,""),n=n.replace(t,""),n}var YE=new gh("widget"),mC=5,Pue=function(){function r(e,t){var n=this;this.popup=null,this.removeWidget=function(){n.popup&&(n.rootEl.removeChild(n.popup),n.popup=null)},this.rootEl=e.dom.parentElement,this.eventEmitter=t,this.eventEmitter.listen("blur",this.removeWidget),this.eventEmitter.listen("loadUI",function(){n.rootEl=Mo(e.dom.parentElement,"."+Dt("defaultUI"))}),this.eventEmitter.listen("removePopupWidget",this.removeWidget)}return r.prototype.update=function(e){var t=YE.getState(e.state);if(this.removeWidget(),t){var n=t.node,i=t.style,a=e.coordsAtPos(t.pos),o=a.top,l=a.left,c=a.bottom,f=c-o,v=this.rootEl.getBoundingClientRect(),y=o-v.top;Ao(n,{opacity:"0"}),this.rootEl.appendChild(n),Ao(n,{position:"absolute",left:l-v.left+mC+"px",top:(i==="bottom"?y+f-mC:y-f)+"px",opacity:"1"}),this.popup=n,e.focus()}},r.prototype.destroy=function(){this.eventEmitter.removeEventHandler("blur",this.removeWidget)},r}();function Bue(r){return new Qi({key:YE,state:{init:function(){return null},apply:function(e){return e.getMeta("widget")}},view:function(e){return new Pue(e,r)}})}function _ue(r){r.listen("addImageBlobHook",function(e,t){var n=new FileReader;n.onload=function(i){var a=i.target;return t(a.result)},n.readAsDataURL(e)})}function Fw(r,e,t){var n=function(i,a){r.emit("command","addImage",{imageUrl:i,altText:a||e.name||"image"})};r.emit("addImageBlobHook",e,n,t)}function ZE(r){var e=Lo(r).filter(function(n){var i=n.type;return i.indexOf("image")!==-1});if(e.length===1){var t=e[0];if(t)return t.getAsFile()}return null}function Fue(r){var e=r.eventEmitter;return new Qi({props:{handleDOMEvents:{drop:function(t,n){var i,a=(i=n.dataTransfer)===null||i===void 0?void 0:i.files;return a&&lf(a,function(o){return o.type.indexOf("image")!==-1?(n.preventDefault(),n.stopPropagation(),Fw(e,o,n.type),!1):!0}),!0}}}})}var $r=function(){function r(){}return Object.defineProperty(r.prototype,"type",{get:function(){return"node"},enumerable:!1,configurable:!0}),r.prototype.setContext=function(e){this.context=e},r}();function eN(r){var e=document.createElement("span"),t=HE(r.attrs.info,r.textContent);return e.className="tui-widget",e.appendChild(t),{dom:e}}function N0(r){return r.type.name==="widget"}var tN=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"widget"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{info:{default:null}},group:"inline",inline:!0,content:"text*",selectable:!1,atom:!0,toDOM:function(){return["span",{class:"tui-widget"},0]},parseDOM:[{tag:"span.tui-widget",getAttrs:function(t){var n=t.textContent,i=n.match(/\$\$(widget\d+)/),a=i[1];return{info:a}}}]}},enumerable:!1,configurable:!0}),e}($r),rN=function(){function r(e){this.timer=null,this.el=document.createElement("div"),this.el.className="toastui-editor",this.eventEmitter=e,this.placeholder={text:""}}return r.prototype.createState=function(){return cu.create({schema:this.schema,plugins:this.createPlugins()})},r.prototype.initEvent=function(){var e=this,t=e.eventEmitter,n=e.view,i=e.editorType;n.dom.addEventListener("focus",function(){return t.emit("focus",i)}),n.dom.addEventListener("blur",function(){return t.emit("blur",i)})},r.prototype.emitChangeEvent=function(e){this.eventEmitter.emit("caretChange",this.editorType),e.docChanged&&this.eventEmitter.emit("change",this.editorType)},Object.defineProperty(r.prototype,"defaultPlugins",{get:function(){var e=this.createInputRules(),t=Ki(Ki([],this.keymaps),[fh(He({"Shift-Enter":rC.Enter},rC)),RE(),due(this.placeholder),Bue(this.eventEmitter),Fue(this.context)]);return e?t.concat(e):t},enumerable:!1,configurable:!0}),r.prototype.createInputRules=function(){var e=cue(),t=e.map(function(n){var i=n.rule;return new fl(i,function(a,o,l,c){var f=a.schema,v=a.tr,y=a.doc,T=o.input.match(new RegExp(i,"g")),N=y.resolve(l),E=N.parent,P=0;if(N0(E)&&(E=N.node(N.depth-1)),E.forEach(function(ee){return N0(ee)&&(P+=1)}),T.length>P){var L=gi(T),$=yu(L,f);return v.replaceWith(c-L.length+1,c,$)}return null})});return t.length?AE({rules:t}):null},r.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},r.prototype.createSchema=function(){return new ET({nodes:this.specs.nodes,marks:this.specs.marks})},r.prototype.createKeymaps=function(e){var t=$E(),n=t.undo,i=t.redo,a=this.specs.keymaps(e),o={"Mod-z":n(),"Shift-Mod-z":i()};return e?a.concat(fh(o)):a},r.prototype.createCommands=function(){return this.specs.commands(this.view)},r.prototype.createPluginProps=function(){var e=this;return this.extraPlugins.map(function(t){return t(e.eventEmitter)})},r.prototype.focus=function(){var e=this;this.clearTimer(),this.timer=setTimeout(function(){e.view.focus(),e.view.dispatch(e.view.state.tr.scrollIntoView())})},r.prototype.blur=function(){this.view.dom.blur()},r.prototype.destroy=function(){var e=this;this.clearTimer(),this.view.destroy(),Object.keys(this).forEach(function(t){delete e[t]})},r.prototype.moveCursorToStart=function(e){var t=this.view.state.tr;this.view.dispatch(t.setSelection(Jr(t,1)).scrollIntoView()),e&&this.focus()},r.prototype.moveCursorToEnd=function(e){var t=this.view.state.tr;this.view.dispatch(t.setSelection(Jr(t,t.doc.content.size-1)).scrollIntoView()),e&&this.focus()},r.prototype.setScrollTop=function(e){this.view.dom.scrollTop=e},r.prototype.getScrollTop=function(){return this.view.dom.scrollTop},r.prototype.setPlaceholder=function(e){this.placeholder.text=e,this.view.dispatch(this.view.state.tr.scrollIntoView())},r.prototype.setHeight=function(e){Ao(this.el,{height:e+"px"})},r.prototype.setMinHeight=function(e){Ao(this.el,{minHeight:e+"px"})},r.prototype.getElement=function(){return this.el},r}();function que(r){return r instanceof Function}var Na=que,Hue=["Enter","Shift-Enter","Mod-Enter","Tab","Shift-Tab","Delete","Backspace","Mod-Delete","Mod-Backspace","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Mod-d","Mod-D","Alt-ArrowUp","Alt-ArrowDown"];function av(r,e,t){return r.focus(),e(t)(r.state,r.dispatch,r)}var nN=function(){function r(e){this.specs=e}return Object.defineProperty(r.prototype,"nodes",{get:function(){return this.specs.filter(function(e){return e.type==="node"}).reduce(function(e,t){var n,i=t.name,a=t.schema;return He(He({},e),(n={},n[i]=a,n))},{})},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"marks",{get:function(){return this.specs.filter(function(e){return e.type==="mark"}).reduce(function(e,t){var n,i=t.name,a=t.schema;return He(He({},e),(n={},n[i]=a,n))},{})},enumerable:!1,configurable:!0}),r.prototype.commands=function(e,t){var n=this.specs.filter(function(a){var o=a.commands;return o}).reduce(function(a,o){var l={},c=o.commands();return Na(c)?l[o.name]=function(f){return av(e,c,f)}:Object.keys(c).forEach(function(f){l[f]=function(v){return av(e,c[f],v)}}),He(He({},a),l)},{}),i=$E();return Object.keys(i).forEach(function(a){n[a]=function(o){return av(e,i[a],o)}}),t&&Object.keys(t).forEach(function(a){n[a]=function(o){return av(e,t[a],o)}}),n},r.prototype.keymaps=function(e){var t=this.specs.filter(function(n){return n.keymaps}).map(function(n){return n.keymaps()});return t.map(function(n){return e||Object.keys(n).forEach(function(i){ei(Hue,i)||delete n[i]}),fh(n)})},r.prototype.setContext=function(e){this.specs.forEach(function(t){t.setContext(e)})},r}();function iN(r){var e=r.from,t=r.to;return r instanceof Oi?[e+1,t-1]:[e,t]}function gC(r){return r.index(0)+1}function ff(r,e,t){t===void 0&&(t=1);var n=0;return r.forEach(function(i,a){N0(i)&&a+2<e&&(n+=2*t)}),n}function Cv(r,e,t){t===void 0&&(t=e);var n=e===t,i=r.resolve(e),a=gC(i),o=a,l=i.start(1),c=l;if(!n){var f=r.resolve(t===r.content.size?t-1:t);c=f.start(1),o=gC(f),f.pos===r.content.size&&(t=r.content.size-2)}var v=Math.max(e-l+1,1),y=Math.max(t-c+1,1);return[[a,v+ff(r.child(a-1),v,-1)],[o,y+ff(r.child(o-1),y,-1)]]}function aN(r,e){for(var t=[],n=0,i=0;n<e;n+=1){var a=r.child(n);t[n]=i,i+=a.nodeSize}return t}function su(r,e,t){var n=aN(r,t[0]),i=e[0]-1,a=t[0]-1,o=r.child(i),l=r.child(a),c=n[i],f=n[a];return c+=e[1]+ff(o,e[1]-1),f+=t[1]+ff(l,t[1]-1),[c,Math.min(f,r.content.size)]}function kn(r){var e=r.$from,t=r.$to,n=r.from,i=r.to,a=e.doc;return r instanceof Oi&&(e=a.resolve(n+1),t=a.resolve(i-1)),e.depth===0&&(e=a.resolve(n-1),t=e),{startFromOffset:e.start(1),endFromOffset:t.start(1),startToOffset:e.end(1),endToOffset:t.end(1),startIndex:e.index(0),endIndex:t.index(0),from:e.pos,to:t.pos}}function Xv(r,e){for(var t=1,n=1,i=0,a=0;i<r.childCount;i+=1){var o=r.child(i).nodeSize;if(t=a+1,n=a+o-1,i===e)break;a+=o}return{startOffset:t,endOffset:n}}var yC="heading",zue="blockQuote",$ue="listItem",Vue="table",Uue="tableCell",jue="codeBlock",Wue="thematicBreak",Sv="link",ov="code",Dm="meta",Mu="delimiter",Gue="taskDelimiter",qw="markedText",Jue="html",Kue="customBlock",wC={strong:2,emph:1,strike:2};function Or(r,e,t,n){return{start:r,end:e,spec:{type:t,attrs:n}}}function Que(r,e,t){var n=r.level,i=r.headingType,a=[Or(e,t,yC,{level:n})];return i==="atx"?a.push(Or(e,Bn(e,n),Mu)):a.push(Or(al(t,0),t,yC,{seText:!0})),a}function My(r,e,t){var n=r.type,i=Bn(e,wC[n]),a=Bn(t,-wC[n]);return[Or(i,a,n),Or(e,i,Mu),Or(a,t,Mu)]}function oN(r,e,t,n){return[Or(r,e,Sv),Or(al(r,t[1]+1),al(e,n),Sv,{desc:!0}),Or(al(e,n+2),Bn(e,-1),Sv,{url:!0})]}function Xue(r,e,t){var n=r.lastChild,i=n?il(n)+1:3,a=Bn(e,1);return Ki([Or(e,a,Dm)],oN(e,t,a,i))}function Yue(r,e,t){var n=r.lastChild,i=r.extendedAutolink,a=n?il(n)+1:2;return i?[Or(e,t,Sv,{desc:!0})]:oN(e,t,e,a)}function Zue(r,e,t){var n=r.tickCount,i=Bn(e,n),a=Bn(t,-n);return[Or(e,t,ov),Or(e,i,ov,{start:!0}),Or(i,a,ov,{marked:!0}),Or(a,t,ov,{end:!0})]}function sN(r,e,t,n){var i={start:e,end:t,spec:{attrs:{className:n+"-line-background",codeStart:e[0],codeEnd:t[0]}},lineBackground:!0};return r.type!=="item"&&r.type!=="blockQuote"?[He(He({},i),{end:e,spec:{attrs:{className:n+"-line-background start"}}}),He(He({},i),{start:[Math.min(e[0]+1,t[0]),e[1]]})]:null}function ece(r,e,t,n){var i=r.fenceOffset,a=r.fenceLength,o=r.fenceChar,l=r.info,c=r.infoPadding,f=r.parent,v=i+a,y=[Or(al(e,1),t,jue)];o&&y.push(Or(e,Bn(e,v),Mu)),l&&y.push(Or(Bn(e,a),Bn(e,a+c+l.length),Dm));var T="^(\\s{0,4})("+o+"{"+a+",})",N=new RegExp(T);N.test(n)&&y.push(Or(al(t,1),t,Mu));var E=sN(f,e,t,"code-block");return E?y.concat(E):y}function tce(r,e,t){var n=r,i=n.offset,a=n.syntaxLength,o=n.info,l=n.parent,c=i+a,f=[Or(al(e,1),t,Kue)];f.push(Or(e,Bn(e,c),Mu)),o&&f.push(Or(Bn(e,c),Bn(e,a+o.length),Dm)),f.push(Or(al(t,1),t,Mu));var v=sN(l,e,t,"custom-block");return v?f.concat(v):f}function lN(r,e){for(var t=[];r;){var n=r.type;(n==="paragraph"||n==="codeBlock")&&t.push(Or([Ch(r),Nm(r)-1],[Em(r),il(r)+1],e)),r=r.next}return t}function rce(r){for(var e=[];r;)e.push(Or([Ch(r),Nm(r)],[Em(r),il(r)+1],qw)),r=r.next;return e}function nce(r,e,t){var n=r.parent&&r.parent.type!=="blockQuote"?[Or(e,t,zue)]:[];if(r.firstChild){var i=[];r.firstChild.type==="paragraph"?i=rce(r.firstChild.firstChild):r.firstChild.type==="list"&&(i=lN(r.firstChild,qw)),n=Ki(Ki([],n),i)}return n}function ice(r){for(var e=0;r.parent.parent&&r.parent.parent.type==="item";)r=r.parent.parent,e+=1;var t=[{odd:!0},{even:!0}][e%2];return[$ue,He(He({},t),{listStyle:!0})]}function ace(r,e){var t=r.listData,n=t.padding,i=t.task,a=ice(r),o=[Or.apply(void 0,Ki([e,Bn(e,n)],a))];return i&&(o.push(Or(Bn(e,n),Bn(e,n+3),Gue)),o.push(Or(Bn(e,n+1),Bn(e,n+2),Dm))),o.concat(lN(r.firstChild,qw))}var bC={heading:Que,strong:My,emph:My,strike:My,link:Yue,image:Xue,code:Zue,codeBlock:ece,blockQuote:nce,item:ace,customBlock:tce},kC={thematicBreak:Wue,table:Vue,tableCell:Uue,htmlInline:Jue};function oce(r,e,t,n){var i=r.type;return Na(bC[i])?bC[i](r,e,t,n):kC[i]?[Or(e,t,kC[i])]:null}var hh={};function sce(r){var e=r.schema,t=r.toastMark;return new Qi({appendTransaction:function(n,i,a){var o=n[0],l=a.tr;if(o.docChanged){var c=[],f=o.getMeta("editResult");f.forEach(function(v){var y=v.nodes,T=v.removedNodeRange;if(y.length){c=c.concat(hce(l,y));for(var N=0,E=y;N<E.length;N++)for(var P=E[N],L=P.walker(),$=L.next();$;){var ee=$.node,re=$.entering;re&&(c=c.concat(pce(ee,t))),$=L.next()}}else if(T)for(var se=l.doc.childCount-1,ve=T.line,le=ve[0],ke=ve[1],we=Math.min(le,se),Le=Math.min(ke,se),je=we;je<=Le;je+=1)hh[je]=!0}),cce(l,e,c)}return l.setMeta("widget",o.getMeta("widget"))}})}function lce(r,e,t){return Object.keys(t).some(function(n){return t[n]!==r.child(e).attrs[n]})}function uce(r,e,t,n,i){i===void 0&&(i={});for(var a=n.startIndex,o=n.endIndex,l=n.from,c=n.to,f=!1,v=a;v<=o;v+=1)delete hh[v],f=lce(e,v,i);f&&r.setBlockType(l,c,t,i)}function cce(r,e,t){var n=r.doc,i=e.nodes.paragraph,a=aN(n,n.childCount);t.forEach(function(o){var l=o.start,c=o.end,f=o.spec,v=o.lineBackground,y=Math.min(l[0],n.childCount)-1,T=Math.min(c[0],n.childCount)-1,N=n.child(y),E=n.child(T),P=a[y],L=a[T];if(P+=l[1]+ff(N,l[1]-1),L+=c[1]+ff(E,c[1]-1),f)if(v){var $={from:P,to:L,startIndex:y,endIndex:T};uce(r,n,i,$,f.attrs)}else r.addMark(P,L,e.mark(f.type,f.attrs));else r.removeMark(P,L)}),fce(r,a,i)}function fce(r,e,t){Object.keys(hh).forEach(function(n){var i=Number(n),a=Math.min(Number(n)+1,r.doc.childCount-1),o=e[i],l=e[a]-1;i===a&&(l+=2),r.setBlockType(o,l,t)})}function dce(r,e,t){var n=[];hh={};for(var i=e[0]-1;i<t[0];i+=1){var a=r.child(i),o=a.attrs.codeEnd,l=a.attrs.codeStart;if(l&&o&&!ei(n,l)){n.push(l),o=Math.min(o,r.childCount);for(var c=l-1,f=t[0],v=c;v<f;v+=1)hh[v]=!0}}}function hce(r,e){var t=r.doc,n=e[0].sourcepos[0],i=gi(e).sourcepos,a=i[1],o=[n[0],n[1]],l=[a[0],a[1]+1],c=[];return dce(t,n,a),c.push({start:o,end:l}),c}function pce(r,e){var t=e.getLineTexts(),n=[Ch(r),Nm(r)],i=[Em(r),il(r)+1],a=oce(r,n,i,t[i[0]-1]);return a??[]}var vce=["taskList","orderedList","bulletList","table","strong","emph","strike","heading","thematicBreak","blockQuote","code","codeBlock","indent","outdent"];function mce(r){var e=r.type;return Eu(r)?r.listData.task?"taskList":r.listData.type==="ordered"?"orderedList":"bulletList":e.indexOf("table")!==-1?"table":ei(vce,e)?e:null}function gce(r){var e={indent:{active:!1,disabled:!0},outdent:{active:!1,disabled:!0}},t=!0;return oue(r,function(n){var i=mce(n);i&&(i==="bulletList"||i==="orderedList"?t&&(e[i]={active:!0},e.indent.disabled=!1,e.outdent.disabled=!1,t=!1):e[i]={active:!0})}),e}function yce(r){var e=r.toastMark,t=r.eventEmitter;return new Qi({view:function(){return{update:function(n,i){var a=n.state,o=a.doc,l=a.selection;if(!(i&&i.doc.eq(o)&&i.selection.eq(l))){var c=l.from,f=a.doc.resolve(c).start(),v=a.doc.content.findIndex(c).index+1,y=c-f;c===f&&(y+=1);var T=[v,y],N=e.findNodeAtPosition(T),E=gce(N);t.emit("changeToolbarState",{cursorPos:T,mdNode:N,toolbarState:E}),t.emit("setFocusedNode",N)}}}}})}var wce=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),e}($r),Kr=function(){function r(){}return Object.defineProperty(r.prototype,"type",{get:function(){return"mark"},enumerable:!1,configurable:!0}),r.prototype.setContext=function(e){this.context=e},r}();function sa(r,e){return ll(r,e-1)}function ll(r,e){return r.child(e).textContent}var Gd=/^\s*> ?/,bce=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Cn("block-quote")},0]}}},enumerable:!1,configurable:!0}),e.prototype.createBlockQuoteText=function(t,n){return n?t.replace(Gd,"").trim():"> "+t.trim()},e.prototype.extendBlockQuote=function(){var t=this;return function(n,i){var a=n.selection,o=n.doc,l=n.tr,c=n.schema,f=kn(a),v=f.endFromOffset,y=f.endToOffset,T=f.endIndex,N=f.to,E=ll(o,T),P=Gd.test(E);if(P&&N>v&&a.empty){var L=!E.replace(Gd,"").trim();if(L)l.deleteRange(v,y).split(l.mapping.map(y));else{var $=E.slice(N-v).trim(),ee=Zn(c,t.createBlockQuoteText($));Lw(l,y,$,ee)}return i(l),!0}return!1}},e.prototype.commands=function(){var t=this;return function(){return function(n,i){var a=n.selection,o=n.doc,l=kn(a),c=l.startFromOffset,f=l.endToOffset,v=l.startIndex,y=l.endIndex,T=Gd.test(ll(o,v)),N=Qv({state:n,startIndex:v,endIndex:y,from:c,createText:function(E){return t.createBlockQuoteText(E,T)}});return i(N.setSelection(Jr(N,N.mapping.map(f)))),!0}}},e.prototype.keymaps=function(){var t=this.commands()();return{"alt-q":t,"alt-Q":t,Enter:this.extendBlockQuote()}},e}(Kr),Ou=/(^\s*)([-*+] |[\d]+\. )/,Hw=/(^\s*)([\d])+\.( \[[ xX]])? /,ds=/^(\s*)((\d+)([.)]\s(?:\[(?:x|\s)\]\s)?))(.*)/,Yv=/(^\s*)([-*+]|[\d]+\.)( \[[ xX]])? /,kce=/^(\s*)([-*+]+(\s(?:\[(?:x|\s)\]\s)?))(.*)/,Cce=/(^\s*)([-*+] |[\d]+\. )(\[[ xX]] )/,Sce=/(^\s*)([-*+])( \[[ xX]]) /;function zw(r){return Hw.test(r)?"ordered":"bullet"}function $w(r){for(var e=0;r&&r.type!=="document";)r.type==="list"&&(e+=1),r=r.parent;return e}function M0(r,e,t,n){for(var i=r.getLineTexts(),a=i.length,o=[],l=e;n?l<a:l>1;){l=n?l+1:l-1;var c=r.findFirstNodeAtLine(l),f=$w(c);if(f===t)o.push({line:l,depth:t,mdNode:c});else if(f<t)break}return o}function xce(r){var e=r.toastMark,t=r.mdNode,n=r.line,i=$w(t),a=M0(e,n,i,!1).reverse(),o=M0(e,n,i,!0);return a.concat([{line:n,depth:i,mdNode:t}]).concat(o)}function Tce(r){if(!Ou.test(r))return"* "+r;var e=zw(r);return e==="bullet"&&Yv.test(r)?r=r.replace(Sce,"$1$2 "):e==="ordered"&&(r=r.replace(Hw,"$1* ")),r}function Ece(r,e){if(!Ou.test(r))return e+". "+r;var t=zw(r);if(t==="bullet"||t==="ordered"&&Yv.test(r))r=r.replace(Yv,"$1"+e+". ");else if(t==="ordered"){var n=ds.exec(r)[3];Number(n)!==e&&(r=r.replace(Hw,"$1"+e+". "))}return r}function uN(r,e,t,n){n===void 0&&(n=0);var i=Number.MAX_VALUE,a=0,o=e.map(function(l,c){var f=l.line;i=Math.min(f-1,i),a=Math.max(f-1,a);var v=sa(r,f);return v=t==="bullet"?Tce(v):Ece(v,c+1+n),{text:v,line:f}});return{changedResults:o,firstIndex:i,lastIndex:a}}function CC(r,e){var t=xce(e);return uN(e.doc,t,r)}var Nce={bullet:function(r){return CC("bullet",r)},ordered:function(r){return CC("ordered",r)},task:function(r){var e=r.mdNode,t=r.doc,n=r.line,i=sa(t,n);return e.listData.task?i=i.replace(Cce,"$1$2"):Eu(e)&&(i=i.replace(Ou,"$1$2[ ] ")),{changedResults:[{text:i,line:n}]}}},Mce={bullet:function(r){var e=r.doc,t=r.line,n=sa(e,t),i=[{text:"* "+n,line:t}];return{changedResults:i}},ordered:function(r){for(var e=r.toastMark,t=r.doc,n=r.line,i=r.startLine,a=sa(t,n),o=1,l=i,c=0,f=i-1;f>0;f-=1){var v=e.findFirstNodeAtLine(f),y=sa(t,f),T=y&&!!uf(v,function(re){return Eu(re)}),N=ds.exec(sa(t,f));if(!N&&!T)break;if(!N&&T){c+=1;continue}var E=N,P=E[1],L=E[3];if(!P){o=Number(L),l=f;break}}var $=o+n-l-c,ee=[{text:$+". "+a,line:n}];return{changedResults:ee}},task:function(r){var e=r.doc,t=r.line,n=sa(e,t),i=[{text:"* [ ] "+n,line:t}];return{changedResults:i}}},Oce={bullet:function(r){var e=r.line,t=r.doc,n=sa(t,e),i=kce.exec(n),a=i[1],o=i[2];return{listSyntax:""+a+o}},ordered:function(r){var e=r.toastMark,t=r.line,n=r.mdNode,i=r.doc,a=$w(n),o=sa(i,t),l=ds.exec(o),c=l[1],f=l[3],v=l[4],y=Number(f)+1,T=""+c+y+v,N=M0(e,t,a,!0),E=N.filter(function(P){var L=ds.exec(sa(i,P.line));return L&&L[1].length===c.length&&!!uf(P.mdNode,function($){return _E($)})});return He({listSyntax:T},uN(i,E,"ordered",y))}};function cN(r,e,t,n,i){for(var a=[],o=sa(r,t),l=ds.exec(o);l;){var c=l[1],f=l[4],v=l[5],y=c.length;if(y===i)a.push(Zn(e,""+c+n+f+v)),n+=1,t+=1;else if(y>i){var T=cN(r,e,t,1,y);t=T.line,a=a.concat(T.nodes)}if(y<i||t>r.childCount)break;o=sa(r,t),l=ds.exec(o)}return{nodes:a,line:t}}var SC=/(^\s{1,4})(.*)/;function xC(r,e,t){return r<e||Ou.test(t)||Gd.test(t)}function TC(r,e,t){var n=t.$from;n.depth===0&&(n=r.resolve(n.pos-1));var i=n.node(1),a=n.start(1),o=i.content.size;return i.rangeHasMark(0,o,e.marks.table)&&n.pos-a!==o&&n.pos!==a}function EC(r,e){var t=e.from,n=e.to;if(e.type==="indent"){var i=4;t+=i,n+=(e.lineLen+1)*i}else{var a=e.spaceLenList;t-=a[0];for(var o=0;o<a.length;o+=1)n-=a[o]}return Jr(r,t,n)}var Dce=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"inline*",attrs:{className:{default:null},codeStart:{default:null},codeEnd:{default:null}},selectable:!1,group:"block",parseDOM:[{tag:"div"}],toDOM:function(t){var n=t.attrs;return n.className?["div",{class:Cn(n.className)},0]:["div",0]}}},enumerable:!1,configurable:!0}),e.prototype.reorderList=function(t,n){for(var i=this.context,a=i.view,o=i.toastMark,l=i.schema,c=a.state,f=c.tr,v=c.selection,y=c.doc,T=o.findFirstNodeAtLine(t),N=T;T&&!iue(T)&&T.parent.type!=="document";)if(T=T.parent,_E(T)){N=T;break}N&&(t=N.sourcepos[0][0]);var E=ds.exec(sa(y,t)),P=E[1],L=E[3],$=P.length,ee=cN(y,l,t,Number(L),$),re=ee.line,se=ee.nodes;n=Math.max(n,re-1);for(var ve=Xv(y,t-1).startOffset,le=t-1;le<=n-1;le+=1){var ke=y.child(le),we=ke.nodeSize,Le=ke.content,je=f.mapping.map(ve),Nt=je+Le.size;f.replaceWith(je,Nt,se[le-t+1]),ve+=we}var et=Jr(f,v.from,v.to);a.dispatch(f.setSelection(et))},e.prototype.indent=function(t){var n=this;return t===void 0&&(t=!1),function(){return function(i,a){var o=i.schema,l=i.selection,c=i.doc,f=kn(l),v=f.from,y=f.to,T=f.startFromOffset,N=f.startIndex,E=f.endIndex;if(t&&TC(c,o,l))return!1;var P=ll(c,N);if(t&&xC(v,y,P)||!t&&Ou.test(P)){var L=Qv({state:i,from:T,startIndex:N,endIndex:E,createText:function(ee){return"    "+ee}}),$={type:"indent",from:v,to:y,lineLen:E-N};a(L.setSelection(EC(L,$))),ds.test(P)&&n.reorderList(N+1,E+1)}else t&&a(i.tr.insert(y,Zn(o,"    ")));return!0}}},e.prototype.outdent=function(t){var n=this;return t===void 0&&(t=!1),function(){return function(i,a){var o=i.selection,l=i.doc,c=i.schema,f=kn(o),v=f.from,y=f.to,T=f.startFromOffset,N=f.startIndex,E=f.endIndex;if(t&&TC(l,c,o))return!1;var P=ll(l,N);if(t&&xC(v,y,P)||!t&&Ou.test(P)){var L=[],$=Qv({state:i,from:T,startIndex:N,endIndex:E,createText:function(le){var ke=SC.exec(le);return L.push(ke?ke[1].length:0),le.replace(SC,"$2")}}),ee={type:"outdent",from:v,to:y,spaceLenList:L};a($.setSelection(EC($,ee))),ds.test(P)&&n.reorderList(N+1,E+1)}else if(t){var re=P.slice(0,y-T),se=re.replace(/\s{1,4}$/,""),ve=y-(re.length-se.length);a(i.tr.delete(ve,y))}return!0}}},e.prototype.deleteLines=function(){var t=this;return function(n,i){var a=t.context.view,o=kn(n.selection),l=o.startFromOffset,c=o.endToOffset,f=function(){return i(n.tr.deleteRange(l,c)),!0};return xm(f,xE)(n,i,a)}},e.prototype.moveDown=function(){return function(t,n){var i=t.doc,a=t.tr,o=t.selection,l=t.schema,c=kn(o),f=c.startFromOffset,v=c.endToOffset,y=c.endIndex;if(y<i.content.childCount-1){var T=i.child(y+1),N=T.nodeSize,E=T.textContent;return a.delete(v,v+N).split(f).insert(a.mapping.map(f)-2,Zn(l,E)),n(a),!0}return!1}},e.prototype.moveUp=function(){return function(t,n){var i=t.tr,a=t.doc,o=t.selection,l=t.schema,c=kn(o),f=c.startFromOffset,v=c.endToOffset,y=c.startIndex;if(y>0){var T=a.child(y-1),N=T.nodeSize,E=T.textContent;return i.delete(f-N,f).split(i.mapping.map(v)).insert(i.mapping.map(v),Zn(l,E)),n(i),!0}return!1}},e.prototype.commands=function(){return{indent:this.indent(),outdent:this.outdent()}},e.prototype.keymaps=function(){return{Tab:this.indent(!0)(),"Shift-Tab":this.outdent(!0)(),"Mod-d":this.deleteLines(),"Mod-D":this.deleteLines(),"Alt-ArrowUp":this.moveUp(),"Alt-ArrowDown":this.moveDown()}},e}($r),Ace=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),e}($r),Lce=/^#{1,6}\s/,Rce=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{level:{default:1},seText:{default:!1}},toDOM:function(t){var n=t.attrs,i=n.level,a=n.seText,o="heading|heading"+i;return a&&(o+="|delimiter|setext"),["span",{class:Cn.apply(void 0,o.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.createHeadingText=function(t,n,i){for(var a=n.replace(i,"").trim(),o="";t>0;)o+="#",t-=1;return o+" "+a},e.prototype.commands=function(){var t=this;return function(n){return function(i,a){var o=n.level,l=kn(i.selection),c=l.startFromOffset,f=l.endToOffset,v=l.startIndex,y=l.endIndex,T=Qv({state:i,from:c,startIndex:v,endIndex:y,createText:function(N){var E=N.match(Lce),P=E?E[0]:"";return t.createHeadingText(o,N,P)}});return a(T.setSelection(Jr(T,T.mapping.map(f)))),!0}}},e}(Kr),Oy="```",Ice=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Cn("code-block")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){var i=t.selection,a=t.schema,o=t.tr,l=kn(i),c=l.startFromOffset,f=l.endToOffset,v=Zn(a,Oy);return o.insert(c,v).split(c+Oy.length),o.split(o.mapping.map(f)).insert(o.mapping.map(f),v),n(o.setSelection(Jr(o,o.mapping.map(f)-(Oy.length+2)))),!0}}},e.prototype.keepIndentation=function(){var t=this;return function(n,i){var a=n.selection,o=n.tr,l=n.doc,c=n.schema,f=t.context.toastMark,v=kn(a),y=v.startFromOffset,T=v.endToOffset,N=v.endIndex,E=v.from,P=v.to,L=ll(l,N);if(E===P&&L.trim()){var $=L.match(/^\s+/),ee=f.findFirstNodeAtLine(N+1);if(nue(ee)&&$){var re=$[0],se=L.slice(P-y),ve=Zn(c,re+se);return Lw(o,T,se,ve),i(o),!0}}return!1}},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-p":t,"Shift-Mod-P":t,Enter:this.keepIndentation()}},e}(Kr),Pce=/\||\s/g;function Bce(r){return[Zv(r),Zv(r,!0)]}function _ce(r,e){for(var t=[],n=0;n<e;n+=1)t.push(Zv(r));return t}function Zv(r,e){for(var t="|",n=0;n<r;n+=1)t+=e?" --- |":"  |";return t}function Fce(r){return r?{type:"next",parentType:"tableHead",childType:"firstChild"}:{type:"prev",parentType:"tableBody",childType:"lastChild"}}var qce=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Cn("table")},0]}}},enumerable:!1,configurable:!0}),e.prototype.extendTable=function(){var t=this;return function(n,i){var a=n.selection,o=n.doc,l=n.tr,c=n.schema;if(!a.empty)return!1;var f=kn(a),v=f.endFromOffset,y=f.endToOffset,T=f.endIndex,N=f.to,E=ll(o,T),P=[T+1,N-v+1],L=t.context.toastMark.findNodeAtPosition(P),$=uf(L,function(le){return pC(le)&&(le.parent.type==="tableDelimRow"||le.parent.parent.type==="tableBody")});if($){var ee=!E.replace(Pce,"").trim(),re=$.parent,se=re.parent.parent.columns.length,ve=Zv(se);return ee?l.deleteRange(v,y).split(l.mapping.map(y)):l.split(y).insert(l.mapping.map(y),Zn(c,ve)).setSelection(Jr(l,l.mapping.map(y)-2)),i(l),!0}return!1}},e.prototype.moveTableCell=function(t){var n=this;return function(i,a){var o=i.selection,l=i.tr,c=kn(o),f=c.endFromOffset,v=c.endIndex,y=c.to,T=[v+1,y-f],N=n.context.toastMark.findNodeAtPosition(T),E=uf(N,function(ke){return pC(ke)});if(E){var P=E.parent,L=Fce(t),$=L.type,ee=L.parentType,re=L.childType,se=il(E);if(E[$])se=il(E[$])-1;else{var ve=!P[$]&&P.parent.type===ee?P.parent[$][re]:P[$];if($==="next"){var le=ve?il(ve[re]):0;se+=le+2}else $==="prev"&&(se=ve?-4:0)}return a(l.setSelection(Jr(l,f+se))),!0}return!1}},e.prototype.addTable=function(){return function(t){return function(n,i){var a=n.selection,o=n.tr,l=n.schema,c=t,f=c.columnCount,v=c.rowCount,y=kn(a).endToOffset,T=Bce(f),N=_ce(f,v-1),E=Ki(Ki([],T),N);return E.forEach(function(P){o.split(o.mapping.map(y)).insert(o.mapping.map(y),Zn(l,P))}),i(o.setSelection(Jr(o,y+4))),!0}}},e.prototype.commands=function(){return{addTable:this.addTable()}},e.prototype.keymaps=function(){return{Enter:this.extendTable(),Tab:this.moveTableCell(!0),"Shift-Tab":this.moveTableCell(!1)}},e}(Kr),Hce="***",zce=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Cn("thematic-break")},0]}}},enumerable:!1,configurable:!0}),e.prototype.hr=function(){return function(){return function(t,n){var i=t.selection,a=t.schema,o=t.tr,l=kn(i),c=l.from,f=l.to,v=l.endToOffset,y=Zn(a,Hce);return o.split(c).replaceWith(o.mapping.map(c),o.mapping.map(f),y).split(o.mapping.map(f)).setSelection(Jr(o,o.mapping.map(v))),n(o),!0}}},e.prototype.commands=function(){return{hr:this.hr()}},e.prototype.keymaps=function(){var t=this.hr()();return{"Mod-l":t,"Mod-L":t}},e}(Kr);function $ce(r,e){var t=r.type,n=r.sourcepos,i=n[0][0];return e<=i&&(t==="codeBlock"||t==="heading"||t.match("table"))}var Vce=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{odd:{default:!1},even:{default:!1},listStyle:{default:!1}},toDOM:function(t){var n=t.attrs,i=n.odd,a=n.even,o=n.listStyle,l="list-item";return o&&(l+="|list-item-style"),i&&(l+="|list-item-odd"),a&&(l+="|list-item-even"),["span",{class:Cn.apply(void 0,l.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.extendList=function(){var t=this;return function(n,i){var a=n.selection,o=n.doc,l=n.schema,c=n.tr,f=t.context.toastMark,v=kn(a),y=v.to,T=v.startFromOffset,N=v.endFromOffset,E=v.endIndex,P=v.endToOffset,L=ll(o,E),$=Ou.test(L);if(!$||a.from===T||!a.empty)return!1;var ee=!L.replace(Yv,"").trim();if(ee)c.deleteRange(N,P).split(c.mapping.map(P));else{var re=zw(L),se=f.findFirstNodeAtLine(E+1),ve=L.slice(y-N),le={toastMark:f,mdNode:se,doc:o,line:E+1},ke=Oce[re](le),we=ke.listSyntax,Le=ke.changedResults;if(Le?.length){c.split(y),Le.unshift({text:we+ve,line:E+1}),t.changeToListPerLine(c,Le,{from:y,startLine:Le[0].line,endLine:gi(Le).line});var je=c.mapping.map(P)-ve.length;c.setSelection(Jr(c,je))}else{var Nt=Zn(l,we+ve);Lw(c,P,ve,Nt)}}return i(c),!0}},e.prototype.toList=function(t){var n=this;return function(){return function(i,a){for(var o=i.doc,l=i.tr,c=i.selection,f=n.context.toastMark,v=kn(c),y=v.startIndex+1,T=v.endIndex+1,N=v.endToOffset,E=[],P=y;P<=T;P+=1){var L=f.findFirstNodeAtLine(P);if(L&&$ce(L,P))break;if(E.indexOf(P)===-1){var $={toastMark:f,mdNode:L,doc:o,line:P,startLine:y},ee=(Eu(L)?Nce[t]($):Mce[t]($)).changedResults,re=n.changeToListPerLine(l,ee,{from:Xv(o,ee[0].line-1).startOffset,startLine:ee[0].line,endLine:gi(ee).line,indexDiff:1});N=Math.max(re,N),ee&&(E=E.concat(ee.map(function(se){return se.line})))}}return a(l.setSelection(Jr(l,l.mapping.map(N)))),!0}}},e.prototype.changeToListPerLine=function(t,n,i){for(var a=i.from,o=i.startLine,l=i.endLine,c=i.indexDiff,f=c===void 0?0:c,v=0,y=function(E){var P=t.doc.child(E),L=P.nodeSize,$=P.content,ee=t.mapping.map(a),re=ee+$.size,se=n.filter(function(ve){return ve.line-f===E})[0];se&&(t.replaceWith(ee,re,Zn(T.context.schema,se.text)),v=Math.max(v,a+$.size)),a+=L},T=this,N=o-f;N<=l-f;N+=1)y(N);return v},e.prototype.toggleTask=function(){var t=this;return function(n,i){for(var a=n.selection,o=n.tr,l=n.doc,c=n.schema,f=t.context.toastMark,v=kn(a),y=v.startIndex,T=v.endIndex,N=null,E=y;E<=T;E+=1){var P=f.findFirstNodeAtLine(E+1);if(Eu(P)&&P.listData.task){var L=P.listData,$=L.checked,ee=L.padding,re=$?" ":"x",se=P.sourcepos[0],ve=Xv(l,se[0]-1).startOffset;ve+=se[1]+ee,N=o.replaceWith(ve,ve+1,c.text(re))}}return N?(i(N),!0):!1}},e.prototype.commands=function(){return{bulletList:this.toList("bullet"),orderedList:this.toList("ordered"),taskList:this.toList("task")}},e.prototype.keymaps=function(){var t=this.toList("bullet")(),n=this.toList("ordered")(),i=this.toList("task")(),a=this.toggleTask();return{"Mod-u":t,"Mod-U":t,"Mod-o":n,"Mod-O":n,"alt-t":i,"alt-T":i,"Shift-Ctrl-x":a,"Shift-Ctrl-X":a,Enter:this.extendList()}},e}(Kr);function Am(r,e){return function(){return function(t,n){var i=t.tr,a=t.selection,o=Na(r)?r:function(re){return r.test(re)},l=e.length,c=i.doc,f=iN(a),v=f[0],y=f[1],T=Math.max(v-l,1),N=Math.min(y+l,c.content.size-1),E=a.content(),P=E.content.textBetween(0,E.content.size,`
`),L=c.textBetween(T,v,`
`),$=c.textBetween(y,N,`
`);if(P=""+L+P+$,L&&$&&o(P))i.delete(N-l,N).delete(T,T+l);else{i.insertText(e,y).insertText(e,v);var ee=a.empty?Jr(i,v+l):Jr(i,v+l,y+l);i.setSelection(ee)}return n(i),!0}}}var Uce=/^(\*{2}|_{2}).*([\s\S]*)\1$/m,jce="**",Wce=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Cn("strong")},0]}}},enumerable:!1,configurable:!0}),e.prototype.bold=function(){return Am(Uce,jce)},e.prototype.commands=function(){return{bold:this.bold()}},e.prototype.keymaps=function(){var t=this.bold()();return{"Mod-b":t,"Mod-B":t}},e}(Kr),Gce=/^(~{2}).*([\s\S]*)\1$/m,Jce="~~",Kce=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Cn("strike")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return Am(Gce,Jce)},e.prototype.keymaps=function(){var t=this.commands()();return{"Mod-s":t,"Mod-S":t}},e}(Kr),Qce=/^(\*|_).*([\s\S]*)\1$/m,Xce="*",Yce=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Cn("emph")},0]}}},enumerable:!1,configurable:!0}),e.prototype.italic=function(){return Am(Qce,Xce)},e.prototype.commands=function(){return{italic:this.italic()}},e.prototype.keymaps=function(){var t=this.italic()();return{"Mod-i":t,"Mod-I":t}},e}(Kr),Zce=/^(`).*([\s\S]*)\1$/m,efe="`",tfe=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{start:{default:!1},end:{default:!1},marked:{default:!1}},toDOM:function(t){var n=t.attrs,i=n.start,a=n.end,o=n.marked,l="code";return i&&(l+="|delimiter|start"),a&&(l+="|delimiter|end"),o&&(l+="|marked-text"),["span",{class:Cn.apply(void 0,l.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return Am(Zce,efe)},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-c":t,"Shift-Mod-C":t}},e}(Kr),rfe=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{url:{default:!1},desc:{default:!1}},toDOM:function(t){var n=t.attrs,i=n.url,a=n.desc,o="link";return i&&(o+="|link-url|marked-text"),a&&(o+="|link-desc|marked-text"),["span",{class:Cn.apply(void 0,o.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.addLinkOrImage=function(t){return function(n){return function(i,a){var o=i.selection,l=i.tr,c=i.schema,f=iN(o),v=f[0],y=f[1],T=n,N=T.linkText,E=T.altText,P=T.linkUrl,L=T.imageUrl,$=N,ee=P,re="";return t==="image"&&($=E,ee=L,re="!"),$=Gv($),re+="["+$+"]("+ee+")",a(l.replaceWith(v,y,Zn(c,re))),!0}}},e.prototype.commands=function(){return{addImage:this.addLinkOrImage("image"),addLink:this.addLinkOrImage("link")}},e}(Kr),nfe=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"taskDelimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Cn("delimiter","list-item")},0]}}},enumerable:!1,configurable:!0}),e}(Kr),ife=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"delimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Cn("delimiter")},0]}}},enumerable:!1,configurable:!0}),e}(Kr),afe=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"meta"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Cn("meta")},0]}}},enumerable:!1,configurable:!0}),e}(Kr),ofe=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"markedText"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Cn("marked-text")},0]}}},enumerable:!1,configurable:!0}),e}(Kr),sfe=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Cn("table-cell")},0]}}},enumerable:!1,configurable:!0}),e}(Kr),lfe=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"html"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Cn("html")},0]}}},enumerable:!1,configurable:!0}),e}(Kr),Dy="$$",ufe=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Cn("custom-block")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(t){return function(n,i){var a=n.selection,o=n.schema,l=n.tr,c=kn(a),f=c.startFromOffset,v=c.endToOffset;if(!t?.info)return!1;var y=""+Dy+t.info,T=Zn(o,y),N=Zn(o,Dy);return l.insert(f,T).split(f+y.length),l.split(l.mapping.map(v)).insert(l.mapping.map(v),N),i(l.setSelection(Jr(l,l.mapping.map(v)-(Dy.length+2)))),!0}}},e}(Kr),cfe=/x|backspace/i,ffe=/^\[(\s*)(x?)(\s*)\](?:\s+)/i;function dfe(r){var e=r.schema,t=r.toastMark;return new Qi({props:{handleDOMEvents:{keyup:function(n,i){var a,o=n.state,l=o.doc,c=o.tr,f=o.selection;if(f.empty&&cfe.test(i.key)){var v=kn(f),y=v.startIndex,T=v.startFromOffset,N=v.from,E=[y+1,N-T+1],P=t.findNodeAtPosition(E),L=uf(P,function(Nt){var et;return Nt.type==="paragraph"&&((et=Nt.parent)===null||et===void 0?void 0:et.type)==="item"});if(!((a=L?.firstChild)===null||a===void 0)&&a.literal){var $=L.firstChild,ee=$.literal.match(ffe);if(ee){var re=$.sourcepos[0],se=ee[1],ve=ee[2],le=ee[3],ke=se.length+le.length,we=Xv(l,re[0]-1).startOffset,Le=re[1]+we;if(ve){var je=ke?ke+1:0;c.replaceWith(Le,je+Le,e.text(ve)),n.dispatch(c)}else ke||(c.insertText(" ",Le),n.dispatch(c))}}}return!1}}}})}var Ay="cut",NC=/\r\n|\n|\r/,hfe=function(r){Ct(e,r);function e(t,n){var i=r.call(this,t)||this,a=n.toastMark,o=n.useCommandShortcut,l=o===void 0?!0:o,c=n.mdPlugins,f=c===void 0?[]:c;return i.editorType="markdown",i.el.classList.add("md-mode"),i.toastMark=a,i.extraPlugins=f,i.specs=i.createSpecs(),i.schema=i.createSchema(),i.context=i.createContext(),i.keymaps=i.createKeymaps(l),i.view=i.createView(),i.commands=i.createCommands(),i.specs.setContext(He(He({},i.context),{view:i.view})),i.createClipboard(),i.eventEmitter.listen("changePreviewTabWrite",function(v){return i.toggleActive(!0,v)}),i.eventEmitter.listen("changePreviewTabPreview",function(){return i.toggleActive(!1)}),i.initEvent(),i}return e.prototype.toggleActive=function(t,n){Iw(this.el,"active",t),t?n||this.focus():this.blur()},e.prototype.createClipboard=function(){var t=this;this.clipboard=document.createElement("textarea"),this.clipboard.className=Dt("pseudo-clipboard"),this.clipboard.addEventListener("paste",function(n){var i=n.clipboardData||window.clipboardData,a=i&&i.items;if(a){var o=Lo(a).some(function(c){return c.kind==="string"&&c.type==="text/rtf"});if(!o){var l=ZE(a);l&&(n.preventDefault(),Fw(t.eventEmitter,l,n.type))}}}),this.clipboard.addEventListener("input",function(n){var i=n.target.value;t.replaceSelection(i),n.preventDefault(),n.target.value=""}),this.el.insertBefore(this.clipboard,this.view.dom)},e.prototype.createContext=function(){return{toastMark:this.toastMark,schema:this.schema,eventEmitter:this.eventEmitter}},e.prototype.createSpecs=function(){return new nN([new wce,new Dce,new tN,new Ace,new Rce,new bce,new Ice,new ufe,new qce,new sfe,new zce,new Vce,new Wce,new Kce,new Yce,new tfe,new rfe,new ife,new nfe,new ofe,new afe,new lfe])},e.prototype.createPlugins=function(){return Ki([sce(this.context),yce(this.context),dfe(this.context)],this.createPluginProps()).concat(this.defaultPlugins)},e.prototype.createView=function(){var t=this;return new Sm(this.el,{state:this.createState(),dispatchTransaction:function(n){t.updateMarkdown(n);var i=t.view.state.applyTransaction(n).state;t.view.updateState(i),t.emitChangeEvent(n)},handleKeyDown:function(n,i){return(i.metaKey||i.ctrlKey)&&i.key.toUpperCase()==="V"&&t.clipboard.focus(),t.eventEmitter.emit("keydown",t.editorType,i),!1},handleDOMEvents:{copy:function(n,i){return t.captureCopy(i)},cut:function(n,i){return t.captureCopy(i,Ay)},scroll:function(){return t.eventEmitter.emit("scroll","editor"),!0},keyup:function(n,i){return t.eventEmitter.emit("keyup",t.editorType,i),!1}},nodeViews:{widget:eN}})},e.prototype.createCommands=function(){return this.specs.commands(this.view)},e.prototype.captureCopy=function(t,n){t.preventDefault();var i=this.view.state,a=i.selection,o=i.tr;if(a.empty)return!0;var l=this.getChanged(a.content());return t.clipboardData?t.clipboardData.setData("text/plain",l):window.clipboardData.setData("Text",l),n===Ay&&this.view.dispatch(o.deleteSelection().scrollIntoView().setMeta("uiEvent",Ay)),!0},e.prototype.updateMarkdown=function(t){var n=this;t.docChanged&&t.steps.forEach(function(i,a){if(i.slice&&!(i instanceof _n)){var o=t.docs[a],l=[i.from,i.to],c=l[0],f=l[1],v=Cv(o,c,f),y=v[0],T=v[1],N=n.getChanged(i.slice);y[0]===T[0]&&y[1]===T[1]&&N===""&&(N=`
`);var E=n.toastMark.editMarkdown(y,T,N);n.eventEmitter.emit("updatePreview",E),t.setMeta("editResult",E).scrollIntoView()}})},e.prototype.getChanged=function(t){var n="",i=0,a=t.content.size;return t.content.nodesBetween(i,a,function(o,l){o.isText?n+=o.text.slice(Math.max(i,l)-l,a-l):o.isBlock&&l>0&&(n+=`
`)}),n},e.prototype.setSelection=function(t,n){n===void 0&&(n=t);var i=this.view.state.tr,a=su(i.doc,t,n),o=a[0],l=a[1];this.view.dispatch(i.setSelection(Jr(i,o,l)).scrollIntoView())},e.prototype.replaceSelection=function(t,n,i){var a,o=this.view.state,l=o.tr,c=o.schema,f=o.doc,v=t.split(NC),y=v.map(function(L){return Kv(c,yu(L,c))}),T=new gt(nt.from(y),1,1);if(this.focus(),n&&i){var N=su(f,n,i),E=N[0],P=N[1];a=l.replaceRange(E,P,T)}else a=l.replaceSelection(T);this.view.dispatch(a.scrollIntoView())},e.prototype.deleteSelection=function(t,n){var i,a=this.view.state,o=a.tr,l=a.doc;if(t&&n){var c=su(l,t,n),f=c[0],v=c[1];i=o.deleteRange(f,v)}else i=o.deleteSelection();this.view.dispatch(i.scrollIntoView())},e.prototype.getSelectedText=function(t,n){var i=this.view.state,a=i.doc,o=i.selection,l=o.from,c=o.to;if(t&&n){var f=su(a,t,n);l=f[0],c=f[1]}return a.textBetween(l,c,`
`)},e.prototype.getSelection=function(){var t=this.view.state.selection,n=t.from,i=t.to;return Cv(this.view.state.tr.doc,n,i)},e.prototype.setMarkdown=function(t,n){n===void 0&&(n=!0);var i=t.split(NC),a=this.view.state,o=a.tr,l=a.doc,c=a.schema,f=i.map(function(v){return Kv(c,yu(v,c))});this.view.dispatch(o.replaceWith(0,l.content.size,f)),n&&this.moveCursorToEnd(!0)},e.prototype.addWidget=function(t,n,i){var a=this.view.state,o=a.tr,l=a.doc,c=a.selection,f=i?su(l,i,i)[0]:c.to;this.view.dispatch(o.setMeta("widget",{pos:f,node:t,style:n}))},e.prototype.replaceWithWidget=function(t,n,i){var a=this.view.state,o=a.tr,l=a.schema,c=a.doc,f=su(c,t,n),v=yu(i,l);this.view.dispatch(o.replaceWith(f[0],f[1],v))},e.prototype.getRangeInfoOfNode=function(t){var n=this.view.state,i=n.doc,a=n.selection,o=t||Cv(i,a.from)[0],l=this.toastMark.findNodeAtPosition(o);return l.type==="text"&&l.parent.type!=="paragraph"&&(l=l.parent),l.sourcepos[1][1]+=1,{range:l.sourcepos,type:l.type}},e.prototype.getMarkdown=function(){return this.toastMark.getLineTexts().map(function(t){return Mm(t)}).join(`
`)},e.prototype.getToastMark=function(){return this.toastMark},e}(rN),MC="_feEventKey";function pfe(r,e){var t=r[MC],n;return t||(t=r[MC]={}),n=t[e],n||(n=t[e]=[]),n}var fN=pfe,vfe=ms,em=Tm,mfe=fN;function gfe(r,e,t){if(vfe(e)){em(e.split(/\s+/g),function(n){OC(r,n,t)});return}em(e,function(n,i){OC(r,i,n)})}function OC(r,e,t){var n=mfe(r,e),i;t?(em(n,function(a,o){return t===a.handler?(DC(r,e,a.wrappedHandler),i=o,!1):!0}),n.splice(i,1)):(em(n,function(a){DC(r,e,a.wrappedHandler)}),n.splice(0,n.length))}function DC(r,e,t){"removeEventListener"in r?r.removeEventListener(e,t):"detachEvent"in r&&r.detachEvent("on"+e,t)}var dN=gfe,yfe=ms,O0=Tm,wfe=fN;function bfe(r,e,t,n){if(yfe(e)){O0(e.split(/\s+/g),function(i){AC(r,i,t,n)});return}O0(e,function(i,a){AC(r,a,i,t)})}function AC(r,e,t,n){function i(a){t.call(n||r,a||window.event)}"addEventListener"in r?r.addEventListener(e,i):"attachEvent"in r&&r.attachEvent("on"+e,i),kfe(r,e,t,i)}function kfe(r,e,t,n){var i=wfe(r,e),a=!1;O0(i,function(o){return o.handler===t?(a=!0,!1):!0}),a||i.push({handler:t,wrappedHandler:n})}var hN=bfe;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var D0=function(r,e){return D0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},D0(r,e)};function Ma(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");D0(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Qn=function(){return Qn=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Qn.apply(this,arguments)};function A0(r,e,t){if(arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return r.concat(a||Array.prototype.slice.call(e))}var df=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},LC={};function Cfe(r){var e,t,n=LC[r];if(n)return n;for(n=LC[r]=[],e=0;e<128;e++)t=String.fromCharCode(e),/^[0-9a-z]$/i.test(t)?n.push(t):n.push("%"+("0"+e.toString(16).toUpperCase()).slice(-2));for(e=0;e<r.length;e++)n[r.charCodeAt(e)]=r[e];return n}function Lm(r,e,t){var n,i,a,o,l,c="";for(typeof e!="string"&&(t=e,e=Lm.defaultChars),typeof t>"u"&&(t=!0),l=Cfe(e),n=0,i=r.length;n<i;n++){if(a=r.charCodeAt(n),t&&a===37&&n+2<i&&/^[0-9a-f]{2}$/i.test(r.slice(n+1,n+3))){c+=r.slice(n,n+3),n+=2;continue}if(a<128){c+=l[a];continue}if(a>=55296&&a<=57343){if(a>=55296&&a<=56319&&n+1<i&&(o=r.charCodeAt(n+1),o>=56320&&o<=57343)){c+=encodeURIComponent(r[n]+r[n+1]),n++;continue}c+="%EF%BF%BD";continue}c+=encodeURIComponent(r[n])}return c}Lm.defaultChars=";/?:@&=+$,-_.!~*'()#";Lm.componentChars="-_.!~*'()";var Sfe=Lm,Vw={},hs={},xfe="",Tfe="",Efe="",Nfe="",Mfe="",Ofe="",Dfe="",Afe="",Lfe="",Rfe="",Ife="",Pfe="",Bfe="",_fe="",Ffe="",qfe="",Hfe="",zfe="",$fe="",Vfe="",Ufe="",jfe="",Wfe="",Gfe="",Jfe="",Kfe="",Qfe="&",Xfe="&",Yfe="",Zfe="",ede="",tde="",rde="",nde="",ide="",ade="",ode="",sde="",lde="",ude="",cde="",fde="",dde="",hde="",pde="",vde="",mde="",gde="",yde="",wde="",bde="",kde="",Cde="",Sde="",xde="",Tde="",Ede="",Nde="",Mde="",Ode="",Dde="",Ade="'",Lde="",Rde="",Ide="",Pde="",Bde="",_de="",Fde="",qde="",Hde="*",zde="",$de="",Vde="",Ude="",jde="",Wde="",Gde="",Jde="",Kde="",Qde="",Xde="",Yde="",Zde="",ehe="",the="",rhe="",nhe="",ihe="",ahe="",ohe="",she="",lhe="",uhe="",che="",fhe="",dhe="",hhe="",phe="",vhe="",mhe="",ghe="",yhe="",whe="",bhe="",khe="",Che="",She="",xhe="",The="",Ehe="",Nhe="",Mhe="",Ohe="",Dhe="",Ahe="",Lhe="",Rhe="",Ihe="",Phe="",Bhe="",_he="",Fhe="",qhe="",Hhe="",zhe="",$he="",Vhe="",Uhe="",jhe="",Whe="",Ghe="",Jhe="",Khe="",Qhe="=",Xhe="",Yhe="",Zhe="",epe="",tpe="",rpe="",npe="",ipe="",ape="",ope="",spe="",lpe="",upe="",cpe="",fpe="",dpe="",hpe="",ppe="",vpe="",mpe="",gpe="",ype="",wpe="",bpe="",kpe="",Cpe="",Spe="",xpe="",Tpe="",Epe="",Npe="",Mpe="",Ope="",Dpe="",Ape="",Lpe="",Rpe="",Ipe="",Ppe="",Bpe="",_pe="",Fpe="",qpe="",Hpe="",zpe="",$pe="",Vpe="",Upe="",jpe="",Wpe="",Gpe="",Jpe="",Kpe="",Qpe="",Xpe="",Ype="",Zpe="",eve="",tve="",rve="",nve="",ive="",ave="\\",ove="",sve="",lve="",uve="",cve="",fve="",dve="",hve="",pve="",vve="",mve="",gve="",yve="",wve="",bve="",kve="",Cve="",Sve="",xve="",Tve="",Eve="",Nve="",Mve="",Ove="",Dve="",Ave="",Lve="",Rve="",Ive="",Pve="",Bve="",_ve="",Fve="",qve="",Hve="",zve="",$ve="",Vve="",Uve="",jve="",Wve="",Gve="",Jve="",Kve="",Qve="",Xve="",Yve="",Zve="",eme="",tme="",rme="",nme="",ime="",ame="",ome="",sme="",lme="",ume="",cme="",fme="",dme="",hme="",pme="",vme="",mme="",gme="",yme="",wme="",bme="",kme="",Cme="",Sme="",xme=":",Tme="",Eme="",Nme="",Mme="",Ome=",",Dme="@",Ame="",Lme="",Rme="",Ime="",Pme="",Bme="",_me="",Fme="",qme="",Hme="",zme="",$me="",Vme="",Ume="",jme="",Wme="",Gme="",Jme="",Kme="",Qme="",Xme="",Yme="",Zme="",ege="",tge="",rge="",nge="",ige="",age="",oge="",sge="",lge="",uge="",cge="",fge="",dge="",hge="",pge="",vge="",mge="",gge="",yge="",wge="",bge="",kge="",Cge="",Sge="",xge="",Tge="",Ege="",Nge="",Mge="",Oge="",Dge="",Age="",Lge="",Rge="",Ige="",Pge="",Bge="",_ge="",Fge="",qge="",Hge="",zge="",$ge="",Vge="",Uge="",jge="",Wge="",Gge="",Jge="",Kge="",Qge="",Xge="",Yge="",Zge="",eye="",tye="",rye="",nye="",iye="",aye="",oye="",sye="",lye="",uye="",cye="",fye="",dye="",hye="",pye="",vye="`",mye="",gye="",yye="",wye="",bye="",kye="",Cye="",Sye="",xye="",Tye="",Eye="",Nye="",Mye="",Oye="",Dye="",Aye="",Lye="",Rye="",Iye="$",Pye="",Bye="",_ye="",Fye="",qye="",Hye="",zye="",$ye="",Vye="",Uye="",jye="",Wye="",Gye="",Jye="",Kye="",Qye="",Xye="",Yye="",Zye="",e0e="",t0e="",r0e="",n0e="",i0e="",a0e="",o0e="",s0e="",l0e="",u0e="",c0e="",f0e="",d0e="",h0e="",p0e="",v0e="",m0e="",g0e="",y0e="",w0e="",b0e="",k0e="",C0e="",S0e="",x0e="",T0e="",E0e="",N0e="",M0e="",O0e="",D0e="",A0e="",L0e="",R0e="",I0e="",P0e="",B0e="",_0e="",F0e="",q0e="",H0e="",z0e="",$0e="",V0e="",U0e="",j0e="",W0e="",G0e="",J0e="",K0e="",Q0e="",X0e="",Y0e="",Z0e="",ewe="",twe="",rwe="",nwe="",iwe="",awe="",owe="",swe="",lwe="",uwe="",cwe="",fwe="",dwe="",hwe="",pwe="",vwe="",mwe="",gwe="",ywe="",wwe="",bwe="",kwe="",Cwe="",Swe="",xwe="",Twe="",Ewe="",Nwe="",Mwe="",Owe="",Dwe="",Awe="",Lwe="",Rwe="",Iwe="",Pwe="",Bwe="",_we="",Fwe="",qwe="",Hwe="",zwe="",$we="",Vwe="",Uwe="",jwe="",Wwe="",Gwe="",Jwe="",Kwe="",Qwe="=",Xwe="",Ywe="",Zwe="",ebe="",tbe="",rbe="",nbe="",ibe="",abe="",obe="",sbe="",lbe="",ube="",cbe="",fbe="",dbe="",hbe="",pbe="",vbe="",mbe="",gbe="!",ybe="",wbe="",bbe="",kbe="",Cbe="",Sbe="",xbe="",Tbe="",Ebe="",Nbe="",Mbe="",Obe="",Dbe="",Abe="",Lbe="",Rbe="",Ibe="",Pbe="fj",Bbe="",_be="",Fbe="",qbe="",Hbe="",zbe="",$be="",Vbe="",Ube="",jbe="",Wbe="",Gbe="",Jbe="",Kbe="",Qbe="",Xbe="",Ybe="",Zbe="",eke="",tke="",rke="",nke="",ike="",ake="",oke="",ske="",lke="",uke="",cke="",fke="",dke="",hke="",pke="",vke="",mke="",gke="",yke="",wke="",bke="",kke="",Cke="",Ske="",xke="",Tke="",Eke="",Nke="",Mke="",Oke="",Dke="",Ake="",Lke="",Rke="",Ike="",Pke="",Bke="",_ke="",Fke="",qke="",Hke="",zke="",$ke="",Vke="",Uke="",jke="",Wke="",Gke="",Jke="",Kke="",Qke="",Xke="",Yke="",Zke="",e1e="",t1e="",r1e="",n1e="",i1e="",a1e="",o1e="",s1e="",l1e="",u1e="`",c1e="",f1e="",d1e="",h1e="",p1e="",v1e="",m1e="",g1e="",y1e="",w1e="",b1e="",k1e="",C1e="",S1e="",x1e=">",T1e=">",E1e="",N1e="",M1e="",O1e="",D1e="",A1e="",L1e="",R1e="",I1e="",P1e="",B1e="",_1e="",F1e="",q1e="",H1e="",z1e="",$1e="",V1e="",U1e="",j1e="",W1e="",G1e="",J1e="",K1e="^",Q1e="",X1e="",Y1e="",Z1e="",eCe="",tCe="",rCe="",nCe="",iCe="",aCe="",oCe="",sCe="",lCe="",uCe="",cCe="",fCe="",dCe="",hCe="",pCe="",vCe="",mCe="",gCe="",yCe="",wCe="",bCe="",kCe="",CCe="",SCe="",xCe="",TCe="",ECe="",NCe="",MCe="",OCe="",DCe="",ACe="",LCe="",RCe="",ICe="",PCe="",BCe="",_Ce="",FCe="",qCe="",HCe="",zCe="",$Ce="",VCe="",UCe="",jCe="",WCe="",GCe="",JCe="",KCe="",QCe="",XCe="",YCe="",ZCe="",eSe="",tSe="",rSe="",nSe="",iSe="",aSe="",oSe="",sSe="",lSe="",uSe="",cSe="",fSe="",dSe="",hSe="",pSe="",vSe="",mSe="",gSe="",ySe="",wSe="",bSe="",kSe="",CSe="",SSe="",xSe="",TSe="",ESe="",NSe="",MSe="",OSe="",DSe="",ASe="",LSe="",RSe="",ISe="",PSe="",BSe="",_Se="",FSe="",qSe="",HSe="",zSe="",$Se="",VSe="",USe="",jSe="",WSe="",GSe="",JSe="",KSe="",QSe="",XSe="",YSe="",ZSe="",exe="",txe="",rxe="",nxe="",ixe="",axe="",oxe="",sxe="",lxe="",uxe="",cxe="",fxe="",dxe="",hxe="",pxe="",vxe="",mxe="",gxe="",yxe="",wxe="",bxe="",kxe="",Cxe="",Sxe="",xxe="",Txe="",Exe="",Nxe="",Mxe="",Oxe="",Dxe="",Axe="",Lxe="",Rxe="",Ixe="",Pxe="",Bxe="",_xe="",Fxe="",qxe="",Hxe="",zxe="",$xe="",Vxe="",Uxe="",jxe="",Wxe="",Gxe="",Jxe="",Kxe="",Qxe="",Xxe="",Yxe="",Zxe="",eTe="",tTe="",rTe="",nTe="{",iTe="[",aTe="",oTe="",sTe="",lTe="",uTe="",cTe="",fTe="",dTe="",hTe="{",pTe="",vTe="",mTe="",gTe="",yTe="",wTe="",bTe="",kTe="",CTe="",STe="",xTe="",TTe="",ETe="",NTe="",MTe="",OTe="",DTe="",ATe="",LTe="",RTe="",ITe="",PTe="",BTe="",_Te="",FTe="",qTe="",HTe="",zTe="",$Te="",VTe="",UTe="",jTe="",WTe="",GTe="",JTe="",KTe="",QTe="",XTe="",YTe="",ZTe="",eEe="",tEe="",rEe="",nEe="",iEe="",aEe="",oEe="",sEe="",lEe="",uEe="",cEe="",fEe="",dEe="",hEe="",pEe="",vEe="",mEe="",gEe="",yEe="",wEe="",bEe="",kEe="",CEe="",SEe="",xEe="",TEe="",EEe="",NEe="",MEe="",OEe="",DEe="",AEe="",LEe="",REe="",IEe="",PEe="",BEe="",_Ee="",FEe="",qEe="",HEe="",zEe="",$Ee="",VEe="",UEe="",jEe="",WEe="",GEe="",JEe="",KEe="",QEe="",XEe="",YEe="",ZEe="",eNe="",tNe="",rNe="",nNe="",iNe="",aNe="",oNe="",sNe="",lNe="",uNe="",cNe="",fNe="",dNe="",hNe="",pNe="",vNe="",mNe="",gNe="",yNe="",wNe="",bNe="",kNe="",CNe="",SNe="",xNe="",TNe="",ENe="",NNe="",MNe="_",ONe="",DNe="",ANe="",LNe="",RNe="",INe="(",PNe="",BNe="",_Ne="",FNe="",qNe="",HNe="",zNe="",$Ne="",VNe="",UNe="",jNe="",WNe="",GNe="",JNe="",KNe="",QNe="[",XNe="",YNe="",ZNe="",eMe="",tMe="",rMe="",nMe="<",iMe="<",aMe="",oMe="",sMe="",lMe="",uMe="",cMe="",fMe="",dMe="",hMe="",pMe="",vMe="",mMe="",gMe="",yMe="",wMe="",bMe="",kMe="",CMe="",SMe="",xMe="",TMe="",EMe="",NMe="",MMe="",OMe="",DMe="",AMe="",LMe="",RMe="",IMe="",PMe="",BMe="",_Me="",FMe="",qMe="",HMe="",zMe="*",$Me="",VMe="",UMe="",jMe="",WMe="",GMe="",JMe="",KMe="",QMe="",XMe="",YMe="",ZMe="",eOe="",tOe="",rOe="",nOe="",iOe="",aOe="",oOe="",sOe="",lOe="",uOe="",cOe="",fOe="",dOe="",hOe="",pOe="",vOe="",mOe="",gOe="",yOe="",wOe="",bOe="",kOe="",COe="",SOe="",xOe="",TOe="",EOe="",NOe="",MOe="",OOe="",DOe="",AOe="",LOe="",ROe="",IOe="",POe="",BOe="",_Oe="",FOe="",qOe="",HOe="",zOe="",$Oe="",VOe="",UOe="",jOe="",WOe="",GOe="",JOe="",KOe="",QOe="",XOe=`
`,YOe="",ZOe="",eDe="",tDe="",rDe="",nDe="",iDe="",aDe="",oDe="",sDe="",lDe="",uDe="",cDe="",fDe="",dDe="",hDe="",pDe="",vDe="",mDe="",gDe="",yDe="",wDe="",bDe="",kDe="",CDe="",SDe="",xDe="",TDe="",EDe="",NDe="",MDe="",ODe="",DDe="",ADe="",LDe="",RDe="",IDe="",PDe="",BDe="",_De="",FDe="",qDe="",HDe="",zDe="",$De="",VDe="",UDe="",jDe="",WDe="",GDe="",JDe="",KDe="",QDe="",XDe="",YDe="",ZDe="",eAe="",tAe="",rAe="",nAe="",iAe="",aAe="",oAe="",sAe="",lAe="",uAe="",cAe="",fAe="",dAe="",hAe="",pAe="",vAe="",mAe="",gAe="",yAe="",wAe="",bAe="",kAe="",CAe="",SAe="",xAe="",TAe="",EAe="",NAe="",MAe="",OAe="",DAe="",AAe="",LAe="",RAe="",IAe="",PAe="",BAe="",_Ae="",FAe="",qAe="",HAe="",zAe="",$Ae="",VAe="",UAe="",jAe="",WAe="",GAe="",JAe="",KAe="",QAe="",XAe="",YAe="",ZAe="",eLe="",tLe="",rLe="",nLe="",iLe="",aLe="",oLe="",sLe="",lLe="",uLe="",cLe="",fLe="",dLe="",hLe="",pLe="",vLe="",mLe="",gLe="",yLe="",wLe="",bLe="",kLe="",CLe="",SLe="",xLe="",TLe="",ELe="",NLe="",MLe="",OLe="",DLe="",ALe="",LLe="",RLe="",ILe="",PLe="",BLe="",_Le="",FLe="",qLe="",HLe="",zLe="",$Le="",VLe="",ULe="",jLe="",WLe="",GLe="",JLe="",KLe="",QLe="",XLe="",YLe="",ZLe="",eRe="",tRe="",rRe="",nRe="",iRe="",aRe="",oRe="#",sRe="",lRe="",uRe="",cRe="",fRe="",dRe="",hRe="",pRe="",vRe=">",mRe="",gRe="",yRe="",wRe="",bRe="<",kRe="",CRe="",SRe="",xRe="",TRe="",ERe="",NRe="",MRe="",ORe="",DRe="",ARe="",LRe="",RRe="",IRe="",PRe="",BRe="",_Re="",FRe="",qRe="",HRe="",zRe="",$Re="",VRe="",URe="",jRe="",WRe="",GRe="",JRe="",KRe="",QRe="",XRe="",YRe="",ZRe="",eIe="",tIe="",rIe="",nIe="",iIe="",aIe="",oIe="",sIe="",lIe="",uIe="",cIe="",fIe="",dIe="",hIe="",pIe="",vIe="",mIe="",gIe="",yIe="",wIe="",bIe="",kIe="",CIe="",SIe="",xIe="",TIe="",EIe="",NIe="",MIe="",OIe="",DIe="",AIe="",LIe="",RIe="",IIe="",PIe="",BIe="",_Ie="",FIe="",qIe="",HIe="",zIe="",$Ie="",VIe="",UIe="",jIe="",WIe="",GIe="",JIe="",KIe="",QIe="",XIe="",YIe="",ZIe="",ePe="",tPe="",rPe="",nPe="",iPe="",aPe="",oPe="",sPe="%",lPe=".",uPe="",cPe="",fPe="",dPe="",hPe="",pPe="",vPe="",mPe="",gPe="",yPe="",wPe="",bPe="",kPe="",CPe="",SPe="",xPe="",TPe="",EPe="",NPe="",MPe="",OPe="+",DPe="",APe="",LPe="",RPe="",IPe="",PPe="",BPe="",_Pe="",FPe="",qPe="",HPe="",zPe="",$Pe="",VPe="",UPe="",jPe="",WPe="",GPe="",JPe="",KPe="",QPe="",XPe="",YPe="",ZPe="",eBe="",tBe="",rBe="",nBe="",iBe="",aBe="",oBe="",sBe="",lBe="",uBe="",cBe="",fBe="",dBe="",hBe="",pBe="",vBe="",mBe="",gBe="",yBe="",wBe="",bBe="",kBe="",CBe="",SBe="",xBe="",TBe="",EBe="",NBe="",MBe="",OBe="",DBe="",ABe="",LBe="",RBe="",IBe="",PBe="",BBe="",_Be="",FBe="",qBe="?",HBe="",zBe='"',$Be='"',VBe="",UBe="",jBe="",WBe="",GBe="",JBe="",KBe="",QBe="",XBe="",YBe="",ZBe="",e_e="",t_e="",r_e="",n_e="",i_e="",a_e="",o_e="",s_e="",l_e="",u_e="",c_e="",f_e="",d_e="",h_e="",p_e="",v_e="",m_e="",g_e="",y_e="",w_e="",b_e="",k_e="",C_e="",S_e="",x_e="}",T_e="]",E_e="",N_e="",M_e="",O_e="",D_e="",A_e="",L_e="",R_e="",I_e="}",P_e="",B_e="",__e="",F_e="",q_e="",H_e="",z_e="",$_e="",V_e="",U_e="",j_e="",W_e="",G_e="",J_e="",K_e="",Q_e="",X_e="",Y_e="",Z_e="",eFe="",tFe="",rFe="",nFe="",iFe="",aFe="",oFe="",sFe="",lFe="",uFe="",cFe="",fFe="",dFe="",hFe="",pFe="",vFe="",mFe="",gFe="",yFe="",wFe="",bFe="",kFe="",CFe="",SFe="",xFe="",TFe="",EFe="",NFe="",MFe="",OFe="",DFe="",AFe="",LFe="",RFe="",IFe="",PFe="",BFe="",_Fe="",FFe="",qFe="",HFe="",zFe="",$Fe="",VFe="",UFe="",jFe="",WFe="",GFe="",JFe="",KFe="",QFe="",XFe="",YFe="",ZFe="",e2e="",t2e="",r2e="",n2e="",i2e="",a2e=")",o2e="",s2e="",l2e="",u2e="",c2e="",f2e="",d2e="",h2e="",p2e="",v2e="]",m2e="",g2e="",y2e="",w2e="",b2e="",k2e="",C2e="",S2e="",x2e="",T2e="",E2e="",N2e="",M2e="",O2e="",D2e="",A2e="",L2e="",R2e="",I2e="",P2e="",B2e="",_2e="",F2e="",q2e="",H2e="",z2e="",$2e="",V2e="",U2e="",j2e="",W2e="",G2e="",J2e="",K2e="",Q2e="",X2e="",Y2e="",Z2e="",eqe="",tqe="",rqe="",nqe=";",iqe="",aqe="",oqe="",sqe="",lqe="",uqe="",cqe="",fqe="",dqe="",hqe="",pqe="",vqe="",mqe="",gqe="",yqe="",wqe="",bqe="",kqe="",Cqe="",Sqe="",xqe="",Tqe="",Eqe="",Nqe="",Mqe="",Oqe="",Dqe="",Aqe="",Lqe="",Rqe="",Iqe="",Pqe="",Bqe="",_qe="",Fqe="",qqe="",Hqe="",zqe="",$qe="",Vqe="",Uqe="",jqe="",Wqe="",Gqe="",Jqe="",Kqe="",Qqe="",Xqe="",Yqe="/",Zqe="",eHe="",tHe="",rHe="",nHe="",iHe="",aHe="",oHe="",sHe="",lHe="",uHe="",cHe="",fHe="",dHe="",hHe="",pHe="",vHe="",mHe="",gHe="",yHe="",wHe="",bHe="",kHe="",CHe="",SHe="",xHe="",THe="",EHe="",NHe="",MHe="",OHe="",DHe="",AHe="",LHe="",RHe="",IHe="",PHe="",BHe="",_He="",FHe="",qHe="",HHe="",zHe="",$He="",VHe="",UHe="",jHe="",WHe="",GHe="",JHe="",KHe="",QHe="",XHe="",YHe="",ZHe="",eze="",tze="",rze="",nze="",ize="",aze="",oze="",sze="",lze="",uze="",cze="",fze="",dze="",hze="",pze="",vze="",mze="",gze="",yze="",wze="",bze="",kze="",Cze="",Sze="",xze="",Tze="",Eze="",Nze="",Mze="",Oze="",Dze="",Aze="",Lze="",Rze="",Ize="",Pze="",Bze="",_ze="",Fze="",qze="",Hze="",zze="",$ze="",Vze="",Uze="",jze="",Wze="",Gze="",Jze="",Kze="",Qze="",Xze="",Yze="",Zze="",e$e="",t$e="",r$e="",n$e="	",i$e="",a$e="",o$e="",s$e="",l$e="",u$e="",c$e="",f$e="",d$e="",h$e="",p$e="",v$e="",m$e="",g$e="",y$e="",w$e="",b$e="",k$e="",C$e="",S$e="",x$e="",T$e="",E$e="",N$e="",M$e="",O$e="",D$e="",A$e="",L$e="",R$e="",I$e="",P$e="",B$e="",_$e="",F$e="",q$e="",H$e="",z$e="",$$e="",V$e="",U$e="",j$e="",W$e="",G$e="",J$e="",K$e="",Q$e="",X$e="",Y$e="",Z$e="",eVe="",tVe="",rVe="",nVe="",iVe="",aVe="",oVe="",sVe="",lVe="",uVe="",cVe="",fVe="",dVe="",hVe="",pVe="",vVe="",mVe="",gVe="",yVe="",wVe="",bVe="",kVe="",CVe="",SVe="",xVe="",TVe="",EVe="",NVe="",MVe="",OVe="",DVe="",AVe="",LVe="",RVe="",IVe="",PVe="",BVe="",_Ve="",FVe="",qVe="",HVe="",zVe="",$Ve="",VVe="",UVe="",jVe="",WVe="",GVe="",JVe="",KVe="",QVe="",XVe="",YVe="",ZVe="",eUe="",tUe="",rUe="",nUe="",iUe="",aUe="",oUe="",sUe="_",lUe="",uUe="",cUe="",fUe="",dUe="",hUe="",pUe="",vUe="",mUe="",gUe="",yUe="",wUe="",bUe="",kUe="",CUe="",SUe="",xUe="",TUe="",EUe="",NUe="",MUe="",OUe="",DUe="",AUe="",LUe="",RUe="",IUe="",PUe="",BUe="",_Ue="",FUe="",qUe="",HUe="",zUe="",$Ue="",VUe="",UUe="",jUe="",WUe="",GUe="",JUe="",KUe="",QUe="",XUe="",YUe="",ZUe="",e3e="",t3e="",r3e="",n3e="",i3e="",a3e="",o3e="",s3e="",l3e="",u3e="",c3e="",f3e="",d3e="",h3e="",p3e="",v3e="",m3e="",g3e="",y3e="",w3e="",b3e="",k3e="",C3e="",S3e="",x3e="",T3e="",E3e="",N3e="",M3e="",O3e="",D3e="",A3e="",L3e="",R3e="",I3e="",P3e="|",B3e="",_3e="|",F3e="",q3e="",H3e="|",z3e="",$3e="",V3e="",U3e="",j3e="",W3e="",G3e="",J3e="",K3e="",Q3e="",X3e="",Y3e="",Z3e="",eje="",tje="",rje="",nje="",ije="",aje="",oje="",sje="",lje="",uje="",cje="",fje="",dje="",hje="",pje="",vje="",mje="",gje="",yje="",wje="",bje="",kje="",Cje="",Sje="",xje="",Tje="",Eje="",Nje="",Mje="",Oje="",Dje="",Aje="",Lje="",Rje="",Ije="",Pje="",Bje="",_je="",Fje="",qje="",Hje="",zje="",$je="",Vje="",Uje="",jje="",Wje="",Gje="",Jje="",Kje="",Qje="",Xje="",Yje="",Zje="",eWe="",tWe="",rWe="",nWe="",iWe="",aWe="",oWe="",sWe="",lWe="",uWe="",cWe="",fWe="",dWe="",hWe="",pWe="",vWe="",mWe="",gWe="",yWe="",wWe="",bWe="",kWe="",CWe="",SWe="",xWe="",TWe="",EWe="",NWe="",MWe="",OWe="",DWe="",AWe="",LWe="",RWe="",IWe="",PWe="",BWe="",_We="",FWe="",qWe="",HWe="",pN={Aacute:xfe,aacute:Tfe,Abreve:Efe,abreve:Nfe,ac:Mfe,acd:Ofe,acE:Dfe,Acirc:Afe,acirc:Lfe,acute:Rfe,Acy:Ife,acy:Pfe,AElig:Bfe,aelig:_fe,af:Ffe,Afr:qfe,afr:Hfe,Agrave:zfe,agrave:$fe,alefsym:Vfe,aleph:Ufe,Alpha:jfe,alpha:Wfe,Amacr:Gfe,amacr:Jfe,amalg:Kfe,amp:Qfe,AMP:Xfe,andand:Yfe,And:Zfe,and:ede,andd:tde,andslope:rde,andv:nde,ang:ide,ange:ade,angle:ode,angmsdaa:sde,angmsdab:lde,angmsdac:ude,angmsdad:cde,angmsdae:fde,angmsdaf:dde,angmsdag:hde,angmsdah:pde,angmsd:vde,angrt:mde,angrtvb:gde,angrtvbd:yde,angsph:wde,angst:bde,angzarr:kde,Aogon:Cde,aogon:Sde,Aopf:xde,aopf:Tde,apacir:Ede,ap:Nde,apE:Mde,ape:Ode,apid:Dde,apos:Ade,ApplyFunction:Lde,approx:Rde,approxeq:Ide,Aring:Pde,aring:Bde,Ascr:_de,ascr:Fde,Assign:qde,ast:Hde,asymp:zde,asympeq:$de,Atilde:Vde,atilde:Ude,Auml:jde,auml:Wde,awconint:Gde,awint:Jde,backcong:Kde,backepsilon:Qde,backprime:Xde,backsim:Yde,backsimeq:Zde,Backslash:ehe,Barv:the,barvee:rhe,barwed:nhe,Barwed:ihe,barwedge:ahe,bbrk:ohe,bbrktbrk:she,bcong:lhe,Bcy:uhe,bcy:che,bdquo:fhe,becaus:dhe,because:hhe,Because:phe,bemptyv:vhe,bepsi:mhe,bernou:ghe,Bernoullis:yhe,Beta:whe,beta:bhe,beth:khe,between:Che,Bfr:She,bfr:xhe,bigcap:The,bigcirc:Ehe,bigcup:Nhe,bigodot:Mhe,bigoplus:Ohe,bigotimes:Dhe,bigsqcup:Ahe,bigstar:Lhe,bigtriangledown:Rhe,bigtriangleup:Ihe,biguplus:Phe,bigvee:Bhe,bigwedge:_he,bkarow:Fhe,blacklozenge:qhe,blacksquare:Hhe,blacktriangle:zhe,blacktriangledown:$he,blacktriangleleft:Vhe,blacktriangleright:Uhe,blank:jhe,blk12:Whe,blk14:Ghe,blk34:Jhe,block:Khe,bne:Qhe,bnequiv:Xhe,bNot:Yhe,bnot:Zhe,Bopf:epe,bopf:tpe,bot:rpe,bottom:npe,bowtie:ipe,boxbox:ape,boxdl:ope,boxdL:spe,boxDl:lpe,boxDL:upe,boxdr:cpe,boxdR:fpe,boxDr:dpe,boxDR:hpe,boxh:ppe,boxH:vpe,boxhd:mpe,boxHd:gpe,boxhD:ype,boxHD:wpe,boxhu:bpe,boxHu:kpe,boxhU:Cpe,boxHU:Spe,boxminus:xpe,boxplus:Tpe,boxtimes:Epe,boxul:Npe,boxuL:Mpe,boxUl:Ope,boxUL:Dpe,boxur:Ape,boxuR:Lpe,boxUr:Rpe,boxUR:Ipe,boxv:Ppe,boxV:Bpe,boxvh:_pe,boxvH:Fpe,boxVh:qpe,boxVH:Hpe,boxvl:zpe,boxvL:$pe,boxVl:Vpe,boxVL:Upe,boxvr:jpe,boxvR:Wpe,boxVr:Gpe,boxVR:Jpe,bprime:Kpe,breve:Qpe,Breve:Xpe,brvbar:Ype,bscr:Zpe,Bscr:eve,bsemi:tve,bsim:rve,bsime:nve,bsolb:ive,bsol:ave,bsolhsub:ove,bull:sve,bullet:lve,bump:uve,bumpE:cve,bumpe:fve,Bumpeq:dve,bumpeq:hve,Cacute:pve,cacute:vve,capand:mve,capbrcup:gve,capcap:yve,cap:wve,Cap:bve,capcup:kve,capdot:Cve,CapitalDifferentialD:Sve,caps:xve,caret:Tve,caron:Eve,Cayleys:Nve,ccaps:Mve,Ccaron:Ove,ccaron:Dve,Ccedil:Ave,ccedil:Lve,Ccirc:Rve,ccirc:Ive,Cconint:Pve,ccups:Bve,ccupssm:_ve,Cdot:Fve,cdot:qve,cedil:Hve,Cedilla:zve,cemptyv:$ve,cent:Vve,centerdot:Uve,CenterDot:jve,cfr:Wve,Cfr:Gve,CHcy:Jve,chcy:Kve,check:Qve,checkmark:Xve,Chi:Yve,chi:Zve,circ:eme,circeq:tme,circlearrowleft:rme,circlearrowright:nme,circledast:ime,circledcirc:ame,circleddash:ome,CircleDot:sme,circledR:lme,circledS:ume,CircleMinus:cme,CirclePlus:fme,CircleTimes:dme,cir:hme,cirE:pme,cire:vme,cirfnint:mme,cirmid:gme,cirscir:yme,ClockwiseContourIntegral:wme,CloseCurlyDoubleQuote:bme,CloseCurlyQuote:kme,clubs:Cme,clubsuit:Sme,colon:xme,Colon:Tme,Colone:Eme,colone:Nme,coloneq:Mme,comma:Ome,commat:Dme,comp:Ame,compfn:Lme,complement:Rme,complexes:Ime,cong:Pme,congdot:Bme,Congruent:_me,conint:Fme,Conint:qme,ContourIntegral:Hme,copf:zme,Copf:$me,coprod:Vme,Coproduct:Ume,copy:jme,COPY:Wme,copysr:Gme,CounterClockwiseContourIntegral:Jme,crarr:Kme,cross:Qme,Cross:Xme,Cscr:Yme,cscr:Zme,csub:ege,csube:tge,csup:rge,csupe:nge,ctdot:ige,cudarrl:age,cudarrr:oge,cuepr:sge,cuesc:lge,cularr:uge,cularrp:cge,cupbrcap:fge,cupcap:dge,CupCap:hge,cup:pge,Cup:vge,cupcup:mge,cupdot:gge,cupor:yge,cups:wge,curarr:bge,curarrm:kge,curlyeqprec:Cge,curlyeqsucc:Sge,curlyvee:xge,curlywedge:Tge,curren:Ege,curvearrowleft:Nge,curvearrowright:Mge,cuvee:Oge,cuwed:Dge,cwconint:Age,cwint:Lge,cylcty:Rge,dagger:Ige,Dagger:Pge,daleth:Bge,darr:_ge,Darr:Fge,dArr:qge,dash:Hge,Dashv:zge,dashv:$ge,dbkarow:Vge,dblac:Uge,Dcaron:jge,dcaron:Wge,Dcy:Gge,dcy:Jge,ddagger:Kge,ddarr:Qge,DD:Xge,dd:Yge,DDotrahd:Zge,ddotseq:eye,deg:tye,Del:rye,Delta:nye,delta:iye,demptyv:aye,dfisht:oye,Dfr:sye,dfr:lye,dHar:uye,dharl:cye,dharr:fye,DiacriticalAcute:dye,DiacriticalDot:hye,DiacriticalDoubleAcute:pye,DiacriticalGrave:vye,DiacriticalTilde:mye,diam:gye,diamond:yye,Diamond:wye,diamondsuit:bye,diams:kye,die:Cye,DifferentialD:Sye,digamma:xye,disin:Tye,div:Eye,divide:Nye,divideontimes:Mye,divonx:Oye,DJcy:Dye,djcy:Aye,dlcorn:Lye,dlcrop:Rye,dollar:Iye,Dopf:Pye,dopf:Bye,Dot:_ye,dot:Fye,DotDot:qye,doteq:Hye,doteqdot:zye,DotEqual:$ye,dotminus:Vye,dotplus:Uye,dotsquare:jye,doublebarwedge:Wye,DoubleContourIntegral:Gye,DoubleDot:Jye,DoubleDownArrow:Kye,DoubleLeftArrow:Qye,DoubleLeftRightArrow:Xye,DoubleLeftTee:Yye,DoubleLongLeftArrow:Zye,DoubleLongLeftRightArrow:e0e,DoubleLongRightArrow:t0e,DoubleRightArrow:r0e,DoubleRightTee:n0e,DoubleUpArrow:i0e,DoubleUpDownArrow:a0e,DoubleVerticalBar:o0e,DownArrowBar:s0e,downarrow:l0e,DownArrow:u0e,Downarrow:c0e,DownArrowUpArrow:f0e,DownBreve:d0e,downdownarrows:h0e,downharpoonleft:p0e,downharpoonright:v0e,DownLeftRightVector:m0e,DownLeftTeeVector:g0e,DownLeftVectorBar:y0e,DownLeftVector:w0e,DownRightTeeVector:b0e,DownRightVectorBar:k0e,DownRightVector:C0e,DownTeeArrow:S0e,DownTee:x0e,drbkarow:T0e,drcorn:E0e,drcrop:N0e,Dscr:M0e,dscr:O0e,DScy:D0e,dscy:A0e,dsol:L0e,Dstrok:R0e,dstrok:I0e,dtdot:P0e,dtri:B0e,dtrif:_0e,duarr:F0e,duhar:q0e,dwangle:H0e,DZcy:z0e,dzcy:$0e,dzigrarr:V0e,Eacute:U0e,eacute:j0e,easter:W0e,Ecaron:G0e,ecaron:J0e,Ecirc:K0e,ecirc:Q0e,ecir:X0e,ecolon:Y0e,Ecy:Z0e,ecy:ewe,eDDot:twe,Edot:rwe,edot:nwe,eDot:iwe,ee:awe,efDot:owe,Efr:swe,efr:lwe,eg:uwe,Egrave:cwe,egrave:fwe,egs:dwe,egsdot:hwe,el:pwe,Element:vwe,elinters:mwe,ell:gwe,els:ywe,elsdot:wwe,Emacr:bwe,emacr:kwe,empty:Cwe,emptyset:Swe,EmptySmallSquare:xwe,emptyv:Twe,EmptyVerySmallSquare:Ewe,emsp13:Nwe,emsp14:Mwe,emsp:Owe,ENG:Dwe,eng:Awe,ensp:Lwe,Eogon:Rwe,eogon:Iwe,Eopf:Pwe,eopf:Bwe,epar:_we,eparsl:Fwe,eplus:qwe,epsi:Hwe,Epsilon:zwe,epsilon:$we,epsiv:Vwe,eqcirc:Uwe,eqcolon:jwe,eqsim:Wwe,eqslantgtr:Gwe,eqslantless:Jwe,Equal:Kwe,equals:Qwe,EqualTilde:Xwe,equest:Ywe,Equilibrium:Zwe,equiv:ebe,equivDD:tbe,eqvparsl:rbe,erarr:nbe,erDot:ibe,escr:abe,Escr:obe,esdot:sbe,Esim:lbe,esim:ube,Eta:cbe,eta:fbe,ETH:dbe,eth:hbe,Euml:pbe,euml:vbe,euro:mbe,excl:gbe,exist:ybe,Exists:wbe,expectation:bbe,exponentiale:kbe,ExponentialE:Cbe,fallingdotseq:Sbe,Fcy:xbe,fcy:Tbe,female:Ebe,ffilig:Nbe,fflig:Mbe,ffllig:Obe,Ffr:Dbe,ffr:Abe,filig:Lbe,FilledSmallSquare:Rbe,FilledVerySmallSquare:Ibe,fjlig:Pbe,flat:Bbe,fllig:_be,fltns:Fbe,fnof:qbe,Fopf:Hbe,fopf:zbe,forall:$be,ForAll:Vbe,fork:Ube,forkv:jbe,Fouriertrf:Wbe,fpartint:Gbe,frac12:Jbe,frac13:Kbe,frac14:Qbe,frac15:Xbe,frac16:Ybe,frac18:Zbe,frac23:eke,frac25:tke,frac34:rke,frac35:nke,frac38:ike,frac45:ake,frac56:oke,frac58:ske,frac78:lke,frasl:uke,frown:cke,fscr:fke,Fscr:dke,gacute:hke,Gamma:pke,gamma:vke,Gammad:mke,gammad:gke,gap:yke,Gbreve:wke,gbreve:bke,Gcedil:kke,Gcirc:Cke,gcirc:Ske,Gcy:xke,gcy:Tke,Gdot:Eke,gdot:Nke,ge:Mke,gE:Oke,gEl:Dke,gel:Ake,geq:Lke,geqq:Rke,geqslant:Ike,gescc:Pke,ges:Bke,gesdot:_ke,gesdoto:Fke,gesdotol:qke,gesl:Hke,gesles:zke,Gfr:$ke,gfr:Vke,gg:Uke,Gg:jke,ggg:Wke,gimel:Gke,GJcy:Jke,gjcy:Kke,gla:Qke,gl:Xke,glE:Yke,glj:Zke,gnap:e1e,gnapprox:t1e,gne:r1e,gnE:n1e,gneq:i1e,gneqq:a1e,gnsim:o1e,Gopf:s1e,gopf:l1e,grave:u1e,GreaterEqual:c1e,GreaterEqualLess:f1e,GreaterFullEqual:d1e,GreaterGreater:h1e,GreaterLess:p1e,GreaterSlantEqual:v1e,GreaterTilde:m1e,Gscr:g1e,gscr:y1e,gsim:w1e,gsime:b1e,gsiml:k1e,gtcc:C1e,gtcir:S1e,gt:x1e,GT:T1e,Gt:E1e,gtdot:N1e,gtlPar:M1e,gtquest:O1e,gtrapprox:D1e,gtrarr:A1e,gtrdot:L1e,gtreqless:R1e,gtreqqless:I1e,gtrless:P1e,gtrsim:B1e,gvertneqq:_1e,gvnE:F1e,Hacek:q1e,hairsp:H1e,half:z1e,hamilt:$1e,HARDcy:V1e,hardcy:U1e,harrcir:j1e,harr:W1e,hArr:G1e,harrw:J1e,Hat:K1e,hbar:Q1e,Hcirc:X1e,hcirc:Y1e,hearts:Z1e,heartsuit:eCe,hellip:tCe,hercon:rCe,hfr:nCe,Hfr:iCe,HilbertSpace:aCe,hksearow:oCe,hkswarow:sCe,hoarr:lCe,homtht:uCe,hookleftarrow:cCe,hookrightarrow:fCe,hopf:dCe,Hopf:hCe,horbar:pCe,HorizontalLine:vCe,hscr:mCe,Hscr:gCe,hslash:yCe,Hstrok:wCe,hstrok:bCe,HumpDownHump:kCe,HumpEqual:CCe,hybull:SCe,hyphen:xCe,Iacute:TCe,iacute:ECe,ic:NCe,Icirc:MCe,icirc:OCe,Icy:DCe,icy:ACe,Idot:LCe,IEcy:RCe,iecy:ICe,iexcl:PCe,iff:BCe,ifr:_Ce,Ifr:FCe,Igrave:qCe,igrave:HCe,ii:zCe,iiiint:$Ce,iiint:VCe,iinfin:UCe,iiota:jCe,IJlig:WCe,ijlig:GCe,Imacr:JCe,imacr:KCe,image:QCe,ImaginaryI:XCe,imagline:YCe,imagpart:ZCe,imath:eSe,Im:tSe,imof:rSe,imped:nSe,Implies:iSe,incare:aSe,in:"",infin:oSe,infintie:sSe,inodot:lSe,intcal:uSe,int:cSe,Int:fSe,integers:dSe,Integral:hSe,intercal:pSe,Intersection:vSe,intlarhk:mSe,intprod:gSe,InvisibleComma:ySe,InvisibleTimes:wSe,IOcy:bSe,iocy:kSe,Iogon:CSe,iogon:SSe,Iopf:xSe,iopf:TSe,Iota:ESe,iota:NSe,iprod:MSe,iquest:OSe,iscr:DSe,Iscr:ASe,isin:LSe,isindot:RSe,isinE:ISe,isins:PSe,isinsv:BSe,isinv:_Se,it:FSe,Itilde:qSe,itilde:HSe,Iukcy:zSe,iukcy:$Se,Iuml:VSe,iuml:USe,Jcirc:jSe,jcirc:WSe,Jcy:GSe,jcy:JSe,Jfr:KSe,jfr:QSe,jmath:XSe,Jopf:YSe,jopf:ZSe,Jscr:exe,jscr:txe,Jsercy:rxe,jsercy:nxe,Jukcy:ixe,jukcy:axe,Kappa:oxe,kappa:sxe,kappav:lxe,Kcedil:uxe,kcedil:cxe,Kcy:fxe,kcy:dxe,Kfr:hxe,kfr:pxe,kgreen:vxe,KHcy:mxe,khcy:gxe,KJcy:yxe,kjcy:wxe,Kopf:bxe,kopf:kxe,Kscr:Cxe,kscr:Sxe,lAarr:xxe,Lacute:Txe,lacute:Exe,laemptyv:Nxe,lagran:Mxe,Lambda:Oxe,lambda:Dxe,lang:Axe,Lang:Lxe,langd:Rxe,langle:Ixe,lap:Pxe,Laplacetrf:Bxe,laquo:_xe,larrb:Fxe,larrbfs:qxe,larr:Hxe,Larr:zxe,lArr:$xe,larrfs:Vxe,larrhk:Uxe,larrlp:jxe,larrpl:Wxe,larrsim:Gxe,larrtl:Jxe,latail:Kxe,lAtail:Qxe,lat:Xxe,late:Yxe,lates:Zxe,lbarr:eTe,lBarr:tTe,lbbrk:rTe,lbrace:nTe,lbrack:iTe,lbrke:aTe,lbrksld:oTe,lbrkslu:sTe,Lcaron:lTe,lcaron:uTe,Lcedil:cTe,lcedil:fTe,lceil:dTe,lcub:hTe,Lcy:pTe,lcy:vTe,ldca:mTe,ldquo:gTe,ldquor:yTe,ldrdhar:wTe,ldrushar:bTe,ldsh:kTe,le:CTe,lE:STe,LeftAngleBracket:xTe,LeftArrowBar:TTe,leftarrow:ETe,LeftArrow:NTe,Leftarrow:MTe,LeftArrowRightArrow:OTe,leftarrowtail:DTe,LeftCeiling:ATe,LeftDoubleBracket:LTe,LeftDownTeeVector:RTe,LeftDownVectorBar:ITe,LeftDownVector:PTe,LeftFloor:BTe,leftharpoondown:_Te,leftharpoonup:FTe,leftleftarrows:qTe,leftrightarrow:HTe,LeftRightArrow:zTe,Leftrightarrow:$Te,leftrightarrows:VTe,leftrightharpoons:UTe,leftrightsquigarrow:jTe,LeftRightVector:WTe,LeftTeeArrow:GTe,LeftTee:JTe,LeftTeeVector:KTe,leftthreetimes:QTe,LeftTriangleBar:XTe,LeftTriangle:YTe,LeftTriangleEqual:ZTe,LeftUpDownVector:eEe,LeftUpTeeVector:tEe,LeftUpVectorBar:rEe,LeftUpVector:nEe,LeftVectorBar:iEe,LeftVector:aEe,lEg:oEe,leg:sEe,leq:lEe,leqq:uEe,leqslant:cEe,lescc:fEe,les:dEe,lesdot:hEe,lesdoto:pEe,lesdotor:vEe,lesg:mEe,lesges:gEe,lessapprox:yEe,lessdot:wEe,lesseqgtr:bEe,lesseqqgtr:kEe,LessEqualGreater:CEe,LessFullEqual:SEe,LessGreater:xEe,lessgtr:TEe,LessLess:EEe,lesssim:NEe,LessSlantEqual:MEe,LessTilde:OEe,lfisht:DEe,lfloor:AEe,Lfr:LEe,lfr:REe,lg:IEe,lgE:PEe,lHar:BEe,lhard:_Ee,lharu:FEe,lharul:qEe,lhblk:HEe,LJcy:zEe,ljcy:$Ee,llarr:VEe,ll:UEe,Ll:jEe,llcorner:WEe,Lleftarrow:GEe,llhard:JEe,lltri:KEe,Lmidot:QEe,lmidot:XEe,lmoustache:YEe,lmoust:ZEe,lnap:eNe,lnapprox:tNe,lne:rNe,lnE:nNe,lneq:iNe,lneqq:aNe,lnsim:oNe,loang:sNe,loarr:lNe,lobrk:uNe,longleftarrow:cNe,LongLeftArrow:fNe,Longleftarrow:dNe,longleftrightarrow:hNe,LongLeftRightArrow:pNe,Longleftrightarrow:vNe,longmapsto:mNe,longrightarrow:gNe,LongRightArrow:yNe,Longrightarrow:wNe,looparrowleft:bNe,looparrowright:kNe,lopar:CNe,Lopf:SNe,lopf:xNe,loplus:TNe,lotimes:ENe,lowast:NNe,lowbar:MNe,LowerLeftArrow:ONe,LowerRightArrow:DNe,loz:ANe,lozenge:LNe,lozf:RNe,lpar:INe,lparlt:PNe,lrarr:BNe,lrcorner:_Ne,lrhar:FNe,lrhard:qNe,lrm:HNe,lrtri:zNe,lsaquo:$Ne,lscr:VNe,Lscr:UNe,lsh:jNe,Lsh:WNe,lsim:GNe,lsime:JNe,lsimg:KNe,lsqb:QNe,lsquo:XNe,lsquor:YNe,Lstrok:ZNe,lstrok:eMe,ltcc:tMe,ltcir:rMe,lt:nMe,LT:iMe,Lt:aMe,ltdot:oMe,lthree:sMe,ltimes:lMe,ltlarr:uMe,ltquest:cMe,ltri:fMe,ltrie:dMe,ltrif:hMe,ltrPar:pMe,lurdshar:vMe,luruhar:mMe,lvertneqq:gMe,lvnE:yMe,macr:wMe,male:bMe,malt:kMe,maltese:CMe,Map:"",map:SMe,mapsto:xMe,mapstodown:TMe,mapstoleft:EMe,mapstoup:NMe,marker:MMe,mcomma:OMe,Mcy:DMe,mcy:AMe,mdash:LMe,mDDot:RMe,measuredangle:IMe,MediumSpace:PMe,Mellintrf:BMe,Mfr:_Me,mfr:FMe,mho:qMe,micro:HMe,midast:zMe,midcir:$Me,mid:VMe,middot:UMe,minusb:jMe,minus:WMe,minusd:GMe,minusdu:JMe,MinusPlus:KMe,mlcp:QMe,mldr:XMe,mnplus:YMe,models:ZMe,Mopf:eOe,mopf:tOe,mp:rOe,mscr:nOe,Mscr:iOe,mstpos:aOe,Mu:oOe,mu:sOe,multimap:lOe,mumap:uOe,nabla:cOe,Nacute:fOe,nacute:dOe,nang:hOe,nap:pOe,napE:vOe,napid:mOe,napos:gOe,napprox:yOe,natural:wOe,naturals:bOe,natur:kOe,nbsp:COe,nbump:SOe,nbumpe:xOe,ncap:TOe,Ncaron:EOe,ncaron:NOe,Ncedil:MOe,ncedil:OOe,ncong:DOe,ncongdot:AOe,ncup:LOe,Ncy:ROe,ncy:IOe,ndash:POe,nearhk:BOe,nearr:_Oe,neArr:FOe,nearrow:qOe,ne:HOe,nedot:zOe,NegativeMediumSpace:$Oe,NegativeThickSpace:VOe,NegativeThinSpace:UOe,NegativeVeryThinSpace:jOe,nequiv:WOe,nesear:GOe,nesim:JOe,NestedGreaterGreater:KOe,NestedLessLess:QOe,NewLine:XOe,nexist:YOe,nexists:ZOe,Nfr:eDe,nfr:tDe,ngE:rDe,nge:nDe,ngeq:iDe,ngeqq:aDe,ngeqslant:oDe,nges:sDe,nGg:lDe,ngsim:uDe,nGt:cDe,ngt:fDe,ngtr:dDe,nGtv:hDe,nharr:pDe,nhArr:vDe,nhpar:mDe,ni:gDe,nis:yDe,nisd:wDe,niv:bDe,NJcy:kDe,njcy:CDe,nlarr:SDe,nlArr:xDe,nldr:TDe,nlE:EDe,nle:NDe,nleftarrow:MDe,nLeftarrow:ODe,nleftrightarrow:DDe,nLeftrightarrow:ADe,nleq:LDe,nleqq:RDe,nleqslant:IDe,nles:PDe,nless:BDe,nLl:_De,nlsim:FDe,nLt:qDe,nlt:HDe,nltri:zDe,nltrie:$De,nLtv:VDe,nmid:UDe,NoBreak:jDe,NonBreakingSpace:WDe,nopf:GDe,Nopf:JDe,Not:KDe,not:QDe,NotCongruent:XDe,NotCupCap:YDe,NotDoubleVerticalBar:ZDe,NotElement:eAe,NotEqual:tAe,NotEqualTilde:rAe,NotExists:nAe,NotGreater:iAe,NotGreaterEqual:aAe,NotGreaterFullEqual:oAe,NotGreaterGreater:sAe,NotGreaterLess:lAe,NotGreaterSlantEqual:uAe,NotGreaterTilde:cAe,NotHumpDownHump:fAe,NotHumpEqual:dAe,notin:hAe,notindot:pAe,notinE:vAe,notinva:mAe,notinvb:gAe,notinvc:yAe,NotLeftTriangleBar:wAe,NotLeftTriangle:bAe,NotLeftTriangleEqual:kAe,NotLess:CAe,NotLessEqual:SAe,NotLessGreater:xAe,NotLessLess:TAe,NotLessSlantEqual:EAe,NotLessTilde:NAe,NotNestedGreaterGreater:MAe,NotNestedLessLess:OAe,notni:DAe,notniva:AAe,notnivb:LAe,notnivc:RAe,NotPrecedes:IAe,NotPrecedesEqual:PAe,NotPrecedesSlantEqual:BAe,NotReverseElement:_Ae,NotRightTriangleBar:FAe,NotRightTriangle:qAe,NotRightTriangleEqual:HAe,NotSquareSubset:zAe,NotSquareSubsetEqual:$Ae,NotSquareSuperset:VAe,NotSquareSupersetEqual:UAe,NotSubset:jAe,NotSubsetEqual:WAe,NotSucceeds:GAe,NotSucceedsEqual:JAe,NotSucceedsSlantEqual:KAe,NotSucceedsTilde:QAe,NotSuperset:XAe,NotSupersetEqual:YAe,NotTilde:ZAe,NotTildeEqual:eLe,NotTildeFullEqual:tLe,NotTildeTilde:rLe,NotVerticalBar:nLe,nparallel:iLe,npar:aLe,nparsl:oLe,npart:sLe,npolint:lLe,npr:uLe,nprcue:cLe,nprec:fLe,npreceq:dLe,npre:hLe,nrarrc:pLe,nrarr:vLe,nrArr:mLe,nrarrw:gLe,nrightarrow:yLe,nRightarrow:wLe,nrtri:bLe,nrtrie:kLe,nsc:CLe,nsccue:SLe,nsce:xLe,Nscr:TLe,nscr:ELe,nshortmid:NLe,nshortparallel:MLe,nsim:OLe,nsime:DLe,nsimeq:ALe,nsmid:LLe,nspar:RLe,nsqsube:ILe,nsqsupe:PLe,nsub:BLe,nsubE:_Le,nsube:FLe,nsubset:qLe,nsubseteq:HLe,nsubseteqq:zLe,nsucc:$Le,nsucceq:VLe,nsup:ULe,nsupE:jLe,nsupe:WLe,nsupset:GLe,nsupseteq:JLe,nsupseteqq:KLe,ntgl:QLe,Ntilde:XLe,ntilde:YLe,ntlg:ZLe,ntriangleleft:eRe,ntrianglelefteq:tRe,ntriangleright:rRe,ntrianglerighteq:nRe,Nu:iRe,nu:aRe,num:oRe,numero:sRe,numsp:lRe,nvap:uRe,nvdash:cRe,nvDash:fRe,nVdash:dRe,nVDash:hRe,nvge:pRe,nvgt:vRe,nvHarr:mRe,nvinfin:gRe,nvlArr:yRe,nvle:wRe,nvlt:bRe,nvltrie:kRe,nvrArr:CRe,nvrtrie:SRe,nvsim:xRe,nwarhk:TRe,nwarr:ERe,nwArr:NRe,nwarrow:MRe,nwnear:ORe,Oacute:DRe,oacute:ARe,oast:LRe,Ocirc:RRe,ocirc:IRe,ocir:PRe,Ocy:BRe,ocy:_Re,odash:FRe,Odblac:qRe,odblac:HRe,odiv:zRe,odot:$Re,odsold:VRe,OElig:URe,oelig:jRe,ofcir:WRe,Ofr:GRe,ofr:JRe,ogon:KRe,Ograve:QRe,ograve:XRe,ogt:YRe,ohbar:ZRe,ohm:eIe,oint:tIe,olarr:rIe,olcir:nIe,olcross:iIe,oline:aIe,olt:oIe,Omacr:sIe,omacr:lIe,Omega:uIe,omega:cIe,Omicron:fIe,omicron:dIe,omid:hIe,ominus:pIe,Oopf:vIe,oopf:mIe,opar:gIe,OpenCurlyDoubleQuote:yIe,OpenCurlyQuote:wIe,operp:bIe,oplus:kIe,orarr:CIe,Or:SIe,or:xIe,ord:TIe,order:EIe,orderof:NIe,ordf:MIe,ordm:OIe,origof:DIe,oror:AIe,orslope:LIe,orv:RIe,oS:IIe,Oscr:PIe,oscr:BIe,Oslash:_Ie,oslash:FIe,osol:qIe,Otilde:HIe,otilde:zIe,otimesas:$Ie,Otimes:VIe,otimes:UIe,Ouml:jIe,ouml:WIe,ovbar:GIe,OverBar:JIe,OverBrace:KIe,OverBracket:QIe,OverParenthesis:XIe,para:YIe,parallel:ZIe,par:ePe,parsim:tPe,parsl:rPe,part:nPe,PartialD:iPe,Pcy:aPe,pcy:oPe,percnt:sPe,period:lPe,permil:uPe,perp:cPe,pertenk:fPe,Pfr:dPe,pfr:hPe,Phi:pPe,phi:vPe,phiv:mPe,phmmat:gPe,phone:yPe,Pi:wPe,pi:bPe,pitchfork:kPe,piv:CPe,planck:SPe,planckh:xPe,plankv:TPe,plusacir:EPe,plusb:NPe,pluscir:MPe,plus:OPe,plusdo:DPe,plusdu:APe,pluse:LPe,PlusMinus:RPe,plusmn:IPe,plussim:PPe,plustwo:BPe,pm:_Pe,Poincareplane:FPe,pointint:qPe,popf:HPe,Popf:zPe,pound:$Pe,prap:VPe,Pr:UPe,pr:jPe,prcue:WPe,precapprox:GPe,prec:JPe,preccurlyeq:KPe,Precedes:QPe,PrecedesEqual:XPe,PrecedesSlantEqual:YPe,PrecedesTilde:ZPe,preceq:eBe,precnapprox:tBe,precneqq:rBe,precnsim:nBe,pre:iBe,prE:aBe,precsim:oBe,prime:sBe,Prime:lBe,primes:uBe,prnap:cBe,prnE:fBe,prnsim:dBe,prod:hBe,Product:pBe,profalar:vBe,profline:mBe,profsurf:gBe,prop:yBe,Proportional:wBe,Proportion:bBe,propto:kBe,prsim:CBe,prurel:SBe,Pscr:xBe,pscr:TBe,Psi:EBe,psi:NBe,puncsp:MBe,Qfr:OBe,qfr:DBe,qint:ABe,qopf:LBe,Qopf:RBe,qprime:IBe,Qscr:PBe,qscr:BBe,quaternions:_Be,quatint:FBe,quest:qBe,questeq:HBe,quot:zBe,QUOT:$Be,rAarr:VBe,race:UBe,Racute:jBe,racute:WBe,radic:GBe,raemptyv:JBe,rang:KBe,Rang:QBe,rangd:XBe,range:YBe,rangle:ZBe,raquo:e_e,rarrap:t_e,rarrb:r_e,rarrbfs:n_e,rarrc:i_e,rarr:a_e,Rarr:o_e,rArr:s_e,rarrfs:l_e,rarrhk:u_e,rarrlp:c_e,rarrpl:f_e,rarrsim:d_e,Rarrtl:h_e,rarrtl:p_e,rarrw:v_e,ratail:m_e,rAtail:g_e,ratio:y_e,rationals:w_e,rbarr:b_e,rBarr:k_e,RBarr:C_e,rbbrk:S_e,rbrace:x_e,rbrack:T_e,rbrke:E_e,rbrksld:N_e,rbrkslu:M_e,Rcaron:O_e,rcaron:D_e,Rcedil:A_e,rcedil:L_e,rceil:R_e,rcub:I_e,Rcy:P_e,rcy:B_e,rdca:__e,rdldhar:F_e,rdquo:q_e,rdquor:H_e,rdsh:z_e,real:$_e,realine:V_e,realpart:U_e,reals:j_e,Re:W_e,rect:G_e,reg:J_e,REG:K_e,ReverseElement:Q_e,ReverseEquilibrium:X_e,ReverseUpEquilibrium:Y_e,rfisht:Z_e,rfloor:eFe,rfr:tFe,Rfr:rFe,rHar:nFe,rhard:iFe,rharu:aFe,rharul:oFe,Rho:sFe,rho:lFe,rhov:uFe,RightAngleBracket:cFe,RightArrowBar:fFe,rightarrow:dFe,RightArrow:hFe,Rightarrow:pFe,RightArrowLeftArrow:vFe,rightarrowtail:mFe,RightCeiling:gFe,RightDoubleBracket:yFe,RightDownTeeVector:wFe,RightDownVectorBar:bFe,RightDownVector:kFe,RightFloor:CFe,rightharpoondown:SFe,rightharpoonup:xFe,rightleftarrows:TFe,rightleftharpoons:EFe,rightrightarrows:NFe,rightsquigarrow:MFe,RightTeeArrow:OFe,RightTee:DFe,RightTeeVector:AFe,rightthreetimes:LFe,RightTriangleBar:RFe,RightTriangle:IFe,RightTriangleEqual:PFe,RightUpDownVector:BFe,RightUpTeeVector:_Fe,RightUpVectorBar:FFe,RightUpVector:qFe,RightVectorBar:HFe,RightVector:zFe,ring:$Fe,risingdotseq:VFe,rlarr:UFe,rlhar:jFe,rlm:WFe,rmoustache:GFe,rmoust:JFe,rnmid:KFe,roang:QFe,roarr:XFe,robrk:YFe,ropar:ZFe,ropf:e2e,Ropf:t2e,roplus:r2e,rotimes:n2e,RoundImplies:i2e,rpar:a2e,rpargt:o2e,rppolint:s2e,rrarr:l2e,Rrightarrow:u2e,rsaquo:c2e,rscr:f2e,Rscr:d2e,rsh:h2e,Rsh:p2e,rsqb:v2e,rsquo:m2e,rsquor:g2e,rthree:y2e,rtimes:w2e,rtri:b2e,rtrie:k2e,rtrif:C2e,rtriltri:S2e,RuleDelayed:x2e,ruluhar:T2e,rx:E2e,Sacute:N2e,sacute:M2e,sbquo:O2e,scap:D2e,Scaron:A2e,scaron:L2e,Sc:R2e,sc:I2e,sccue:P2e,sce:B2e,scE:_2e,Scedil:F2e,scedil:q2e,Scirc:H2e,scirc:z2e,scnap:$2e,scnE:V2e,scnsim:U2e,scpolint:j2e,scsim:W2e,Scy:G2e,scy:J2e,sdotb:K2e,sdot:Q2e,sdote:X2e,searhk:Y2e,searr:Z2e,seArr:eqe,searrow:tqe,sect:rqe,semi:nqe,seswar:iqe,setminus:aqe,setmn:oqe,sext:sqe,Sfr:lqe,sfr:uqe,sfrown:cqe,sharp:fqe,SHCHcy:dqe,shchcy:hqe,SHcy:pqe,shcy:vqe,ShortDownArrow:mqe,ShortLeftArrow:gqe,shortmid:yqe,shortparallel:wqe,ShortRightArrow:bqe,ShortUpArrow:kqe,shy:Cqe,Sigma:Sqe,sigma:xqe,sigmaf:Tqe,sigmav:Eqe,sim:Nqe,simdot:Mqe,sime:Oqe,simeq:Dqe,simg:Aqe,simgE:Lqe,siml:Rqe,simlE:Iqe,simne:Pqe,simplus:Bqe,simrarr:_qe,slarr:Fqe,SmallCircle:qqe,smallsetminus:Hqe,smashp:zqe,smeparsl:$qe,smid:Vqe,smile:Uqe,smt:jqe,smte:Wqe,smtes:Gqe,SOFTcy:Jqe,softcy:Kqe,solbar:Qqe,solb:Xqe,sol:Yqe,Sopf:Zqe,sopf:eHe,spades:tHe,spadesuit:rHe,spar:nHe,sqcap:iHe,sqcaps:aHe,sqcup:oHe,sqcups:sHe,Sqrt:lHe,sqsub:uHe,sqsube:cHe,sqsubset:fHe,sqsubseteq:dHe,sqsup:hHe,sqsupe:pHe,sqsupset:vHe,sqsupseteq:mHe,square:gHe,Square:yHe,SquareIntersection:wHe,SquareSubset:bHe,SquareSubsetEqual:kHe,SquareSuperset:CHe,SquareSupersetEqual:SHe,SquareUnion:xHe,squarf:THe,squ:EHe,squf:NHe,srarr:MHe,Sscr:OHe,sscr:DHe,ssetmn:AHe,ssmile:LHe,sstarf:RHe,Star:IHe,star:PHe,starf:BHe,straightepsilon:_He,straightphi:FHe,strns:qHe,sub:HHe,Sub:zHe,subdot:$He,subE:VHe,sube:UHe,subedot:jHe,submult:WHe,subnE:GHe,subne:JHe,subplus:KHe,subrarr:QHe,subset:XHe,Subset:YHe,subseteq:ZHe,subseteqq:eze,SubsetEqual:tze,subsetneq:rze,subsetneqq:nze,subsim:ize,subsub:aze,subsup:oze,succapprox:sze,succ:lze,succcurlyeq:uze,Succeeds:cze,SucceedsEqual:fze,SucceedsSlantEqual:dze,SucceedsTilde:hze,succeq:pze,succnapprox:vze,succneqq:mze,succnsim:gze,succsim:yze,SuchThat:wze,sum:bze,Sum:kze,sung:Cze,sup1:Sze,sup2:xze,sup3:Tze,sup:Eze,Sup:Nze,supdot:Mze,supdsub:Oze,supE:Dze,supe:Aze,supedot:Lze,Superset:Rze,SupersetEqual:Ize,suphsol:Pze,suphsub:Bze,suplarr:_ze,supmult:Fze,supnE:qze,supne:Hze,supplus:zze,supset:$ze,Supset:Vze,supseteq:Uze,supseteqq:jze,supsetneq:Wze,supsetneqq:Gze,supsim:Jze,supsub:Kze,supsup:Qze,swarhk:Xze,swarr:Yze,swArr:Zze,swarrow:e$e,swnwar:t$e,szlig:r$e,Tab:n$e,target:i$e,Tau:a$e,tau:o$e,tbrk:s$e,Tcaron:l$e,tcaron:u$e,Tcedil:c$e,tcedil:f$e,Tcy:d$e,tcy:h$e,tdot:p$e,telrec:v$e,Tfr:m$e,tfr:g$e,there4:y$e,therefore:w$e,Therefore:b$e,Theta:k$e,theta:C$e,thetasym:S$e,thetav:x$e,thickapprox:T$e,thicksim:E$e,ThickSpace:N$e,ThinSpace:M$e,thinsp:O$e,thkap:D$e,thksim:A$e,THORN:L$e,thorn:R$e,tilde:I$e,Tilde:P$e,TildeEqual:B$e,TildeFullEqual:_$e,TildeTilde:F$e,timesbar:q$e,timesb:H$e,times:z$e,timesd:$$e,tint:V$e,toea:U$e,topbot:j$e,topcir:W$e,top:G$e,Topf:J$e,topf:K$e,topfork:Q$e,tosa:X$e,tprime:Y$e,trade:Z$e,TRADE:eVe,triangle:tVe,triangledown:rVe,triangleleft:nVe,trianglelefteq:iVe,triangleq:aVe,triangleright:oVe,trianglerighteq:sVe,tridot:lVe,trie:uVe,triminus:cVe,TripleDot:fVe,triplus:dVe,trisb:hVe,tritime:pVe,trpezium:vVe,Tscr:mVe,tscr:gVe,TScy:yVe,tscy:wVe,TSHcy:bVe,tshcy:kVe,Tstrok:CVe,tstrok:SVe,twixt:xVe,twoheadleftarrow:TVe,twoheadrightarrow:EVe,Uacute:NVe,uacute:MVe,uarr:OVe,Uarr:DVe,uArr:AVe,Uarrocir:LVe,Ubrcy:RVe,ubrcy:IVe,Ubreve:PVe,ubreve:BVe,Ucirc:_Ve,ucirc:FVe,Ucy:qVe,ucy:HVe,udarr:zVe,Udblac:$Ve,udblac:VVe,udhar:UVe,ufisht:jVe,Ufr:WVe,ufr:GVe,Ugrave:JVe,ugrave:KVe,uHar:QVe,uharl:XVe,uharr:YVe,uhblk:ZVe,ulcorn:eUe,ulcorner:tUe,ulcrop:rUe,ultri:nUe,Umacr:iUe,umacr:aUe,uml:oUe,UnderBar:sUe,UnderBrace:lUe,UnderBracket:uUe,UnderParenthesis:cUe,Union:fUe,UnionPlus:dUe,Uogon:hUe,uogon:pUe,Uopf:vUe,uopf:mUe,UpArrowBar:gUe,uparrow:yUe,UpArrow:wUe,Uparrow:bUe,UpArrowDownArrow:kUe,updownarrow:CUe,UpDownArrow:SUe,Updownarrow:xUe,UpEquilibrium:TUe,upharpoonleft:EUe,upharpoonright:NUe,uplus:MUe,UpperLeftArrow:OUe,UpperRightArrow:DUe,upsi:AUe,Upsi:LUe,upsih:RUe,Upsilon:IUe,upsilon:PUe,UpTeeArrow:BUe,UpTee:_Ue,upuparrows:FUe,urcorn:qUe,urcorner:HUe,urcrop:zUe,Uring:$Ue,uring:VUe,urtri:UUe,Uscr:jUe,uscr:WUe,utdot:GUe,Utilde:JUe,utilde:KUe,utri:QUe,utrif:XUe,uuarr:YUe,Uuml:ZUe,uuml:e3e,uwangle:t3e,vangrt:r3e,varepsilon:n3e,varkappa:i3e,varnothing:a3e,varphi:o3e,varpi:s3e,varpropto:l3e,varr:u3e,vArr:c3e,varrho:f3e,varsigma:d3e,varsubsetneq:h3e,varsubsetneqq:p3e,varsupsetneq:v3e,varsupsetneqq:m3e,vartheta:g3e,vartriangleleft:y3e,vartriangleright:w3e,vBar:b3e,Vbar:k3e,vBarv:C3e,Vcy:S3e,vcy:x3e,vdash:T3e,vDash:E3e,Vdash:N3e,VDash:M3e,Vdashl:O3e,veebar:D3e,vee:A3e,Vee:L3e,veeeq:R3e,vellip:I3e,verbar:P3e,Verbar:B3e,vert:_3e,Vert:F3e,VerticalBar:q3e,VerticalLine:H3e,VerticalSeparator:z3e,VerticalTilde:$3e,VeryThinSpace:V3e,Vfr:U3e,vfr:j3e,vltri:W3e,vnsub:G3e,vnsup:J3e,Vopf:K3e,vopf:Q3e,vprop:X3e,vrtri:Y3e,Vscr:Z3e,vscr:eje,vsubnE:tje,vsubne:rje,vsupnE:nje,vsupne:ije,Vvdash:aje,vzigzag:oje,Wcirc:sje,wcirc:lje,wedbar:uje,wedge:cje,Wedge:fje,wedgeq:dje,weierp:hje,Wfr:pje,wfr:vje,Wopf:mje,wopf:gje,wp:yje,wr:wje,wreath:bje,Wscr:kje,wscr:Cje,xcap:Sje,xcirc:xje,xcup:Tje,xdtri:Eje,Xfr:Nje,xfr:Mje,xharr:Oje,xhArr:Dje,Xi:Aje,xi:Lje,xlarr:Rje,xlArr:Ije,xmap:Pje,xnis:Bje,xodot:_je,Xopf:Fje,xopf:qje,xoplus:Hje,xotime:zje,xrarr:$je,xrArr:Vje,Xscr:Uje,xscr:jje,xsqcup:Wje,xuplus:Gje,xutri:Jje,xvee:Kje,xwedge:Qje,Yacute:Xje,yacute:Yje,YAcy:Zje,yacy:eWe,Ycirc:tWe,ycirc:rWe,Ycy:nWe,ycy:iWe,yen:aWe,Yfr:oWe,yfr:sWe,YIcy:lWe,yicy:uWe,Yopf:cWe,yopf:fWe,Yscr:dWe,yscr:hWe,YUcy:pWe,yucy:vWe,yuml:mWe,Yuml:gWe,Zacute:yWe,zacute:wWe,Zcaron:bWe,zcaron:kWe,Zcy:CWe,zcy:SWe,Zdot:xWe,zdot:TWe,zeetrf:EWe,ZeroWidthSpace:NWe,Zeta:MWe,zeta:OWe,zfr:DWe,Zfr:AWe,ZHcy:LWe,zhcy:RWe,zigrarr:IWe,zopf:PWe,Zopf:BWe,Zscr:_We,zscr:FWe,zwj:qWe,zwnj:HWe},zWe="",$We="",VWe="",UWe="",jWe="",WWe="",GWe="",JWe="",KWe="",QWe="&",XWe="&",YWe="",ZWe="",e4e="",t4e="",r4e="",n4e="",i4e="",a4e="",o4e="",s4e="",l4e="",u4e="",c4e="",f4e="",d4e="",h4e="",p4e="",v4e="",m4e="",g4e="",y4e="",w4e="",b4e="",k4e="",C4e="",S4e="",x4e="",T4e="",E4e="",N4e=">",M4e=">",O4e="",D4e="",A4e="",L4e="",R4e="",I4e="",P4e="",B4e="",_4e="",F4e="",q4e="",H4e="<",z4e="<",$4e="",V4e="",U4e="",j4e="",W4e="",G4e="",J4e="",K4e="",Q4e="",X4e="",Y4e="",Z4e="",e6e="",t6e="",r6e="",n6e="",i6e="",a6e="",o6e="",s6e="",l6e="",u6e="",c6e="",f6e="",d6e='"',h6e='"',p6e="",v6e="",m6e="",g6e="",y6e="",w6e="",b6e="",k6e="",C6e="",S6e="",x6e="",T6e="",E6e="",N6e="",M6e="",O6e="",D6e="",A6e="",L6e="",R6e="",I6e="",P6e="",B6e="",_6e="",F6e="",q6e={Aacute:zWe,aacute:$We,Acirc:VWe,acirc:UWe,acute:jWe,AElig:WWe,aelig:GWe,Agrave:JWe,agrave:KWe,amp:QWe,AMP:XWe,Aring:YWe,aring:ZWe,Atilde:e4e,atilde:t4e,Auml:r4e,auml:n4e,brvbar:i4e,Ccedil:a4e,ccedil:o4e,cedil:s4e,cent:l4e,copy:u4e,COPY:c4e,curren:f4e,deg:d4e,divide:h4e,Eacute:p4e,eacute:v4e,Ecirc:m4e,ecirc:g4e,Egrave:y4e,egrave:w4e,ETH:b4e,eth:k4e,Euml:C4e,euml:S4e,frac12:x4e,frac14:T4e,frac34:E4e,gt:N4e,GT:M4e,Iacute:O4e,iacute:D4e,Icirc:A4e,icirc:L4e,iexcl:R4e,Igrave:I4e,igrave:P4e,iquest:B4e,Iuml:_4e,iuml:F4e,laquo:q4e,lt:H4e,LT:z4e,macr:$4e,micro:V4e,middot:U4e,nbsp:j4e,not:W4e,Ntilde:G4e,ntilde:J4e,Oacute:K4e,oacute:Q4e,Ocirc:X4e,ocirc:Y4e,Ograve:Z4e,ograve:e6e,ordf:t6e,ordm:r6e,Oslash:n6e,oslash:i6e,Otilde:a6e,otilde:o6e,Ouml:s6e,ouml:l6e,para:u6e,plusmn:c6e,pound:f6e,quot:d6e,QUOT:h6e,raquo:p6e,reg:v6e,REG:m6e,sect:g6e,shy:y6e,sup1:w6e,sup2:b6e,sup3:k6e,szlig:C6e,THORN:S6e,thorn:x6e,times:T6e,Uacute:E6e,uacute:N6e,Ucirc:M6e,ucirc:O6e,Ugrave:D6e,ugrave:A6e,uml:L6e,Uuml:R6e,uuml:I6e,Yacute:P6e,yacute:B6e,yen:_6e,yuml:F6e},H6e="&",z6e="'",$6e=">",V6e="<",U6e='"',vN={amp:H6e,apos:z6e,gt:$6e,lt:V6e,quot:U6e},Uw={},j6e={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},W6e=df&&df.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Uw,"__esModule",{value:!0});var RC=W6e(j6e),G6e=String.fromCodePoint||function(r){var e="";return r>65535&&(r-=65536,e+=String.fromCharCode(r>>>10&1023|55296),r=56320|r&1023),e+=String.fromCharCode(r),e};function J6e(r){return r>=55296&&r<=57343||r>1114111?"":(r in RC.default&&(r=RC.default[r]),G6e(r))}Uw.default=J6e;var Rm=df&&df.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(hs,"__esModule",{value:!0});hs.decodeHTML=hs.decodeHTMLStrict=hs.decodeXML=void 0;var L0=Rm(pN),K6e=Rm(q6e),Q6e=Rm(vN),IC=Rm(Uw),X6e=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;hs.decodeXML=mN(Q6e.default);hs.decodeHTMLStrict=mN(L0.default);function mN(r){var e=gN(r);return function(t){return String(t).replace(X6e,e)}}var PC=function(r,e){return r<e?1:-1};hs.decodeHTML=function(){for(var r=Object.keys(K6e.default).sort(PC),e=Object.keys(L0.default).sort(PC),t=0,n=0;t<e.length;t++)r[n]===e[t]?(e[t]+=";?",n++):e[t]+=";";var i=new RegExp("&(?:"+e.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),a=gN(L0.default);function o(l){return l.substr(-1)!==";"&&(l+=";"),a(l)}return function(l){return String(l).replace(i,o)}}();function gN(r){return function(t){if(t.charAt(1)==="#"){var n=t.charAt(2);return n==="X"||n==="x"?IC.default(parseInt(t.substr(3),16)):IC.default(parseInt(t.substr(2),10))}return r[t.slice(1,-1)]||t}}var la={},yN=df&&df.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(la,"__esModule",{value:!0});la.escapeUTF8=la.escape=la.encodeNonAsciiHTML=la.encodeHTML=la.encodeXML=void 0;var Y6e=yN(vN),wN=kN(Y6e.default),bN=CN(wN);la.encodeXML=TN(wN);var Z6e=yN(pN),jw=kN(Z6e.default),e5e=CN(jw);la.encodeHTML=r5e(jw,e5e);la.encodeNonAsciiHTML=TN(jw);function kN(r){return Object.keys(r).sort().reduce(function(e,t){return e[r[t]]="&"+t+";",e},{})}function CN(r){for(var e=[],t=[],n=0,i=Object.keys(r);n<i.length;n++){var a=i[n];a.length===1?e.push("\\"+a):t.push(a)}e.sort();for(var o=0;o<e.length-1;o++){for(var l=o;l<e.length-1&&e[l].charCodeAt(1)+1===e[l+1].charCodeAt(1);)l+=1;var c=1+l-o;c<3||e.splice(o,c,e[o]+"-"+e[l])}return t.unshift("["+e.join("")+"]"),new RegExp(t.join("|"),"g")}var SN=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,t5e=String.prototype.codePointAt!=null?function(r){return r.codePointAt(0)}:function(r){return(r.charCodeAt(0)-55296)*1024+r.charCodeAt(1)-56320+65536};function Im(r){return"&#x"+(r.length>1?t5e(r):r.charCodeAt(0)).toString(16).toUpperCase()+";"}function r5e(r,e){return function(t){return t.replace(e,function(n){return r[n]}).replace(SN,Im)}}var xN=new RegExp(bN.source+"|"+SN.source,"g");function n5e(r){return r.replace(xN,Im)}la.escape=n5e;function i5e(r){return r.replace(bN,Im)}la.escapeUTF8=i5e;function TN(r){return function(e){return e.replace(xN,function(t){return r[t]||Im(t)})}}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.decodeXMLStrict=r.decodeHTML5Strict=r.decodeHTML4Strict=r.decodeHTML5=r.decodeHTML4=r.decodeHTMLStrict=r.decodeHTML=r.decodeXML=r.encodeHTML5=r.encodeHTML4=r.escapeUTF8=r.escape=r.encodeNonAsciiHTML=r.encodeHTML=r.encodeXML=r.encode=r.decodeStrict=r.decode=void 0;var e=hs,t=la;function n(c,f){return(!f||f<=0?e.decodeXML:e.decodeHTML)(c)}r.decode=n;function i(c,f){return(!f||f<=0?e.decodeXML:e.decodeHTMLStrict)(c)}r.decodeStrict=i;function a(c,f){return(!f||f<=0?t.encodeXML:t.encodeHTML)(c)}r.encode=a;var o=la;Object.defineProperty(r,"encodeXML",{enumerable:!0,get:function(){return o.encodeXML}}),Object.defineProperty(r,"encodeHTML",{enumerable:!0,get:function(){return o.encodeHTML}}),Object.defineProperty(r,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return o.encodeNonAsciiHTML}}),Object.defineProperty(r,"escape",{enumerable:!0,get:function(){return o.escape}}),Object.defineProperty(r,"escapeUTF8",{enumerable:!0,get:function(){return o.escapeUTF8}}),Object.defineProperty(r,"encodeHTML4",{enumerable:!0,get:function(){return o.encodeHTML}}),Object.defineProperty(r,"encodeHTML5",{enumerable:!0,get:function(){return o.encodeHTML}});var l=hs;Object.defineProperty(r,"decodeXML",{enumerable:!0,get:function(){return l.decodeXML}}),Object.defineProperty(r,"decodeHTML",{enumerable:!0,get:function(){return l.decodeHTML}}),Object.defineProperty(r,"decodeHTMLStrict",{enumerable:!0,get:function(){return l.decodeHTMLStrict}}),Object.defineProperty(r,"decodeHTML4",{enumerable:!0,get:function(){return l.decodeHTML}}),Object.defineProperty(r,"decodeHTML5",{enumerable:!0,get:function(){return l.decodeHTML}}),Object.defineProperty(r,"decodeHTML4Strict",{enumerable:!0,get:function(){return l.decodeHTMLStrict}}),Object.defineProperty(r,"decodeHTML5Strict",{enumerable:!0,get:function(){return l.decodeHTMLStrict}}),Object.defineProperty(r,"decodeXMLStrict",{enumerable:!0,get:function(){return l.decodeXML}})})(Vw);var EN="&(?:#x[a-f0-9]{1,6}|#[0-9]{1,7}|[a-z][a-z0-9]{1,31});",a5e=92,o5e=/[\\&]/,Ww="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]",s5e=new RegExp("\\\\"+Ww+"|"+EN,"gi"),l5e='[&<>"]',BC=new RegExp(l5e,"g"),u5e=function(r){return r.charCodeAt(0)===a5e?r.charAt(1):Vw.decodeHTML(r)};function eh(r){return o5e.test(r)?r.replace(s5e,u5e):r}function sv(r){try{return Sfe(r)}catch{return r}}function c5e(r){switch(r){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return r}}function Qc(r){return BC.test(r)?r.replace(BC,c5e):r}function R0(r,e){for(var t=[],n=0;n<e;n++)t.push(r);return t.join("")}function _C(r){return r?!/[^ \t]+/.test(r):!0}var f5e=function(){function r(e){this.current=e,this.root=e,this.entering=!0}return r.prototype.next=function(){var e=this.current,t=this.entering;if(e===null)return null;var n=Gw(e);return t&&n?e.firstChild?(this.current=e.firstChild,this.entering=!0):this.entering=!1:e===this.root?this.current=null:e.next===null?(this.current=e.parent,this.entering=!1):(this.current=e.next,this.entering=!0),{entering:t,node:e}},r.prototype.resumeAt=function(e,t){this.current=e,this.entering=t===!0},r}();function Gw(r){switch(r.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}var d5e=1,Pm={};function h5e(r){return Pm[r]}function I0(r){delete Pm[r]}function p5e(){Pm={}}var Sh=function(){function r(e,t){this.parent=null,this.prev=null,this.next=null,this.firstChild=null,this.lastChild=null,this.literal=null,e==="document"?this.id=-1:this.id=d5e++,this.type=e,this.sourcepos=t,Pm[this.id]=this}return r.prototype.isContainer=function(){return Gw(this)},r.prototype.unlink=function(){this.prev?this.prev.next=this.next:this.parent&&(this.parent.firstChild=this.next),this.next?this.next.prev=this.prev:this.parent&&(this.parent.lastChild=this.prev),this.parent=null,this.next=null,this.prev=null},r.prototype.replaceWith=function(e){this.insertBefore(e),this.unlink()},r.prototype.insertAfter=function(e){e.unlink(),e.next=this.next,e.next&&(e.next.prev=e),e.prev=this,this.next=e,this.parent&&(e.parent=this.parent,e.next||(e.parent.lastChild=e))},r.prototype.insertBefore=function(e){e.unlink(),e.prev=this.prev,e.prev&&(e.prev.next=e),e.next=this,this.prev=e,e.parent=this.parent,e.prev||(e.parent.firstChild=e)},r.prototype.appendChild=function(e){e.unlink(),e.parent=this,this.lastChild?(this.lastChild.next=e,e.prev=this.lastChild,this.lastChild=e):(this.firstChild=e,this.lastChild=e)},r.prototype.prependChild=function(e){e.unlink(),e.parent=this,this.firstChild?(this.firstChild.prev=e,e.next=this.firstChild,this.firstChild=e):(this.firstChild=e,this.lastChild=e)},r.prototype.walker=function(){return new f5e(this)},r}(),gs=function(r){Ma(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.open=!0,i.lineOffsets=null,i.stringContent=null,i.lastLineBlank=!1,i.lastLineChecked=!1,i.type=t,i}return e}(Sh),v5e=function(r){Ma(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.listData=null,t}return e}(gs),m5e=function(r){Ma(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.level=0,t.headingType="atx",t}return e}(gs),g5e=function(r){Ma(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isFenced=!1,t.fenceChar=null,t.fenceLength=0,t.fenceOffset=-1,t.info=null,t.infoPadding=0,t}return e}(gs),y5e=function(r){Ma(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.columns=[],t}return e}(gs),w5e=function(r){Ma(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.startIdx=0,t.endIdx=0,t.paddingLeft=0,t.paddingRight=0,t.ignored=!1,t}return e}(gs),b5e=function(r){Ma(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.title="",t.dest="",t.label="",t}return e}(gs),k5e=function(r){Ma(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.syntaxLength=0,t.offset=-1,t.info="",t}return e}(gs),C5e=function(r){Ma(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.htmlBlockType=-1,t}return e}(gs),S5e=function(r){Ma(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.destination=null,t.title=null,t.extendedAutolink=!1,t}return e}(Sh),x5e=function(r){Ma(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.tickCount=0,t}return e}(Sh),T5e=function(r){Ma(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.info="",t}return e}(Sh);function rn(r,e){switch(r){case"heading":return new m5e(r,e);case"list":case"item":return new v5e(r,e);case"link":case"image":return new S5e(r,e);case"codeBlock":return new g5e(r,e);case"htmlBlock":return new C5e(r,e);case"table":return new y5e(r,e);case"tableCell":return new w5e(r,e);case"document":case"paragraph":case"blockQuote":case"thematicBreak":case"tableRow":case"tableBody":case"tableHead":case"frontMatter":return new gs(r,e);case"code":return new x5e(r,e);case"refDef":return new b5e(r,e);case"customBlock":return new k5e(r,e);case"customInline":return new T5e(r,e);default:return new Sh(r,e)}}function NN(r){return r.type==="codeBlock"}function E5e(r){return r.type==="htmlBlock"}function N5e(r){return r.type==="heading"}function FC(r){return r.type==="list"}function M5e(r){return r.type==="table"}function Vc(r){return r.type==="refDef"}function MN(r){return r.type==="customBlock"}function O5e(r){return r.type==="customInline"}function bn(r,e){var t=rn("text",e);return t.literal=r,t}var ON="[A-Za-z][A-Za-z0-9-]*",D5e="[a-zA-Z_:][a-zA-Z0-9:._-]*",A5e="[^\"'=<>`\\x00-\\x20]+",L5e="'[^']*'",R5e='"[^"]*"',I5e="(?:"+A5e+"|"+L5e+"|"+R5e+")",P5e="(?:\\s*=\\s*"+I5e+")",B5e="(?:\\s+"+D5e+P5e+"?)",DN="<"+ON+B5e+"*\\s*/?>",AN="</"+ON+"\\s*[>]",_5e="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",F5e="[<][?].*?[?][>]",q5e="<![A-Z]+\\s+[^>]*>",H5e="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",z5e="(?:"+DN+"|"+AN+"|"+_5e+"|"+F5e+"|"+q5e+"|"+H5e+")",$5e=new RegExp("^"+z5e,"i");/*! http://mths.be/fromcodepoint v0.2.1 by @mathias */var P0;if(String.fromCodePoint)P0=function(r){try{return String.fromCodePoint(r)}catch(e){if(e instanceof RangeError)return"";throw e}};else{var V5e=String.fromCharCode,U5e=Math.floor;P0=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=16384,n=[],i,a,o=-1,l=r.length;if(!l)return"";for(var c="";++o<l;){var f=Number(r[o]);if(!isFinite(f)||f<0||f>1114111||U5e(f)!==f)return"";f<=65535?n.push(f):(f-=65536,i=(f>>10)+55296,a=f%1024+56320,n.push(i,a)),(o+1===l||n.length>t)&&(c+=V5e.apply(void 0,n),n.length=0)}return c}}var Ly=P0,j5e="(?:[w-]+.)*[A-Za-z0-9-]+.[A-Za-z0-9-]+",W5e="[^<\\s]*[^<?!.,:*_?~\\s]",G5e="[\\w.+-]+@(?:[\\w-]+\\.)+[\\w-]+";function J5e(r){var e=/\)+$/.exec(r);if(e){for(var t=0,n=0,i=r;n<i.length;n++){var a=i[n];a==="("?t<0?t=1:t+=1:a===")"&&(t-=1)}if(t<0){var o=Math.min(-t,e[0].length);return r.substring(0,r.length-o)}}return r}function K5e(r){return r.replace(/&[A-Za-z0-9]+;$/,"")}function Q5e(r){for(var e=new RegExp(G5e,"g"),t=[],n;n=e.exec(r);){var i=n[0];/[_-]+$/.test(i)||t.push({text:i,range:[n.index,n.index+i.length-1],url:"mailto:"+i})}return t}function X5e(r){for(var e=new RegExp("(www|https?://)."+j5e+W5e,"g"),t=[],n;n=e.exec(r);){var i=K5e(J5e(n[0])),a=n[1]==="www"?"http://":"";t.push({text:i,range:[n.index,n.index+i.length-1],url:""+a+i})}return t}function Y5e(r){return A0(A0([],X5e(r)),Q5e(r)).sort(function(e,t){return e.range[0]-t.range[0]})}function Z5e(r,e){typeof e=="boolean"&&(e=Y5e);for(var t,n=function(){var i=t.entering,a=t.node;if(i&&a.type==="text"&&a.parent.type!=="link"){var o=a.literal,l=e(o);if(!l||!l.length)return"continue";for(var c=0,f=a.sourcepos[0],v=f[0],y=f[1],T=function(we,Le){return[[v,y+we],[v,y+Le]]},N=[],E=0,P=l;E<P.length;E++){var L=P[E],$=L.range,ee=L.url,re=L.text;$[0]>c&&N.push(bn(o.substring(c,$[0]),T(c,$[0]-1)));var se=rn("link",T.apply(void 0,$));se.appendChild(bn(re,T.apply(void 0,$))),se.destination=ee,se.extendedAutolink=!0,N.push(se),c=$[1]+1}c<o.length&&N.push(bn(o.substring(c),T(c,o.length-1)));for(var ve=0,le=N;ve<le.length;ve++){var ke=le[ve];a.insertBefore(ke)}a.unlink()}};t=r.next();)n()}function tm(r){return r[r.length-1]}function qC(r){return r.slice(1,r.length-1).trim().replace(/[ \t\r\n]+/," ").toLowerCase().toUpperCase()}function lv(r,e){Object.keys(r).forEach(function(t){e(t,r[t])})}function e8e(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var n=Qn({},r);return e.forEach(function(i){delete n[i]}),n}function Uc(r){return!Object.keys(r).length}function t8e(r){Object.keys(r).forEach(function(e){delete r[e]})}var B0=10,Ry=42,uv=95,r8e=96,HC=91,n8e=93,cv=126,zC=60,i8e=33,$C=92,a8e=38,VC=40,Iy=41,o8e=58,ru=39,nu=34,iu=36,Py="\\\\"+Ww,UC=new RegExp(/[!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/),s8e=new RegExp('^(?:"('+Py+'|[^"\\x00])*"|'+("'("+Py+"|[^'\\x00])*'")+"|"+("\\(("+Py+"|[^()\\x00])*\\))")),l8e=/^(?:<(?:[^<>\n\\\x00]|\\.)*>)/,jC=new RegExp("^"+Ww),u8e=new RegExp("^"+EN,"i"),c8e=/`+/,f8e=/^`+/,d8e=/\.\.\./g,h8e=/--+/g,p8e=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,v8e=/^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\x00-\x20]*>/i,m8e=/^ *(?:\n *)?/,By=/^[ \t\n\x0b\x0c\x0d]/,WC=/^\s/,g8e=/ *$/,y8e=/^ */,GC=/^ *(?:\n|$)/,w8e=/^\[(?:[^\\\[\]]|\\.){0,1000}\]/,b8e=/^[^\n`\[\]\\!<&*_'"~$]+/m,k8e=function(){function r(e){this.subject="",this.delimiters=null,this.brackets=null,this.pos=0,this.lineStartNum=0,this.lineIdx=0,this.lineOffsets=[0],this.linePosOffset=0,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.options=e}return r.prototype.sourcepos=function(e,t){var n=this.linePosOffset+this.lineOffsets[this.lineIdx],i=this.lineStartNum+this.lineIdx,a=[i,e+n];return typeof t=="number"?[a,[i,t+n]]:a},r.prototype.nextLine=function(){this.lineIdx+=1,this.linePosOffset=-this.pos},r.prototype.match=function(e){var t=e.exec(this.subject.slice(this.pos));return t===null?null:(this.pos+=t.index+t[0].length,t[0])},r.prototype.peek=function(){return this.pos<this.subject.length?this.subject.charCodeAt(this.pos):-1},r.prototype.spnl=function(){return this.match(m8e),!0},r.prototype.parseBackticks=function(e){var t=this.pos+1,n=this.match(f8e);if(n===null)return!1;for(var i=this.pos,a;(a=this.match(c8e))!==null;)if(a===n){var o=this.subject.slice(i,this.pos-n.length),l=this.sourcepos(t,this.pos),c=o.split(`
`);if(c.length>1){var f=tm(c);this.lineIdx+=c.length-1,this.linePosOffset=-(this.pos-f.length-n.length),l[1]=this.sourcepos(this.pos),o=c.join(" ")}var v=rn("code",l);return o.length>0&&o.match(/[^ ]/)!==null&&o[0]==" "&&o[o.length-1]==" "?v.literal=o.slice(1,o.length-1):v.literal=o,v.tickCount=n.length,e.appendChild(v),!0}return this.pos=i,e.appendChild(bn(n,this.sourcepos(t,this.pos-1))),!0},r.prototype.parseBackslash=function(e){var t=this.subject,n;this.pos+=1;var i=this.pos;return this.peek()===B0?(this.pos+=1,n=rn("linebreak",this.sourcepos(this.pos-1,this.pos)),e.appendChild(n),this.nextLine()):jC.test(t.charAt(this.pos))?(e.appendChild(bn(t.charAt(this.pos),this.sourcepos(i,this.pos))),this.pos+=1):e.appendChild(bn("\\",this.sourcepos(i,i))),!0},r.prototype.parseAutolink=function(e){var t,n,i,a=this.pos+1;return(t=this.match(p8e))?(n=t.slice(1,t.length-1),i=rn("link",this.sourcepos(a,this.pos)),i.destination=sv("mailto:"+n),i.title="",i.appendChild(bn(n,this.sourcepos(a+1,this.pos-1))),e.appendChild(i),!0):(t=this.match(v8e))?(n=t.slice(1,t.length-1),i=rn("link",this.sourcepos(a,this.pos)),i.destination=sv(n),i.title="",i.appendChild(bn(n,this.sourcepos(a+1,this.pos-1))),e.appendChild(i),!0):!1},r.prototype.parseHtmlTag=function(e){var t=this.pos+1,n=this.match($5e);if(n===null)return!1;var i=rn("htmlInline",this.sourcepos(t,this.pos));return i.literal=n,e.appendChild(i),!0},r.prototype.scanDelims=function(e){var t=0,n=this.pos;if(e===ru||e===nu)t++,this.pos++;else for(;this.peek()===e;)t++,this.pos++;if(t===0||t<2&&(e===cv||e===iu))return this.pos=n,null;var i=n===0?`
`:this.subject.charAt(n-1),a=this.peek(),o;a===-1?o=`
`:o=Ly(a);var l=WC.test(o),c=UC.test(o),f=WC.test(i),v=UC.test(i),y=!l&&(!c||f||v),T=!f&&(!v||l||c),N,E;return e===uv?(N=y&&(!T||v),E=T&&(!y||c)):e===ru||e===nu?(N=y&&!T,E=T):e===iu?(N=!l,E=!f):(N=y,E=T),this.pos=n,{numdelims:t,canOpen:N,canClose:E}},r.prototype.handleDelim=function(e,t){var n=this.scanDelims(e);if(!n)return!1;var i=n.numdelims,a=this.pos+1,o;this.pos+=i,e===ru?o="":e===nu?o="":o=this.subject.slice(a-1,this.pos);var l=bn(o,this.sourcepos(a,this.pos));return t.appendChild(l),(n.canOpen||n.canClose)&&(this.options.smart||e!==ru&&e!==nu)&&(this.delimiters={cc:e,numdelims:i,origdelims:i,node:l,previous:this.delimiters,next:null,canOpen:n.canOpen,canClose:n.canClose},this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters)),!0},r.prototype.removeDelimiter=function(e){e.previous!==null&&(e.previous.next=e.next),e.next===null?this.delimiters=e.previous:e.next.previous=e.previous},r.prototype.removeDelimitersBetween=function(e,t){e.next!==t&&(e.next=t,t.previous=e)},r.prototype.processEmphasis=function(e){var t,n,i,a,o,l,c,f=!1,v=(t={},t[uv]=[e,e,e],t[Ry]=[e,e,e],t[ru]=[e],t[nu]=[e],t[cv]=[e],t[iu]=[e],t);for(i=this.delimiters;i!==null&&i.previous!==e;)i=i.previous;for(;i!==null;){var y=i.cc,T=y===uv||y===Ry;if(!i.canClose)i=i.next;else{for(n=i.previous,c=!1;n!==null&&n!==e&&n!==v[y][T?i.origdelims%3:0];){if(f=T&&(i.canOpen||n.canClose)&&i.origdelims%3!==0&&(n.origdelims+i.origdelims)%3===0,n.cc===i.cc&&n.canOpen&&!f){c=!0;break}n=n.previous}if(a=i,T||y===cv||y===iu){if(!c)i=i.next;else if(n){var N=i.numdelims>=2&&n.numdelims>=2?2:1,E=T?0:1;o=n.node,l=i.node;var P=T?N===1?"emph":"strong":"strike";y===iu&&(P="customInline");var L=rn(P),$=o.sourcepos[1],ee=l.sourcepos[0];L.sourcepos=[[$[0],$[1]-N+1],[ee[0],ee[1]+N-1]],o.sourcepos[1][1]-=N,l.sourcepos[0][1]+=N,o.literal=o.literal.slice(N),l.literal=l.literal.slice(N),n.numdelims-=N,i.numdelims-=N;for(var re=o.next,se=void 0;re&&re!==l;)se=re.next,re.unlink(),L.appendChild(re),re=se;if(y===iu){var ve=L.firstChild,le=ve.literal||"",ke=le.split(/\s/)[0];L.info=ke,le.length<=ke.length?ve.unlink():(ve.sourcepos[0][1]+=ke.length,ve.literal=le.replace(ke+" ",""))}if(o.insertAfter(L),this.removeDelimitersBetween(n,i),n.numdelims<=E&&(n.numdelims===0&&o.unlink(),this.removeDelimiter(n)),i.numdelims<=E){i.numdelims===0&&l.unlink();var we=i.next;this.removeDelimiter(i),i=we}}}else y===ru?(i.node.literal="",c&&(n.node.literal=""),i=i.next):y===nu&&(i.node.literal="",c&&(n.node.literal=""),i=i.next);c||(v[y][T?a.origdelims%3:0]=a.previous,a.canOpen||this.removeDelimiter(a))}}for(;this.delimiters!==null&&this.delimiters!==e;)this.removeDelimiter(this.delimiters)},r.prototype.parseLinkTitle=function(){var e=this.match(s8e);return e===null?null:eh(e.substr(1,e.length-2))},r.prototype.parseLinkDestination=function(){var e=this.match(l8e);if(e===null){if(this.peek()===zC)return null;for(var t=this.pos,n=0,i=void 0;(i=this.peek())!==-1;)if(i===$C&&jC.test(this.subject.charAt(this.pos+1)))this.pos+=1,this.peek()!==-1&&(this.pos+=1);else if(i===VC)this.pos+=1,n+=1;else if(i===Iy){if(n<1)break;this.pos+=1,n-=1}else{if(By.exec(Ly(i))!==null)break;this.pos+=1}return this.pos===t&&i!==Iy||n!==0?null:(e=this.subject.substr(t,this.pos-t),sv(eh(e)))}return sv(eh(e.substr(1,e.length-2)))},r.prototype.parseLinkLabel=function(){var e=this.match(w8e);return e===null||e.length>1001?0:e.length},r.prototype.parseOpenBracket=function(e){var t=this.pos;this.pos+=1;var n=bn("[",this.sourcepos(this.pos,this.pos));return e.appendChild(n),this.addBracket(n,t,!1),!0},r.prototype.parseBang=function(e){var t=this.pos;if(this.pos+=1,this.peek()===HC){this.pos+=1;var n=bn("![",this.sourcepos(this.pos-1,this.pos));e.appendChild(n),this.addBracket(n,t+1,!0)}else{var n=bn("!",this.sourcepos(this.pos,this.pos));e.appendChild(n)}return!0},r.prototype.parseCloseBracket=function(e){var t=null,n=null,i=!1;this.pos+=1;var a=this.pos,o=this.brackets;if(o===null)return e.appendChild(bn("]",this.sourcepos(a,a))),!0;if(!o.active)return e.appendChild(bn("]",this.sourcepos(a,a))),this.removeBracket(),!0;var l=o.image,c=this.pos;this.peek()===VC&&(this.pos++,this.spnl()&&(t=this.parseLinkDestination())!==null&&this.spnl()&&(By.test(this.subject.charAt(this.pos-1))&&(n=this.parseLinkTitle())||!0)&&this.spnl()&&this.peek()===Iy?(this.pos+=1,i=!0):this.pos=c);var f="";if(!i){var v=this.pos,y=this.parseLinkLabel();if(y>2?f=this.subject.slice(v,v+y):o.bracketAfter||(f=this.subject.slice(o.index,a)),y===0&&(this.pos=c),f){f=qC(f);var T=this.refMap[f];T&&(t=T.destination,n=T.title,i=!0)}}if(i){var N=rn(l?"image":"link");N.destination=t,N.title=n||"",N.sourcepos=[o.startpos,this.sourcepos(this.pos)];for(var E=o.node.next,P=void 0;E;)P=E.next,E.unlink(),N.appendChild(E),E=P;if(e.appendChild(N),this.processEmphasis(o.previousDelimiter),this.removeBracket(),o.node.unlink(),!l)for(o=this.brackets;o!==null;)o.image||(o.active=!1),o=o.previous;return this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:f}),!0}return this.removeBracket(),this.pos=a,e.appendChild(bn("]",this.sourcepos(a,a))),this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:f}),!0},r.prototype.addBracket=function(e,t,n){this.brackets!==null&&(this.brackets.bracketAfter=!0),this.brackets={node:e,startpos:this.sourcepos(t+(n?0:1)),previous:this.brackets,previousDelimiter:this.delimiters,index:t,image:n,active:!0}},r.prototype.removeBracket=function(){this.brackets&&(this.brackets=this.brackets.previous)},r.prototype.parseEntity=function(e){var t,n=this.pos+1;return(t=this.match(u8e))?(e.appendChild(bn(Vw.decodeHTML(t),this.sourcepos(n,this.pos))),!0):!1},r.prototype.parseString=function(e){var t,n=this.pos+1;if(t=this.match(b8e)){if(this.options.smart){var i=t.replace(d8e,"").replace(h8e,function(o){var l=0,c=0;return o.length%3===0?c=o.length/3:o.length%2===0?l=o.length/2:o.length%3===2?(l=1,c=(o.length-2)/3):(l=2,c=(o.length-4)/3),R0("",c)+R0("",l)});e.appendChild(bn(i,this.sourcepos(n,this.pos)))}else{var a=bn(t,this.sourcepos(n,this.pos));e.appendChild(a)}return!0}return!1},r.prototype.parseNewline=function(e){this.pos+=1;var t=e.lastChild;if(t&&t.type==="text"&&t.literal[t.literal.length-1]===" "){var n=t.literal[t.literal.length-2]===" ",i=t.literal.length;t.literal=t.literal.replace(g8e,"");var a=i-t.literal.length;t.sourcepos[1][1]-=a,e.appendChild(rn(n?"linebreak":"softbreak",this.sourcepos(this.pos-a,this.pos)))}else e.appendChild(rn("softbreak",this.sourcepos(this.pos,this.pos)));return this.nextLine(),this.match(y8e),!0},r.prototype.parseReference=function(e,t){if(!this.options.referenceDefinition)return 0;this.subject=e.stringContent,this.pos=0;var n=null,i=this.pos,a=this.parseLinkLabel();if(a===0)return 0;var o=this.subject.substr(0,a);if(this.peek()===o8e)this.pos++;else return this.pos=i,0;this.spnl();var l=this.parseLinkDestination();if(l===null)return this.pos=i,0;var c=this.pos;this.spnl(),this.pos!==c&&(n=this.parseLinkTitle()),n===null&&(n="",this.pos=c);var f=!0;if(this.match(GC)===null&&(n===""?f=!1:(n="",this.pos=c,f=this.match(GC)!==null)),!f)return this.pos=i,0;var v=qC(o);if(v==="")return this.pos=i,0;var y=this.getReferenceDefSourcepos(e);e.sourcepos[0][0]=y[1][0]+1;var T=rn("refDef",y);return T.title=n,T.dest=l,T.label=v,e.insertBefore(T),t[v]?this.refDefCandidateMap[T.id]=T:t[v]=q0(T),this.pos-i},r.prototype.mergeTextNodes=function(e){for(var t,n=[];t=e.next();){var i=t.entering,a=t.node;if(i&&a.type==="text")n.push(a);else if(n.length===1)n=[];else if(n.length>1){var o=n[0],l=n[n.length-1];o.sourcepos&&l.sourcepos&&(o.sourcepos[1]=l.sourcepos[1]),o.next=l.next,o.next&&(o.next.prev=o);for(var c=1;c<n.length;c+=1)o.literal+=n[c].literal,n[c].unlink();n=[]}}},r.prototype.getReferenceDefSourcepos=function(e){for(var t=e.stringContent.split(/\n|\r\n/),n=!1,i=0,a={line:0,ch:0},o=0;o<t.length;o+=1){var l=t[o];if(By.test(l))break;if(/\:/.test(l)&&i===0){if(n)break;var c=l.indexOf(":")===l.length-1?o+1:o;a={line:c,ch:t[c].length},n=!0}var f=l.match(/'|"/g);if(f&&(i+=f.length),i===2){a={line:o,ch:l.length};break}}return[[e.sourcepos[0][0],e.sourcepos[0][1]],[e.sourcepos[0][0]+a.line,a.ch]]},r.prototype.parseInline=function(e){var t,n=!1,i=this.peek();if(i===-1)return!1;switch(i){case B0:n=this.parseNewline(e);break;case $C:n=this.parseBackslash(e);break;case r8e:n=this.parseBackticks(e);break;case Ry:case uv:case cv:case iu:n=this.handleDelim(i,e);break;case ru:case nu:n=!!(!((t=this.options)===null||t===void 0)&&t.smart)&&this.handleDelim(i,e);break;case HC:n=this.parseOpenBracket(e);break;case i8e:n=this.parseBang(e);break;case n8e:n=this.parseCloseBracket(e);break;case zC:n=this.parseAutolink(e)||this.parseHtmlTag(e);break;case a8e:e.disabledEntityParse||(n=this.parseEntity(e));break;default:n=this.parseString(e);break}return n||(this.pos+=1,e.appendChild(bn(Ly(i),this.sourcepos(this.pos,this.pos+1)))),!0},r.prototype.parse=function(e){for(this.subject=e.stringContent.trim(),this.pos=0,this.delimiters=null,this.brackets=null,this.lineOffsets=e.lineOffsets||[0],this.lineIdx=0,this.linePosOffset=0,this.lineStartNum=e.sourcepos[0][0],N5e(e)&&(this.lineOffsets[0]+=e.level+1);this.parseInline(e););e.stringContent=null,this.processEmphasis(null),this.mergeTextNodes(e.walker());var t=this.options,n=t.extendedAutolinks,i=t.customParser;if(n&&Z5e(e.walker(),n),i&&e.firstChild)for(var a,o=e.firstChild.walker();a=o.next();){var l=a.node,c=a.entering;i[l.type]&&i[l.type](l,{entering:c,options:this.options})}},r}(),C8e=/^\[([ \txX])\][ \t]+/;function S8e(r,e){if(e.firstChild&&e.firstChild.type==="paragraph"){var t=e.firstChild,n=t.stringContent.match(C8e);if(n){var i=n[0].length;t.stringContent=t.stringContent.substring(i-1),t.sourcepos[0][1]+=i,t.lineOffsets[0]+=i,e.listData.task=!0,e.listData.checked=/[xX]/.test(n[1])}}}var x8e={continue:function(){return 0},finalize:function(){},canContain:function(r){return r==="tableHead"||r==="tableBody"},acceptsLines:!1},T8e={continue:function(){return 0},finalize:function(){},canContain:function(r){return r==="tableRow"},acceptsLines:!1},E8e={continue:function(){return 1},finalize:function(){},canContain:function(r){return r==="tableRow"||r==="tableDelimRow"},acceptsLines:!1},N8e={continue:function(){return 1},finalize:function(){},canContain:function(r){return r==="tableDelimCell"},acceptsLines:!1},M8e={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},O8e={continue:function(){return 1},finalize:function(){},canContain:function(r){return r==="tableCell"},acceptsLines:!1},D8e={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},rm=4,LN=9,RN=62,A8e=60,IN=32,PN=91,BN=/[^ \t\f\v\r\n]/,L8e=/^(?:`{3,}|~{3,})(?= *$)/;function JC(r){for(var e=r;e;){if(e.lastLineBlank)return!0;var t=e.type;if(!e.lastLineChecked&&(t==="list"||t==="item"))e.lastLineChecked=!0,e=e.lastChild;else{e.lastLineChecked=!0;break}}return!1}function ua(r,e){return e<r.length?r.charCodeAt(e):-1}function _N(r){return!BN.test(r)}function hf(r){return r===IN||r===LN}var R8e=/^\$\$$/,I8e={continue:function(r,e){var t=r.currentLine,n=t.match(R8e);if(n)return r.lastLineLength=n[0].length,r.finalize(e,r.lineNumber),2;for(var i=e.offset;i>0&&hf(ua(t,r.offset));)r.advanceOffset(1,!0),i--;return 0},finalize:function(r,e){if(e.stringContent!==null){var t=e.stringContent,n=t.indexOf(`
`),i=t.slice(0,n),a=t.slice(n+1),o=i.match(/^(\s*)(.*)/);e.info=eh(o[2].trim()),e.literal=a,e.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},FN={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!0},P8e={continue:function(){return 0},finalize:function(){},canContain:function(r){return r!=="item"},acceptsLines:!1},B8e={continue:function(){return 0},finalize:function(r,e){for(var t=e.firstChild;t;){if(JC(t)&&t.next){e.listData.tight=!1;break}for(var n=t.firstChild;n;){if(JC(n)&&(t.next||n.next)){e.listData.tight=!1;break}n=n.next}t=t.next}},canContain:function(r){return r==="item"},acceptsLines:!1},_8e={continue:function(r){var e=r.currentLine;if(!r.indented&&ua(e,r.nextNonspace)===RN)r.advanceNextNonspace(),r.advanceOffset(1,!1),hf(ua(e,r.offset))&&r.advanceOffset(1,!0);else return 1;return 0},finalize:function(){},canContain:function(r){return r!=="item"},acceptsLines:!1},F8e={continue:function(r,e){if(r.blank){if(e.firstChild===null)return 1;r.advanceNextNonspace()}else if(r.indent>=e.listData.markerOffset+e.listData.padding)r.advanceOffset(e.listData.markerOffset+e.listData.padding,!0);else return 1;return 0},finalize:S8e,canContain:function(r){return r!=="item"},acceptsLines:!1},q8e={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},H8e={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},z8e={continue:function(r,e){var t=r.currentLine,n=r.indent;if(e.isFenced){var i=n<=3&&t.charAt(r.nextNonspace)===e.fenceChar&&t.slice(r.nextNonspace).match(L8e);if(i&&i[0].length>=e.fenceLength)return r.lastLineLength=r.offset+n+i[0].length,r.finalize(e,r.lineNumber),2;for(var a=e.fenceOffset;a>0&&hf(ua(t,r.offset));)r.advanceOffset(1,!0),a--}else if(n>=rm)r.advanceOffset(rm,!0);else if(r.blank)r.advanceNextNonspace();else return 1;return 0},finalize:function(r,e){var t;if(e.stringContent!==null){if(e.isFenced){var n=e.stringContent,i=n.indexOf(`
`),a=n.slice(0,i),o=n.slice(i+1),l=a.match(/^(\s*)(.*)/);e.infoPadding=l[1].length,e.info=eh(l[2].trim()),e.literal=o}else e.literal=(t=e.stringContent)===null||t===void 0?void 0:t.replace(/(\n *)+$/,`
`);e.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},$8e={continue:function(r,e){return r.blank&&(e.htmlBlockType===6||e.htmlBlockType===7)?1:0},finalize:function(r,e){var t;e.literal=((t=e.stringContent)===null||t===void 0?void 0:t.replace(/(\n *)+$/,""))||null,e.stringContent=null},canContain:function(){return!1},acceptsLines:!0},V8e={continue:function(r){return r.blank?1:0},finalize:function(r,e){if(e.stringContent!==null){for(var t,n=!1;ua(e.stringContent,0)===PN&&(t=r.inlineParser.parseReference(e,r.refMap));)e.stringContent=e.stringContent.slice(t),n=!0;n&&_N(e.stringContent)&&e.unlink()}},canContain:function(){return!1},acceptsLines:!0},U8e=FN,j8e=FN,jc={document:P8e,list:B8e,blockQuote:_8e,item:F8e,heading:q8e,thematicBreak:H8e,codeBlock:z8e,htmlBlock:$8e,paragraph:V8e,table:x8e,tableBody:T8e,tableHead:E8e,tableRow:O8e,tableCell:D8e,tableDelimRow:N8e,tableDelimCell:M8e,refDef:U8e,customBlock:I8e,frontMatter:j8e};function _0(r){for(var e=0,t=0,n=[],i=0;i<r.length;i+=1)if(r[i]==="|"&&r[i-1]!=="\\"){var a=r.substring(e,i);e===0&&_C(a)?t=i+1:n.push(a),e=i+1}if(e<r.length){var a=r.substring(e,r.length);_C(a)||n.push(a)}return[t,n]}function F0(r,e,t,n){for(var i=[],a=0,o=e;a<o.length;a++){var l=o[a],c=l.match(/^[ \t]+/),f=c?c[0].length:0,v=void 0,y=void 0;if(f===l.length)f=0,v=0,y="";else{var T=l.match(/[ \t]+$/);v=T?T[0].length:0,y=l.slice(f,l.length-v)}var N=n+f,E=rn(r,[[t,n],[t,n+l.length-1]]);E.stringContent=y.replace(/\\\|/g,"|"),E.startIdx=i.length,E.endIdx=i.length,E.lineOffsets=[N-1],E.paddingLeft=f,E.paddingRight=v,i.push(E),n+=l.length+1}return i}function W8e(r){var e=null,t=r.stringContent,n=t[0],i=t[t.length-1];return i===":"?e=n===":"?"center":"right":n===":"&&(e="left"),{align:e}}var G8e=function(r,e){var t=e.stringContent;if(e.type==="paragraph"&&!r.indented&&!r.blank){var n=t.length-1,i=t.lastIndexOf(`
`,n-1)+1,a=t.slice(i,n),o=r.currentLine.slice(r.nextNonspace),l=_0(a),c=l[0],f=l[1],v=_0(o),y=v[0],T=v[1],N=/^[ \t]*:?-+:?[ \t]*$/;if(!f.length||!T.length||T.some(function(we){return!N.test(we)})||T.length===1&&o.indexOf("|")!==0)return 0;var E=e.lineOffsets,P=r.lineNumber-1,L=tm(E)+1,$=rn("table",[[P,L],[r.lineNumber,r.offset]]);if($.columns=T.map(function(){return{align:null}}),e.insertAfter($),E.length===1)e.unlink();else{e.stringContent=t.slice(0,i);var ee=t.lastIndexOf(`
`,i-2)+1,re=i-ee-1;r.lastLineLength=E[E.length-2]+re,r.finalize(e,P-1)}r.advanceOffset(r.currentLine.length-r.offset,!1);var se=rn("tableHead",[[P,L],[r.lineNumber,r.offset]]);$.appendChild(se);var ve=rn("tableRow",[[P,L],[P,L+a.length-1]]),le=rn("tableDelimRow",[[r.lineNumber,r.nextNonspace+1],[r.lineNumber,r.offset]]);se.appendChild(ve),se.appendChild(le),F0("tableCell",f,P,L+c).forEach(function(we){ve.appendChild(we)});var ke=F0("tableDelimCell",T,r.lineNumber,r.nextNonspace+1+y);return ke.forEach(function(we){le.appendChild(we)}),$.columns=ke.map(W8e),r.tip=$,2}return 0},J8e=function(r,e){if(e.type!=="table"&&e.type!=="tableBody"||!r.blank&&r.currentLine.indexOf("|")===-1)return 0;if(r.advanceOffset(r.currentLine.length-r.offset,!1),r.blank){var t=e;return e.type==="tableBody"&&(t=e.parent,r.finalize(e,r.lineNumber-1)),r.finalize(t,r.lineNumber-1),0}var n=e;e.type==="table"&&(n=r.addChild("tableBody",r.nextNonspace),n.stringContent=null);var i=rn("tableRow",[[r.lineNumber,r.nextNonspace+1],[r.lineNumber,r.currentLine.length]]);n.appendChild(i);var a=n.parent,o=r.currentLine.slice(r.nextNonspace),l=_0(o),c=l[0],f=l[1];return F0("tableCell",f,r.lineNumber,r.nextNonspace+1+c).forEach(function(v,y){y>=a.columns.length&&(v.ignored=!0),i.appendChild(v)}),2},K8e=/^(\$\$)(\s*[a-zA-Z])+/,Q8e=/^(\$\$)(\s*[a-zA-Z])+.*(\$\$)/,X8e=function(r){var e;if(!r.indented&&!Q8e.test(r.currentLine)&&(e=r.currentLine.match(K8e))){var t=e[1].length;r.closeUnmatchedBlocks();var n=r.addChild("customBlock",r.nextNonspace);return n.syntaxLength=t,n.offset=r.indent,r.advanceNextNonspace(),r.advanceOffset(t,!1),2}return 0},Y8e=/^`{3,}(?!.*`)|^~{3,}/,Z8e=[/./,/^<(?:script|pre|style)(?:\s|>|$)/i,/^<!--/,/^<[?]/,/^<![A-Z]/,/^<!\[CDATA\[/,/^<[/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[123456]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|[/]?[>]|$)/i,new RegExp("^(?:"+DN+"|"+AN+")\\s*$","i")],e9e=/^(?:=+|-+)[ \t]*$/,t9e=/^#{1,6}(?:[ \t]+|$)/,r9e=/^(?:(?:\*[ \t]*){3,}|(?:_[ \t]*){3,}|(?:-[ \t]*){3,})[ \t]*$/,qN=/^[*+-]/,HN=/^(\d{1,9})([.)])/;function n9e(r,e){var t=r.currentLine.slice(r.nextNonspace),n,i,a={type:"bullet",tight:!0,bulletChar:"",start:0,delimiter:"",padding:0,markerOffset:r.indent,task:!1,checked:!1};if(r.indent>=4)return null;if(n=t.match(qN))a.type="bullet",a.bulletChar=n[0][0];else if((n=t.match(HN))&&(e.type!=="paragraph"||n[1]==="1"))a.type="ordered",a.start=parseInt(n[1],10),a.delimiter=n[2];else return null;if(i=ua(r.currentLine,r.nextNonspace+n[0].length),!(i===-1||i===LN||i===IN)||e.type==="paragraph"&&!r.currentLine.slice(r.nextNonspace+n[0].length).match(BN))return null;r.advanceNextNonspace(),r.advanceOffset(n[0].length,!0);var o=r.column,l=r.offset;do r.advanceOffset(1,!0),i=ua(r.currentLine,r.offset);while(r.column-o<5&&hf(i));var c=ua(r.currentLine,r.offset)===-1,f=r.column-o;return f>=5||f<1||c?(a.padding=n[0].length+1,r.column=o,r.offset=l,hf(ua(r.currentLine,r.offset))&&r.advanceOffset(1,!0)):a.padding=n[0].length+f,a}function i9e(r,e){return r.type===e.type&&r.delimiter===e.delimiter&&r.bulletChar===e.bulletChar}function zN(r,e){return r.options.disallowDeepHeading&&(e.type==="blockQuote"||e.type==="item")}var a9e=function(r){return!r.indented&&ua(r.currentLine,r.nextNonspace)===RN?(r.advanceNextNonspace(),r.advanceOffset(1,!1),hf(ua(r.currentLine,r.offset))&&r.advanceOffset(1,!0),r.closeUnmatchedBlocks(),r.addChild("blockQuote",r.nextNonspace),1):0},o9e=function(r,e){var t;if(!r.indented&&!zN(r,e)&&(t=r.currentLine.slice(r.nextNonspace).match(t9e))){r.advanceNextNonspace(),r.advanceOffset(t[0].length,!1),r.closeUnmatchedBlocks();var n=r.addChild("heading",r.nextNonspace);return n.level=t[0].trim().length,n.headingType="atx",n.stringContent=r.currentLine.slice(r.offset).replace(/^[ \t]*#+[ \t]*$/,"").replace(/[ \t]+#+[ \t]*$/,""),r.advanceOffset(r.currentLine.length-r.offset),2}return 0},s9e=function(r){var e;if(!r.indented&&(e=r.currentLine.slice(r.nextNonspace).match(Y8e))){var t=e[0].length;r.closeUnmatchedBlocks();var n=r.addChild("codeBlock",r.nextNonspace);return n.isFenced=!0,n.fenceLength=t,n.fenceChar=e[0][0],n.fenceOffset=r.indent,r.advanceNextNonspace(),r.advanceOffset(t,!1),2}return 0},l9e=function(r,e){if(!r.indented&&ua(r.currentLine,r.nextNonspace)===A8e){var t=r.currentLine.slice(r.nextNonspace),n=r.options.disallowedHtmlBlockTags,i=void 0;for(i=1;i<=7;i++){var a=t.match(Z8e[i]);if(a){if(i===7){if(e.type==="paragraph")return 0;if(n.length>0){var o=new RegExp("</?(?:"+n.join("|")+")","i");if(o.test(a[0]))return 0}}r.closeUnmatchedBlocks();var l=r.addChild("htmlBlock",r.offset);return l.htmlBlockType=i,2}}}return 0},u9e=function(r,e){var t;if(e.stringContent!==null&&!r.indented&&e.type==="paragraph"&&!zN(r,e.parent)&&(t=r.currentLine.slice(r.nextNonspace).match(e9e))){r.closeUnmatchedBlocks();for(var n=void 0;ua(e.stringContent,0)===PN&&(n=r.inlineParser.parseReference(e,r.refMap));)e.stringContent=e.stringContent.slice(n);if(e.stringContent.length>0){var i=rn("heading",e.sourcepos);return i.level=t[0][0]==="="?1:2,i.headingType="setext",i.stringContent=e.stringContent,e.insertAfter(i),e.unlink(),r.tip=i,r.advanceOffset(r.currentLine.length-r.offset,!1),2}return 0}return 0},c9e=function(r){return!r.indented&&r9e.test(r.currentLine.slice(r.nextNonspace))?(r.closeUnmatchedBlocks(),r.addChild("thematicBreak",r.nextNonspace),r.advanceOffset(r.currentLine.length-r.offset,!1),2):0},f9e=function(r,e){var t,n=e;return(!r.indented||e.type==="list")&&(t=n9e(r,n))?(r.closeUnmatchedBlocks(),(r.tip.type!=="list"||!i9e(n.listData,t))&&(n=r.addChild("list",r.nextNonspace),n.listData=t),n=r.addChild("item",r.nextNonspace),n.listData=t,1):0},d9e=function(r){return r.indented&&r.tip.type!=="paragraph"&&!r.blank?(r.advanceOffset(rm,!0),r.closeUnmatchedBlocks(),r.addChild("codeBlock",r.offset),2):0},_y=[a9e,o9e,s9e,l9e,u9e,c9e,f9e,d9e,G8e,J8e,X8e],$N=/^(-{3}|\+{3}|;{3})$/,h9e=function(r,e){var t=r.currentLine,n=r.lineNumber,i=r.indented;if(n===1&&!i&&e.type==="document"&&$N.test(t)){r.closeUnmatchedBlocks();var a=r.addChild("frontMatter",r.nextNonspace);return a.stringContent=t,r.advanceNextNonspace(),r.advanceOffset(t.length,!1),2}return 0},p9e={continue:function(r,e){var t=r.currentLine,n=t.match($N);return e.type==="frontMatter"&&n?(e.stringContent+=t,r.lastLineLength=n[0].length,r.finalize(e,r.lineNumber),2):0},finalize:function(r,e){e.stringContent!==null&&(e.literal=e.stringContent,e.stringContent=null)},canContain:function(){return!1},acceptsLines:!0},v9e=[/./,/<\/(?:script|pre|style)>/i,/-->/,/\?>/,/>/,/\]\]>/],m9e=/^[#`~*+_=<>0-9-;$]/,g9e=/\r\n|\n|\r/;function Fy(){return rn("document",[[1,1],[0,0]])}var y9e={smart:!1,tagFilter:!1,extendedAutolinks:!1,disallowedHtmlBlockTags:[],referenceDefinition:!1,disallowDeepHeading:!1,customParser:null,frontMatter:!1},w9e=function(){function r(e){this.options=Qn(Qn({},y9e),e),this.doc=Fy(),this.tip=this.doc,this.oldtip=this.doc,this.lineNumber=0,this.offset=0,this.column=0,this.nextNonspace=0,this.nextNonspaceColumn=0,this.indent=0,this.currentLine="",this.indented=!1,this.blank=!1,this.partiallyConsumedTab=!1,this.allClosed=!0,this.lastMatchedContainer=this.doc,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.lastLineLength=0,this.lines=[],this.options.frontMatter&&(jc.frontMatter=p9e,_y.unshift(h9e)),this.inlineParser=new k8e(this.options)}return r.prototype.advanceOffset=function(e,t){t===void 0&&(t=!1);for(var n=this.currentLine,i,a,o;e>0&&(o=n[this.offset]);)o==="	"?(i=4-this.column%4,t?(this.partiallyConsumedTab=i>e,a=i>e?e:i,this.column+=a,this.offset+=this.partiallyConsumedTab?0:1,e-=a):(this.partiallyConsumedTab=!1,this.column+=i,this.offset+=1,e-=1)):(this.partiallyConsumedTab=!1,this.offset+=1,this.column+=1,e-=1)},r.prototype.advanceNextNonspace=function(){this.offset=this.nextNonspace,this.column=this.nextNonspaceColumn,this.partiallyConsumedTab=!1},r.prototype.findNextNonspace=function(){for(var e=this.currentLine,t=this.offset,n=this.column,i;(i=e.charAt(t))!=="";)if(i===" ")t++,n++;else if(i==="	")t++,n+=4-n%4;else break;this.blank=i===`
`||i==="\r"||i==="",this.nextNonspace=t,this.nextNonspaceColumn=n,this.indent=this.nextNonspaceColumn-this.column,this.indented=this.indent>=rm},r.prototype.addLine=function(){if(this.partiallyConsumedTab){this.offset+=1;var e=4-this.column%4;this.tip.stringContent+=R0(" ",e)}this.tip.lineOffsets?this.tip.lineOffsets.push(this.offset):this.tip.lineOffsets=[this.offset],this.tip.stringContent+=this.currentLine.slice(this.offset)+`
`},r.prototype.addChild=function(e,t){for(;!jc[this.tip.type].canContain(e);)this.finalize(this.tip,this.lineNumber-1);var n=t+1,i=rn(e,[[this.lineNumber,n],[0,0]]);return i.stringContent="",this.tip.appendChild(i),this.tip=i,i},r.prototype.closeUnmatchedBlocks=function(){if(!this.allClosed){for(;this.oldtip!==this.lastMatchedContainer;){var e=this.oldtip.parent;this.finalize(this.oldtip,this.lineNumber-1),this.oldtip=e}this.allClosed=!0}},r.prototype.finalize=function(e,t){var n=e.parent;e.open=!1,e.sourcepos[1]=[t,this.lastLineLength],jc[e.type].finalize(this,e),this.tip=n},r.prototype.processInlines=function(e){var t,n=this.options.customParser,i=e.walker();for(this.inlineParser.refMap=this.refMap,this.inlineParser.refLinkCandidateMap=this.refLinkCandidateMap,this.inlineParser.refDefCandidateMap=this.refDefCandidateMap,this.inlineParser.options=this.options;t=i.next();){var a=t.node,o=t.entering,l=a.type;n&&n[l]&&n[l](a,{entering:o,options:this.options}),!o&&(l==="paragraph"||l==="heading"||l==="tableCell"&&!a.ignored)&&this.inlineParser.parse(a)}},r.prototype.incorporateLine=function(e){var t=this.doc;this.oldtip=this.tip,this.offset=0,this.column=0,this.blank=!1,this.partiallyConsumedTab=!1,this.lineNumber+=1,e.indexOf("\0")!==-1&&(e=e.replace(/\0/g,"")),this.currentLine=e;for(var n=!0,i;(i=t.lastChild)&&i.open;){switch(t=i,this.findNextNonspace(),jc[t.type].continue(this,t)){case 0:break;case 1:n=!1;break;case 2:this.lastLineLength=e.length;return;default:throw new Error("continue returned illegal value, must be 0, 1, or 2")}if(!n){t=t.parent;break}}this.allClosed=t===this.oldtip,this.lastMatchedContainer=t;for(var a=t.type!=="paragraph"&&jc[t.type].acceptsLines,o=_y.length;!a;){if(this.findNextNonspace(),t.type!=="table"&&t.type!=="tableBody"&&t.type!=="paragraph"&&!this.indented&&!m9e.test(e.slice(this.nextNonspace))){this.advanceNextNonspace();break}for(var l=0;l<o;){var c=_y[l](this,t);if(c===1){t=this.tip;break}else if(c===2){t=this.tip,a=!0;break}else l++}if(l===o){this.advanceNextNonspace();break}}if(!this.allClosed&&!this.blank&&this.tip.type==="paragraph")this.addLine();else{this.closeUnmatchedBlocks(),this.blank&&t.lastChild&&(t.lastChild.lastLineBlank=!0);for(var f=t.type,v=this.blank&&!(f==="blockQuote"||NN(t)&&t.isFenced||f==="item"&&!t.firstChild&&t.sourcepos[0][0]===this.lineNumber),y=t;y;)y.lastLineBlank=v,y=y.parent;jc[f].acceptsLines?(this.addLine(),E5e(t)&&t.htmlBlockType>=1&&t.htmlBlockType<=5&&v9e[t.htmlBlockType].test(this.currentLine.slice(this.offset))&&(this.lastLineLength=e.length,this.finalize(t,this.lineNumber))):this.offset<e.length&&!this.blank&&(t=this.addChild("paragraph",this.offset),this.advanceNextNonspace(),this.addLine())}this.lastLineLength=e.length},r.prototype.parse=function(e,t){this.doc=Fy(),this.tip=this.doc,this.lineNumber=0,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";var n=e.split(g9e),i=n.length;this.lines=t||n,this.options.referenceDefinition&&this.clearRefMaps(),e.charCodeAt(e.length-1)===B0&&(i-=1);for(var a=0;a<i;a++)this.incorporateLine(n[a]);for(;this.tip;)this.finalize(this.tip,i);return this.processInlines(this.doc),this.doc},r.prototype.partialParseStart=function(e,t){this.doc=Fy(),this.tip=this.doc,this.lineNumber=e-1,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";for(var n=t.length,i=0;i<n;i++)this.incorporateLine(t[i]);return this.doc},r.prototype.partialParseExtends=function(e){for(var t=0;t<e.length;t++)this.incorporateLine(e[t])},r.prototype.partialParseFinish=function(){for(;this.tip;)this.finalize(this.tip,this.lineNumber);this.processInlines(this.doc)},r.prototype.setRefMaps=function(e,t,n){this.refMap=e,this.refLinkCandidateMap=t,this.refDefCandidateMap=n},r.prototype.clearRefMaps=function(){[this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(e){t8e(e)})},r}();function KC(r,e){return r[0]<e[0]?1:r[0]>e[0]?-1:r[1]<e[1]?1:r[1]>e[1]?-1:0}function b9e(r,e){var t=r[0],n=r[1];return KC(n,e)===1?1:KC(t,e)===-1?-1:0}function k9e(r,e){if(!(r.parent!==e.parent||r===e)){for(var t=r.next;t&&t!==e;){for(var n=t.next,i=0,a=["parent","prev","next"];i<a.length;i++){var o=a[i];t[o]&&(I0(t[o].id),t[o]=null)}t=n}r.next=e.next,e.next?e.next.prev=r:r.parent.lastChild=r}}function C9e(r){for(var e=[],t=r.firstChild;t;)e.push(t),t=t.next;return e}function QC(r,e){for(var t=0,n=e;t<n.length;t++){var i=n[t];r.insertBefore(i)}}function S9e(r,e){for(var t=e.length-1;t>=0;t-=1)r.prependChild(e[t])}function x9e(r,e){if(!(!r||!r.parent||e===0)){var t=r.parent.walker();t.resumeAt(r,!0);for(var n;n=t.next();){var i=n.node,a=n.entering;a&&(i.sourcepos[0][0]+=e,i.sourcepos[1][0]+=e)}}}function VN(r,e){var t=r[0],n=r[1];return n[0]<e?1:t[0]>e?-1:0}function fv(r,e){for(var t=r.firstChild;t;){var n=VN(t.sourcepos,e);if(n===0)return t;if(n===-1)return t.prev||t;t=t.next}return r.lastChild}function T9e(r){for(;r.lastChild;)r=r.lastChild;return r}function E9e(r){for(;r.parent&&r.parent.type!=="document"&&r.parent.sourcepos[0][0]===r.sourcepos[0][0];)r=r.parent;return r}function N9e(r,e){for(var t=r.firstChild,n=null;t;){var i=VN(t.sourcepos,e);if(i===0){if(t.sourcepos[0][0]===e||!t.firstChild)return t;n=t,t=t.firstChild}else{if(i===-1)break;n=t,t=t.next}}return n?E9e(T9e(n)):null}function M9e(r,e){for(var t=r,n=null;t;){var i=b9e(t.sourcepos,e);if(i===0)if(t.firstChild)n=t,t=t.firstChild;else return t;else{if(i===-1)return n;if(t.next)t=t.next;else return n}}return t}function UN(r){return h5e(r)||null}function qy(r,e,t){if(t===void 0&&(t=null),e)for(var n=e.walker();e&&e!==t;){r(e);var i=n.next();if(i)e=i.node;else break}}function O9e(r){var e=UN(r);if(!e)return!0;for(;e&&e.type!=="document";){if(!e.parent&&!e.prev&&!e.next)return!0;e=e.parent}return!1}var XC=/\r\n|\n|\r/;function D9e(r){var e=r.match(/^[ \t]+/);if(e&&(e[0].length>=2||/\t/.test(e[0])))return!0;var t=e?r.slice(e.length):r;return qN.test(t)||HN.test(t)}function A9e(r){return!_N(r)&&r.indexOf("|")!==-1}function q0(r){var e=r.id,t=r.title,n=r.sourcepos,i=r.dest;return{id:e,title:t,sourcepos:n,unlinked:!1,destination:i}}var jN=function(){function r(e,t){this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.referenceDefinition=!!t?.referenceDefinition,this.parser=new w9e(t),this.parser.setRefMaps(this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap),this.eventHandlerMap={change:[]},e=e||"",this.lineTexts=e.split(XC),this.root=this.parser.parse(e,this.lineTexts)}return r.prototype.updateLineTexts=function(e,t,n){var i,a=e[0],o=e[1],l=t[0],c=t[1],f=n.split(XC),v=f.length,y=this.lineTexts[a-1],T=this.lineTexts[l-1];f[0]=y.slice(0,o-1)+f[0],f[v-1]=f[v-1]+T.slice(c-1);var N=l-a+1;return(i=this.lineTexts).splice.apply(i,A0([a-1,N],f)),v-N},r.prototype.updateRootNodeState=function(){if(this.lineTexts.length===1&&this.lineTexts[0]===""){this.root.lastLineBlank=!0,this.root.sourcepos=[[1,1],[1,0]];return}this.root.lastChild&&(this.root.lastLineBlank=this.root.lastChild.lastLineBlank);for(var e=this.lineTexts,t=e.length-1;e[t]==="";)t-=1;e.length-2>t&&(t+=1),this.root.sourcepos[1]=[t+1,e[t].length]},r.prototype.replaceRangeNodes=function(e,t,n){e?(QC(e,n),k9e(e,t),[e.id,t.id].forEach(function(i){return I0(i)}),e.unlink()):t?(QC(t,n),I0(t.id),t.unlink()):S9e(this.root,n)},r.prototype.getNodeRange=function(e,t){var n=fv(this.root,e[0]),i=fv(this.root,t[0]);return i&&i.next&&t[0]+1===i.next.sourcepos[0][0]&&(i=i.next),[n,i]},r.prototype.trigger=function(e,t){this.eventHandlerMap[e].forEach(function(n){n(t)})},r.prototype.extendEndLine=function(e){for(;this.lineTexts[e]==="";)e+=1;return e},r.prototype.parseRange=function(e,t,n,i){e&&e.prev&&(FC(e.prev)&&D9e(this.lineTexts[n-1])||M5e(e.prev)&&A9e(this.lineTexts[n-1]))&&(e=e.prev,n=e.sourcepos[0][0]);for(var a=this.lineTexts.slice(n-1,i),o=this.parser.partialParseStart(n,a),l=t?t.next:this.root.firstChild,c=o.lastChild,f=c&&NN(c)&&c.open,v=c&&MN(c)&&c.open,y=c&&FC(c);(f||v)&&l||y&&l&&(l.type==="list"||l.sourcepos[0][1]>=2);){var T=this.extendEndLine(l.sourcepos[1][0]);this.parser.partialParseExtends(this.lineTexts.slice(i,T)),e||(e=t),t=l,i=T,l=l.next}this.parser.partialParseFinish();var N=C9e(o);return{newNodes:N,extStartNode:e,extEndNode:t}},r.prototype.getRemovedNodeRange=function(e,t){return!e||e&&Vc(e)||t&&Vc(t)?null:{id:[e.id,t.id],line:[e.sourcepos[0][0]-1,t.sourcepos[1][0]-1]}},r.prototype.markDeletedRefMap=function(e,t){var n=this;if(!Uc(this.refMap)){var i=function(a){if(Vc(a)){var o=n.refMap[a.label];o&&a.id===o.id&&(o.unlinked=!0)}};e&&qy(i,e.parent,t),t&&qy(i,t)}},r.prototype.replaceWithNewRefDefState=function(e){var t=this;if(!Uc(this.refMap)){var n=function(i){if(Vc(i)){var a=i.label,o=t.refMap[a];(!o||o.unlinked)&&(t.refMap[a]=q0(i))}};e.forEach(function(i){qy(n,i)})}},r.prototype.replaceWithRefDefCandidate=function(){var e=this;Uc(this.refDefCandidateMap)||lv(this.refDefCandidateMap,function(t,n){var i=n.label,a=n.sourcepos,o=e.refMap[i];(!o||o.unlinked||o.sourcepos[0][0]>a[0][0])&&(e.refMap[i]=q0(n))})},r.prototype.getRangeWithRefDef=function(e,t,n,i,a){if(this.referenceDefinition&&!Uc(this.refMap)){var o=fv(this.root,e-1),l=fv(this.root,t+1);o&&Vc(o)&&o!==n&&o!==i&&(n=o,e=n.sourcepos[0][0]),l&&Vc(l)&&l!==n&&l!==i&&(i=l,t=this.extendEndLine(i.sourcepos[1][0]+a))}return[n,i,e,t]},r.prototype.parse=function(e,t,n){n===void 0&&(n=0);var i=this.getNodeRange(e,t),a=i[0],o=i[1],l=a?Math.min(a.sourcepos[0][0],e[0]):e[0],c=this.extendEndLine((o?Math.max(o.sourcepos[1][0],t[0]):t[0])+n),f=this.parseRange.apply(this,this.getRangeWithRefDef(l,c,a,o,n)),v=f.newNodes,y=f.extStartNode,T=f.extEndNode,N=this.getRemovedNodeRange(y,T),E=T?T.next:this.root.firstChild;return this.referenceDefinition?(this.markDeletedRefMap(y,T),this.replaceRangeNodes(y,T,v),this.replaceWithNewRefDefState(v)):this.replaceRangeNodes(y,T,v),{nodes:v,removedNodeRange:N,nextNode:E}},r.prototype.parseRefLink=function(){var e=this,t=[];return Uc(this.refMap)||lv(this.refMap,function(n,i){i.unlinked&&delete e.refMap[n],lv(e.refLinkCandidateMap,function(a,o){var l=o.node,c=o.refLabel;c===n&&t.push(e.parse(l.sourcepos[0],l.sourcepos[1]))})}),t},r.prototype.removeUnlinkedCandidate=function(){Uc(this.refDefCandidateMap)||[this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(e){lv(e,function(t){O9e(t)&&delete e[t]})})},r.prototype.editMarkdown=function(e,t,n){var i=this.updateLineTexts(e,t,n),a=this.parse(e,t,i),o=e8e(a,"nextNode");x9e(a.nextNode,i),this.updateRootNodeState();var l=[o];return this.referenceDefinition&&(this.removeUnlinkedCandidate(),this.replaceWithRefDefCandidate(),l=l.concat(this.parseRefLink())),this.trigger("change",l),l},r.prototype.getLineTexts=function(){return this.lineTexts},r.prototype.getRootNode=function(){return this.root},r.prototype.findNodeAtPosition=function(e){var t=M9e(this.root,e);return!t||t===this.root?null:t},r.prototype.findFirstNodeAtLine=function(e){return N9e(this.root,e)},r.prototype.on=function(e,t){this.eventHandlerMap[e].push(t)},r.prototype.off=function(e,t){var n=this.eventHandlerMap[e],i=n.indexOf(t);n.splice(i,1)},r.prototype.findNodeById=function(e){return UN(e)},r.prototype.removeAllNode=function(){p5e()},r}(),L9e=["title","textarea","style","xmp","iframe","noembed","noframes","script","plaintext"],YC=new RegExp("<(/?(?:"+L9e.join("|")+")[^>]*>)","ig");function ZC(r){return YC.test(r)?r.replace(YC,function(e,t){return"&lt;"+t}):r}var eS={heading:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"h"+r.level,outerNewLine:!0}},text:function(r){return{type:"text",content:r.literal}},softbreak:function(r,e){var t=e.options;return{type:"html",content:t.softbreak}},linebreak:function(){return{type:"html",content:`<br />
`}},emph:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"em"}},strong:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"strong"}},paragraph:function(r,e){var t,n=e.entering,i=(t=r.parent)===null||t===void 0?void 0:t.parent;return i&&i.type==="list"&&i.listData.tight?null:{type:n?"openTag":"closeTag",tagName:"p",outerNewLine:!0}},thematicBreak:function(){return{type:"openTag",tagName:"hr",outerNewLine:!0,selfClose:!0}},blockQuote:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"blockquote",outerNewLine:!0,innerNewLine:!0}},list:function(r,e){var t=e.entering,n=r.listData,i=n.type,a=n.start,o=i==="bullet"?"ul":"ol",l={};return o==="ol"&&a!==null&&a!==1&&(l.start=a.toString()),{type:t?"openTag":"closeTag",tagName:o,attributes:l,outerNewLine:!0}},item:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"li",outerNewLine:!0}},htmlInline:function(r,e){var t=e.options,n=t.tagFilter?ZC(r.literal):r.literal;return{type:"html",content:n}},htmlBlock:function(r,e){var t=e.options,n=t.tagFilter?ZC(r.literal):r.literal;return t.nodeId?[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"html",content:n},{type:"closeTag",tagName:"div",outerNewLine:!0}]:{type:"html",content:n,outerNewLine:!0}},code:function(r){return[{type:"openTag",tagName:"code"},{type:"text",content:r.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(r){var e=r.info,t=e?e.split(/\s+/):[],n=[];return t.length>0&&t[0].length>0&&n.push("language-"+Qc(t[0])),[{type:"openTag",tagName:"pre",outerNewLine:!0},{type:"openTag",tagName:"code",classNames:n},{type:"text",content:r.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre",outerNewLine:!0}]},link:function(r,e){var t=e.entering;if(t){var n=r,i=n.title,a=n.destination;return{type:"openTag",tagName:"a",attributes:Qn({href:Qc(a)},i&&{title:Qc(i)})}}return{type:"closeTag",tagName:"a"}},image:function(r,e){var t=e.getChildrenText,n=e.skipChildren,i=r,a=i.title,o=i.destination;return n(),{type:"openTag",tagName:"img",selfClose:!0,attributes:Qn({src:Qc(o),alt:t(r)},a&&{title:Qc(a)})}},customBlock:function(r,e,t){var n=r.info.trim().toLowerCase(),i=t[n];if(i)try{return i(r,e)}catch(a){console.warn("[@toast-ui/editor] - The error occurred when "+n+" block node was parsed in markdown renderer: "+a)}return[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"text",content:r.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},frontMatter:function(r){return[{type:"openTag",tagName:"div",outerNewLine:!0,attributes:{style:"white-space: pre; display: none;"}},{type:"text",content:r.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},customInline:function(r,e,t){var n=r,i=n.info,a=n.firstChild,o=i.trim().toLowerCase(),l=t[o],c=e.entering;if(l)try{return l(r,e)}catch(f){console.warn("[@toast-ui/editor] - The error occurred when "+o+" inline node was parsed in markdown renderer: "+f)}return c?[{type:"openTag",tagName:"span"},{type:"text",content:"$$"+i+(a?" ":"")}]:[{type:"text",content:"$$"},{type:"closeTag",tagName:"span"}]}},tS={strike:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"del"}},item:function(r,e){var t=e.entering,n=r.listData,i=n.checked,a=n.task;if(t){var o={type:"openTag",tagName:"li",outerNewLine:!0};return a?[o,{type:"openTag",tagName:"input",selfClose:!0,attributes:Qn(Qn({},i&&{checked:""}),{disabled:"",type:"checkbox"})},{type:"text",content:" "}]:o}return{type:"closeTag",tagName:"li",outerNewLine:!0}},table:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"table",outerNewLine:!0}},tableHead:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"thead",outerNewLine:!0}},tableBody:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"tbody",outerNewLine:!0}},tableRow:function(r,e){var t=e.entering;if(t)return{type:"openTag",tagName:"tr",outerNewLine:!0};var n=[];if(r.lastChild)for(var i=r.parent.parent.columns.length,a=r.lastChild.endIdx,o=a+1;o<i;o+=1)n.push({type:"openTag",tagName:"td",outerNewLine:!0},{type:"closeTag",tagName:"td",outerNewLine:!0});return n.push({type:"closeTag",tagName:"tr",outerNewLine:!0}),n},tableCell:function(r,e){var t=e.entering;if(r.ignored)return{type:"text",content:""};var n=r.parent.parent,i=n.type==="tableHead"?"th":"td",a=n.parent,o=a.columns[r.startIdx],l=o?.align?{align:o.align}:null;return t?Qn({type:"openTag",tagName:i,outerNewLine:!0},l&&{attributes:l}):{type:"closeTag",tagName:i,outerNewLine:!0}}},R9e={softbreak:`
`,gfm:!1,tagFilter:!1,nodeId:!1};function I9e(r){for(var e=[],t=r.walker(),n=null;n=t.next();){var i=n.node;i.type==="text"&&e.push(i.literal)}return e.join("")}var Jw=function(){function r(e){this.buffer=[],this.options=Qn(Qn({},R9e),e),this.convertors=this.createConvertors(),delete this.options.convertors}return r.prototype.createConvertors=function(){var e=Qn({},eS);if(this.options.gfm&&(e=Qn(Qn({},e),tS)),this.options.convertors){var t=this.options.convertors,n=Object.keys(t),i=Qn(Qn({},eS),tS);n.forEach(function(a){var o=e[a],l=t[a],c=Object.keys(i).indexOf(a)===-1?a.toLowerCase():a;o?e[c]=function(f,v,y){return v.origin=function(){return o(f,v,y)},l(f,v)}:e[c]=l})}return e},r.prototype.getConvertors=function(){return this.convertors},r.prototype.getOptions=function(){return this.options},r.prototype.render=function(e){var t=this;this.buffer=[];for(var n=e.walker(),i=null,a=function(){var l=i.node,c=i.entering,f=o.convertors[l.type];if(!f)return"continue";var v=!1,y={entering:c,leaf:!Gw(l),options:o.options,getChildrenText:I9e,skipChildren:function(){v=!0}},T=MN(l)||O5e(l)?f(l,y,o.convertors):f(l,y);if(T){var N=Array.isArray(T)?T:[T];N.forEach(function(E,P){E.type==="openTag"&&t.options.nodeId&&P===0&&(E.attributes||(E.attributes={}),E.attributes["data-nodeid"]=String(l.id)),t.renderHTMLNode(E)}),v&&(n.resumeAt(l,!1),n.next())}},o=this;i=n.next();)a();return this.addNewLine(),this.buffer.join("")},r.prototype.renderHTMLNode=function(e){switch(e.type){case"openTag":case"closeTag":this.renderElementNode(e);break;case"text":this.renderTextNode(e);break;case"html":this.renderRawHtmlNode(e);break}},r.prototype.generateOpenTagString=function(e){var t=this,n=e.tagName,i=e.classNames,a=e.attributes;this.buffer.push("<"+n),i&&i.length>0&&this.buffer.push(' class="'+i.join(" ")+'"'),a&&Object.keys(a).forEach(function(o){var l=a[o];t.buffer.push(" "+o+'="'+l+'"')}),e.selfClose&&this.buffer.push(" /"),this.buffer.push(">")},r.prototype.generateCloseTagString=function(e){var t=e.tagName;this.buffer.push("</"+t+">")},r.prototype.addNewLine=function(){this.buffer.length&&tm(tm(this.buffer))!==`
`&&this.buffer.push(`
`)},r.prototype.addOuterNewLine=function(e){e.outerNewLine&&this.addNewLine()},r.prototype.addInnerNewLine=function(e){e.innerNewLine&&this.addNewLine()},r.prototype.renderTextNode=function(e){this.buffer.push(Qc(e.content))},r.prototype.renderRawHtmlNode=function(e){this.addOuterNewLine(e),this.buffer.push(e.content),this.addOuterNewLine(e)},r.prototype.renderElementNode=function(e){e.type==="openTag"?(this.addOuterNewLine(e),this.generateOpenTagString(e),e.selfClose?this.addOuterNewLine(e):this.addInnerNewLine(e)):(this.addInnerNewLine(e),this.generateCloseTagString(e),this.addOuterNewLine(e))},r}();/*! @license DOMPurify 2.3.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.3/LICENSE */function P9e(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}else return Array.from(r)}var B9e=Object.hasOwnProperty,rS=Object.setPrototypeOf,_9e=Object.isFrozen,F9e=Object.getPrototypeOf,q9e=Object.getOwnPropertyDescriptor,Ri=Object.freeze,ps=Object.seal,H9e=Object.create,WN=typeof Reflect<"u"&&Reflect,nm=WN.apply,H0=WN.construct;nm||(nm=function(e,t,n){return e.apply(t,n)});Ri||(Ri=function(e){return e});ps||(ps=function(e){return e});H0||(H0=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(P9e(t))))});var z9e=Ja(Array.prototype.forEach),nS=Ja(Array.prototype.pop),qd=Ja(Array.prototype.push),xv=Ja(String.prototype.toLowerCase),iS=Ja(String.prototype.match),zs=Ja(String.prototype.replace),$9e=Ja(String.prototype.indexOf),V9e=Ja(String.prototype.trim),ns=Ja(RegExp.prototype.test),aS=U9e(TypeError);function Ja(r){return function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return nm(r,e,n)}}function U9e(r){return function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return H0(r,t)}}function ur(r,e){rS&&rS(r,null);for(var t=e.length;t--;){var n=e[t];if(typeof n=="string"){var i=xv(n);i!==n&&(_9e(e)||(e[t]=i),n=i)}r[n]=!0}return r}function au(r){var e=H9e(null),t=void 0;for(t in r)nm(B9e,r,[t])&&(e[t]=r[t]);return e}function dv(r,e){for(;r!==null;){var t=q9e(r,e);if(t){if(t.get)return Ja(t.get);if(typeof t.value=="function")return Ja(t.value)}r=F9e(r)}function n(i){return console.warn("fallback value for",i),null}return n}var oS=Ri(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Hy=Ri(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),zy=Ri(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),j9e=Ri(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),$y=Ri(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),W9e=Ri(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),sS=Ri(["#text"]),lS=Ri(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Vy=Ri(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),uS=Ri(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),hv=Ri(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),G9e=ps(/\{\{[\s\S]*|[\s\S]*\}\}/gm),J9e=ps(/<%[\s\S]*|[\s\S]*%>/gm),K9e=ps(/^data-[\-\w.\u00B7-\uFFFF]/),Q9e=ps(/^aria-[\-\w]+$/),X9e=ps(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Y9e=ps(/^(?:\w+script|data):/i),Z9e=ps(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r};function So(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}else return Array.from(r)}var eGe=function(){return typeof window>"u"?null:window},tGe=function(e,t){if((typeof e>"u"?"undefined":Jd(e))!=="object"||typeof e.createPolicy!="function")return null;var n=null,i="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(i)&&(n=t.currentScript.getAttribute(i));var a="dompurify"+(n?"#"+n:"");try{return e.createPolicy(a,{createHTML:function(l){return l}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}};function GN(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:eGe(),e=function(ae){return GN(ae)};if(e.version="2.3.3",e.removed=[],!r||!r.document||r.document.nodeType!==9)return e.isSupported=!1,e;var t=r.document,n=r.document,i=r.DocumentFragment,a=r.HTMLTemplateElement,o=r.Node,l=r.Element,c=r.NodeFilter,f=r.NamedNodeMap,v=f===void 0?r.NamedNodeMap||r.MozNamedAttrMap:f,y=r.Text,T=r.Comment,N=r.DOMParser,E=r.trustedTypes,P=l.prototype,L=dv(P,"cloneNode"),$=dv(P,"nextSibling"),ee=dv(P,"childNodes"),re=dv(P,"parentNode");if(typeof a=="function"){var se=n.createElement("template");se.content&&se.content.ownerDocument&&(n=se.content.ownerDocument)}var ve=tGe(E,t),le=ve&&tr?ve.createHTML(""):"",ke=n,we=ke.implementation,Le=ke.createNodeIterator,je=ke.createDocumentFragment,Nt=ke.getElementsByTagName,et=t.importNode,St={};try{St=au(n).documentMode?n.documentMode:{}}catch{}var It={};e.isSupported=typeof re=="function"&&we&&typeof we.createHTMLDocument<"u"&&St!==9;var Mt=G9e,Lt=J9e,be=K9e,We=Q9e,Ot=Y9e,st=Z9e,Ie=X9e,Ve=null,Je=ur({},[].concat(So(oS),So(Hy),So(zy),So($y),So(sS))),dt=null,xt=ur({},[].concat(So(lS),So(Vy),So(uS),So(hv))),Oe=null,Ee=null,fe=!0,ye=!0,de=!1,Pe=!1,qe=!1,ot=!1,Ht=!1,Gt=!1,zt=!1,Tr=!0,tr=!1,Vr=!0,Lr=!0,Br=!1,cr={},_r=null,Ii=ur({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Sn=null,Ar=ur({},["audio","video","img","source","image","track"]),ht=null,pt=ur({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),qt="http://www.w3.org/1998/Math/MathML",Ut="http://www.w3.org/2000/svg",or="http://www.w3.org/1999/xhtml",Qr=or,wr=!1,Er=void 0,hn=["application/xhtml+xml","text/html"],pn="text/html",Rr=void 0,xn=null,bi=n.createElement("form"),ti=function(ae){xn&&xn===ae||((!ae||(typeof ae>"u"?"undefined":Jd(ae))!=="object")&&(ae={}),ae=au(ae),Ve="ALLOWED_TAGS"in ae?ur({},ae.ALLOWED_TAGS):Je,dt="ALLOWED_ATTR"in ae?ur({},ae.ALLOWED_ATTR):xt,ht="ADD_URI_SAFE_ATTR"in ae?ur(au(pt),ae.ADD_URI_SAFE_ATTR):pt,Sn="ADD_DATA_URI_TAGS"in ae?ur(au(Ar),ae.ADD_DATA_URI_TAGS):Ar,_r="FORBID_CONTENTS"in ae?ur({},ae.FORBID_CONTENTS):Ii,Oe="FORBID_TAGS"in ae?ur({},ae.FORBID_TAGS):{},Ee="FORBID_ATTR"in ae?ur({},ae.FORBID_ATTR):{},cr="USE_PROFILES"in ae?ae.USE_PROFILES:!1,fe=ae.ALLOW_ARIA_ATTR!==!1,ye=ae.ALLOW_DATA_ATTR!==!1,de=ae.ALLOW_UNKNOWN_PROTOCOLS||!1,Pe=ae.SAFE_FOR_TEMPLATES||!1,qe=ae.WHOLE_DOCUMENT||!1,Gt=ae.RETURN_DOM||!1,zt=ae.RETURN_DOM_FRAGMENT||!1,Tr=ae.RETURN_DOM_IMPORT!==!1,tr=ae.RETURN_TRUSTED_TYPE||!1,Ht=ae.FORCE_BODY||!1,Vr=ae.SANITIZE_DOM!==!1,Lr=ae.KEEP_CONTENT!==!1,Br=ae.IN_PLACE||!1,Ie=ae.ALLOWED_URI_REGEXP||Ie,Qr=ae.NAMESPACE||or,Er=hn.indexOf(ae.PARSER_MEDIA_TYPE)===-1?Er=pn:Er=ae.PARSER_MEDIA_TYPE,Rr=Er==="application/xhtml+xml"?function(De){return De}:xv,Pe&&(ye=!1),zt&&(Gt=!0),cr&&(Ve=ur({},[].concat(So(sS))),dt=[],cr.html===!0&&(ur(Ve,oS),ur(dt,lS)),cr.svg===!0&&(ur(Ve,Hy),ur(dt,Vy),ur(dt,hv)),cr.svgFilters===!0&&(ur(Ve,zy),ur(dt,Vy),ur(dt,hv)),cr.mathMl===!0&&(ur(Ve,$y),ur(dt,uS),ur(dt,hv))),ae.ADD_TAGS&&(Ve===Je&&(Ve=au(Ve)),ur(Ve,ae.ADD_TAGS)),ae.ADD_ATTR&&(dt===xt&&(dt=au(dt)),ur(dt,ae.ADD_ATTR)),ae.ADD_URI_SAFE_ATTR&&ur(ht,ae.ADD_URI_SAFE_ATTR),ae.FORBID_CONTENTS&&(_r===Ii&&(_r=au(_r)),ur(_r,ae.FORBID_CONTENTS)),Lr&&(Ve["#text"]=!0),qe&&ur(Ve,["html","head","body"]),Ve.table&&(ur(Ve,["tbody"]),delete Oe.tbody),Ri&&Ri(ae),xn=ae)},ri=ur({},["mi","mo","mn","ms","mtext"]),vn=ur({},["foreignobject","desc","title","annotation-xml"]),an=ur({},Hy);ur(an,zy),ur(an,j9e);var Pr=ur({},$y);ur(Pr,W9e);var Tn=function(ae){var De=re(ae);(!De||!De.tagName)&&(De={namespaceURI:or,tagName:"template"});var _e=xv(ae.tagName),lt=xv(De.tagName);if(ae.namespaceURI===Ut)return De.namespaceURI===or?_e==="svg":De.namespaceURI===qt?_e==="svg"&&(lt==="annotation-xml"||ri[lt]):!!an[_e];if(ae.namespaceURI===qt)return De.namespaceURI===or?_e==="math":De.namespaceURI===Ut?_e==="math"&&vn[lt]:!!Pr[_e];if(ae.namespaceURI===or){if(De.namespaceURI===Ut&&!vn[lt]||De.namespaceURI===qt&&!ri[lt])return!1;var Rt=ur({},["title","style","font","a","script"]);return!Pr[_e]&&(Rt[_e]||!an[_e])}return!1},dr=function(ae){qd(e.removed,{element:ae});try{ae.parentNode.removeChild(ae)}catch{try{ae.outerHTML=le}catch{ae.remove()}}},Ir=function(ae,De){try{qd(e.removed,{attribute:De.getAttributeNode(ae),from:De})}catch{qd(e.removed,{attribute:null,from:De})}if(De.removeAttribute(ae),ae==="is"&&!dt[ae])if(Gt||zt)try{dr(De)}catch{}else try{De.setAttribute(ae,"")}catch{}},X=function(ae){var De=void 0,_e=void 0;if(Ht)ae="<remove></remove>"+ae;else{var lt=iS(ae,/^[\r\n\t ]+/);_e=lt&&lt[0]}Er==="application/xhtml+xml"&&(ae='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ae+"</body></html>");var Rt=ve?ve.createHTML(ae):ae;if(Qr===or)try{De=new N().parseFromString(Rt,Er)}catch{}if(!De||!De.documentElement){De=we.createDocument(Qr,"template",null);try{De.documentElement.innerHTML=wr?"":Rt}catch{}}var V=De.body||De.documentElement;return ae&&_e&&V.insertBefore(n.createTextNode(_e),V.childNodes[0]||null),Qr===or?Nt.call(De,qe?"html":"body")[0]:qe?De.documentElement:V},Y=function(ae){return Le.call(ae.ownerDocument||ae,ae,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},z=function(ae){return ae instanceof y||ae instanceof T?!1:typeof ae.nodeName!="string"||typeof ae.textContent!="string"||typeof ae.removeChild!="function"||!(ae.attributes instanceof v)||typeof ae.removeAttribute!="function"||typeof ae.setAttribute!="function"||typeof ae.namespaceURI!="string"||typeof ae.insertBefore!="function"},F=function(ae){return(typeof o>"u"?"undefined":Jd(o))==="object"?ae instanceof o:ae&&(typeof ae>"u"?"undefined":Jd(ae))==="object"&&typeof ae.nodeType=="number"&&typeof ae.nodeName=="string"},U=function(ae,De,_e){It[ae]&&z9e(It[ae],function(lt){lt.call(e,De,_e,xn)})},W=function(ae){var De=void 0;if(U("beforeSanitizeElements",ae,null),z(ae)||iS(ae.nodeName,/[\u0080-\uFFFF]/))return dr(ae),!0;var _e=Rr(ae.nodeName);if(U("uponSanitizeElement",ae,{tagName:_e,allowedTags:Ve}),!F(ae.firstElementChild)&&(!F(ae.content)||!F(ae.content.firstElementChild))&&ns(/<[/\w]/g,ae.innerHTML)&&ns(/<[/\w]/g,ae.textContent)||_e==="select"&&ns(/<template/i,ae.innerHTML))return dr(ae),!0;if(!Ve[_e]||Oe[_e]){if(Lr&&!_r[_e]){var lt=re(ae)||ae.parentNode,Rt=ee(ae)||ae.childNodes;if(Rt&&lt)for(var V=Rt.length,R=V-1;R>=0;--R)lt.insertBefore(L(Rt[R],!0),$(ae))}return dr(ae),!0}return ae instanceof l&&!Tn(ae)||(_e==="noscript"||_e==="noembed")&&ns(/<\/no(script|embed)/i,ae.innerHTML)?(dr(ae),!0):(Pe&&ae.nodeType===3&&(De=ae.textContent,De=zs(De,Mt," "),De=zs(De,Lt," "),ae.textContent!==De&&(qd(e.removed,{element:ae.cloneNode()}),ae.textContent=De)),U("afterSanitizeElements",ae,null),!1)},ie=function(ae,De,_e){if(Vr&&(De==="id"||De==="name")&&(_e in n||_e in bi))return!1;if(!(ye&&!Ee[De]&&ns(be,De))){if(!(fe&&ns(We,De))){if(!dt[De]||Ee[De])return!1;if(!ht[De]){if(!ns(Ie,zs(_e,st,""))){if(!((De==="src"||De==="xlink:href"||De==="href")&&ae!=="script"&&$9e(_e,"data:")===0&&Sn[ae])){if(!(de&&!ns(Ot,zs(_e,st,"")))){if(_e)return!1}}}}}}return!0},Ne=function(ae){var De=void 0,_e=void 0,lt=void 0,Rt=void 0;U("beforeSanitizeAttributes",ae,null);var V=ae.attributes;if(V){var R={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:dt};for(Rt=V.length;Rt--;){De=V[Rt];var k=De,M=k.name,_=k.namespaceURI;if(_e=V9e(De.value),lt=Rr(M),R.attrName=lt,R.attrValue=_e,R.keepAttr=!0,R.forceKeepAttr=void 0,U("uponSanitizeAttribute",ae,R),_e=R.attrValue,!R.forceKeepAttr&&(Ir(M,ae),!!R.keepAttr)){if(ns(/\/>/i,_e)){Ir(M,ae);continue}Pe&&(_e=zs(_e,Mt," "),_e=zs(_e,Lt," "));var G=Rr(ae.nodeName);if(ie(G,lt,_e))try{_?ae.setAttributeNS(_,M,_e):ae.setAttribute(M,_e),nS(e.removed)}catch{}}}U("afterSanitizeAttributes",ae,null)}},ze=function he(ae){var De=void 0,_e=Y(ae);for(U("beforeSanitizeShadowDOM",ae,null);De=_e.nextNode();)U("uponSanitizeShadowNode",De,null),!W(De)&&(De.content instanceof i&&he(De.content),Ne(De));U("afterSanitizeShadowDOM",ae,null)};return e.sanitize=function(he,ae){var De=void 0,_e=void 0,lt=void 0,Rt=void 0,V=void 0;if(wr=!he,wr&&(he="<!-->"),typeof he!="string"&&!F(he)){if(typeof he.toString!="function")throw aS("toString is not a function");if(he=he.toString(),typeof he!="string")throw aS("dirty is not a string, aborting")}if(!e.isSupported){if(Jd(r.toStaticHTML)==="object"||typeof r.toStaticHTML=="function"){if(typeof he=="string")return r.toStaticHTML(he);if(F(he))return r.toStaticHTML(he.outerHTML)}return he}if(ot||ti(ae),e.removed=[],typeof he=="string"&&(Br=!1),!Br)if(he instanceof o)De=X("<!---->"),_e=De.ownerDocument.importNode(he,!0),_e.nodeType===1&&_e.nodeName==="BODY"||_e.nodeName==="HTML"?De=_e:De.appendChild(_e);else{if(!Gt&&!Pe&&!qe&&he.indexOf("<")===-1)return ve&&tr?ve.createHTML(he):he;if(De=X(he),!De)return Gt?null:le}De&&Ht&&dr(De.firstChild);for(var R=Y(Br?he:De);lt=R.nextNode();)lt.nodeType===3&&lt===Rt||W(lt)||(lt.content instanceof i&&ze(lt.content),Ne(lt),Rt=lt);if(Rt=null,Br)return he;if(Gt){if(zt)for(V=je.call(De.ownerDocument);De.firstChild;)V.appendChild(De.firstChild);else V=De;return Tr&&(V=et.call(t,V,!0)),V}var k=qe?De.outerHTML:De.innerHTML;return Pe&&(k=zs(k,Mt," "),k=zs(k,Lt," ")),ve&&tr?ve.createHTML(k):k},e.setConfig=function(he){ti(he),ot=!0},e.clearConfig=function(){xn=null,ot=!1},e.isValidAttribute=function(he,ae,De){xn||ti({});var _e=Rr(he),lt=Rr(ae);return ie(_e,lt,De)},e.addHook=function(he,ae){typeof ae=="function"&&(It[he]=It[he]||[],qd(It[he],ae))},e.removeHook=function(he){It[he]&&nS(It[he])},e.removeHooks=function(he){It[he]&&(It[he]=[])},e.removeAllHooks=function(){It={}},e}var rGe=GN(),nGe=["iframe","embed"],JN=[];function KN(r){ei(nGe,r)&&JN.push(r.toLowerCase())}function Du(r,e){return rGe.sanitize(r,He({ADD_TAGS:JN,ADD_ATTR:["rel","target","hreflang","type"],FORBID_TAGS:["input","script","textarea","form","button","select","meta","style","link","title","object","base"]},e))}function QN(r,e){return r.literal.replace(new RegExp("(<\\s*"+e+"[^>]*>)|(</"+e+"\\s*[>])","ig"),"").trim()}function z0(r){r=r.match(cf)[0];var e=r.match(new RegExp(jE,"g"));return e?e.reduce(function(t,n){var i=n.trim().split("="),a=i[0],o=i.slice(1);return o.length&&(t[a]=o.join("=").replace(/'|"/g,"").trim()),t},{}):{}}function $0(r){return Lo(r.attributes).reduce(function(e,t){return e[t.nodeName]=t.nodeValue,e},{})}function cS(r,e,t,n){var i=n.getToDOMNode(e)(r),a=t(i.outerHTML),o=document.createElement("div");o.innerHTML=a,i=o.firstChild;var l=$0(i);return{dom:i,htmlAttrs:l}}var iGe={htmlBlock:function(r,e,t){return{atom:!0,content:"block+",group:"block",attrs:{htmlAttrs:{default:{}},childrenHTML:{default:""},htmlBlock:{default:!0}},parseDOM:[{tag:r,getAttrs:function(n){return{htmlAttrs:$0(n),childrenHTML:n.innerHTML}}}],toDOM:function(n){var i=cS(n,r,e,t),a=i.dom,o=i.htmlAttrs;return o.class=o.class?o.class+" html-block":"html-block",Ki([r,o],Lo(a.childNodes))}}},htmlInline:function(r,e,t){return{attrs:{htmlAttrs:{default:{}},htmlInline:{default:!0}},parseDOM:[{tag:r,getAttrs:function(n){return{htmlAttrs:$0(n)}}}],toDOM:function(n){var i=cS(n,r,e,t).htmlAttrs;return[r,i,0]}}}};function aGe(r,e,t){var n={nodes:{},marks:{}};return["htmlBlock","htmlInline"].forEach(function(i){r[i]&&Object.keys(r[i]).forEach(function(a){var o=i==="htmlBlock"?"nodes":"marks";KN(a),n[o][a]=iGe[i](a,e,t)})}),n}var oGe=/^\s*<\s*\//,sGe={paragraph:function(r,e){var t=e.entering,n=e.origin,i=e.options;return i.nodeId?{type:t?"openTag":"closeTag",outerNewLine:!0,tagName:"p"}:n()},softbreak:function(r){var e=r.prev&&r.prev.type==="htmlInline",t=e&&/<br ?\/?>/.test(r.prev.literal),n=t?`
`:`<br>
`;return{type:"html",content:n}},item:function(r,e){var t=e.entering;if(t){var n={},i=[];return r.listData.task&&(n["data-task"]="",i.push("task-list-item"),r.listData.checked&&(i.push("checked"),n["data-task-checked"]="")),{type:"openTag",tagName:"li",classNames:i,attributes:n,outerNewLine:!0}}return{type:"closeTag",tagName:"li",outerNewLine:!0}},code:function(r){var e={"data-backticks":String(r.tickCount)};return[{type:"openTag",tagName:"code",attributes:e},{type:"text",content:r.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(r){var e=r,t=e.fenceLength,n=e.info,i=n?n.split(/\s+/):[],a=[],o={};if(t>3&&(o["data-backticks"]=t),i.length>0&&i[0].length>0){var l=i[0];a.push("lang-"+l),o["data-language"]=l}return[{type:"openTag",tagName:"pre",classNames:a},{type:"openTag",tagName:"code",attributes:o},{type:"text",content:r.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre"}]},customInline:function(r,e){var t=e.origin,n=e.entering,i=e.skipChildren,a=r.info;if(a.indexOf("widget")!==-1&&n){i();var o=zE(r),l=HE(a,o).outerHTML;return[{type:"openTag",tagName:"span",classNames:["tui-widget"]},{type:"html",content:l},{type:"closeTag",tagName:"span"}]}return t()}};function Kw(r,e){var t=He({},sGe);return r&&(t.link=function(n,i){var a=i.entering,o=i.origin,l=o();return a&&(l.attributes=He(He({},l.attributes),r)),l}),e&&Object.keys(e).forEach(function(n){var i=t[n],a=e[n];i&&Na(a)?t[n]=function(o,l){var c=He({},l);return c.origin=function(){return i(o,l)},a(o,c)}:ei(["htmlBlock","htmlInline"],n)&&!Na(a)?t[n]=function(o,l){var c=o.literal.match(cf);if(c){var f=c[0],v=c[1],y=c[3],T=(v||y).toLowerCase(),N=a[T],E=QN(o,T);if(N){var P=He({},o);return P.attrs=z0(f),P.childrenHTML=E,P.type=T,l.entering=!oGe.test(o.literal),N(P,l)}}return l.origin()}:t[n]=a}),t}var lGe=["list","item","blockQuote"],uGe=["UL","OL","BLOCKQUOTE"];function cGe(r,e){var t,n=r.child(e);return!n.childCount||n.childCount===1&&!(!((t=n.firstChild.text)===null||t===void 0)&&t.trim())}function fS(r,e,t){var n=Ch(e)-1,i=Em(e)-1,a=t[n].getBoundingClientRect(),o=t[i].offsetTop-t[n].offsetTop+t[i].clientHeight;return{height:o<=0?t[n].clientHeight:o+fGe(r,t,Math.min(i+1,r.childCount-1)),rect:a}}function fGe(r,e,t){for(var n=r.childCount-1,i=0;t<=n&&cGe(r,t);)i+=e[t].clientHeight,t+=1;return i}function dGe(r,e){for(;!r.getAttribute("data-nodeid")&&r.parentElement!==e;)r=r.parentElement;return r}function im(r,e){for(var t=0;r&&r!==e&&(ei(uGe,r.tagName)||(t+=r.offsetTop),r.offsetParent!==e.offsetParent);)r=r.parentElement;return t}function hGe(r,e){for(var t=e,n=null;t;){var i=t.firstElementChild;if(!i)break;var a=XN(i,r,im(t,e));n=t,t=a}var o=t||n;return o===e?null:o}function XN(r,e,t){return r&&e>t+r.offsetTop?XN(r.nextElementSibling,e,t)||r:null}function pGe(r,e,t,n){var i=Math.min((r-e)/t,1);return i*n}function Uy(r,e){for(var t=r.querySelector('[data-nodeid="'+e.id+'"]');!t||rue(e);)e=e.parent,t=r.querySelector('[data-nodeid="'+e.id+'"]');return vGe({mdNode:e,el:t})}function vGe(r){for(var e=r.mdNode,t=r.el;(ei(lGe,e.type)||e.type==="table")&&e.firstChild;)e=e.firstChild,t=t.firstElementChild;return{mdNode:e,el:t}}var Ua={};function mGe(r,e){Ua[r]=Ua[r]||{},Ua[r].height=e}function gGe(r,e){Ua[r]=Ua[r]||{},Ua[r].offsetTop=e}function yGe(r){return Ua[r]&&Ua[r].height}function wGe(r){return Ua[r]&&Ua[r].offsetTop}function V0(r){r&&(delete Ua[Number(r.getAttribute("data-nodeid"))],Lo(r.children).forEach(function(e){V0(e)}))}function bGe(r,e,t){var n=yGe(t),i=wGe(t),a=n||r.clientHeight,o=i||im(r,e)||r.offsetTop;return n||mGe(t,a),i||gGe(t,o),{nodeHeight:a,offsetTop:o}}var jy=Dt("md-preview-highlight");function kGe(r,e){for(var t=r.firstChild;t&&t.next&&!(Nm(t.next)>e+1);)t=t.next;return t}var YN=function(){function r(e,t){var n=document.createElement("div");this.el=n,this.eventEmitter=e,this.isViewer=!!t.isViewer,this.el.className=Dt("md-preview");var i=t.linkAttributes,a=t.customHTMLRenderer,o=t.sanitizer,l=t.highlight,c=l===void 0?!1:l;this.renderer=new Jw({gfm:!0,nodeId:!0,convertors:Kw(i,a)}),this.cursorNodeId=null,this.sanitizer=o,this.initEvent(c),this.initContentSection(),this.isViewer&&(this.previewContent.style.overflowWrap="break-word")}return r.prototype.initContentSection=function(){this.previewContent=QE('<div class="'+Dt("contents")+'"></div>'),this.isViewer||this.el.appendChild(this.previewContent)},r.prototype.toggleActive=function(e){Iw(this.el,"active",e)},r.prototype.initEvent=function(e){var t=this;this.eventEmitter.listen("updatePreview",this.update.bind(this)),!this.isViewer&&(e&&(this.eventEmitter.listen("changeToolbarState",function(n){var i=n.mdNode,a=n.cursorPos;t.updateCursorNode(i,a)}),this.eventEmitter.listen("blur",function(){t.removeHighlight()})),hN(this.el,"scroll",function(n){t.eventEmitter.emit("scroll","preview",hGe(n.target.scrollTop,t.previewContent))}),this.eventEmitter.listen("changePreviewTabPreview",function(){return t.toggleActive(!0)}),this.eventEmitter.listen("changePreviewTabWrite",function(){return t.toggleActive(!1)}))},r.prototype.removeHighlight=function(){if(this.cursorNodeId){var e=this.getElementByNodeId(this.cursorNodeId);e&&Va(e,jy)}},r.prototype.updateCursorNode=function(e,t){e&&(e=uf(e,function(o){return!aue(o)}),e.type==="tableRow"?e=kGe(e,t[1]):e.type==="tableBody"&&(e=null));var n=e?e.id:null;if(this.cursorNodeId!==n){var i=this.getElementByNodeId(this.cursorNodeId),a=this.getElementByNodeId(n);i&&Va(i,jy),a&&No(a,jy),this.cursorNodeId=n}},r.prototype.getElementByNodeId=function(e){return e?this.previewContent.querySelector('[data-nodeid="'+e+'"]'):null},r.prototype.update=function(e){var t=this;e.forEach(function(n){return t.replaceRangeNodes(n)}),this.eventEmitter.emit("afterPreviewRender",this)},r.prototype.replaceRangeNodes=function(e){var t=this,n=e.nodes,i=e.removedNodeRange,a=this.previewContent,o=this.eventEmitter.emitReduce("beforePreviewRender",this.sanitizer(n.map(function(E){return t.renderer.render(E)}).join("")));if(!i)a.insertAdjacentHTML("afterbegin",o);else{var l=i.id,c=l[0],f=l[1],v=this.getElementByNodeId(c),y=this.getElementByNodeId(f);if(v){v.insertAdjacentHTML("beforebegin",o);for(var T=v;T&&T!==y;){var N=T.nextElementSibling;Nu(T),V0(T),T=N}T?.parentNode&&(Nu(T),V0(T))}}},r.prototype.getRenderer=function(){return this.renderer},r.prototype.destroy=function(){dN(this.el,"scroll"),this.el=null},r.prototype.getElement=function(){return this.el},r.prototype.getHTML=function(){return _w(this.previewContent.innerHTML)},r.prototype.setHTML=function(e){this.previewContent.innerHTML=e},r.prototype.setHeight=function(e){Ao(this.el,{height:e+"px"})},r.prototype.setMinHeight=function(e){Ao(this.el,{minHeight:e+"px"})},r}();function cs(r,e){for(var t=r.depth;t;){var n=r.node(t);if(e(n,t))return{node:n,depth:t,offset:t>0?r.before(t):0};t-=1}return null}function pf(r){return!!cs(r,function(e){var t=e.type;return t.name==="listItem"||t.name==="bulletList"||t.name==="orderedList"})}function am(r){return!!cs(r,function(e){var t=e.type;return t.name==="tableHeadCell"||t.name==="tableBodyCell"})}function vf(r){return cs(r,function(e){var t=e.type;return t.name==="listItem"})}function Bm(r){return{tag:r,getAttrs:function(e){var t=e.getAttribute("data-raw-html");return He({},t&&{rawHTML:t})}}}function ZN(r){return Object.keys(r).reduce(function(e,t){return t!=="rawHTML"&&r[t]&&(t=t==="className"?"class":t,e[t]=r[t]),e},{})}function eM(r){return{tag:r,getAttrs:function(e){return["rawHTML","colspan","rowspan","extended"].reduce(function(t,n){var i=n==="rawHTML"?"data-raw-html":n,a=e.getAttribute(i);return a&&(t[n]=ei(["rawHTML","extended"],n)?a:Number(a)),t},{})}}}function qn(){return{htmlAttrs:{default:null},classNames:{default:null}}}function dn(r){var e=r.htmlAttrs,t=r.classNames;return He(He({},e),{class:t?t.join(" "):null})}function CGe(r,e){var t=r.parent,n=r.startIndex,i=r.endIndex,a=t.contentMatchAt(n).findWrapping(e);if(a){var o=a.length?a[0]:e;return t.canReplaceWith(n,i,o)?a:null}return null}function SGe(r,e){var t=r.parent,n=r.startIndex,i=r.endIndex,a=t.child(n),o=e.contentMatch.findWrapping(a.type);if(o){for(var l=o.length?o[o.length-1]:e,c=l.contentMatch,f=n;c&&f<i;f+=1)c=c.matchType(t.child(f).type);if(c&&c.validEnd)return o}return null}function xGe(r,e,t,n){var i=CGe(r,t),a=SGe(e,t);if(i&&a){var o=i.map(function(c){return{type:c}}),l=a.map(function(c){return{type:c,attrs:n}});return o.concat({type:t}).concat(l)}return null}function TGe(r,e,t,n,i){for(var a=e.start,o=e.end,l=e.startIndex,c=e.endIndex,f=e.parent,v=nt.empty,y=t.length-1;y>=0;y-=1)v=nt.from(t[y].type.create(t[y].attrs,v));r.step(new _n(a-(n?2:0),o,a,o,new gt(v,0,0),t.length,!0));for(var T=0,y=0;y<t.length;y+=1)if(t[y].type===i){T=y+1;break}for(var N=t.length-T,E=a+t.length-(n?2:0),y=l,P=c;y<P;y+=1){var L=y===l;!L&&Zc(r.doc,E,N)&&(r.split(E,N),E+=N*2),E+=f.child(y).nodeSize}return r}function tM(r,e,t,n){var i=e.$from,a=e.$to,o=e.depth,l=e,c=!1;if(o>=2&&i.node(o-1).type.compatibleContent(t)&&e.startIndex===0&&i.index(o-1)){var f=r.doc.resolve(e.start-2);l=new Bv(f,f,o),e.endIndex<e.parent.childCount&&(e=new Bv(i,r.doc.resolve(a.end(o)),o)),c=!0}var v=xGe(l,e,t,n);return v?TGe(r,e,v,c,t):r}function rM(r,e){for(var t=r.resolve(e);t.node().type.name!=="paragraph";)e-=2,t=r.resolve(e);return vf(t)}function EGe(r,e){var t=e.$from,n=e.$to,i=vf(t),a=vf(n);if(i&&a)for(;a;){var o=a.offset,l=a.node,c={task:!l.attrs.task,checked:!1};if(r.setNodeMarkup(o,null,c),o===i.offset)break;a=rM(r.doc,o)}return r}function NGe(r,e,t){var n=e.$from,i=e.$to,a=vf(n),o=vf(i);if(a&&o)for(;o;){var l=o.offset,c=o.node,f=o.depth;c.attrs.task&&r.setNodeMarkup(l,null,{task:!1,checked:!1});var v=r.doc.resolve(l);if(v.parent.type!==t){var y=v.before(f-1);r.setNodeMarkup(y,t)}if(l===a.offset)break;o=rM(r.doc,l)}return r}function nM(r){return function(e,t){var n=e.selection,i=e.tr,a=n.$from,o=n.$to,l=a.blockRange(o);if(l){var c=pf(a)?NGe(i,l,r):tM(i,l,r);return t(c),!0}return!1}}function MGe(){return function(r,e){var t=r.selection,n=r.tr,i=r.schema,a=t.$from,o=t.$to,l=a.blockRange(o);if(l){var c=pf(a)?EGe(n,l):tM(n,l,i.nodes.bulletList,{task:!0});return e(c),!0}return!1}}function OGe(r){return function(e,t){var n=e.tr,i=e.selection,a=i.$from,o=i.$to,l=a.blockRange(o,function(P){var L=P.childCount,$=P.firstChild;return!!L&&$.type===r});if(l&&l.startIndex>0){var c=l.parent,f=c.child(l.startIndex-1);if(f.type!==r)return!1;var v=f.lastChild&&f.lastChild.type===c.type,y=v?nt.from(r.create()):null,T=new gt(nt.from(r.create(null,nt.from(c.type.create(null,y)))),v?3:1,0),N=l.start,E=l.end;return n.step(new _n(N-(v?3:1),E,N,E,T,1,!0)),t(n),!0}return!1}}function DGe(r,e,t){var n=e.$from,i=e.$to,a=e.end,o=e.depth,l=e.parent,c=i.end(o);return a<c&&(r.step(new _n(a-1,c,a,c,new gt(nt.from(t.create(null,l.copy())),1,0),1,!0)),e=new Bv(r.doc.resolve(n.pos),r.doc.resolve(c),o)),r.lift(e,ym(e)),r}function AGe(r,e){for(var t=e.parent,n=e.end,i=e.endIndex-1,a=e.startIndex;i>a;i-=1)n-=t.child(i).nodeSize,r.delete(n-1,n+1);var o=r.doc.resolve(e.start),l=o.nodeAfter,c=e.startIndex===0,f=e.endIndex===t.childCount,v=o.node(-1),y=o.index(-1),T=v.canReplace(y+(c?0:1),y+1,l?.content.append(f?nt.empty:nt.from(t)));if(l&&T){var N=o.pos,E=N+l.nodeSize;r.step(new _n(N-(c?1:0),E+(f?1:0),N+1,E-1,new gt((c?nt.empty:nt.from(t.copy(nt.empty))).append(f?nt.empty:nt.from(t.copy(nt.empty))),c?0:1,f?0:1),c?0:1))}return r}function LGe(r){return function(e,t){var n=e.tr,i=e.selection,a=i.$from,o=i.$to,l=a.blockRange(o,function(v){var y=v.childCount,T=v.firstChild;return!!y&&T.type===r});if(l){var c=a.node(l.depth-1).type===r,f=c?DGe(n,l,r):AGe(n,l);return t(f),!0}return!1}}function RGe(r){return function(e,t){var n=e.tr,i=e.selection,a=i.$from,o=i.$to;if(a.depth<2||!a.sameParent(o))return!1;var l=a.node(-1);if(l.type!==r)return!1;if(a.parent.content.size===0&&a.node(-1).childCount===a.indexAfter(-1)){if(a.depth===2||a.node(-3).type!==r||a.index(-2)!==a.node(-2).childCount-1)return!1;for(var c=a.index(-1)>0,f=nt.empty,v=a.depth-(c?1:2);v>=a.depth-3;v-=1)f=nt.from(a.node(v).copy(f));return f=f.append(nt.from(r.createAndFill())),n.replace(c?a.before():a.before(-1),a.after(-3),new gt(f,c?3:2,2)),n.setSelection(fr.near(n.doc.resolve(a.pos+(c?3:2)))),t(n),!0}var y=o.pos===a.end()?l.contentMatchAt(0).defaultType:null,T=y&&[null,{type:y}];return n.delete(a.pos,o.pos),Zc(n.doc,a.pos,2,T)?(n.split(a.pos,2,T),t(n),!0):!1}}function IGe(){return function(){return function(r,e){var t=r.selection,n=r.schema,i=t.$from,a=t.$to,o=i.blockRange(a);return o&&pf(i)?OGe(n.nodes.listItem)(r,e):!1}}}function PGe(){return function(){return function(r,e){var t=r.selection,n=r.schema,i=t.$from,a=t.$to,o=i.blockRange(a);return o&&pf(i)?LGe(n.nodes.listItem)(r,e):!1}}}function Qw(){return{indent:IGe(),outdent:PGe()}}var dS=new Map,Kn=function(){function r(e,t,n,i){this.table=e,this.tableRows=t,this.tableStartPos=n,this.rowInfo=i}return r.create=function(e){var t=cs(e,function(E){var P=E.type;return P.name==="table"});if(t){var n=t.node,i=t.depth,a=t.offset,o=dS.get(n);if(o?.tableStartPos===a+1)return o;var l=[],c=e.start(i),f=n.child(0),v=n.child(1),y=U0(f,c),T=U0(v,c+f.nodeSize);f.forEach(function(E){return l.push(E)}),v.forEach(function(E){return l.push(E)});var N=new r(n,l,c,y.concat(T));return dS.set(n,N),N}return null},Object.defineProperty(r.prototype,"totalRowCount",{get:function(){return this.rowInfo.length},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"totalColumnCount",{get:function(){return this.rowInfo[0].length},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tableStartOffset",{get:function(){return this.tableStartPos},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tableEndOffset",{get:function(){return this.tableStartPos+this.table.nodeSize-1},enumerable:!1,configurable:!0}),r.prototype.getCellInfo=function(e,t){return this.rowInfo[e][t]},r.prototype.posAt=function(e,t){for(var n=0,i=this.tableStartPos;;n+=1){var a=i+this.tableRows[n].nodeSize;if(n===e){for(var o=t;o<this.totalColumnCount&&this.rowInfo[n][o].offset<i;)o+=1;return o===this.totalColumnCount?a:this.rowInfo[n][o].offset}i=a}},r.prototype.getNodeAndPos=function(e,t){var n=this.rowInfo[e][t];return{node:this.table.nodeAt(n.offset-this.tableStartOffset),pos:n.offset}},r.prototype.extendedRowspan=function(e,t){return!1},r.prototype.extendedColspan=function(e,t){return!1},r.prototype.getRowspanCount=function(e,t){return 0},r.prototype.getColspanCount=function(e,t){return 0},r.prototype.decreaseColspanCount=function(e,t){return 0},r.prototype.decreaseRowspanCount=function(e,t){return 0},r.prototype.getColspanStartInfo=function(e,t){return null},r.prototype.getRowspanStartInfo=function(e,t){return null},r.prototype.getCellStartOffset=function(e,t){var n=this.rowInfo[e][t].offset;return this.extendedRowspan(e,t)?this.posAt(e,t):n},r.prototype.getCellEndOffset=function(e,t){var n=this.rowInfo[e][t],i=n.offset,a=n.nodeSize;return this.extendedRowspan(e,t)?this.posAt(e,t):i+a},r.prototype.getCellIndex=function(e){for(var t=0;t<this.totalRowCount;t+=1)for(var n=this.rowInfo[t],i=0;i<this.totalColumnCount;i+=1)if(n[i].offset+1>e.pos)return[t,i];return[0,0]},r.prototype.getRectOffsets=function(e,t){var n,i,a;t===void 0&&(t=e),e.pos>t.pos&&(n=[t,e],e=n[0],t=n[1]);var o=this.getCellIndex(e),l=o[0],c=o[1],f=this.getCellIndex(t),v=f[0],y=f[1];return i=hC(l,v),l=i[0],v=i[1],a=hC(c,y),c=a[0],y=a[1],this.getSpannedOffsets({startRowIdx:l,startColIdx:c,endRowIdx:v,endColIdx:y})},r.prototype.getSpannedOffsets=function(e){return e},r}(),U0=function(r,e){var t=[];return r.forEach(function(n,i){var a={rowspanMap:{},colspanMap:{},length:0};n.forEach(function(o,l){for(var c=o.nodeSize,f=0;a[f];)f+=1;a[f]={offset:e+i+l+2,nodeSize:c},a.length+=1}),t.push(a)}),t};function BGe(r,e){return Dw(Kn.prototype,r),U0=e,Kn}function _Ge(r,e,t){for(var n=t.startRowIdx,i=t.startColIdx,a=t.endRowIdx,o=t.endColIdx,l=[],c=n;c<=a;c+=1)for(var f=i;f<=o;f+=1){var v=e.getCellInfo(c,f),y=v.offset,T=v.nodeSize;l.push(new zT(r.resolve(y+1),r.resolve(y+T-1)))}return l}function FGe(r,e){var t=[];return r.childCount&&t.push(r),e.childCount&&t.push(e),nt.from(t)}var Xw=function(r){Ct(e,r);function e(t,n){n===void 0&&(n=t);var i=this,a=t.node(0),o=Kn.create(t),l=o.getRectOffsets(t,n),c=_Ge(a,o,l);return i=r.call(this,c[0].$from,c[0].$to,c)||this,i.startCell=t,i.endCell=n,i.offsetMap=o,i.isCellSelection=!0,i.visible=!1,i}return e.prototype.map=function(t,n){var i=this.startCell.pos,a=this.endCell.pos,o=t.resolve(n.map(i)),l=t.resolve(n.map(a)),c=Kn.create(o);if(this.offsetMap.totalColumnCount>c.totalColumnCount||this.offsetMap.totalRowCount>c.totalRowCount){var f={tableBody:1,tableRow:2,tableCell:3,paragraph:4},v=f[l.parent.type.name],y=l.end(l.depth-v),T=Math.min(y-4,l.pos);return vr.create(t,T)}return new e(o,l)},e.prototype.eq=function(t){return t instanceof e&&t.startCell.pos===this.startCell.pos&&t.endCell.pos===this.endCell.pos},e.prototype.content=function(){for(var t=this.startCell.node(-2),n=this.startCell.start(-2),i=t.child(1).firstChild,a=t.child(0).type.create(),o=t.child(1).type.create(),l=Kn.create(this.startCell),c=l.getRectOffsets(this.startCell,this.endCell),f=c.startRowIdx,v=c.startColIdx,y=c.endRowIdx,T=c.endColIdx,N=!1,E=f;E<=y;E+=1){for(var P=[],L=v;L<=T;L+=1){var $=l.getCellInfo(E,L).offset,ee=t.nodeAt($-n);ee&&(N=ee.type.name==="tableHeadCell",l.extendedRowspan(E,L)||l.extendedColspan(E,L)?P.push(ee.type.create({extended:!0})):P.push(ee.copy(ee.content)))}var re=i.copy(nt.from(P)),se=N?a:o;se.content=se.content.append(nt.from(re))}return new gt(FGe(a,o),1,1)},e.prototype.toJSON=function(){return JSON.stringify(this)},e}(fr);function qGe(r,e,t){for(var n=e.nodes,i=n.tableRow,a=n.tableHeadCell,o=n.paragraph,l=[],c=0;c<r;c+=1){var f=t&&t[c],v=o.create(null,f?e.text(f):[]);l.push(a.create(null,v))}return[i.create(null,l)]}function iM(r,e,t,n){for(var i=t.nodes,a=i.tableRow,o=i.tableBodyCell,l=i.paragraph,c=[],f=0;f<r;f+=1){for(var v=[],y=0;y<e;y+=1){var T=n&&n[f*e+y],N=l.create(null,T?t.text(T):[]);v.push(o.create(null,N))}c.push(a.create(null,v))}return c}function Tv(r,e,t,n){n===void 0&&(n=null);for(var i=t.nodes,a=i.tableHeadCell,o=i.tableBodyCell,l=i.paragraph,c=e===0?a:o,f=[],v=0;v<r;v+=1)f.push(c.create(n,l.create()));return f}function aM(r,e){for(;r&&r!==e;){if(r.nodeName==="TD"||r.nodeName==="TH")return r;r=r.parentNode}return null}function oM(r){return cs(r,function(e){var t=e.type;return t.name==="tableHeadCell"||t.name==="tableBodyCell"})}function xo(r){if(r instanceof vr){var e=r.$anchor,t=oM(e);if(t){var n=e.node(0).resolve(e.before(t.depth));return{anchor:n,head:n}}}var i=r,a=i.startCell,o=i.endCell;return{anchor:a,head:o}}function sM(r){var e;if(r.size){var t=r.content,n=r.openStart,i=r.openEnd;if(t.childCount!==1)return null;for(;t.childCount===1&&(n>0&&i>0||((e=t.firstChild)===null||e===void 0?void 0:e.type.name)==="table");)n-=1,i-=1,t=t.firstChild.content;if(t.firstChild.type.name==="tableHead"||t.firstChild.type.name==="tableBody")return t}return null}function Yc(r){var e=r.startRowIdx,t=r.startColIdx,n=r.endRowIdx,i=r.endColIdx,a=n-e+1,o=i-t+1;return{rowCount:a,columnCount:o}}function HGe(r,e){return He(He({},r.attrs),e)}var Ws=new gh("cellSelection"),zGe=2,$Ge=function(){function r(e){this.view=e,this.handlers={mousedown:this.handleMousedown.bind(this),mousemove:this.handleMousemove.bind(this),mouseup:this.handleMouseup.bind(this)},this.startCellPos=null,this.init()}return r.prototype.init=function(){this.view.dom.addEventListener("mousedown",this.handlers.mousedown)},r.prototype.handleMousedown=function(e){var t=aM(e.target,this.view.dom);if(e.button===zGe){e.preventDefault();return}if(t){var n=this.getCellPos(e);n&&(this.startCellPos=n),this.bindEvent()}},r.prototype.handleMousemove=function(e){var t=Ws.getState(this.view.state),n=this.getCellPos(e),i=this.startCellPos,a;t?a=this.view.state.doc.resolve(t):i!==n&&(a=i),a&&i&&n&&this.setCellSelection(i,n)},r.prototype.handleMouseup=function(){this.startCellPos=null,this.unbindEvent(),Ws.getState(this.view.state)!==null&&this.view.dispatch(this.view.state.tr.setMeta(Ws,-1))},r.prototype.bindEvent=function(){var e=this.view.dom;e.addEventListener("mousemove",this.handlers.mousemove),e.addEventListener("mouseup",this.handlers.mouseup)},r.prototype.unbindEvent=function(){var e=this.view.dom;e.removeEventListener("mousemove",this.handlers.mousemove),e.removeEventListener("mouseup",this.handlers.mouseup)},r.prototype.getCellPos=function(e){var t=e.clientX,n=e.clientY,i=this.view.posAtCoords({left:t,top:n});if(i){var a=this.view.state.doc,o=a.resolve(i.pos),l=oM(o);if(l){var c=o.before(l.depth);return a.resolve(c)}}return null},r.prototype.setCellSelection=function(e,t){var n=this.view.state,i=n.selection,a=n.tr,o=Ws.getState(this.view.state)===null,l=new Xw(e,t);if(o||!i.eq(l)){var c=a.setSelection(l);o&&c.setMeta(Ws,t.pos),this.view.dispatch(c)}},r.prototype.destroy=function(){this.view.dom.removeEventListener("mousedown",this.handlers.mousedown)},r}(),VGe=Dt("cell-selected");function UGe(r){var e=r.selection,t=r.doc;if(e instanceof Xw){var n=[],i=e.ranges;return i.forEach(function(a){var o=a.$from,l=a.$to;n.push(ji.node(o.pos-1,l.pos+1,{class:VGe}))}),nn.create(t,n)}return null}function jGe(){return new Qi({key:Ws,state:{init:function(){return null},apply:function(r,e){var t=r.getMeta(Ws);if(t)return t===-1?null:t;if(jv(e)||!r.docChanged)return e;var n=r.mapping.mapResult(e),i=n.deleted,a=n.pos;return i?null:a}},props:{decorations:UGe,createSelectionBetween:function(r){var e=r.state;return jv(Ws.getState(e))?null:e.selection}},view:function(r){return new $Ge(r)}})}var lM=function(){function r(){this.keys=[],this.values=[]}return r.prototype.getKeyIndex=function(e){return Tu(e,this.keys)},r.prototype.get=function(e){return this.values[this.getKeyIndex(e)]},r.prototype.set=function(e,t){var n=this.getKeyIndex(e);return n>-1?this.values[n]=t:(this.keys.push(e),this.values.push(t)),this},r.prototype.has=function(e){return this.getKeyIndex(e)>-1},r.prototype.delete=function(e){var t=this.getKeyIndex(e);return t>-1?(this.keys.splice(t,1),this.values.splice(t,1),!0):!1},r.prototype.forEach=function(e,t){var n=this;t===void 0&&(t=this),this.values.forEach(function(i,a){i&&n.keys[a]&&e.call(t,i,n.keys[a],n)})},r.prototype.clear=function(){this.keys=[],this.values=[]},r}(),Wy="en-US",WGe=function(){function r(){this.code=Wy,this.langs=new lM}return r.prototype.setCode=function(e){this.code=e||Wy},r.prototype.setLanguage=function(e,t){var n=this;e=[].concat(e),e.forEach(function(i){if(!n.langs.has(i))n.langs.set(i,t);else{var a=n.langs.get(i);n.langs.set(i,xw(a,t))}})},r.prototype.get=function(e,t){t||(t=this.code);var n=this.langs.get(t);n||(n=this.langs.get(Wy));var i=n[e];if(!i)throw new Error('There is no text key "'+e+'" in '+t);return i},r}(),rr=new WGe,GGe=[[{action:"Add row to up",command:"addRowToUp",disableInThead:!0,className:"add-row-up"},{action:"Add row to down",command:"addRowToDown",disableInThead:!0,className:"add-row-down"},{action:"Remove row",command:"removeRow",disableInThead:!0,className:"remove-row"}],[{action:"Add column to left",command:"addColumnToLeft",className:"add-column-left"},{action:"Add column to right",command:"addColumnToRight",className:"add-column-right"},{action:"Remove column",command:"removeColumn",className:"remove-column"}],[{action:"Align column to left",command:"alignColumn",payload:{align:"left"},className:"align-column-left"},{action:"Align column to center",command:"alignColumn",payload:{align:"center"},className:"align-column-center"},{action:"Align column to right",command:"alignColumn",payload:{align:"right"},className:"align-column-right"}],[{action:"Remove table",command:"removeTable",className:"remove-table"}]];function JGe(r,e){return GGe.map(function(t){return t.map(function(n){var i=n.action,a=n.command,o=n.payload,l=n.disableInThead,c=n.className;return{label:rr.get(i),onClick:function(){r.emit("command",a,o)},disabled:e&&!!l,className:c}})}).concat()}function KGe(r){return new Qi({props:{handleDOMEvents:{contextmenu:function(e,t){var n=aM(t.target,e.dom);if(n){t.preventDefault();var i=t,a=i.clientX,o=i.clientY,l=e.dom.parentNode.getBoundingClientRect(),c=l.left,f=l.top,v=n.nodeName==="TH";return r.emit("contextmenu",{pos:{left:a-c+10+"px",top:o-f+30+"px"},menuGroups:JGe(r,v),tableCell:n}),!0}return!1}}}})}function QGe(){return new Qi({props:{handleDOMEvents:{mousedown:function(r,e){var t=e,n=t.clientX,i=t.clientY,a=r.posAtCoords({left:n,top:i});if(a){var o=r.state,l=o.doc,c=o.tr,f=l.resolve(a.pos),v=vf(f),y=e.target,T=getComputedStyle(y,":before"),N=e,E=N.offsetX,P=N.offsetY;if(!v||!Rw(T,E,P))return!1;e.preventDefault();var L=f.before(v.depth),$=v.node.attrs;return c.setNodeMarkup(L,null,He(He({},$),{checked:!$.checked})),r.dispatch(c),!0}return!1}}}})}var XGe=["image","link","customBlock","frontMatter"],YGe=["strong","strike","emph","code"],uM=["bulletList","orderedList","taskList"];function ZGe(r,e){var t=r.type.name;return t==="listItem"?r.attrs.task?"taskList":e.type.name:t.indexOf("table")!==-1?"table":t}function eJe(r,e){e[r]={active:!0},uM.filter(function(t){return t!==r}).forEach(function(t){e[t]&&delete e[t]})}function tJe(r,e,t,n){YGe.forEach(function(i){var a=t.marks[i],o=r.marksAcross(e)||[],l=!!a.isInSet(o);l&&(n[i]={active:!0})})}function rJe(r,e,t){var n=r.$from,i=r.$to,a=r.from,o=r.to,l={indent:{active:!1,disabled:!0},outdent:{active:!1,disabled:!0}};return e.nodesBetween(a,o,function(c,f,v){var y=ZGe(c,v);ei(XGe,y)||(ei(uM,y)?(eJe(y,l),l.indent.disabled=!1,l.outdent.disabled=!1):y==="paragraph"||y==="text"?tJe(n,i,t,l):l[y]={active:!0})}),l}function nJe(r){return new Qi({view:function(){return{update:function(e){var t=e.state,n=t.selection,i=t.doc,a=t.schema;r.emit("changeToolbarState",{toolbarState:rJe(n,i,a)})}}}})}var iJe=function(){function r(e,t,n,i){var a=this;this.openEditor=function(){if(a.innerEditorView)throw new Error("The editor is already opened.");a.dom.draggable=!1,a.wrapper.style.display="none",a.innerViewContainer.style.display="block",a.innerEditorView=new Sm(a.innerViewContainer,{state:cu.create({doc:a.node,plugins:[fh({"Mod-z":function(){return Zd(a.innerEditorView.state,a.innerEditorView.dispatch)},"Shift-Mod-z":function(){return Sw(a.innerEditorView.state,a.innerEditorView.dispatch)},Tab:function(o,l){return l(o.tr.insertText("	")),!0},Enter:EE,Escape:function(){return a.cancelEditing(),!0},"Ctrl-Enter":function(){return a.saveAndFinishEditing(),!0}}),RE()]}),dispatchTransaction:function(o){return a.dispatchInner(o)},handleDOMEvents:{mousedown:function(){return a.editorView.hasFocus()&&a.innerEditorView.focus(),!0},blur:function(){return a.saveAndFinishEditing(),!0}}}),a.innerEditorView.focus()},this.node=e,this.editorView=t,this.getPos=n,this.toDOMAdaptor=i,this.innerEditorView=null,this.canceled=!1,this.dom=document.createElement("div"),this.dom.className=Dt("custom-block"),this.wrapper=document.createElement("div"),this.wrapper.className=Dt("custom-block-view"),this.createInnerViewContainer(),this.renderCustomBlock(),this.dom.appendChild(this.innerViewContainer),this.dom.appendChild(this.wrapper)}return r.prototype.renderToolArea=function(){var e=this,t=document.createElement("div"),n=document.createElement("span"),i=document.createElement("button");t.className="tool",n.textContent=this.node.attrs.info,n.className="info",i.type="button",i.addEventListener("click",function(){return e.openEditor()}),t.appendChild(n),t.appendChild(i),this.wrapper.appendChild(t)},r.prototype.renderCustomBlock=function(){var e=this.toDOMAdaptor.getToDOMNode(this.node.attrs.info);if(e){for(var t=e(this.node);this.wrapper.hasChildNodes();)this.wrapper.removeChild(this.wrapper.lastChild);t&&this.wrapper.appendChild(t),this.renderToolArea()}},r.prototype.createInnerViewContainer=function(){this.innerViewContainer=document.createElement("div"),this.innerViewContainer.className=Dt("custom-block-editor"),this.innerViewContainer.style.display="none"},r.prototype.closeEditor=function(){this.innerEditorView&&(this.innerEditorView.destroy(),this.innerEditorView=null,this.innerViewContainer.style.display="none"),this.wrapper.style.display="block"},r.prototype.saveAndFinishEditing=function(){var e=this.editorView.state.selection.to,t=this.editorView.state;this.editorView.dispatch(t.tr.setSelection(Jr(t.tr,e))),this.editorView.focus(),this.renderCustomBlock(),this.closeEditor()},r.prototype.cancelEditing=function(){var e=ele(this.innerEditorView.state);for(this.canceled=!0;e--;)Zd(this.innerEditorView.state,this.innerEditorView.dispatch),Zd(this.editorView.state,this.editorView.dispatch);this.canceled=!1;var t=this.editorView.state.selection.to,n=this.editorView.state;this.editorView.dispatch(n.tr.setSelection(vr.create(n.doc,t))),this.editorView.focus(),this.closeEditor()},r.prototype.dispatchInner=function(e){var t=this.innerEditorView.state.applyTransaction(e),n=t.state,i=t.transactions;if(this.innerEditorView.updateState(n),!this.canceled&&Na(this.getPos)){for(var a=this.editorView.state.tr,o=Ui.offset(this.getPos()+1),l=0;l<i.length;l+=1)for(var c=i[l].steps,f=0;f<c.length;f+=1)a.step(c[f].map(o));a.docChanged&&this.editorView.dispatch(a)}},r.prototype.update=function(e){return e.sameMarkup(this.node)?(this.node=e,this.innerEditorView||this.renderCustomBlock(),!0):!1},r.prototype.stopEvent=function(e){return!!this.innerEditorView&&!!e.target&&this.innerEditorView.dom.contains(e.target)},r.prototype.ignoreMutation=function(){return!0},r.prototype.destroy=function(){this.dom.removeEventListener("dblclick",this.openEditor),this.closeEditor()},r}(),hS="image-link",aJe=function(){function r(e,t,n,i){var a=this,o;this.handleMousedown=function(l){l.preventDefault();var c=l.target,f=l.offsetX,v=l.offsetY;if(a.imageLink&&Na(a.getPos)&&VE(c,hS)){var y=getComputedStyle(c,":before");if(l.stopPropagation(),Rw(y,f,v)){var T=a.view.state.tr,N=a.getPos();T.setSelection(Jr(T,N,N+1)),a.view.dispatch(T),a.eventEmitter.emit("openPopup","link",a.imageLink.attrs)}}},this.node=e,this.view=t,this.getPos=n,this.eventEmitter=i,this.imageLink=(o=e.marks.filter(function(l){var c=l.type;return c.name==="link"})[0])!==null&&o!==void 0?o:null,this.dom=this.createElement(),this.bindEvent()}return r.prototype.createElement=function(){var e=this.createImageElement(this.node);if(this.imageLink){var t=document.createElement("span");return t.className=hS,t.appendChild(e),t}return e},r.prototype.createImageElement=function(e){var t=document.createElement("img"),n=e.attrs,i=n.imageUrl,a=n.altText,o=dn(e.attrs);return t.src=i,a&&(t.alt=a),Bw(o,t),t},r.prototype.bindEvent=function(){this.imageLink&&this.dom.addEventListener("mousedown",this.handleMousedown)},r.prototype.stopEvent=function(){return!0},r.prototype.destroy=function(){this.imageLink&&this.dom.removeEventListener("mousedown",this.handleMousedown)},r}(),oJe="toastui-editor-ww-code-block",sJe="toastui-editor-ww-code-block-language",lJe=function(){function r(e,t,n,i){var a=this;this.contentDOM=null,this.input=null,this.timer=null,this.handleMousedown=function(o){var l=o.target,c=getComputedStyle(l,":after");if(c.backgroundImage!=="none"&&Na(a.getPos)){var f=a.view.coordsAtPos(a.getPos()),v=f.top,y=f.right;a.createLanguageEditor({top:v,right:y})}},this.handleKeydown=function(o){o.key==="Enter"&&a.input&&(o.preventDefault(),a.changeLanguage())},this.node=e,this.view=t,this.getPos=n,this.eventEmitter=i,this.createElement(),this.bindDOMEvent(),this.bindEvent()}return r.prototype.createElement=function(){var e=this.node.attrs.language,t=document.createElement("div");t.setAttribute("data-language",e||"text"),t.className=oJe;var n=this.createCodeBlockElement(),i=n.firstChild;t.appendChild(n),this.dom=t,this.contentDOM=i},r.prototype.createCodeBlockElement=function(){var e=document.createElement("pre"),t=document.createElement("code"),n=this.node.attrs.language,i=dn(this.node.attrs);return n&&t.setAttribute("data-language",n),Bw(i,e),e.appendChild(t),e},r.prototype.createLanguageEditor=function(e){var t=this,n=e.top,i=e.right,a=document.createElement("span");a.className=sJe;var o=document.createElement("input");o.type="text",o.value=this.node.attrs.language,a.appendChild(o),this.view.dom.parentElement.appendChild(a);var l=a.clientWidth;Ao(a,{top:n+10+"px",left:i-l-10+"px",width:l+"px"}),this.input=o,this.input.addEventListener("blur",function(){return t.changeLanguage()}),this.input.addEventListener("keydown",this.handleKeydown),this.clearTimer(),this.timer=setTimeout(function(){t.input.focus()})},r.prototype.bindDOMEvent=function(){this.dom&&this.dom.addEventListener("click",this.handleMousedown)},r.prototype.bindEvent=function(){var e=this;this.eventEmitter.listen("scroll",function(){e.input&&e.reset()})},r.prototype.changeLanguage=function(){if(this.input&&Na(this.getPos)){var e=this.input.value;this.reset();var t=this.getPos(),n=this.view.state.tr;n.setNodeMarkup(t,null,{language:e}),this.view.dispatch(n)}},r.prototype.reset=function(){var e;if(!((e=this.input)===null||e===void 0)&&e.parentElement){var t=this.input.parentElement;this.input=null,Nu(t)}},r.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},r.prototype.stopEvent=function(){return!0},r.prototype.update=function(e){return e.sameMarkup(this.node)?(this.node=e,!0):!1},r.prototype.destroy=function(){this.reset(),this.clearTimer(),this.dom&&this.dom.removeEventListener("click",this.handleMousedown)},r}(),uJe=/MsoListParagraph/,cM=/style=(.|\n)*mso-/,fM=/mso-list:(.*)/,cJe=/O:P/,fJe=/^(n|u|l)/,dJe="p.MsoListParagraph";function hJe(r){return cM.test(r)}function pJe(r){for(var e=[],t=document.createTreeWalker(r,1,null,!1);t.nextNode();){var n=t.currentNode;if(Om(n)){var i=n,a=i.outerHTML,o=i.textContent,l=cM.test(a),c=fM.test(a);l&&!c&&o?e.push([n,!0]):(cJe.test(n.nodeName)||l&&!o||c)&&e.push([n,!1])}}return e.forEach(function(f){var v=f[0],y=f[1];y?Rue(v):Nu(v)}),r.innerHTML.trim()}function vJe(r,e){var t=r.getAttribute("style");if(t){var n=t.match(fM),i=n[1],a=i.trim().split(" "),o=a[1],l=parseInt(o.replace("level",""),10),c=fJe.test(r.textContent||"");return{id:e,level:l,prev:null,parent:null,children:[],unordered:c,contents:pJe(r)}}return null}function mJe(r,e){if(e.level<r.level)e.children.push(r),r.parent=e;else{for(;e&&e.level!==r.level;)e=e.parent;e&&(r.prev=e,r.parent=e.parent,r.parent&&r.parent.children.push(r))}}function gJe(r){var e=[];return r.forEach(function(t,n){var i=e[n-1],a=vJe(t,n);a&&(i&&mJe(a,i),e.push(a))}),e}function dM(r){var e=r[0].unordered?"ul":"ol",t=document.createElement(e);return r.forEach(function(n){var i=n.children,a=n.contents,o=document.createElement("li");o.innerHTML=a,t.appendChild(o),i.length&&t.appendChild(dM(i))}),t}function yJe(r){var e=gJe(r),t=e.filter(function(n){var i=n.parent;return!i});return dM(t)}function wJe(r){for(;r&&!Om(r);)r=r.nextSibling;return r?!uJe.test(r.className):!0}function bJe(r){var e=document.createElement("div");e.innerHTML=r;var t=[],n=Due(e,dJe);n.forEach(function(a){var o=wJe(a.nextSibling);if(t.push(a),o){var l=yJe(t),c=a.nextSibling;c?Lue(l,c):Aue(e,l),t=[]}Nu(a)});var i=n.length?"<p></p>":"";return""+i+e.innerHTML}var pS="<!--StartFragment-->",kJe="<!--EndFragment-->";function CJe(r){var e=r.indexOf(pS),t=r.lastIndexOf(kJe);return e>-1&&t>-1&&(r=r.slice(e+pS.length,t)),r.replace(/<br[^>]*>/g,JE)}function SJe(r){return/<\/td>((?!<\/tr>)[\s\S])*$/i.test(r)&&(r="<tr>"+r+"</tr>"),/<\/tr>((?!<\/table>)[\s\S])*$/i.test(r)&&(r="<table>"+r+"</table>"),r}function xJe(r){return r=CJe(r),r=SJe(r),hJe(r)&&(r=bJe(r)),r}function TJe(r){var e=r.reduce(function(t,n){return t.childCount>n.childCount?t:n});return e.childCount}function hM(r,e,t){for(var n=[],i=r.childCount,a=0;a<i;a+=1)if(!r.child(a).attrs.extended){var o=a<i?t.create(r.child(a).attrs,r.child(a).content):t.createAndFill();n.push(o)}return n}function pM(r,e,t){var n=t.nodes,i=n.tableRow,a=n.tableHeadCell,o=hM(r,e,a);return i.create(null,o)}function vM(r,e,t){var n=t.nodes,i=n.tableRow,a=n.tableBodyCell,o=hM(r,e,a);return i.create(null,o)}function EJe(r,e){for(var t=e.nodes,n=t.tableRow,i=t.tableBodyCell,a=[],o=0;o<r;o+=1){var l=i.createAndFill();a.push(l)}return n.create({dummyRowForPasting:!0},a)}function mM(r){var e=[],t=[];if(r.firstChild.type.name==="tableHead"){var n=r.firstChild;n.forEach(function(a){return e.push(a)})}if(r.lastChild.type.name==="tableBody"){var i=r.lastChild;i.forEach(function(a){return t.push(a)})}return Ki(Ki([],e),t)}function NJe(r,e,t){var n=pM(r,e,t);return t.nodes.tableHead.create(null,n)}function vS(r,e,t){var n=r.map(function(a){return vM(a,e,t)});if(!r.length){var i=EJe(e,t);n.push(i)}return t.nodes.tableBody.create(null,n)}function MJe(r,e,t,n){var i=TJe(r);if(t&&n)return e.nodes.table.create(null,[vS(r,i,e)]);var a=r[0],o=r.slice(1),l=[NJe(a,i,e)];return o.length&&l.push(vS(o,i,e)),e.nodes.table.create(null,l)}function OJe(r,e,t){var n=[],i=r.content,a=r.openStart,o=r.openEnd;return i.forEach(function(l){if(l.type.name==="table"){var c=sM(new gt(nt.from(l),0,0));if(c){var f=mM(c),v=c.firstChild.type.name==="tableBody",y=MJe(f,e,v,t);n.push(y)}}else n.push(l)}),new gt(nt.from(n),a,o)}var DJe=4,AJe=2;function Ev(r){return r*DJe}function LJe(r,e,t){var n=[],i=mM(r),a=i[0].childCount,o=i.length,l=e.startRowIdx===0,c=i.slice(0,o);if(l){var f=c.shift();if(f){var v=pM(f,a,t).content;n.push(v)}}return c.forEach(function(y){if(!y.attrs.dummyRowForPasting){var T=vM(y,a,t).content;n.push(T)}}),n}function RJe(r,e,t){for(var n=e.startRowIdx,i=e.startColIdx,a=t.length,o=0,l=function(N){var E=t[N].childCount;t[N].forEach(function(P){var L=P.attrs,$=L.colspan;$>1&&(E+=$-1)}),o=Math.max(o,E)},c=0;c<a;c+=1)l(c);var f=n+a-1,v=i+o-1,y=Math.max(f+1-r.totalRowCount,0),T=Math.max(v+1-r.totalColumnCount,0);return{startRowIdx:n,startColIdx:i,endRowIdx:f,endColIdx:v,addedRowCount:y,addedColumnCount:T}}function IJe(r,e){for(var t=r.startRowIdx,n=r.startColIdx,i=r.endRowIdx,a=r.endColIdx,o=r.addedRowCount,l=r.addedColumnCount,c=t;c<=i-o;c+=1)e.push({rowIdx:c,startColIdx:n,endColIdx:a-l})}function PJe(r,e,t,n,i){for(var a=n.startRowIdx,o=n.startColIdx,l=n.endRowIdx,c=n.endColIdx,f=n.addedRowCount,v=n.addedColumnCount,y=t.totalRowCount,T=0,N=0;N<y;N+=1){var E=t.getCellInfo(N,c-v),P=E.offset,L=E.nodeSize,$=r.mapping.map(P+L),ee=Tv(v,N,e);if(r.insert($,ee),N>=a&&N<=l-f){var re=t.getCellInfo(N,c-v),se=r.mapping.map(re.offset),ve=$+Ev(v);i[T]={rowIdx:N,startColIdx:o,endColIdx:c,dummyOffsets:[se,ve]},T+=1}}}function BJe(r,e,t,n,i){var a=n.addedRowCount,o=n.addedColumnCount,l=n.startColIdx,c=n.endColIdx,f=r.mapping.maps.length,v=t.tableEndOffset-2,y=iM(a,t.totalColumnCount+o,e),T=v;r.insert(r.mapping.slice(f).map(T),y);for(var N=0;N<a;N+=1){var E=T+Ev(l)+1,P=T+Ev(c+1)+1,L=T+Ev(t.totalColumnCount+o)+AJe;i.push({rowIdx:N+t.totalRowCount,startColIdx:l,endColIdx:c,dummyOffsets:[E,P]}),T=L}}function _Je(r,e,t,n){var i=r.mapping.maps.length;t.forEach(function(a,o){var l=a.rowIdx,c=a.startColIdx,f=a.endColIdx,v=a.dummyOffsets,y=r.mapping.slice(i),T=new gt(e[o],0,0),N=v?v[0]:n.getCellStartOffset(l,c),E=v?v[1]:n.getCellEndOffset(l,f);r.replace(y.map(N),y.map(E),T)})}function FJe(r,e){var t=r.state,n=t.selection,i=t.schema,a=t.tr,o=xo(n),l=o.anchor,c=o.head;if(l&&c){var f=sM(e);if(!f)return!1;var v=Kn.create(l),y=v.getRectOffsets(l,c),T=LJe(f,y,i),N=RJe(v,y,T),E=[];return HJe(v,N)&&(IJe(N,E),N.addedColumnCount&&PJe(a,i,v,N,E),N.addedRowCount&&BJe(a,i,v,N,E),_Je(a,T,E,v),r.dispatch(a),qJe(r,E,v.getCellInfo(0,0).offset)),!0}return!1}function qJe(r,e,t){var n=r.state,i=n.tr,a=n.doc,o=Kn.create(a.resolve(t)),l=e[0],c=l.rowIdx,f=l.startColIdx,v=gi(e),y=v.rowIdx,T=v.endColIdx,N=o.getCellInfo(c,f).offset,E=o.getCellInfo(y,T).offset;r.dispatch(i.setSelection(new Xw(a.resolve(N),a.resolve(E))))}function HJe(r,e){var t=r.getSpannedOffsets(e),n=Yc(t),i=n.rowCount,a=n.columnCount,o=Yc(e),l=o.rowCount,c=o.columnCount;return i===l&&a===c}var zJe=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),e}($r),$Je=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"inline*",group:"block",attrs:He({},qn()),parseDOM:[{tag:"p"}],toDOM:function(t){var n=t.attrs;return["p",dn(n),0]}}},enumerable:!1,configurable:!0}),e}($r),VJe=/\s{1,4}$/,UJe=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),e.prototype.addSpaces=function(){return function(t,n){var i=t.selection,a=t.tr,o=i.$from,l=i.$to,c=o.blockRange(l);return c&&!pf(o)&&!am(o)?(n(a.insertText("    ",o.pos,l.pos)),!0):!1}},e.prototype.removeSpaces=function(){return function(t,n){var i=t.selection,a=t.tr,o=i.$from,l=i.$to,c=i.from,f=o.blockRange(l);if(f&&!pf(o)&&!am(o)){var v=o.nodeBefore;if(v&&v.isText){var y=v.text,T=y.replace(VJe,""),N=y.length-T.length;return n(a.delete(c-N,c)),!0}}return!1}},e.prototype.keymaps=function(){return{Tab:this.addSpaces(),"Shift-Tab":this.removeSpaces()}},e}($r),jJe=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"levels",{get:function(){return[1,2,3,4,5,6]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=this.levels.map(function(n){return{tag:"h"+n,getAttrs:function(i){var a=i.getAttribute("data-raw-html");return He({level:n},a&&{rawHTML:a})}}});return{attrs:He({level:{default:1},headingType:{default:"atx"},rawHTML:{default:null}},qn()),content:"inline*",group:"block",defining:!0,parseDOM:t,toDOM:function(n){var i=n.attrs;return["h"+i.level,dn(i),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(t){return function(n,i){var a=n.schema.nodes[t.level?"heading":"paragraph"];return Cw(a,t)(n,i)}}},e}($r),WJe=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:He({language:{default:null},rawHTML:{default:null}},qn()),code:!0,defining:!0,marks:"",parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:function(t){var n=t.getAttribute("data-raw-html"),i=t.firstElementChild;return He({language:i?.getAttribute("data-language")||null},n&&{rawHTML:n})}}],toDOM:function(t){var n=t.attrs;return[n.rawHTML||"pre",["code",He({"data-language":n.language},dn(n)),0]]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){return Cw(t.schema.nodes.codeBlock)(t,n)}}},e.prototype.moveCursor=function(t){var n=this;return function(i,a){var o=i.tr,l=i.doc,c=i.schema,f=i.selection.$from,v=n.context.view;if(v.endOfTextblock(t)&&f.node().type.name==="codeBlock"){var y=f.parent.textContent.split(`
`),T=t==="up"?f.start():f.end(),N=t==="up"?[T,y[0].length+T]:[T-gi(y).length,T],E=l.resolve(t==="up"?f.before():f.after()),P=t==="up"?E.nodeBefore:E.nodeAfter;if(Yle(f.pos,N[0],N[1])&&!P){var L=Aw(o,E,c);if(L)return a(L),!0}}return!1}},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-p":t,"Shift-Mod-P":t,ArrowUp:this.moveCursor("up"),ArrowDown:this.moveCursor("down")}},e}($r),GJe=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"bulletList"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:He({rawHTML:{default:null}},qn()),parseDOM:[Bm("ul")],toDOM:function(t){var n=t.attrs;return["ul",dn(n),0]}}},enumerable:!1,configurable:!0}),e.prototype.changeList=function(){return function(t,n){return nM(t.schema.nodes.bulletList)(t,n)}},e.prototype.commands=function(){return{bulletList:this.changeList,taskList:MGe}},e.prototype.keymaps=function(){var t=this.changeList(),n=Qw(),i=n.indent,a=n.outdent;return{"Mod-u":t,"Mod-U":t,Tab:i(),"Shift-Tab":a()}},e}($r),JJe=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"orderedList"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:He({order:{default:1},rawHTML:{default:null}},qn()),parseDOM:[{tag:"ol",getAttrs:function(t){var n=t.getAttribute("start"),i=t.getAttribute("data-raw-html");return He({order:t.hasAttribute("start")?Number(n):1},i&&{rawHTML:i})}}],toDOM:function(t){var n=t.attrs;return[n.rawHTML||"ol",He({start:n.order===1?null:n.order},dn(n)),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){return nM(t.schema.nodes.orderedList)(t,n)}}},e.prototype.keymaps=function(){var t=this.commands()(),n=Qw(),i=n.indent,a=n.outdent;return{"Mod-o":t,"Mod-O":t,Tab:i(),"Shift-Tab":a()}},e}($r),KJe=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"paragraph block*",selectable:!1,attrs:{task:{default:!1},checked:{default:!1},rawHTML:{default:null}},defining:!0,parseDOM:[{tag:"li",getAttrs:function(t){var n=t.getAttribute("data-raw-html");return He({task:t.hasAttribute("data-task"),checked:t.hasAttribute("data-task-checked")},n&&{rawHTML:n})}}],toDOM:function(t){var n=t.attrs,i=n.task,a=n.checked;if(!i)return[n.rawHTML||"li",0];var o=["task-list-item"];return a&&o.push("checked"),[n.rawHTML||"li",He({class:o.join(" "),"data-task":i},a&&{"data-task-checked":a}),0]}}},enumerable:!1,configurable:!0}),e.prototype.liftToPrevListItem=function(){return function(t,n){var i=t.selection,a=t.tr,o=t.schema,l=i.$from,c=i.empty,f=o.nodes.listItem,v=l.parent,y=l.node(-1);if(c&&!v.childCount&&y.type===f){if(l.index(-2)>=1)return a.delete(l.start(-1)-1,l.end(-1)),n(a),!0;var T=l.node(-3);if(T.type===f)return a.delete(l.start(-2)-1,l.end(-1)),n(a),!0}return!1}},e.prototype.keymaps=function(){var t=function(n,i){return RGe(n.schema.nodes.listItem)(n,i)};return{Backspace:this.liftToPrevListItem(),Enter:t}},e}($r),QJe=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:He({rawHTML:{default:null}},qn()),content:"block+",group:"block",parseDOM:[Bm("blockquote")],toDOM:function(t){var n=t.attrs;return["blockquote",dn(n),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){return Hse(t.schema.nodes.blockQuote)(t,n)}}},e.prototype.keymaps=function(){var t=this.commands()();return{"Alt-q":t,"Alt-Q":t}},e}($r),XJe={left:aKe,right:iKe,up:oKe,down:sKe};function YJe(r,e,t){var n=t[0],i=t[1],a=e.resolve(r.before(n-1));return i===n&&!a.nodeBefore}function ZJe(r){for(var e,t=r.depth,n;t&&(n=r.node(t),n.type.name!=="tableBodyCell");){if(n.type.name==="listItem"){var i=r.node(t-1),a=i.lastChild===n,o=((e=n.lastChild)===null||e===void 0?void 0:e.type.name)!=="paragraph";return a?!o:!1}t-=1}return!1}function eKe(r,e,t,n,i){var a=e[0],o=e[1],l=e[2];if(r==="left"||r==="up"){if(i&&!YJe(t,n,[a,o]))return!1;var c=t.before(l),f=n.resolve(c).nodeBefore;if(f)return!1}return!0}function tKe(r,e,t,n,i){if(r==="right"||r==="down"){if(i&&!ZJe(t))return!1;var a=t.after(e),o=n.resolve(a).nodeAfter;if(o)return!1}return!0}function rKe(r,e,t,n){var i=e[0],a=e[1],o=i+3,l=a>=o,c=l?i+1:a,f=eKe(r,[a,o,c],t,n,l),v=tKe(r,c,t,n,l);return f&&v}function mS(r,e,t){var n=t[0],i=t[1],a=e.getRowspanStartInfo(n,i),o=r==="up"&&n===0,l=r==="down"&&(a?.count>1?n+a.count-1:n)===e.totalRowCount-1;return o||l}function nKe(r,e,t){var n=r.doc.resolve(e.tableStartOffset-1);return n.nodeBefore?r.setSelection(fr.near(n,-1)):Aw(r,n,t)}function Gy(r,e,t,n){n===void 0&&(n=!1);var i=r.doc.resolve(e.tableEndOffset);return n||!i.nodeAfter?Aw(r,i,t):r.setSelection(fr.near(i,1))}function iKe(r,e){var t=r[0],n=r[1],i=e.totalRowCount,a=e.totalColumnCount,o=n===a-1,l=t===i-1&&o;if(!l){var c=n+1,f=e.getColspanStartInfo(t,n);f?.count>1&&(c+=f.count-1),(o||c===a)&&(t+=1,c=0);var v=e.getCellInfo(t,c).offset;return v+2}return null}function aKe(r,e){var t=r[0],n=r[1],i=e.totalColumnCount,a=n===0,o=t===0&&a;if(!o){n-=1,a&&(t-=1,n=i-1);var l=e.getCellInfo(t,n),c=l.offset,f=l.nodeSize;return c+f-2}return null}function oKe(r,e){var t=r[0],n=r[1];if(t>0){var i=e.getCellInfo(t-1,n),a=i.offset,o=i.nodeSize;return a+o-2}return null}function sKe(r,e){var t=r[0],n=r[1],i=e.totalRowCount;if(t<i-1){var a=t+1,o=e.getRowspanStartInfo(t,n);o?.count>1&&(a+=o.count-1);var l=e.getCellInfo(a,n).offset;return l+2}return null}function gS(r,e,t,n){var i=XJe[r],a=i(t,n);if(a){var o=r==="right"||r==="down"?1:-1;return e.setSelection(fr.near(e.doc.resolve(a),o))}return null}function lKe(r,e,t){var n=t[0],i=t[1];if(r==="up"||r==="down")return!1;var a=e.tableStartOffset,o=e.tableEndOffset,l=e.getCellInfo(n,i),c=l.offset,f=l.nodeSize,v=r==="left"?a:o,y=r==="left"?c-2:c+f+3;return v===y}function uKe(r,e,t){var n=r.doc.resolve(e.before(t-3));return r.setSelection(new er(n))}function cKe(r,e,t){var n,i,a;return r==="up"?(n=t.startRowIdx,i=0,a=-1):(n=t.endRowIdx,i=e.totalColumnCount-1,a=e.getCellInfo(n,i).nodeSize+1),{targetRowIdx:n,insertColIdx:i,nodeSize:a}}function fKe(r,e,t){var n=r.getCellInfo(e,0).offset,i=r.getCellInfo(e,t-1),a=i.offset,o=i.nodeSize;return{from:n,to:a+o}}var dKe=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableHead{1} tableBody{1}",group:"block",attrs:He({rawHTML:{default:null}},qn()),parseDOM:[Bm("table")],toDOM:function(t){var n=t.attrs;return["table",dn(n),0]}}},enumerable:!1,configurable:!0}),e.prototype.addTable=function(){return function(t){return t===void 0&&(t={rowCount:2,columnCount:1,data:[]}),function(n,i){var a=t.rowCount,o=t.columnCount,l=t.data,c=n.schema,f=n.selection,v=n.tr,y=f.from,T=f.to,N=f.$from,E=y===T;if(E&&!am(N)){var P=c.nodes,L=P.tableHead,$=P.tableBody,ee=l?.slice(0,o),re=l?.slice(o,l.length),se=qGe(o,c,ee),ve=iM(a-1,o,c,re),le=c.nodes.table.create(null,[L.create(null,se),$.create(null,ve)]);return i(v.replaceSelectionWith(le)),!0}return!1}}},e.prototype.removeTable=function(){return function(){return function(t,n){var i=t.selection,a=t.tr,o=Kn.create(i.$anchor);if(o){var l=o.tableStartOffset,c=o.tableEndOffset,f=l-1,v=Jr(a.delete(f,c),f);return n(a.setSelection(v)),!0}return!1}}},e.prototype.addColumn=function(t){return function(){return function(n,i){var a=n.selection,o=n.tr,l=n.schema,c=xo(a),f=c.anchor,v=c.head;if(f&&v){for(var y=Kn.create(f),T=y.getRectOffsets(f,v),N=t==="left"?T.startColIdx:T.endColIdx+1,E=Yc(T).columnCount,P=y.totalRowCount,L=0;L<P;L+=1){var $=Tv(E,L,l);o.insert(o.mapping.map(y.posAt(L,N)),$)}return i(o),!0}return!1}}},e.prototype.removeColumn=function(){return function(){return function(t,n){var i=t.selection,a=t.tr,o=xo(i),l=o.anchor,c=o.head;if(l&&c){var f=Kn.create(l),v=f.getRectOffsets(l,c),y=f.totalColumnCount,T=f.totalRowCount,N=Yc(v).columnCount,E=N===y;if(E)return!1;for(var P=v.startColIdx,L=v.endColIdx,$=a.mapping.maps.length,ee=0;ee<T;ee+=1)for(var re=L;re>=P;re-=1){var se=f.getCellInfo(ee,re),ve=se.offset,le=se.nodeSize,ke=a.mapping.slice($).map(ve),we=ke+le;a.delete(ke,we)}return n(a),!0}return!1}}},e.prototype.addRow=function(t){return function(){return function(n,i){var a=n.selection,o=n.schema,l=n.tr,c=xo(a),f=c.anchor,v=c.head;if(f&&v){var y=Kn.create(f),T=y.totalColumnCount,N=y.getRectOffsets(f,v),E=Yc(N).rowCount,P=cKe(t,y,N),L=P.targetRowIdx,$=P.insertColIdx,ee=P.nodeSize,re=L===0;if(!re){for(var se=[],ve=l.mapping.map(y.posAt(L,$))+ee,le=[],ke=0;ke<T;ke+=1)le=le.concat(Tv(1,L,o));for(var we=0;we<E;we+=1)se.push(o.nodes.tableRow.create(null,le));return i(l.insert(ve,se)),!0}}return!1}}},e.prototype.removeRow=function(){return function(){return function(t,n){var i=t.selection,a=t.tr,o=xo(i),l=o.anchor,c=o.head;if(l&&c){var f=Kn.create(l),v=f.totalRowCount,y=f.totalColumnCount,T=f.getRectOffsets(l,c),N=Yc(T).rowCount,E=T.startRowIdx,P=T.endRowIdx,L=E===0,$=N===v-1;if($||L)return!1;for(var ee=P;ee>=E;ee-=1){var re=fKe(f,ee,y),se=re.from,ve=re.to;a.delete(se-1,ve+1)}return n(a),!0}return!1}}},e.prototype.alignColumn=function(){return function(t){return t===void 0&&(t={align:"center"}),function(n,i){var a=t.align,o=n.selection,l=n.tr,c=xo(o),f=c.anchor,v=c.head;if(f&&v){for(var y=Kn.create(f),T=y.totalRowCount,N=y.getRectOffsets(f,v),E=N.startColIdx,P=N.endColIdx,L=0;L<T;L+=1)for(var $=E;$<=P;$+=1)if(!y.extendedRowspan(L,$)&&!y.extendedColspan(L,$)){var ee=y.getNodeAndPos(L,$),re=ee.node,se=ee.pos,ve=HGe(re,{align:a});l.setNodeMarkup(se,null,ve)}return i(l),!0}return!1}}},e.prototype.moveToCell=function(t){return function(n,i){var a=n.selection,o=n.tr,l=n.schema,c=xo(a),f=c.anchor,v=c.head;if(f&&v){var y=Kn.create(f),T=y.getCellIndex(f),N=void 0;if(mS(t,y,T)?N=Gy(o,y,l):N=gS(t,o,T,y),N)return i(N),!0}return!1}},e.prototype.moveInCell=function(t){var n=this;return function(i,a){var o=i.selection,l=i.tr,c=i.doc,f=i.schema,v=o.$from,y=n.context.view;if(!y.endOfTextblock(t))return!1;var T=cs(v,function(re){var se=re.type;return se.name==="tableHeadCell"||se.name==="tableBodyCell"});if(T){var N=cs(v,function(re){var se=re.type;return se.name==="paragraph"}),E=T.depth;if(N&&rKe(t,[E,N.depth],v,c)){var P=xo(o).anchor,L=Kn.create(P),$=L.getCellIndex(P),ee=void 0;if(lKe(t,L,$)?ee=uKe(l,v,E):mS(t,L,$)?t==="up"?ee=nKe(l,L,f):t==="down"&&(ee=Gy(l,L,f)):ee=gS(t,l,$,L),ee)return a(ee),!0}}return!1}},e.prototype.deleteCells=function(){return function(t,n){var i=t.schema,a=t.selection,o=t.tr,l=xo(a),c=l.anchor,f=l.head,v=a instanceof vr;if(c&&f&&!v){for(var y=Kn.create(c),T=y.getRectOffsets(c,f),N=T.startRowIdx,E=T.startColIdx,P=T.endRowIdx,L=T.endColIdx,$=N;$<=P;$+=1)for(var ee=E;ee<=L;ee+=1)if(!y.extendedRowspan($,ee)&&!y.extendedColspan($,ee)){var re=y.getNodeAndPos($,ee),se=re.node,ve=re.pos,le=Tv(1,$,i,se.attrs);o.replaceWith(o.mapping.map(ve),o.mapping.map(ve+se.nodeSize),le)}return n(o),!0}return!1}},e.prototype.exitTable=function(){return function(t,n){var i=t.selection,a=t.tr,o=t.schema,l=i.$from,c=cs(l,function(T){var N=T.type;return N.name==="tableHeadCell"||N.name==="tableBodyCell"});if(c){var f=cs(l,function(T){var N=T.type;return N.name==="paragraph"});if(f){var v=xo(i).anchor,y=Kn.create(v);return n(Gy(a,y,o,!0)),!0}}return!1}},e.prototype.commands=function(){return{addTable:this.addTable(),removeTable:this.removeTable(),addColumnToLeft:this.addColumn("left"),addColumnToRight:this.addColumn("right"),removeColumn:this.removeColumn(),addRowToUp:this.addRow("up"),addRowToDown:this.addRow("down"),removeRow:this.removeRow(),alignColumn:this.alignColumn()}},e.prototype.keymaps=function(){var t=this.deleteCells();return{Tab:this.moveToCell("right"),"Shift-Tab":this.moveToCell("left"),ArrowUp:this.moveInCell("up"),ArrowDown:this.moveInCell("down"),ArrowLeft:this.moveInCell("left"),ArrowRight:this.moveInCell("right"),Backspace:t,"Mod-Backspace":t,Delete:t,"Mod-Delete":t,"Mod-Enter":this.exitTable()}},e}($r),hKe=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableHead"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableRow{1}",attrs:He({rawHTML:{default:null}},qn()),parseDOM:[Bm("thead")],toDOM:function(t){var n=t.attrs;return["thead",dn(n),0]}}},enumerable:!1,configurable:!0}),e}($r),pKe=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableBody"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableRow+",attrs:He({rawHTML:{default:null}},qn()),parseDOM:[{tag:"tbody",getAttrs:function(t){var n=t.querySelectorAll("tr"),i=n[0].children.length,a=t.getAttribute("data-raw-html");return i?He({},a&&{rawHTML:a}):!1}}],toDOM:function(t){var n=t.attrs;return["tbody",dn(n),0]}}},enumerable:!1,configurable:!0}),e}($r),vKe=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableRow"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"(tableHeadCell | tableBodyCell)*",attrs:He({rawHTML:{default:null}},qn()),parseDOM:[{tag:"tr",getAttrs:function(t){var n=t.children.length,i=t.getAttribute("data-raw-html");return n?He({},i&&{rawHTML:i}):!1}}],toDOM:function(t){var n=t.attrs;return["tr",dn(n),0]}}},enumerable:!1,configurable:!0}),e}($r),mKe=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableHeadCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"paragraph+",attrs:He({align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},extended:{default:null}},qn()),isolating:!0,parseDOM:[eM("th")],toDOM:function(t){var n=t.attrs,i=ZN(n);return["th",He(He({},i),dn(n)),0]}}},enumerable:!1,configurable:!0}),e}($r),gKe=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableBodyCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"(paragraph | bulletList | orderedList)+",attrs:{align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},rowspan:{default:null},extended:{default:null}},isolating:!0,parseDOM:[eM("td")],toDOM:function(t){var n=t.attrs,i=ZN(n);return["td",i,0]}}},enumerable:!1,configurable:!0}),e}($r),yKe=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"image"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{inline:!0,attrs:He({imageUrl:{default:""},altText:{default:null},rawHTML:{default:null}},qn()),group:"inline",selectable:!1,parseDOM:[{tag:"img[src]",getAttrs:function(t){var n=Du(t,{RETURN_DOM_FRAGMENT:!0}).firstChild,i=n.getAttribute("src")||"",a=n.getAttribute("data-raw-html"),o=n.getAttribute("alt");return He({imageUrl:i,altText:o},a&&{rawHTML:a})}}],toDOM:function(t){var n=t.attrs;return[n.rawHTML||"img",He(He({src:Xc(n.imageUrl)},n.altText&&{alt:n.altText}),dn(n))]}}},enumerable:!1,configurable:!0}),e.prototype.addImage=function(){return function(t){return function(n,i){var a=n.schema,o=n.tr,l=t,c=l.imageUrl,f=l.altText;if(!c)return!1;var v=a.nodes.image.createAndFill(He({imageUrl:c},f&&{altText:f}));return i(o.replaceSelectionWith(v).scrollIntoView()),!0}}},e.prototype.commands=function(){return{addImage:this.addImage()}},e}($r),yS=1,wKe=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:He({rawHTML:{default:null}},qn()),group:"block",parseDOM:[{tag:"hr"}],selectable:!1,toDOM:function(t){var n=t.attrs;return["div",dn(n),[n.rawHTML||"hr"]]}}},enumerable:!1,configurable:!0}),e.prototype.hr=function(){var t=this;return function(){return function(n,i){var a,o=n.selection,l=o.$from,c=o.$to;if(l===c){var f=n.doc,v=n.schema.nodes,y=v.thematicBreak,T=v.paragraph,N=[y.create()],E=l.node(yS),P=f.child(f.childCount-1)===E,L=f.resolve(l.after(yS)),$=((a=l.nodeAfter)===null||a===void 0?void 0:a.type.name)===t.name;return(P||$)&&N.push(T.create()),i(n.tr.insert(L.pos,N).scrollIntoView()),!0}return!1}}},e.prototype.commands=function(){return{hr:this.hr()}},e.prototype.keymaps=function(){var t=this.hr()();return{"Mod-l":t,"Mod-L":t}},e}($r),bKe=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=["b","strong"].map(function(n){return{tag:n,getAttrs:function(i){var a=i.getAttribute("data-raw-html");return He({},a&&{rawHTML:a})}}});return{attrs:He({rawHTML:{default:null}},qn()),parseDOM:t,toDOM:function(n){var i=n.attrs;return[i.rawHTML||"strong",dn(i)]}}},enumerable:!1,configurable:!0}),e.prototype.bold=function(){return function(){return function(t,n){return kh(t.schema.marks.strong)(t,n)}}},e.prototype.commands=function(){return{bold:this.bold()}},e.prototype.keymaps=function(){var t=this.bold()();return{"Mod-b":t,"Mod-B":t}},e}(Kr),kKe=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=["i","em"].map(function(n){return{tag:n,getAttrs:function(i){var a=i.getAttribute("data-raw-html");return He({},a&&{rawHTML:a})}}});return{attrs:He({rawHTML:{default:null}},qn()),parseDOM:t,toDOM:function(n){var i=n.attrs;return[i.rawHTML||"em",dn(i)]}}},enumerable:!1,configurable:!0}),e.prototype.italic=function(){return function(){return function(t,n){return kh(t.schema.marks.emph)(t,n)}}},e.prototype.commands=function(){return{italic:this.italic()}},e.prototype.keymaps=function(){var t=this.italic()();return{"Mod-i":t,"Mod-I":t}},e}(Kr),CKe=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=["s","del"].map(function(n){return{tag:n,getAttrs:function(i){var a=i.getAttribute("data-raw-html");return He({},a&&{rawHTML:a})}}});return{attrs:He({rawHTML:{default:null}},qn()),parseDOM:t,toDOM:function(n){var i=n.attrs;return[i.rawHTML||"del",dn(i)]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){return kh(t.schema.marks.strike)(t,n)}}},e.prototype.keymaps=function(){var t=this.commands()();return{"Mod-s":t,"Mod-S":t}},e}(Kr),SKe=function(r){Ct(e,r);function e(t){var n=r.call(this)||this;return n.linkAttributes=t,n}return Object.defineProperty(e.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=this;return{attrs:He({linkUrl:{default:""},title:{default:null},rawHTML:{default:null}},qn()),inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(n){var i=Du(n,{RETURN_DOM_FRAGMENT:!0}).firstChild,a=i.getAttribute("href")||"",o=i.getAttribute("title")||"",l=i.getAttribute("data-raw-html");return He({linkUrl:a,title:o},l&&{rawHTML:l})}}],toDOM:function(n){var i=n.attrs;return[i.rawHTML||"a",He(He({href:Xc(i.linkUrl)},t.linkAttributes),dn(i))]}}},enumerable:!1,configurable:!0}),e.prototype.addLink=function(){return function(t){return function(n,i){var a=t,o=a.linkUrl,l=a.linkText,c=l===void 0?"":l,f=n.schema,v=n.tr,y=n.selection,T=y.empty,N=y.from,E=y.to;if(N&&E&&o){var P={linkUrl:o},L=f.mark("link",P);if(T&&c){var $=Zn(f,c,L);v.replaceRangeWith(N,E,$)}else v.addMark(N,E,L);return i(v.scrollIntoView()),!0}return!1}}},e.prototype.toggleLink=function(){return function(t){return function(n,i){return kh(n.schema.marks.link,t)(n,i)}}},e.prototype.commands=function(){return{addLink:this.addLink(),toggleLink:this.toggleLink()}},e}(Kr),xKe=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:He({rawHTML:{default:null}},qn()),parseDOM:[{tag:"code",getAttrs:function(t){var n=t.getAttribute("data-raw-html");return He({},n&&{rawHTML:n})}}],toDOM:function(t){var n=t.attrs;return[n.rawHTML||"code",dn(n)]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){return kh(t.schema.marks.code)(t,n)}}},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-c":t,"Shift-Mod-C":t}},e}(Kr),TKe=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:{info:{default:null}},atom:!0,code:!0,defining:!0,parseDOM:[{tag:"div[data-custom-info]",getAttrs:function(t){var n=t.getAttribute("data-custom-info");return{info:n}}}],toDOM:function(t){var n=t.attrs;return["div",{"data-custom-info":n.info||null},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(t){return function(n,i){return t?.info?Cw(n.schema.nodes.customBlock,t)(n,i):!1}}},e}($r),EKe=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"frontMatter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,defining:!0,parseDOM:[{preserveWhitespace:"full",tag:"div[data-front-matter]"}],toDOM:function(){return["div",{"data-front-matter":"true"},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n,i){var a=t.selection.$from;return i.endOfTextblock("down")&&a.node().type.name==="frontMatter"?kw(t,n):!1}}},e.prototype.keymaps=function(){return{Enter:this.commands()()}},e}($r),NKe=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"htmlComment"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,defining:!0,parseDOM:[{preserveWhitespace:"full",tag:"div[data-html-comment]"}],toDOM:function(){return["div",{"data-html-comment":"true"},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n,i){var a=t.selection.$from;return i.endOfTextblock("down")&&a.node().type.name==="htmlComment"?kw(t,n):!1}}},e.prototype.keymaps=function(){return{Enter:this.commands()()}},e}($r);function MKe(r){return new nN([new zJe,new $Je,new UJe,new jJe,new WJe,new GJe,new JJe,new KJe,new QJe,new dKe,new hKe,new pKe,new vKe,new mKe,new gKe,new yKe,new wKe,new bKe,new kKe,new CKe,new SKe(r),new xKe,new TKe,new EKe,new tN,new NKe])}var OKe=Dt("contents"),DKe=function(r){Ct(e,r);function e(t,n){var i=r.call(this,t)||this,a=n.toDOMAdaptor,o=n.htmlSchemaMap,l=o===void 0?{}:o,c=n.linkAttributes,f=c===void 0?{}:c,v=n.useCommandShortcut,y=v===void 0?!0:v,T=n.wwPlugins,N=T===void 0?[]:T,E=n.wwNodeViews,P=E===void 0?{}:E;return i.editorType="wysiwyg",i.el.classList.add("ww-mode"),i.toDOMAdaptor=a,i.linkAttributes=f,i.extraPlugins=N,i.pluginNodeViews=P,i.specs=i.createSpecs(),i.schema=i.createSchema(l),i.context=i.createContext(),i.keymaps=i.createKeymaps(y),i.view=i.createView(),i.commands=i.createCommands(),i.specs.setContext(He(He({},i.context),{view:i.view})),i.initEvent(),i}return e.prototype.createSpecs=function(){return MKe(this.linkAttributes)},e.prototype.createContext=function(){return{schema:this.schema,eventEmitter:this.eventEmitter}},e.prototype.createSchema=function(t){return new ET({nodes:He(He({},this.specs.nodes),t.nodes),marks:He(He({},this.specs.marks),t.marks)})},e.prototype.createPlugins=function(){return Ki([jGe(),KGe(this.eventEmitter),QGe(),nJe(this.eventEmitter)],this.createPluginProps()).concat(this.defaultPlugins)},e.prototype.createPluginNodeViews=function(){var t=this,n=t.eventEmitter,i=t.pluginNodeViews,a={};return i&&Object.keys(i).forEach(function(o){a[o]=function(l,c,f){return i[o](l,c,f,n)}}),a},e.prototype.createView=function(){var t=this,n=this,i=n.toDOMAdaptor,a=n.eventEmitter;return new Sm(this.el,{state:this.createState(),attributes:{class:OKe},nodeViews:He({customBlock:function(o,l,c){return new iJe(o,l,c,i)},image:function(o,l,c){return new aJe(o,l,c,a)},codeBlock:function(o,l,c){return new lJe(o,l,c,a)},widget:eN},this.createPluginNodeViews()),dispatchTransaction:function(o){var l=t.view.state.applyTransaction(o).state;t.view.updateState(l),t.emitChangeEvent(o.scrollIntoView()),t.eventEmitter.emit("setFocusedNode",l.selection.$from.node(1))},transformPastedHTML:xJe,transformPasted:function(o){return OJe(o,t.schema,am(t.view.state.selection.$from))},handlePaste:function(o,l,c){return FJe(o,c)},handleKeyDown:function(o,l){return t.eventEmitter.emit("keydown",t.editorType,l),!1},handleDOMEvents:{paste:function(o,l){var c=l.clipboardData||window.clipboardData,f=c?.items;if(f){var v=Lo(f).some(function(T){return T.kind==="string"&&T.type==="text/rtf"});if(!v){var y=ZE(f);y&&(l.preventDefault(),Fw(t.eventEmitter,y,l.type))}}return!1},keyup:function(o,l){return t.eventEmitter.emit("keyup",t.editorType,l),!1},scroll:function(){return t.eventEmitter.emit("scroll","editor"),!0}}})},e.prototype.createCommands=function(){return this.specs.commands(this.view,Qw())},e.prototype.getHTML=function(){return _w(this.view.dom.innerHTML)},e.prototype.getModel=function(){return this.view.state.doc},e.prototype.getSelection=function(){var t=this.view.state.selection,n=t.from,i=t.to;return[n,i]},e.prototype.getSchema=function(){return this.view.state.schema},e.prototype.replaceSelection=function(t,n,i){var a=this.view.state,o=a.schema,l=a.tr,c=t.split(`
`),f=c.map(function(T){return Kv(o,yu(T,o))}),v=new gt(nt.from(f),1,1),y=ls(n)&&ls(i)?l.replaceRange(n,i,v):l.replaceSelection(v);this.view.dispatch(y),this.focus()},e.prototype.deleteSelection=function(t,n){var i=this.view.state.tr,a=ls(t)&&ls(n)?i.deleteRange(t,n):i.deleteSelection();this.view.dispatch(a.scrollIntoView())},e.prototype.getSelectedText=function(t,n){var i=this.view.state,a=i.doc,o=i.selection,l=o.from,c=o.to;return ls(t)&&ls(n)&&(l=t,c=n),a.textBetween(l,c,`
`)},e.prototype.setModel=function(t,n){n===void 0&&(n=!1);var i=this.view.state,a=i.tr,o=i.doc;this.view.dispatch(a.replaceWith(0,o.content.size,t)),n&&this.moveCursorToEnd(!0)},e.prototype.setSelection=function(t,n){n===void 0&&(n=t);var i=this.view.state.tr,a=Jr(i,t,n);this.view.dispatch(i.setSelection(a).scrollIntoView())},e.prototype.addWidget=function(t,n,i){var a=this.view,o=a.dispatch,l=a.state;o(l.tr.setMeta("widget",{pos:i??l.selection.to,node:t,style:n}))},e.prototype.replaceWithWidget=function(t,n,i){var a=this.view.state,o=a.tr,l=a.schema,c=yu(i,l);this.view.dispatch(o.replaceWith(t,n,c))},e.prototype.getRangeInfoOfNode=function(t){var n=this.view.state,i=n.doc,a=n.selection,o=t?i.resolve(t):a.$from,l=o.marks(),c=o.node(),f=o.start(),v=o.end(),y=c.type.name;if(l.length||y==="paragraph"){var T=l[l.length-1],N=function(E){return E.length?ei(E,T):!0};y=T?T.type.name:"text",c.forEach(function(E,P){var L=E.isText,$=E.nodeSize,ee=E.marks,re=o.pos-f;L&&P<=re&&P+$>=re&&N(ee)&&(f=f+P,v=f+$)})}return{range:[f,v],type:y}},e}(rN),AKe=Ga,LKe=jv;function RKe(r){return!AKe(r)&&!LKe(r)}var IKe=RKe,PKe=IKe;function BKe(r){return PKe(r)&&r!==!1}var _Ke=BKe,FKe=_Ke;function qKe(r){return!FKe(r)}var HKe=qKe,wS=["afterPreviewRender","updatePreview","changeMode","needChangeMode","command","changePreviewStyle","changePreviewTabPreview","changePreviewTabWrite","scroll","contextmenu","show","hide","changeLanguage","changeToolbarState","toggleScrollSync","mixinTableOffsetMapPrototype","setFocusedNode","removePopupWidget","query","openPopup","closePopup","addImageBlobHook","beforePreviewRender","beforeConvertWysiwygToMarkdown","load","loadUI","change","caretChange","destroy","focus","blur","keydown","keyup"],gM=function(){function r(){var e=this;this.events=new lM,this.eventTypes=wS.reduce(function(t,n){return He(He({},t),{type:n})},{}),this.hold=!1,wS.forEach(function(t){e.addEventType(t)})}return r.prototype.listen=function(e,t){var n=this.getTypeInfo(e),i=this.events.get(n.type)||[];if(!this.hasEventType(n.type))throw new Error("There is no event type "+n.type);n.namespace&&(t.namespace=n.namespace),i.push(t),this.events.set(n.type,i)},r.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this.getTypeInfo(e),a=this.events.get(i.type),o=[];return!this.hold&&a&&a.forEach(function(l){var c=l.apply(void 0,t);Ga(c)||o.push(c)}),o},r.prototype.emitReduce=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var a=this.events.get(e);return!this.hold&&a&&a.forEach(function(o){var l=o.apply(void 0,Ki([t],n));HKe(l)||(t=l)}),t},r.prototype.getTypeInfo=function(e){var t=e.split(".");return{type:t[0],namespace:t[1]}},r.prototype.hasEventType=function(e){return!Ga(this.eventTypes[this.getTypeInfo(e).type])},r.prototype.addEventType=function(e){if(this.hasEventType(e))throw new Error("There is already have event type "+e);this.eventTypes[e]=e},r.prototype.removeEventHandler=function(e,t){var n=this,i=this.getTypeInfo(e),a=i.type,o=i.namespace;a&&t?this.removeEventHandlerWithHandler(a,t):a&&!o?this.events.delete(a):!a&&o?this.events.forEach(function(l,c){n.removeEventHandlerWithTypeInfo(c,o)}):a&&o&&this.removeEventHandlerWithTypeInfo(a,o)},r.prototype.removeEventHandlerWithHandler=function(e,t){var n=this.events.get(e);if(n){var i=n.indexOf(t);n.indexOf(t)>=0&&n.splice(i,1)}},r.prototype.removeEventHandlerWithTypeInfo=function(e,t){var n=[],i=this.events.get(e);i&&(i.map(function(a){return a.namespace!==t&&n.push(a),null}),this.events.set(e,n))},r.prototype.getEvents=function(){return this.events},r.prototype.holdEventInvoke=function(e){this.hold=!0,e(),this.hold=!1},r}(),zKe=function(){function r(e,t,n,i){this.eventEmitter=e,this.mdCommands=t,this.wwCommands=n,this.getEditorType=i,this.initEvent()}return r.prototype.initEvent=function(){var e=this;this.eventEmitter.listen("command",function(t,n){e.exec(t,n)})},r.prototype.addCommand=function(e,t,n){e==="markdown"?this.mdCommands[t]=n:this.wwCommands[t]=n},r.prototype.deleteCommand=function(e,t){e==="markdown"?delete this.mdCommands[t]:delete this.wwCommands[t]},r.prototype.exec=function(e,t){var n=this.getEditorType();n==="markdown"?this.mdCommands[e](t):this.wwCommands[e](t)},r}();function Nv(r){return r[r.length-1]===`
`?r.slice(0,r.length-1):r}function j0(r,e){var t=r.schema,n=e.literal,i=n.match(cf);if(i){var a=i[1],o=i[3],l=(a||o).toLowerCase();return e.type==="htmlInline"&&!!(t.marks[l]||t.nodes[l])}return!1}function W0(r){var e=r.type;return ei(["text","strong","emph","strike","image","link","code"],e)}function bS(r){return r?.type==="softbreak"}function Hd(r){var e=r.type,t=r.literal,n=e==="htmlInline"&&t.match(cf);if(n){var i=n[1],a=n[3],o=i||a;if(o)return ei(["ul","ol","li"],o.toLowerCase())}return!1}function $Ke(r){var e=r.literal,t=/data-task/.test(e),n=/data-task-checked/.test(e);return{task:t,checked:n}}function kS(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var n=document.createElement("div");n.innerHTML=Du(r);var i=n.firstChild;return e.map(function(a){return i.getAttribute(a)||""})}function VKe(r){var e={};return Object.keys(r).forEach(function(t){var n=t.split(", ");n.forEach(function(i){var a=i.toLowerCase();e[a]=r[t]})}),e}var UKe={"b, strong":function(r,e,t){var n=r.schema.marks.strong;t?r.openMark(n.create({rawHTML:t})):r.closeMark(n)},"i, em":function(r,e,t){var n=r.schema.marks.emph;t?r.openMark(n.create({rawHTML:t})):r.closeMark(n)},"s, del":function(r,e,t){var n=r.schema.marks.strike;t?r.openMark(n.create({rawHTML:t})):r.closeMark(n)},code:function(r,e,t){var n=r.schema.marks.code;t?r.openMark(n.create({rawHTML:t})):r.closeMark(n)},a:function(r,e,t){var n=e.literal,i=r.schema.marks.link;if(t){var a=kS(n,"href")[0];r.openMark(i.create({linkUrl:a,rawHTML:t}))}else r.closeMark(i)},img:function(r,e,t){var n=e.literal;if(t){var i=kS(n,"src","alt"),a=i[0],o=i[1],l=r.schema.nodes.image;r.addNode(l,He({rawHTML:t,imageUrl:a},o&&{altText:o}))}},hr:function(r,e,t){r.addNode(r.schema.nodes.thematicBreak,{rawHTML:t})},br:function(r,e){var t=r.schema.nodes.paragraph,n=e.parent,i=e.prev,a=e.next;n?.type==="paragraph"?(bS(i)&&r.openNode(t),bS(a)?r.closeNode():a&&(r.closeNode(),r.openNode(t))):n?.type==="tableCell"&&(i&&(W0(i)||j0(r,i))&&r.closeNode(),a&&(W0(a)||j0(r,a))&&r.openNode(t))},pre:function(r,e,t){var n,i,a=document.createElement("div");a.innerHTML=e.literal;var o=(i=(n=a.firstChild)===null||n===void 0?void 0:n.firstChild)===null||i===void 0?void 0:i.textContent;r.openNode(r.schema.nodes.codeBlock,{rawHTML:t}),r.addText(Nv(o)),r.closeNode()},"ul, ol":function(r,e,t){if(e.parent.type==="tableCell"){var n=r.schema.nodes,i=n.bulletList,a=n.orderedList,o=n.paragraph,l=t==="ul"?i:a;t?(e.prev&&!Hd(e.prev)&&r.closeNode(),r.openNode(l,{rawHTML:t})):(r.closeNode(),e.next&&!Hd(e.next)&&r.openNode(o))}},li:function(r,e,t){var n;if(((n=e.parent)===null||n===void 0?void 0:n.type)==="tableCell"){var i=r.schema.nodes,a=i.listItem,o=i.paragraph;if(t){var l=$Ke(e);e.prev&&!Hd(e.prev)&&r.closeNode(),r.openNode(a,He({rawHTML:t},l)),e.next&&!Hd(e.next)&&r.openNode(o)}else e.prev&&!Hd(e.prev)&&r.closeNode(),r.closeNode()}}},jKe=VKe(UKe);function CS(r){return r.type==="htmlInline"&&E0.test(r.literal)}function yM(r){Lo(r.childNodes).forEach(function(e){if(Om(e)){var t=e.nodeName.toLowerCase();e.setAttribute("data-raw-html",t),e.childNodes&&yM(e)}})}var SS={text:function(r,e){r.addText(e.literal||"")},paragraph:function(r,e,t,n){var i,a=t.entering;if(a){var o=r.schema.nodes.paragraph;((i=e.prev)===null||i===void 0?void 0:i.type)==="paragraph"&&(r.openNode(o,n),r.closeNode()),r.openNode(o,n)}else r.closeNode()},heading:function(r,e,t,n){var i=t.entering;if(i){var a=e,o=a.level,l=a.headingType;r.openNode(r.schema.nodes.heading,He({level:o,headingType:l},n))}else r.closeNode()},codeBlock:function(r,e,t){var n=r.schema.nodes.codeBlock,i=e,a=i.info,o=i.literal;r.openNode(n,He({language:a},t)),r.addText(Nv(o||"")),r.closeNode()},list:function(r,e,t,n){var i=t.entering;if(i){var a=r.schema.nodes,o=a.bulletList,l=a.orderedList,c=e.listData,f=c.type,v=c.start;f==="bullet"?r.openNode(o,n):r.openNode(l,He({order:v},n))}else r.closeNode()},item:function(r,e,t,n){var i=t.entering,a=r.schema.nodes.listItem,o=e.listData,l=o.task,c=o.checked;if(i){var f=He(He(He({},l&&{task:l}),c&&{checked:c}),n);r.openNode(a,f)}else r.closeNode()},blockQuote:function(r,e,t,n){var i=t.entering;i?r.openNode(r.schema.nodes.blockQuote,n):r.closeNode()},image:function(r,e,t,n){var i=t.entering,a=t.skipChildren,o=r.schema.nodes.image,l=e,c=l.destination,f=l.firstChild;i&&a&&a(),r.addNode(o,He(He({imageUrl:c},f&&{altText:f.literal}),n))},thematicBreak:function(r,e,t,n){r.addNode(r.schema.nodes.thematicBreak,n)},strong:function(r,e,t,n){var i=t.entering,a=r.schema.marks.strong;i?r.openMark(a.create(n)):r.closeMark(a)},emph:function(r,e,t,n){var i=t.entering,a=r.schema.marks.emph;i?r.openMark(a.create(n)):r.closeMark(a)},link:function(r,e,t,n){var i=t.entering,a=r.schema.marks.link,o=e,l=o.destination,c=o.title;if(i){var f=He({linkUrl:l,title:c},n);r.openMark(a.create(f))}else r.closeMark(a)},softbreak:function(r,e){if(e.parent.type==="paragraph"){var t=e.prev,n=e.next;t&&!CS(t)&&r.closeNode(),n&&!CS(n)&&r.openNode(r.schema.nodes.paragraph)}},table:function(r,e,t,n){var i=t.entering;i?r.openNode(r.schema.nodes.table,n):r.closeNode()},tableHead:function(r,e,t,n){var i=t.entering;i?r.openNode(r.schema.nodes.tableHead,n):r.closeNode()},tableBody:function(r,e,t,n){var i=t.entering;i?r.openNode(r.schema.nodes.tableBody,n):r.closeNode()},tableRow:function(r,e,t,n){var i=t.entering;i?r.openNode(r.schema.nodes.tableRow,n):r.closeNode()},tableCell:function(r,e,t){var n=t.entering;if(!e.ignored){var i=function(E){return E&&(W0(E)||j0(r,E))};if(n){var a=r.schema.nodes,o=a.tableHeadCell,l=a.tableBodyCell,c=a.paragraph,f=e.parent.parent,v=f.type==="tableHead"?o:l,y=f.parent,T=(y.columns[e.startIdx]||{}).align,N=He({},e.attrs);T&&(N.align=T),r.openNode(v,N),i(e.firstChild)&&r.openNode(c)}else i(e.lastChild)&&r.closeNode(),r.closeNode()}},strike:function(r,e,t,n){var i=t.entering,a=r.schema.marks.strike;i?r.openMark(a.create(n)):r.closeMark(a)},code:function(r,e,t,n){var i=r.schema.marks.code;r.openMark(i.create(n)),r.addText(Nv(e.literal||"")),r.closeMark(i)},customBlock:function(r,e){var t=r.schema.nodes,n=t.customBlock,i=t.paragraph,a=e,o=a.info,l=a.literal;r.openNode(n,{info:o}),r.addText(Nv(l||"")),r.closeNode(),e.next||(r.openNode(i),r.closeNode())},frontMatter:function(r,e){r.openNode(r.schema.nodes.frontMatter),r.addText(e.literal),r.closeNode()},htmlInline:function(r,e){var t=e.literal,n=t.match(cf),i=n[1],a=n[3],o=(i||a).toLowerCase(),l=r.schema.marks[o],c=Du(t);if(l?.spec.attrs.htmlInline)if(i){var f=z0(c);r.openMark(l.create({htmlAttrs:f}))}else r.closeMark(l);else{var v=jKe[o];v&&v(r,e,i)}},htmlBlock:function(r,e){var t=e.literal,n=document.createElement("div"),i=Mue.test(t);if(i)r.openNode(r.schema.nodes.htmlComment),r.addText(e.literal),r.closeNode();else{var a=t.match(cf),o=a[1],l=a[3],c=(o||l).toLowerCase(),f=r.schema.nodes[c],v=Du(t);if(f?.spec.attrs.htmlBlock){var y=z0(v),T=QN(e,c);r.addNode(f,{htmlAttrs:y,childrenHTML:T})}else n.innerHTML=v,yM(n),r.convertByDOMParser(n)}},customInline:function(r,e,t){var n=t.entering,i=t.skipChildren,a=e,o=a.info,l=a.firstChild,c=r.schema;if(o.indexOf("widget")!==-1&&n){var f=zE(e);i(),r.addNode(c.nodes.widget,{info:o},[c.text(qE(o,f))])}else{var v="$$";n&&(v+=l?o+" ":o),r.addText(v)}}};function WKe(r){var e=Object.keys(r),t=He({},SS),n=new Jw({gfm:!0,nodeId:!0,convertors:r}),i=n.getConvertors();return e.forEach(function(a){var o=SS[a];o&&!ei(["htmlBlock","htmlInline"],a)&&(t[a]=function(l,c,f){f.origin=function(){return i[a](c,f,i)};var v=r[a](c,f),y;if(v){var T=Array.isArray(v)?v[0]:v,N=T.attributes,E=T.classNames;y={htmlAttrs:N,classNames:E}}o(l,c,f,y)})}),t}function GKe(r,e){return r.isText&&e.isText&&Mr.sameSet(r.marks,e.marks)?r.withText(r.text+e.text):!1}var JKe=function(){function r(e,t){this.schema=e,this.convertors=t,this.stack=[{type:this.schema.topNodeType,attrs:null,content:[]}],this.marks=Mr.none}return r.prototype.top=function(){return gi(this.stack)},r.prototype.push=function(e){this.stack.length&&this.top().content.push(e)},r.prototype.addText=function(e){if(e){var t=this.top().content,n=gi(t),i=this.schema.text(e,this.marks),a=n&&GKe(n,i);a?t[t.length-1]=a:t.push(i)}},r.prototype.openMark=function(e){this.marks=e.addToSet(this.marks)},r.prototype.closeMark=function(e){this.marks=e.removeFromSet(this.marks)},r.prototype.addNode=function(e,t,n){var i=e.createAndFill(t,n,this.marks);return i?(this.push(i),i):null},r.prototype.openNode=function(e,t){this.stack.push({type:e,attrs:t,content:[]})},r.prototype.closeNode=function(){this.marks.length&&(this.marks=Mr.none);var e=this.stack.pop(),t=e.type,n=e.attrs,i=e.content;return this.addNode(t,n,i)},r.prototype.convertByDOMParser=function(e){var t=this,n=ku.fromSchema(this.schema).parse(e);n.content.forEach(function(i){return t.push(i)})},r.prototype.closeUnmatchedHTMLInline=function(e,t){var n;if(!t&&e.type!=="htmlInline")for(var i=this.stack.length-1,a=i;a>=0;a-=1){var o=this.stack[a];if(!((n=o.attrs)===null||n===void 0)&&n.rawHTML)o.content.length?this.closeNode():this.stack.pop();else break}},r.prototype.convert=function(e,t){for(var n=e.walker(),i=n.next(),a=function(){var l=i.node,c=i.entering,f=o.convertors[l.type],v=!1;if(f){var y={entering:c,leaf:!lue(l),getChildrenText:uue,options:{gfm:!0,nodeId:!1,tagFilter:!1,softbreak:`
`},skipChildren:function(){v=!0}};if(o.closeUnmatchedHTMLInline(l,c),f(o,l,y),t?.node===l){var T=o.stack.reduce(function(N,E){return N+E.content.reduce(function(P,L){return P+L.nodeSize},0)},0)+1;t.setMappedPos(T)}}v&&(n.resumeAt(l,!1),n.next()),i=n.next()},o=this;i;)a()},r.prototype.convertNode=function(e,t){return this.convert(e,t),this.stack.length?this.closeNode():null},r}();function KKe(r,e,t){var n=t[0],i=t[1];r.write(n),r.convertInline(e),r.write(i)}function QKe(r,e,t){var n=e.node,i=e.parent,a=t[0],o=t[1];r.stopNewline=!0,r.write(a),r.convertNode(n),r.write(o),i?.type.name==="doc"&&(r.closeBlock(n),r.stopNewline=!1)}function XKe(r,e){var t=r.length,n="",i="";return e==="left"?(n=":",t-=1):e==="right"?(i=":",t-=1):e==="center"&&(n=":",i=":",t-=2),""+n+Wv("-",Math.max(t,3))+i}var G0={text:function(r,e){var t,n=e.node,i=(t=n.text)!==null&&t!==void 0?t:"";(n.marks||[]).some(function(a){return a.type.name==="link"})?r.text(Gv(i),!1):r.text(i)},paragraph:function(r,e){var t=e.node,n=e.parent,i=e.index,a=i===void 0?0:i;if(r.stopNewline)r.convertInline(t);else{var o=a===0,l=!o&&n.child(a-1),c=l&&l.childCount===0,f=a<n.childCount-1&&n.child(a+1),v=f&&f.type.name==="paragraph",y=t.childCount===0;if(y&&c)r.write(`<br>
`);else if(y&&!c&&!o){if(n?.type.name==="listItem"){var T=r.getDelim();r.setDelim(""),r.write("<br>"),r.setDelim(T)}r.write(`
`)}else r.convertInline(t),v?r.write(`
`):r.closeBlock(t)}},heading:function(r,e,t){var n=e.node,i=t.delim,a=n.attrs.headingType;a==="atx"?(r.write(i+" "),r.convertInline(n),r.closeBlock(n)):(r.convertInline(n),r.ensureNewLine(),r.write(i),r.closeBlock(n))},codeBlock:function(r,e,t){var n=e.node,i=t.delim,a=t.text,o=i,l=o[0],c=o[1];r.write(l),r.ensureNewLine(),r.text(a,!1),r.ensureNewLine(),r.write(c),r.closeBlock(n)},blockQuote:function(r,e,t){var n=e.node,i=e.parent,a=t.delim;i?.type.name===n.type.name&&r.flushClose(1),r.wrapBlock(a,null,n,function(){return r.convertNode(n)})},bulletList:function(r,e,t){var n=e.node,i=t.delim;r.convertList(n,Wv(" ",4),function(){return i+" "})},orderedList:function(r,e){var t=e.node,n=t.attrs.order||1;r.convertList(t,Wv(" ",4),function(i){var a=String(n+i);return a+". "})},listItem:function(r,e){var t=e.node,n=t.attrs,i=n.task,a=n.checked;i&&r.write("["+(a?"x":" ")+"] "),r.convertNode(t)},image:function(r,e,t){var n=t.attrs;r.write("!["+n?.altText+"]("+n?.imageUrl+")")},thematicBreak:function(r,e,t){var n=e.node,i=t.delim;r.write(i),r.closeBlock(n)},table:function(r,e){var t=e.node;r.convertNode(t),r.closeBlock(t)},tableHead:function(r,e,t){var n=e.node,i=t.delim,a=n.firstChild;r.convertNode(n);var o=i??"";!i&&a&&a.forEach(function(l){var c=l.textContent,f=l.attrs,v=XKe(c,f.align);o+="| "+v+" "}),r.write(o+"|"),r.ensureNewLine()},tableBody:function(r,e){var t=e.node;r.convertNode(t)},tableRow:function(r,e){var t=e.node;r.convertNode(t),r.write("|"),r.ensureNewLine()},tableHeadCell:function(r,e,t){var n=e.node,i=t.delim,a=i===void 0?"| ":i;r.write(a),r.convertTableCell(n),r.write(" ")},tableBodyCell:function(r,e,t){var n=e.node,i=t.delim,a=i===void 0?"| ":i;r.write(a),r.convertTableCell(n),r.write(" ")},customBlock:function(r,e,t){var n=e.node,i=t.delim,a=t.text,o=i,l=o[0],c=o[1];r.write(l),r.ensureNewLine(),r.text(a,!1),r.ensureNewLine(),r.write(c),r.closeBlock(n)},frontMatter:function(r,e,t){var n=e.node,i=t.text;r.text(i,!1),r.closeBlock(n)},widget:function(r,e,t){var n=t.text;r.write(n)},html:function(r,e,t){var n=e.node,i=t.text;r.write(i),n.attrs.htmlBlock&&r.closeBlock(n)},htmlComment:function(r,e,t){var n=e.node,i=t.text;r.write(i),r.closeBlock(n)}};function YKe(r,e){var t=e.state,n=e.nodeInfo,i=e.params,a=i.rawHTML;a?Tu(r,["heading","codeBlock"])>-1?KKe(t,n.node,a):Tu(r,["image","thematicBreak"])>-1?t.write(a):QKe(t,n,a):G0[r](t,n,i)}function xS(r,e){var t=r.text,n=/`+/g,i=0;if(r.isText&&t)for(var a=n.exec(t);a;)i=Math.max(i,a[0].length),a=n.exec(t);for(var o=i>0&&e>0?" `":"`",l=0;l<i;l+=1)o+="`";return i>0&&e<0&&(o+=" "),o}function za(r){return r?["<"+r+">","</"+r+">"]:null}function zd(r){return r?"<"+r+">":null}function $d(r){return r?"</"+r+">":null}var Vd={heading:function(r){var e=r.node,t=e.attrs,n=t.level,i=Wv("#",n);return t.headingType==="setext"&&(i=n===1?"===":"---"),{delim:i,rawHTML:za(t.rawHTML)}},codeBlock:function(r){var e=r.node,t=e,n=t.attrs,i=t.textContent;return{delim:["```"+(n.language||""),"```"],rawHTML:za(n.rawHTML),text:i}},blockQuote:function(r){var e=r.node;return{delim:"> ",rawHTML:za(e.attrs.rawHTML)}},bulletList:function(r,e){var t=r.node,n=e.inTable,i=t.attrs.rawHTML;return n&&(i=i||"ul"),{delim:"*",rawHTML:za(i)}},orderedList:function(r,e){var t=r.node,n=e.inTable,i=t.attrs.rawHTML;return n&&(i=i||"ol"),{rawHTML:za(i)}},listItem:function(r,e){var t=r.node,n=e.inTable,i=t.attrs,a=i.task,o=i.checked,l=t.attrs.rawHTML;n&&(l=l||"li");var c=a?' class="task-list-item'+(o?" checked":"")+'"':"",f=a?" data-task"+(o?" data-task-checked":""):"";return{rawHTML:l?["<"+l+c+f+">","</"+l+">"]:null}},table:function(r){var e=r.node;return{rawHTML:za(e.attrs.rawHTML)}},tableHead:function(r){var e=r.node;return{rawHTML:za(e.attrs.rawHTML)}},tableBody:function(r){var e=r.node;return{rawHTML:za(e.attrs.rawHTML)}},tableRow:function(r){var e=r.node;return{rawHTML:za(e.attrs.rawHTML)}},tableHeadCell:function(r){var e=r.node;return{rawHTML:za(e.attrs.rawHTML)}},tableBodyCell:function(r){var e=r.node;return{rawHTML:za(e.attrs.rawHTML)}},image:function(r){var e=r.node,t=e.attrs,n=t.rawHTML,i=t.altText,a=t.imageUrl.replace(/&amp;/g,"&"),o=i?' alt="'+Xc(i)+'"':"";return{rawHTML:n?"<"+n+' src="'+Xc(a)+'"'+o+">":null,attrs:{altText:Gv(i||""),imageUrl:a}}},thematicBreak:function(r){var e=r.node;return{delim:"***",rawHTML:zd(e.attrs.rawHTML)}},customBlock:function(r){var e=r.node,t=e,n=t.attrs,i=t.textContent;return{delim:["$$"+n.info,"$$"],text:i}},frontMatter:function(r){var e=r.node;return{text:e.textContent}},widget:function(r){var e=r.node;return{text:e.textContent}},strong:function(r,e){var t=r.node,n=e.entering,i=t.attrs.rawHTML;return{delim:"**",rawHTML:n?zd(i):$d(i)}},emph:function(r,e){var t=r.node,n=e.entering,i=t.attrs.rawHTML;return{delim:"*",rawHTML:n?zd(i):$d(i)}},strike:function(r,e){var t=r.node,n=e.entering,i=t.attrs.rawHTML;return{delim:"~~",rawHTML:n?zd(i):$d(i)}},link:function(r,e){var t=r.node,n=e.entering,i=t.attrs,a=i.title,o=i.rawHTML,l=i.linkUrl.replace(/&amp;/g,"&"),c=a?' title="'+Xc(a)+'"':"";return n?{delim:"[",rawHTML:o?"<"+o+' href="'+Xc(l)+'"'+c+">":null}:{delim:"]("+l+(a?" "+Xle(Gv(a)):"")+")",rawHTML:$d(o)}},code:function(r,e){var t=r.node,n=r.parent,i=r.index,a=i===void 0?0:i,o=e.entering,l=o?xS(n.child(a),-1):xS(n.child(a-1),1),c=o?zd(t.attrs.rawHTML):$d(t.attrs.rawHTML);return{delim:l,rawHTML:c}},htmlComment:function(r){var e=r.node;return{text:e.textContent}},html:function(r,e){var t=r.node,n=e.entering,i=t.type.name,a=t.attrs.htmlAttrs,o="<"+i,l="</"+i+">";return Object.keys(a).forEach(function(c){o+=" "+c+'="'+a[c].replace(/"/g,"'")+'"'}),o+=">",t.attrs.htmlInline?{rawHTML:n?o:l}:{text:""+o+t.attrs.childrenHTML+l}}},TS={strong:{mixable:!0,removedEnclosingWhitespace:!0},emph:{mixable:!0,removedEnclosingWhitespace:!0},strike:{mixable:!0,removedEnclosingWhitespace:!0},code:{escape:!1},link:null,html:null};function ZKe(r){var e={},t=Object.keys(G0);return t.forEach(function(n){e[n]=function(i,a){var o=G0[n];if(o){var l=r[n],c=l?l(a,{inTable:i.inTable}):{};YKe(n,{state:i,nodeInfo:a,params:c})}}}),e}function e7e(r){var e={},t=Object.keys(TS);return t.forEach(function(n){e[n]=function(i,a){var o=TS[n],l=r[n],c=l&&i&&!Ga(a),f=c?l(i,{entering:a}):{};return He(He({},f),o)}}),e}function t7e(r){var e=Object.keys(r);e.forEach(function(i){var a=Vd[i],o=r[i];a?Vd[i]=function(l,c){return c.origin=function(){return a(l,c)},o(l,c)}:Vd[i]=o,delete r[i]});var t=ZKe(Vd),n=e7e(Vd);return{nodeTypeConvertors:t,markTypeConvertors:n}}var r7e=function(){function r(e){var t=e.nodeTypeConvertors,n=e.markTypeConvertors;this.nodeTypeConvertors=t,this.markTypeConvertors=n,this.delim="",this.result="",this.closed=!1,this.tightList=!1,this.stopNewline=!1,this.inTable=!1}return r.prototype.getMarkConvertor=function(e){var t=e.attrs.htmlInline?"html":e.type.name;return this.markTypeConvertors[t]},r.prototype.isInBlank=function(){return/(^|\n)$/.test(this.result)},r.prototype.markText=function(e,t,n,i){var a=this.getMarkConvertor(e);if(a){var o=a({node:e,parent:n,index:i},t),l=o.delim,c=o.rawHTML;return c||l}return""},r.prototype.setDelim=function(e){this.delim=e},r.prototype.getDelim=function(){return this.delim},r.prototype.flushClose=function(e){if(!this.stopNewline&&this.closed){if(this.isInBlank()||(this.result+=`
`),e||(e=2),e>1){var t=this.delim,n=/\s+$/.exec(t);n&&(t=t.slice(0,t.length-n[0].length));for(var i=1;i<e;i+=1)this.result+=t+`
`}this.closed=!1}},r.prototype.wrapBlock=function(e,t,n,i){var a=this.getDelim();this.write(t||e),this.setDelim(this.getDelim()+e),i(),this.setDelim(a),this.closeBlock(n)},r.prototype.ensureNewLine=function(){this.isInBlank()||(this.result+=`
`)},r.prototype.write=function(e){e===void 0&&(e=""),this.flushClose(),this.delim&&this.isInBlank()&&(this.result+=this.delim),e&&(this.result+=e)},r.prototype.closeBlock=function(e){this.closed=e},r.prototype.text=function(e,t){t===void 0&&(t=!0);for(var n=e.split(`
`),i=0;i<n.length;i+=1)this.write(),this.result+=t?Qle(n[i]):n[i],i!==n.length-1&&(this.result+=`
`)},r.prototype.convertBlock=function(e,t,n){var i=e.type.name,a=this.nodeTypeConvertors[i],o={node:e,parent:t,index:n};e.attrs.htmlBlock?this.nodeTypeConvertors.html(this,o):a&&a(this,o)},r.prototype.convertInline=function(e){var t=this,n=[],i="",a=function(o,l,c){var f=o?o.marks:[],v=i;i="";var y=o&&o.isText&&f.some(function(je){var Nt=t.getMarkConvertor(je),et=Nt&&Nt();return et&&et.removedEnclosingWhitespace});if(y&&o&&o.text){var T=/^(\s*)(.*?)(\s*)$/m.exec(o.text),N=T[1],E=T[2],P=T[3];v+=N,i=P,(N||P)&&(o=E?o.withText(E):null,o||(f=n))}for(var L=f.length&&gi(f),$=L&&t.getMarkConvertor(L),ee=$&&$(),re=ee&&ee.escape===!1,se=f.length-(re?1:0),ve=0;ve<se;ve+=1){var E=f[ve];if(ee&&!ee.mixable)break;for(var le=0;le<n.length;le+=1){var ke=n[le];if(ee&&!ee.mixable)break;if(E.eq(ke)){ve>le?f=f.slice(0,le).concat(E).concat(f.slice(le,ve)).concat(f.slice(ve+1,se)):le>ve&&(f=f.slice(0,ve).concat(f.slice(ve+1,le)).concat(E).concat(f.slice(le,se)));break}}}for(var we=0;we<Math.min(n.length,se)&&f[we].eq(n[we]);)we+=1;for(;we<n.length;){var Le=n.pop();Le&&t.text(t.markText(Le,!1,e,c),!1)}if(v&&t.text(v),o){for(;n.length<se;){var E=f[n.length];n.push(E),t.text(t.markText(E,!0,e,c),!1)}re&&o.isText?t.text(t.markText(L,!0,e,c)+o.text+t.markText(L,!1,e,c+1),!1):t.convertBlock(o,e,c)}};e.forEach(a),a(null,null,e.childCount)},r.prototype.convertList=function(e,t,n){var i=this,a;this.closed&&this.closed.type===e.type?this.flushClose(3):this.tightList&&this.flushClose(1);var o=(a=e.attrs.tight)!==null&&a!==void 0?a:!0,l=this.tightList;this.tightList=o,e.forEach(function(c,f,v){v&&o&&i.flushClose(1),i.wrapBlock(t,n(v),e,function(){return i.convertBlock(c,e,v)})}),this.tightList=l},r.prototype.convertTableCell=function(e){var t=this;this.stopNewline=!0,this.inTable=!0,e.forEach(function(n,i,a){if(ei(["bulletList","orderedList"],n.type.name))t.convertBlock(n,e,a),t.closed=!1;else if(t.convertInline(n),a<e.childCount-1){var o=e.child(a+1);o.type.name==="paragraph"&&t.write("<br>")}}),this.stopNewline=!1,this.inTable=!1},r.prototype.convertNode=function(e,t){var n=this;return e.forEach(function(i,a,o){if(n.convertBlock(i,e,o),t?.node===i){var l=n.result.split(`
`);t.setMappedPos([l.length,gi(l).length+1])}}),this.result},r}(),n7e=function(){function r(e,t,n,i){var a=this;this.setMappedPos=function(o){a.mappedPosWhenConverting=o},this.schema=e,this.eventEmitter=i,this.focusedNode=null,this.mappedPosWhenConverting=null,this.toWwConvertors=WKe(n),this.toMdConvertors=t7e(t||{}),this.eventEmitter.listen("setFocusedNode",function(o){return a.focusedNode=o})}return r.prototype.getMappedPos=function(){return this.mappedPosWhenConverting},r.prototype.getInfoForPosSync=function(){return{node:this.focusedNode,setMappedPos:this.setMappedPos}},r.prototype.toWysiwygModel=function(e){var t=new JKe(this.schema,this.toWwConvertors);return t.convertNode(e,this.getInfoForPosSync())},r.prototype.toMarkdownText=function(e){var t=new r7e(this.toMdConvertors),n=t.convertNode(e,this.getInfoForPosSync());return n=this.eventEmitter.emitReduce("beforeConvertWysiwygToMarkdown",n),n},r}();function i7e(r){var e=r.plugin,t=r.eventEmitter,n=r.usageStatistics,i=r.instance,a={Plugin:Qi,PluginKey:gh,Selection:fr,TextSelection:vr},o={Decoration:ji,DecorationSet:nn},l={Fragment:nt},c={InputRule:fl,inputRules:AE,undoInputRule:jse},f={keymap:fh},v={eventEmitter:t,usageStatistics:n,instance:i,pmState:a,pmView:o,pmModel:l,pmRules:c,pmKeymap:f,i18n:rr};if(Cf(e)){var y=e[0],T=e[1],N=T===void 0?{}:T;return y(v,N)}return e(v)}function wM(r){var e=r.plugins,t=r.eventEmitter,n=r.usageStatistics,i=r.instance;return t.listen("mixinTableOffsetMapPrototype",BGe),(e??[]).reduce(function(a,o){var l=i7e({plugin:o,eventEmitter:t,usageStatistics:n,instance:i});if(!l)throw new Error("The return value of the executed plugin is empty.");var c=l.markdownParsers,f=l.toHTMLRenderers,v=l.toMarkdownRenderers,y=l.markdownPlugins,T=l.wysiwygPlugins,N=l.wysiwygNodeViews,E=l.markdownCommands,P=l.wysiwygCommands,L=l.toolbarItems;return f&&(a.toHTMLRenderers=Jv(a.toHTMLRenderers,f)),v&&(a.toMarkdownRenderers=Jv(a.toMarkdownRenderers,v)),y&&(a.mdPlugins=a.mdPlugins.concat(y)),T&&(a.wwPlugins=a.wwPlugins.concat(T)),N&&(a.wwNodeViews=He(He({},a.wwNodeViews),N)),E&&(a.mdCommands=He(He({},a.mdCommands),E)),P&&(a.wwCommands=He(He({},a.wwCommands),P)),L&&(a.toolbarItems=a.toolbarItems.concat(L)),c&&(a.markdownParsers=He(He({},a.markdownParsers),c)),a},{toHTMLRenderers:{},toMarkdownRenderers:{},mdPlugins:[],wwPlugins:[],wwNodeViews:{},mdCommands:{},wwCommands:{},toolbarItems:[],markdownParsers:{}})}var a7e="data-task",o7e="data-task-disabled",s7e="checked";function l7e(r){["htmlBlock","htmlInline"].forEach(function(e){r[e]&&Object.keys(r[e]).forEach(function(t){return KN(t)})})}var bM=function(){function r(e){var t=this;this.options=xw({linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,usageStatistics:!0,theme:"light"},e),this.eventEmitter=new gM;var n=BE(this.options.linkAttributes),i=wM({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this})||{},a=i.toHTMLRenderers,o=i.markdownParsers,l=this.options,c=l.customHTMLRenderer,f=l.extendedAutolinks,v=l.referenceDefinition,y=l.frontMatter,T=l.customHTMLSanitizer,N={linkAttributes:n,customHTMLRenderer:He(He({},a),c),extendedAutolinks:f,referenceDefinition:v,frontMatter:y,sanitizer:T||Du};l7e(N.customHTMLRenderer),this.options.events&&sf(this.options.events,function(re,se){t.on(se,re)});var E=this.options,P=E.el,L=E.initialValue,$=E.theme,ee=P.innerHTML;$!=="light"&&P.classList.add(Dt($)),P.innerHTML="",this.toastMark=new jN("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:f,referenceDefinition:v,disallowDeepHeading:!0,frontMatter:y,customParser:o}),this.preview=new YN(this.eventEmitter,He(He({},N),{isViewer:!0})),hN(this.preview.previewContent,"mousedown",this.toggleTask.bind(this)),L?this.setMarkdown(L):ee&&this.preview.setHTML(ee),P.appendChild(this.preview.previewContent),this.eventEmitter.emit("load",this)}return r.prototype.toggleTask=function(e){var t=e.target,n=getComputedStyle(t,":before");!t.hasAttribute(o7e)&&t.hasAttribute(a7e)&&Rw(n,e.offsetX,e.offsetY)&&(Iw(t,s7e),this.eventEmitter.emit("change",{source:"viewer",date:e}))},r.prototype.setMarkdown=function(e){var t=this.toastMark.getLineTexts(),n=t.length,i=gi(t),a=[n,i.length+1],o=this.toastMark.editMarkdown([1,1],a,e||"");this.eventEmitter.emit("updatePreview",o)},r.prototype.on=function(e,t){this.eventEmitter.listen(e,t)},r.prototype.off=function(e){this.eventEmitter.removeEventHandler(e)},r.prototype.addHook=function(e,t){this.eventEmitter.removeEventHandler(e),this.eventEmitter.listen(e,t)},r.prototype.destroy=function(){dN(this.preview.el,"mousedown",this.toggleTask.bind(this)),this.preview.destroy(),this.eventEmitter.emit("destroy")},r.prototype.isViewer=function(){return!0},r.prototype.isMarkdownMode=function(){return!1},r.prototype.isWysiwygMode=function(){return!1},r}();function Mv(r){return r instanceof Zs}function kM(r){var e=["document","blockQuote","bulletList","orderedList","listItem","paragraph","heading","emph","strong","strike","link","image","table","tableHead","tableBody","tableRow","tableHeadCell","tableBodyCell"];return ei(e,r)}function u7e(r){var e=r.attrs,t=r.type,n=t.name,i={type:n,wysiwygNode:!0,literal:!kM(n)&&Mv(r)?r.textContent:null},a={heading:{level:e.level},link:{destination:e.linkUrl,title:e.title},image:{destination:e.imageUrl},codeBlock:{info:e.language},bulletList:{type:"list",listData:{type:"bullet"}},orderedList:{type:"list",listData:{type:"ordered",start:e.order}},listItem:{type:"item",listData:{task:e.task,checked:e.checked}},tableHeadCell:{type:"tableCell",cellType:"head",align:e.align},tableBodyCell:{type:"tableCell",cellType:"body",align:e.align},customBlock:{info:e.info}},o=a[n],l=He(He({},i),o),c=r.attrs,f=c.htmlAttrs,v=c.childrenHTML;return f?He(He({},l),{attrs:f,childrenHTML:v}):l}var c7e={openTag:function(r,e){var t=r,n=t.tagName,i=t.classNames,a=t.attributes,o=document.createElement(n),l={};i&&(o.className=i.join(" ")),a&&(l=He(He({},l),a)),Bw(l,o),e.push(o)},closeTag:function(r,e){if(e.length>1){var t=e.pop();gi(e).appendChild(t)}},html:function(r,e){gi(e).insertAdjacentHTML("beforeend",r.content)},text:function(r,e){var t=document.createTextNode(r.content);gi(e).appendChild(t)}},f7e=function(){function r(e,t){var n=Kw(e,t),i=He(He({},t.htmlBlock),t.htmlInline);this.customConvertorKeys=Object.keys(t).concat(Object.keys(i)),this.renderer=new Jw({gfm:!0,convertors:He(He({},n),i)}),this.convertors=this.renderer.getConvertors()}return r.prototype.generateTokens=function(e){var t=u7e(e),n={entering:!0,leaf:Mv(e)?e.isLeaf:!1,options:this.renderer.getOptions(),getChildrenText:function(){return Mv(e)?e.textContent:""},skipChildren:function(){return!1}},i=this.convertors[e.type.name],a=i(t,n,this.convertors),o=Cf(a)?a:[a];return(kM(e.type.name)||e.attrs.htmlInline)&&(n.entering=!1,o.push({type:"text",content:Mv(e)?e.textContent:""}),o=o.concat(i(t,n,this.convertors))),o},r.prototype.toDOMNode=function(e){var t=this.generateTokens(e),n=[];return t.forEach(function(i){return c7e[i.type](i,n)}),n[0]},r.prototype.getToDOMNode=function(e){return ei(this.customConvertorKeys,e)?this.toDOMNode.bind(this):null},r}(),d7e=100,h7e=15,pv=null,Jy=null;function ES(r,e){var t=e.syncScrollTop,n=e.releaseEventBlock;Jy&&clearTimeout(Jy),t(r),Jy=setTimeout(function(){n()},h7e)}function p7e(r,e,t){var n=e-r,i=Date.now(),a=function(){var o=Date.now(),l=(o-i)/d7e,c;pv&&clearTimeout(pv),l<1?(c=r+n*Math.cos((1-l)*Math.PI/2),ES(Math.ceil(c),t),pv=setTimeout(a,1)):(ES(e,t),pv=null)};a()}var v7e=18,m7e=function(){function r(e,t,n){this.latestEditorScrollTop=null,this.latestPreviewScrollTop=null,this.blockedScroll=null,this.active=!0,this.timer=null;var i=t.previewContent,a=t.el;this.previewRoot=i,this.previewEl=a,this.mdEditor=e,this.editorView=e.view,this.toastMark=e.getToastMark(),this.eventEmitter=n,this.addScrollSyncEvent()}return r.prototype.addScrollSyncEvent=function(){var e=this;this.eventEmitter.listen("afterPreviewRender",function(){e.clearTimer(),e.timer=setTimeout(function(){e.syncPreviewScrollTop(!0)},200)}),this.eventEmitter.listen("scroll",function(t,n){e.active&&(t==="editor"&&e.blockedScroll!=="editor"?e.syncPreviewScrollTop():t==="preview"&&e.blockedScroll!=="preview"&&e.syncEditorScrollTop(n))}),this.eventEmitter.listen("toggleScrollSync",function(t){e.active=t})},r.prototype.getMdNodeAtPos=function(e,t){var n=e.content.findIndex(t.pos),i=n.index;return this.toastMark.findFirstNodeAtLine(i+1)},r.prototype.getScrollTopByCaretPos=function(){var e=this.mdEditor.getSelection(),t=this.toastMark.findFirstNodeAtLine(e[0][0]),n=this.previewEl.clientHeight,i=Uy(this.previewRoot,t).el,a=im(i,this.previewRoot)||i.offsetTop,o=i.clientHeight,l=a+o-n*.5;this.latestEditorScrollTop=null;var c=i.getBoundingClientRect().top-this.previewEl.getBoundingClientRect().top;return c<n?null:l},r.prototype.syncPreviewScrollTop=function(e){e===void 0&&(e=!1);var t=this,n=t.editorView,i=t.previewEl,a=t.previewRoot,o=n.dom.getBoundingClientRect(),l=o.left,c=o.top,f=n.posAtCoords({left:l,top:c}),v=n.state.doc,y=this.getMdNodeAtPos(v,f);if(!(!y||tue(y))){var T=i.scrollTop,N=n.dom,E=N.scrollTop,P=N.scrollHeight,L=N.clientHeight,$=N.children,ee=P-E<=L+v7e,re=ee?i.scrollHeight:0;if(E&&!ee){if(e){var se=this.getScrollTopByCaretPos();if(!se)return;re=se}else{var ve=Uy(this.previewRoot,y),le=ve.el,ke=ve.mdNode,we=fS(v,ke,$),Le=we.height,je=we.rect,Nt=im(le,a)||le.offsetTop,et=le.clientHeight,St=c>je.top?Math.min((c-je.top)/Le,1):0;re=Nt+et*St}re=this.getResolvedScrollTop("editor",E,re,T),this.latestEditorScrollTop=E}re!==T&&this.run("editor",re,T)}},r.prototype.syncEditorScrollTop=function(e){var t=this,n=t.toastMark,i=t.editorView,a=t.previewRoot,o=t.previewEl,l=i.dom,c=i.state,f=o.scrollTop,v=o.clientHeight,y=o.scrollHeight,T=y-f<=v,N=l.scrollTop,E=T?l.scrollHeight:0;if(f&&e&&!T){if(e=dGe(e,a),!e.getAttribute("data-nodeid"))return;var P=l.children,L=Number(e.getAttribute("data-nodeid")),$=Uy(this.previewRoot,n.findNodeById(L)),ee=$.mdNode,re=$.el,se=Ch(ee);E=P[se-1].offsetTop;var ve=fS(c.doc,ee,P).height,le=bGe(re,a,L),ke=le.nodeHeight,we=le.offsetTop;E+=pGe(f,we,ke,ve),E=this.getResolvedScrollTop("preview",f,E,N),this.latestPreviewScrollTop=f}E!==N&&this.run("preview",E,N)},r.prototype.getResolvedScrollTop=function(e,t,n,i){var a=e==="editor"?this.latestEditorScrollTop:this.latestPreviewScrollTop;return a===null?n:a<t?Math.max(n,i):Math.min(n,i)},r.prototype.run=function(e,t,n){var i=this,a;e==="editor"?(a=this.previewEl,this.blockedScroll="preview"):(a=this.editorView.dom,this.blockedScroll="editor");var o={syncScrollTop:function(l){return a.scrollTop=l},releaseEventBlock:function(){return i.blockedScroll=null}};p7e(n,t,o)},r.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},r.prototype.destroy=function(){this.clearTimer(),this.eventEmitter.removeEventHandler("scroll"),this.eventEmitter.removeEventHandler("afterPreviewRender")},r}(),g7e={getPopupInitialValues:function(r,e){var t=e.popupName;return t==="link"?{linkText:r.getSelectedText()}:{}}};function y7e(r){r.eventEmitter.listen("query",function(e,t){return g7e[e](r,t)})}var CM=function(){function r(e){var t=this;this.initialHTML=e.el.innerHTML,e.el.innerHTML="",this.options=xw({previewStyle:"tab",previewHighlight:!0,initialEditType:"markdown",height:"300px",minHeight:"200px",language:"en-US",useCommandShortcut:!0,usageStatistics:!0,toolbarItems:[["heading","bold","italic","strike"],["hr","quote"],["ul","ol","task","indent","outdent"],["table","image","link"],["code","codeblock"],["scrollSync"]],hideModeSwitch:!1,linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,customMarkdownRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,widgetRules:[],theme:"light",autofocus:!0},e);var n=this.options,i=n.customHTMLRenderer,a=n.extendedAutolinks,o=n.referenceDefinition,l=n.frontMatter,c=n.customMarkdownRenderer,f=n.useCommandShortcut,v=n.initialEditType,y=n.widgetRules,T=n.customHTMLSanitizer;this.mode=v||"markdown",this.mdPreviewStyle=this.options.previewStyle,this.i18n=rr,this.i18n.setCode(this.options.language),this.eventEmitter=new gM,fue(y);var N=BE(this.options.linkAttributes);this.pluginInfo=wM({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this});var E=this.pluginInfo,P=E.toHTMLRenderers,L=E.toMarkdownRenderers,$=E.mdPlugins,ee=E.wwPlugins,re=E.wwNodeViews,se=E.mdCommands,ve=E.wwCommands,le=E.markdownParsers,ke={linkAttributes:N,customHTMLRenderer:Jv(P,i),extendedAutolinks:a,referenceDefinition:o,frontMatter:l,sanitizer:T||Du},we=new f7e(N,ke.customHTMLRenderer),Le=aGe(ke.customHTMLRenderer,ke.sanitizer,we);this.toastMark=new jN("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:a,referenceDefinition:o,disallowDeepHeading:!0,frontMatter:l,customParser:le}),this.mdEditor=new hfe(this.eventEmitter,{toastMark:this.toastMark,useCommandShortcut:f,mdPlugins:$}),this.preview=new YN(this.eventEmitter,He(He({},ke),{isViewer:!1,highlight:this.options.previewHighlight})),this.wwEditor=new DKe(this.eventEmitter,{toDOMAdaptor:we,useCommandShortcut:f,htmlSchemaMap:Le,linkAttributes:N,wwPlugins:ee,wwNodeViews:re}),this.convertor=new n7e(this.wwEditor.getSchema(),He(He({},L),c),Kw(N,ke.customHTMLRenderer),this.eventEmitter),this.setMinHeight(this.options.minHeight),this.setHeight(this.options.height),this.setMarkdown(this.options.initialValue,!1),this.options.placeholder&&this.setPlaceholder(this.options.placeholder),this.options.initialValue||this.setHTML(this.initialHTML,!1),this.commandManager=new zKe(this.eventEmitter,this.mdEditor.commands,this.wwEditor.commands,function(){return t.mode}),this.options.usageStatistics&&Wle(),this.scrollSync=new m7e(this.mdEditor,this.preview,this.eventEmitter),this.addInitEvent(),this.addInitCommand(se,ve),y7e(this),this.options.hooks&&sf(this.options.hooks,function(je,Nt){return t.addHook(Nt,je)}),this.options.events&&sf(this.options.events,function(je,Nt){return t.on(Nt,je)}),this.eventEmitter.emit("load",this),this.moveCursorToStart(this.options.autofocus)}return r.prototype.addInitEvent=function(){var e=this;this.on("needChangeMode",this.changeMode.bind(this)),this.on("loadUI",function(){if(e.height!=="auto"){var t=Math.min(parseInt(e.minHeight,10),parseInt(e.height,10)-75)+"px";e.setMinHeight(t)}}),_ue(this.eventEmitter)},r.prototype.addInitCommand=function(e,t){var n=this,i=function(a,o){Object.keys(o).forEach(function(l){n.addCommand(a,l,o[l])})};this.addCommand("markdown","toggleScrollSync",function(a){return n.eventEmitter.emit("toggleScrollSync",a.active),!0}),i("markdown",e),i("wysiwyg",t)},r.prototype.getCurrentModeEditor=function(){return this.isMarkdownMode()?this.mdEditor:this.wwEditor},r.factory=function(e){return e.viewer?new bM(e):new r(e)},r.setLanguage=function(e,t){rr.setLanguage(e,t)},r.prototype.changePreviewStyle=function(e){this.mdPreviewStyle!==e&&(this.mdPreviewStyle=e,this.eventEmitter.emit("changePreviewStyle",e))},r.prototype.exec=function(e,t){this.commandManager.exec(e,t)},r.prototype.addCommand=function(e,t,n){var i=this,a=function(o){o===void 0&&(o={});var l=(e==="markdown"?i.mdEditor:i.wwEditor).view;n(o,l.state,l.dispatch,l)};this.commandManager.addCommand(e,t,a)},r.prototype.on=function(e,t){this.eventEmitter.listen(e,t)},r.prototype.off=function(e){this.eventEmitter.removeEventHandler(e)},r.prototype.addHook=function(e,t){this.eventEmitter.removeEventHandler(e),this.eventEmitter.listen(e,t)},r.prototype.removeHook=function(e){this.eventEmitter.removeEventHandler(e)},r.prototype.focus=function(){this.getCurrentModeEditor().focus()},r.prototype.blur=function(){this.getCurrentModeEditor().blur()},r.prototype.moveCursorToEnd=function(e){e===void 0&&(e=!0),this.getCurrentModeEditor().moveCursorToEnd(e)},r.prototype.moveCursorToStart=function(e){e===void 0&&(e=!0),this.getCurrentModeEditor().moveCursorToStart(e)},r.prototype.setMarkdown=function(e,t){if(e===void 0&&(e=""),t===void 0&&(t=!0),this.mdEditor.setMarkdown(e,t),this.isWysiwygMode()){var n=this.toastMark.getRootNode(),i=this.convertor.toWysiwygModel(n);this.wwEditor.setModel(i,t)}},r.prototype.setHTML=function(e,t){e===void 0&&(e=""),t===void 0&&(t=!0);var n=document.createElement("div");n.innerHTML=Iue(e);var i=ku.fromSchema(this.wwEditor.schema).parse(n);this.isMarkdownMode()?this.mdEditor.setMarkdown(this.convertor.toMarkdownText(i),t):this.wwEditor.setModel(i,t)},r.prototype.getMarkdown=function(){return this.isMarkdownMode()?this.mdEditor.getMarkdown():this.convertor.toMarkdownText(this.wwEditor.getModel())},r.prototype.getHTML=function(){var e=this;this.eventEmitter.holdEventInvoke(function(){if(e.isMarkdownMode()){var i=e.toastMark.getRootNode(),a=e.convertor.toWysiwygModel(i);e.wwEditor.setModel(a)}});var t=_w(this.wwEditor.view.dom.innerHTML);if(this.placeholder){var n=new RegExp('<span class="placeholder[^>]+>'+this.placeholder+"</span>","i");return t.replace(n,"")}return t},r.prototype.insertText=function(e){this.getCurrentModeEditor().replaceSelection(e)},r.prototype.setSelection=function(e,t){this.getCurrentModeEditor().setSelection(e,t)},r.prototype.replaceSelection=function(e,t,n){this.getCurrentModeEditor().replaceSelection(e,t,n)},r.prototype.deleteSelection=function(e,t){this.getCurrentModeEditor().deleteSelection(e,t)},r.prototype.getSelectedText=function(e,t){return this.getCurrentModeEditor().getSelectedText(e,t)},r.prototype.getRangeInfoOfNode=function(e){return this.getCurrentModeEditor().getRangeInfoOfNode(e)},r.prototype.addWidget=function(e,t,n){this.getCurrentModeEditor().addWidget(e,t,n)},r.prototype.replaceWithWidget=function(e,t,n){this.getCurrentModeEditor().replaceWithWidget(e,t,n)},r.prototype.setHeight=function(e){var t=this.options.el;ms(e)&&(e==="auto"?No(t,"auto-height"):Va(t,"auto-height"),this.setMinHeight(this.getMinHeight())),Ao(t,{height:e}),this.height=e},r.prototype.getHeight=function(){return this.height},r.prototype.setMinHeight=function(e){if(e!==this.minHeight){var t=this.height||this.options.height;t!=="auto"&&this.options.el.querySelector("."+Dt("main"))&&(e=Math.min(parseInt(e,10),parseInt(t,10)-75)+"px");var n=parseInt(e,10);this.minHeight=e,this.wwEditor.setMinHeight(n),this.mdEditor.setMinHeight(n),this.preview.setMinHeight(n)}},r.prototype.getMinHeight=function(){return this.minHeight},r.prototype.isMarkdownMode=function(){return this.mode==="markdown"},r.prototype.isWysiwygMode=function(){return this.mode==="wysiwyg"},r.prototype.isViewer=function(){return!1},r.prototype.getCurrentPreviewStyle=function(){return this.mdPreviewStyle},r.prototype.changeMode=function(e,t){if(this.mode!==e){if(this.mode=e,this.isWysiwygMode()){var n=this.toastMark.getRootNode(),i=this.convertor.toWysiwygModel(n);this.wwEditor.setModel(i)}else{var i=this.wwEditor.getModel();this.mdEditor.setMarkdown(this.convertor.toMarkdownText(i),!t)}if(this.eventEmitter.emit("removePopupWidget"),this.eventEmitter.emit("changeMode",e),!t){var a=this.convertor.getMappedPos();this.focus(),this.isWysiwygMode()&&ls(a)?this.wwEditor.setSelection(a):Array.isArray(a)&&this.mdEditor.setSelection(a)}}},r.prototype.destroy=function(){var e=this;this.wwEditor.destroy(),this.mdEditor.destroy(),this.preview.destroy(),this.scrollSync.destroy(),this.eventEmitter.emit("destroy"),this.eventEmitter.getEvents().forEach(function(t,n){return e.off(n)})},r.prototype.hide=function(){this.eventEmitter.emit("hide")},r.prototype.show=function(){this.eventEmitter.emit("show")},r.prototype.setScrollTop=function(e){this.getCurrentModeEditor().setScrollTop(e)},r.prototype.getScrollTop=function(){return this.getCurrentModeEditor().getScrollTop()},r.prototype.reset=function(){this.wwEditor.setModel([]),this.mdEditor.setMarkdown("")},r.prototype.getSelection=function(){return this.getCurrentModeEditor().getSelection()},r.prototype.setPlaceholder=function(e){this.placeholder=e,this.mdEditor.setPlaceholder(e),this.wwEditor.setPlaceholder(e)},r.prototype.getEditorElements=function(){return{mdEditor:this.mdEditor.getElement(),mdPreview:this.preview.getElement(),wwEditor:this.wwEditor.getElement()}},r.prototype.convertPosToMatchEditorMode=function(e,t,n){var i,a;t===void 0&&(t=e),n===void 0&&(n=this.mode);var o=this.mdEditor.view.state.doc,l=Array.isArray(e),c=Array.isArray(t),f=e,v=t;if(l!==c)throw new Error("Types of arguments must be same");return n==="markdown"&&!l&&!c?(i=Cv(o,e,t),f=i[0],v=i[1]):n==="wysiwyg"&&l&&c&&(a=su(o,e,t),f=a[0],v=a[1]),[f,v]},r}();function w7e(r){for(var e,t,n=arguments,i=1,a="",o="",l=[0],c=function(v){i===1&&(v||(a=a.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?l.push(v?n[v]:a):i===3&&(v||a)?(l[1]=v?n[v]:a,i=2):i===2&&a==="..."&&v?l[2]=Dw(l[2]||{},n[v]):i===2&&a&&!v?(l[2]=l[2]||{})[a]=!0:i>=5&&(i===5?((l[2]=l[2]||{})[t]=v?a?a+n[v]:n[v]:a,i=6):(v||a)&&(l[2][t]+=v?a+n[v]:a)),a=""},f=0;f<r.length;f++){f&&(i===1&&c(),c(f));for(let v=0;v<r[f].length;v++)e=r[f][v],i===1?e==="<"?(c(),l=[l,"",null],i=3):a+=e:i===4?a==="--"&&e===">"?(i=1,a=""):a=e+a[0]:o?e===o?o="":a+=e:e==='"'||e==="'"?o=e:e===">"?(c(),i=1):i&&(e==="="?(i=5,t=a,a=""):e==="/"&&(i<5||r[f][v+1]===">")?(c(),i===3&&(l=l[0]),i=l,(l=l[0]).push(this.apply(null,i.slice(1))),i=0):e===" "||e==="	"||e===`
`||e==="\r"?(c(),i=2):a+=e),i===3&&a==="!--"&&(i=4,l=l[0])}return c(),l.length>2?l.slice(1):l[1]}function b7e(r){return typeof r=="boolean"||r instanceof Boolean}var k7e=b7e,C7e=function(){function r(e){this.current=e,this.root=e,this.entering=!0}return r.prototype.walk=function(){var e=this,t=e.entering,n=e.current;return n?(t?n.firstChild?(this.current=n.firstChild,this.entering=!0):this.entering=!1:n===this.root?this.current=null:n.next?(this.current=n.next,this.entering=!0):(this.current=n.parent,this.entering=!1),{vnode:n,entering:t}):null},r}(),ja=function(){function r(e,t,n){this.parent=null,this.old=null,this.firstChild=null,this.next=null,this.skip=!1,this.type=e,this.props=t,this.children=n,this.props.children=n,t.ref&&(this.ref=t.ref,delete t.ref),t.key&&(this.key=t.key,delete t.key)}return r.prototype.walker=function(){return new C7e(this)},r.removalNodes=[],r}();function S7e(r){return new ja("TEXT_NODE",{nodeValue:r},[])}function NS(r,e){var t=r;k7e(r)||r==null?t=null:(ms(r)||ls(r))&&(t=S7e(String(r))),t&&e.push(t)}function x7e(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];var i=[];return t.forEach(function(a){Array.isArray(a)?a.forEach(function(o){NS(o,i)}):NS(a,i)}),new ja(r,e||{},i)}var yr=w7e.bind(x7e);function T7e(r){return r===Object(r)}var E7e=T7e;function N7e(r){var e;return r.type==="TEXT_NODE"?e=document.createTextNode(r.props.nodeValue):(e=document.createElement(r.type),xM(e,{},r.props)),e}function SM(r,e){r.node?e.removeChild(r.node):SM(r.firstChild,e)}function M7e(r,e,t){Object.keys(e).forEach(function(n){if(/^on/.test(n)){if(!t[n]||e[n]!==t[n]){var i=n.slice(2).toLowerCase();r.removeEventListener(i,e[n])}}else n!=="children"&&!t[n]&&!Oue(r)&&r.removeAttribute(n)}),xM(r,e,t,function(n){return!Ew(e[n],t[n])})}var O7e=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function xM(r,e,t,n){Object.keys(t).forEach(function(i){if(!n||n(i))if(/^on/.test(i)){var a=i.slice(2).toLowerCase();r.addEventListener(a,t[i])}else i==="nodeValue"?r[i]=t[i]:i==="style"&&E7e(t[i])?D7e(r,e[i],t[i]):i!=="children"&&(t[i]===!1?r.removeAttribute(i):r.setAttribute(i,t[i]))})}function D7e(r,e,t){e&&Object.keys(e).forEach(function(n){r.style[n]=""}),Object.keys(t).forEach(function(n){var i=t[n];r.style[n]=ls(i)&&!O7e.test(n)?i+"px":i})}function Yw(r){if(ja.removalNodes.forEach(function(a){return OS(a)}),r){for(var e=void 0,t=r.walker();e=t.walk();)if(r=e.vnode,e.entering)OS(r);else if(Na(r.type)){var n=r.component;if(!r.old&&n.mounted&&n.mounted(),r.old&&n.updated){var i=n.prevProps||{};n.updated(i)}}}}function MS(r){for(var e=r.parent;!e.node;)e=e.parent;return e.node}function OS(r){if(!(!r||!r.parent)){if(r.node){var e=MS(r);r.effect==="A"?e.appendChild(r.node):r.effect==="U"&&M7e(r.node,r.old.props,r.props)}if(r.effect==="D"){for(var t=void 0,n=r.walker();t=n.walk();)if(r=t.vnode,!t.entering)if(Na(r.type)){var i=r.component;i.beforeDestroy&&i.beforeDestroy()}else{var e=MS(r);SM(r,e)}}r.ref&&(r.component?r.ref(r.component):r.node&&r.ref(r.node))}}function A7e(r,e){var t=e.props,n=e.component;return n?(n.prevProps=n.props,n.props=e.props,n):new r(t)}function TM(r){for(var e=r;r&&!r.skip;){if(Na(r.type)){var t=A7e(r.type,r);t.vnode=r,r.component=t,r.props.children=r.children=[t.render()],DS(r)}else r.node||(r.node=N7e(r)),DS(r);if(r.firstChild)r=r.firstChild;else{for(;r&&r.parent&&!r.next&&(r=r.parent,r!==e););r=r.next}}}function L7e(r,e){return r&&e&&e.type===r.type&&(!e.key||e.key===r.key)}function DS(r){var e=r.children,t=r.old?r.old.firstChild:null,n=null;e.forEach(function(a,o){var l=L7e(t,a);l&&(a.old=t,a.parent=r,a.node=t.node,a.component=t.component,a.effect="U"),a&&!l&&(a.old=null,a.parent=r,a.node=null,a.effect="A"),t&&!l&&(ja.removalNodes.push(t),t.effect="D"),t&&(t=t.next),o===0?r.firstChild=a:a&&(n.next=a),n=a});var i=gi(e);if(!e.length)for(;t;)ja.removalNodes.push(t),t.effect="D",t=t.next;for(;t&&i;)t&&i.old!==t&&(ja.removalNodes.push(t),t.effect="D",t=t.next)}function R7e(r){r.effect="D",ja.removalNodes=[r],Yw(),ja.removalNodes=[]}function I7e(r){var e=r.vnode;e.effect="U",e.old=e,e.next&&(e.next.skip=!0),ja.removalNodes=[],TM(e),Yw(e),e.next&&(e.next.skip=!1)}function P7e(r,e){var t=new ja(r.tagName.toLowerCase(),{},[e]);return t.node=r,ja.removalNodes=[],TM(t),Yw(t),function(){return R7e(t.firstChild)}}var wi=function(){function r(e){this.props=e,this.state={},this.refs={}}return r.prototype.setState=function(e){var t=He(He({},this.state),e);Ew(this.state,t)||(this.state=t,I7e(this))},r}(),B7e=function(r){Ct(e,r);function e(t){var n=r.call(this,t)||this;return n.state={hide:!1},n}return e.prototype.show=function(){this.setState({hide:!1})},e.prototype.hide=function(){this.setState({hide:!0})},e.prototype.render=function(){var t=this.props,n=t.editorType,i=t.eventEmitter;return yr(AS||(AS=gr([`
      <div class="`,'" style="display: ',`">
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
      </div>
    `],[`
      <div class="`,'" style="display: ',`">
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
      </div>
    `])),Dt("mode-switch"),this.state.hide?"none":"block",n==="markdown"?" active":"",function(){i.emit("needChangeMode","markdown")},rr.get("Markdown"),n==="wysiwyg"?" active":"",function(){i.emit("needChangeMode","wysiwyg")},rr.get("WYSIWYG"))},e}(wi),AS;function _7e(r,e){var t,n;e=e||0;function i(){n=Array.prototype.slice.call(arguments),window.clearTimeout(t),t=window.setTimeout(function(){r.apply(null,n)},e)}return i}var F7e=_7e,q7e=F7e;function H7e(r,e){var t,n=!0,i=function(v){r.apply(null,v),t=null},a,o,l;e=e||0,a=q7e(i,e);function c(){if(l=Array.prototype.slice.call(arguments),n){i(l),n=!1;return}o=Number(new Date),t=t||o,a(l),o-t>=e&&i(l)}function f(){n=!0,t=null}return c.reset=f,c}var z7e=H7e,EM=function(){if(typeof Map<"u")return Map;function r(e,t){var n=-1;return e.some(function(i,a){return i[0]===t?(n=a,!0):!1}),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var n=r(this.__entries__,t),i=this.__entries__[n];return i&&i[1]},e.prototype.set=function(t,n){var i=r(this.__entries__,t);~i?this.__entries__[i][1]=n:this.__entries__.push([t,n])},e.prototype.delete=function(t){var n=this.__entries__,i=r(n,t);~i&&n.splice(i,1)},e.prototype.has=function(t){return!!~r(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,n){n===void 0&&(n=null);for(var i=0,a=this.__entries__;i<a.length;i++){var o=a[i];t.call(n,o[1],o[0])}},e}()}(),J0=typeof window<"u"&&typeof document<"u"&&window.document===document,om=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),$7e=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(om):function(r){return setTimeout(function(){return r(Date.now())},1e3/60)}}(),V7e=2;function U7e(r,e){var t=!1,n=!1,i=0;function a(){t&&(t=!1,r()),n&&l()}function o(){$7e(a)}function l(){var c=Date.now();if(t){if(c-i<V7e)return;n=!0}else t=!0,n=!1,setTimeout(o,e);i=c}return l}var j7e=20,W7e=["top","right","bottom","left","width","height","size","weight"],G7e=typeof MutationObserver<"u",J7e=function(){function r(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=U7e(this.refresh.bind(this),j7e)}return r.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},r.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},r.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},r.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},r.prototype.connect_=function(){!J0||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),G7e?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},r.prototype.disconnect_=function(){!J0||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},r.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=t===void 0?"":t,i=W7e.some(function(a){return!!~n.indexOf(a)});i&&this.refresh()},r.getInstance=function(){return this.instance_||(this.instance_=new r),this.instance_},r.instance_=null,r}(),NM=function(r,e){for(var t=0,n=Object.keys(e);t<n.length;t++){var i=n[t];Object.defineProperty(r,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return r},mf=function(r){var e=r&&r.ownerDocument&&r.ownerDocument.defaultView;return e||om},MM=_m(0,0,0,0);function sm(r){return parseFloat(r)||0}function LS(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(n,i){var a=r["border-"+i+"-width"];return n+sm(a)},0)}function K7e(r){for(var e=["top","right","bottom","left"],t={},n=0,i=e;n<i.length;n++){var a=i[n],o=r["padding-"+a];t[a]=sm(o)}return t}function Q7e(r){var e=r.getBBox();return _m(0,0,e.width,e.height)}function X7e(r){var e=r.clientWidth,t=r.clientHeight;if(!e&&!t)return MM;var n=mf(r).getComputedStyle(r),i=K7e(n),a=i.left+i.right,o=i.top+i.bottom,l=sm(n.width),c=sm(n.height);if(n.boxSizing==="border-box"&&(Math.round(l+a)!==e&&(l-=LS(n,"left","right")+a),Math.round(c+o)!==t&&(c-=LS(n,"top","bottom")+o)),!Z7e(r)){var f=Math.round(l+a)-e,v=Math.round(c+o)-t;Math.abs(f)!==1&&(l-=f),Math.abs(v)!==1&&(c-=v)}return _m(i.left,i.top,l,c)}var Y7e=function(){return typeof SVGGraphicsElement<"u"?function(r){return r instanceof mf(r).SVGGraphicsElement}:function(r){return r instanceof mf(r).SVGElement&&typeof r.getBBox=="function"}}();function Z7e(r){return r===mf(r).document.documentElement}function eQe(r){return J0?Y7e(r)?Q7e(r):X7e(r):MM}function tQe(r){var e=r.x,t=r.y,n=r.width,i=r.height,a=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(a.prototype);return NM(o,{x:e,y:t,width:n,height:i,top:t,right:e+n,bottom:i+t,left:e}),o}function _m(r,e,t,n){return{x:r,y:e,width:t,height:n}}var rQe=function(){function r(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=_m(0,0,0,0),this.target=e}return r.prototype.isActive=function(){var e=eQe(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},r.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},r}(),nQe=function(){function r(e,t){var n=tQe(t);NM(this,{target:e,contentRect:n})}return r}(),iQe=function(){function r(e,t,n){if(this.activeObservations_=[],this.observations_=new EM,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return r.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof mf(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new rQe(e)),this.controller_.addObserver(this),this.controller_.refresh())}},r.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof mf(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},r.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},r.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},r.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(n){return new nQe(n.target,n.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},r.prototype.clearActive=function(){this.activeObservations_.splice(0)},r.prototype.hasActive=function(){return this.activeObservations_.length>0},r}(),OM=typeof WeakMap<"u"?new WeakMap:new EM,DM=function(){function r(e){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=J7e.getInstance(),n=new iQe(e,t,this);OM.set(this,n)}return r}();["observe","unobserve","disconnect"].forEach(function(r){DM.prototype[r]=function(){var e;return(e=OM.get(this))[r].apply(e,arguments)}});var aQe=function(){return typeof om.ResizeObserver<"u"?om.ResizeObserver:DM}(),oQe=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.execCommand=function(t){var n=Mo(t.target,"li");this.props.execCommand("heading",{level:Number(n.getAttribute("data-level"))})},e.prototype.render=function(){var t=this;return yr(IS||(IS=gr([`
      <ul
        onClick=`,`
        aria-role="menu"
        aria-label="`,`"
      >
        `,`
        <li data-type="Paragraph" aria-role="menuitem">
          <div>`,`</div>
        </li>
      </ul>
    `],[`
      <ul
        onClick=`,`
        aria-role="menu"
        aria-label="`,`"
      >
        `,`
        <li data-type="Paragraph" aria-role="menuitem">
          <div>`,`</div>
        </li>
      </ul>
    `])),function(n){return t.execCommand(n)},rr.get("Headings"),[1,2,3,4,5,6].map(function(n){return yr(RS||(RS=gr([`
              <li data-level="`,`" data-type="Heading" aria-role="menuitem">
                <`,">"," ",`</$>
              </li>
            `],[`
              <li data-level="`,`" data-type="Heading" aria-role="menuitem">
                <`,">"," ",`</$>
              </li>
            `])),n,"h"+n,rr.get("Heading"),n)}),rr.get("Paragraph"))},e}(wi),RS,IS,AM=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.toggleTab=function(t,n){this.props.onClick(t,n)},e.prototype.render=function(){var t=this;return yr(BS||(BS=gr([`
      <div class="`,`" aria-role="tabpanel">
        `,`
      </div>
    `],[`
      <div class="`,`" aria-role="tabpanel">
        `,`
      </div>
    `])),Dt("tabs"),this.props.tabs.map(function(n){var i=n.name,a=n.text,o=t.props.activeTab===i;return yr(PS||(PS=gr([`
            <div
              class="tab-item`,`"
              onClick=`,`
              aria-role="tab"
              aria-label="`,`"
              aria-selected="`,`"
              tabindex="`,`"
            >
              `,`
            </div>
          `],[`
            <div
              class="tab-item`,`"
              onClick=`,`
              aria-role="tab"
              aria-label="`,`"
              aria-selected="`,`"
              tabindex="`,`"
            >
              `,`
            </div>
          `])),o?" active":"",function(l){return t.toggleTab(l,i)},rr.get(a),o?"true":"false",o?"0":"-1",rr.get(a))}))},e}(wi),PS,BS,sQe="ui",lQe=function(r){Ct(e,r);function e(t){var n=r.call(this,t)||this;return n.initialize=function(i){i===void 0&&(i="file");var a=n.refs.url;a.value="",n.refs.altText.value="",n.refs.file.value="",Va(a,"wrong"),n.setState({activeTab:i,file:null,fileNameElClassName:""})},n.execCommand=function(){n.state.activeTab==="file"?n.emitAddImageBlob():n.emitAddImage()},n.toggleTab=function(i,a){a!==n.state.activeTab&&n.initialize(a)},n.showFileSelectBox=function(){n.refs.file.click()},n.changeFile=function(i){var a=i.target.files;a?.length&&n.setState({file:a[0]})},n.state={activeTab:"file",file:null,fileNameElClassName:""},n.tabs=[{name:"file",text:"File"},{name:"url",text:"URL"}],n}return e.prototype.emitAddImageBlob=function(){var t=this,n=this.refs.file.files,i=this.refs.altText,a=" wrong";if(n?.length){a="";var o=n.item(0),l=function(c,f){return t.props.execCommand("addImage",{imageUrl:c,altText:f||i.value})};this.props.eventEmitter.emit("addImageBlobHook",o,l,sQe)}this.setState({fileNameElClassName:a})},e.prototype.emitAddImage=function(){var t=this.refs.url,n=this.refs.altText,i=t.value,a=n.value||"image";if(Va(t,"wrong"),!i.length){No(t,"wrong");return}i&&this.props.execCommand("addImage",{imageUrl:i,altText:a})},e.prototype.preventSelectStart=function(t){t.preventDefault()},e.prototype.updated=function(){this.props.show||this.initialize()},e.prototype.render=function(){var t=this,n=this.state,i=n.activeTab,a=n.file,o=n.fileNameElClassName;return yr(_S||(_S=gr([`
      <div aria-label="`,`">
        <`," tabs="," activeTab="," onClick=",` />
        <div style="display:`,`">
          <label for="toastuiImageUrlInput">`,`</label>
          <input
            id="toastuiImageUrlInput"
            type="text"
            ref=`,`
          />
        </div>
        <div style="display:`,`;position: relative;">
          <label for="toastuiImageFileInput">`,`</label>
          <span
            class="`,"",`"
            onClick=`,`
            onSelectstart=`,`
          >
            `,`
          </span>
          <button
            type="button"
            class="`,`"
            onClick=`,`
          >
            `,`
          </button>
          <input
            id="toastuiImageFileInput"
            type="file"
            accept="image/*"
            onChange=`,`
            ref=`,`
          />
        </div>
        <label for="toastuiAltTextInput">`,`</label>
        <input
          id="toastuiAltTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `],[`
      <div aria-label="`,`">
        <`," tabs="," activeTab="," onClick=",` />
        <div style="display:`,`">
          <label for="toastuiImageUrlInput">`,`</label>
          <input
            id="toastuiImageUrlInput"
            type="text"
            ref=`,`
          />
        </div>
        <div style="display:`,`;position: relative;">
          <label for="toastuiImageFileInput">`,`</label>
          <span
            class="`,"",`"
            onClick=`,`
            onSelectstart=`,`
          >
            `,`
          </span>
          <button
            type="button"
            class="`,`"
            onClick=`,`
          >
            `,`
          </button>
          <input
            id="toastuiImageFileInput"
            type="file"
            accept="image/*"
            onChange=`,`
            ref=`,`
          />
        </div>
        <label for="toastuiAltTextInput">`,`</label>
        <input
          id="toastuiAltTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `])),rr.get("Insert image"),AM,this.tabs,i,this.toggleTab,i==="url"?"block":"none",rr.get("Image URL"),function(l){return t.refs.url=l},i==="file"?"block":"none",rr.get("Select image file"),Dt("file-name"),a?" has-file":o,this.showFileSelectBox,this.preventSelectStart,a?a.name:rr.get("No file"),Dt("file-select-button"),this.showFileSelectBox,rr.get("Choose a file"),this.changeFile,function(l){return t.refs.file=l},rr.get("Description"),function(l){return t.refs.altText=l},Dt("button-container"),Dt("close-button"),this.props.hidePopup,rr.get("Cancel"),Dt("ok-button"),this.execCommand,rr.get("OK"))},e}(wi),_S,uQe=function(r){Ct(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.execCommand=function(){var n=t.refs.url,i=t.refs.text;if(Va(n,"wrong"),Va(i,"wrong"),n.value.length<1){No(n,"wrong");return}var a=Ga(t.props.initialValues.linkUrl);if(a&&i.value.length<1){No(i,"wrong");return}t.props.execCommand("addLink",{linkUrl:n.value,linkText:i.value})},t}return e.prototype.initialize=function(){var t=this.props.initialValues,n=t.linkUrl,i=t.linkText,a=this.refs.url,o=this.refs.text;Va(a,"wrong"),Va(o,"wrong","disabled"),o.removeAttribute("disabled"),n&&(No(o,"disabled"),o.setAttribute("disabled","disabled")),a.value=n||"",o.value=i||""},e.prototype.mounted=function(){this.initialize()},e.prototype.updated=function(t){!t.show&&this.props.show&&this.initialize()},e.prototype.render=function(){var t=this;return yr(FS||(FS=gr([`
      <div aria-label="`,`">
        <label for="toastuiLinkUrlInput">`,`</label>
        <input
          id="toastuiLinkUrlInput"
          type="text"
          ref=`,`
        />
        <label for="toastuiLinkTextInput">`,`</label>
        <input
          id="toastuiLinkTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `],[`
      <div aria-label="`,`">
        <label for="toastuiLinkUrlInput">`,`</label>
        <input
          id="toastuiLinkUrlInput"
          type="text"
          ref=`,`
        />
        <label for="toastuiLinkTextInput">`,`</label>
        <input
          id="toastuiLinkTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `])),rr.get("Insert link"),rr.get("URL"),function(n){return t.refs.url=n},rr.get("Link text"),function(n){return t.refs.text=n},Dt("button-container"),Dt("close-button"),this.props.hidePopup,rr.get("Cancel"),Dt("ok-button"),this.execCommand,rr.get("OK"))},e}(wi),FS,qS=20,HS=20,zS=5,$S=14,VS=5,US=9,cQe=1,fQe=1,jS=1,dQe=function(r){Ct(e,r);function e(t){var n=r.call(this,t)||this;return n.extendSelectionRange=function(i){var a=i.pageX,o=i.pageY,l=a-n.offsetRect.left,c=o-n.offsetRect.top,f=n.getSelectionRangeByOffset(l,c);n.setState(He({},f))},n.execCommand=function(){n.props.execCommand("addTable",{rowCount:n.state.rowIdx+1,columnCount:n.state.colIdx+1})},n.state={rowIdx:-1,colIdx:-1},n}return e.prototype.getDescription=function(){return this.state.colIdx===-1?"":this.state.colIdx+1+" x "+(this.state.rowIdx+1)},e.prototype.getBoundByRange=function(t,n){return{width:(t+1)*qS,height:(n+1)*HS}},e.prototype.getRangeByOffset=function(t,n){return{colIdx:Math.floor(t/qS),rowIdx:Math.floor(n/HS)}},e.prototype.getTableRange=function(){var t=this.state,n=t.colIdx,i=t.rowIdx,a=Math.max(n,VS),o=Math.max(i,zS);return n>=VS&&a<US&&(a+=1),i>=zS&&o<$S&&(o+=1),{colIdx:a+1,rowIdx:o+1}},e.prototype.getSelectionAreaBound=function(){var t=this.getBoundByRange(this.state.colIdx,this.state.rowIdx),n=t.width,i=t.height;return!n&&!i?{display:"none"}:{width:n-jS,height:i-jS,display:"block"}},e.prototype.getSelectionRangeByOffset=function(t,n){var i=this.getRangeByOffset(t,n);return i.rowIdx=Math.min(Math.max(i.rowIdx,cQe),$S),i.colIdx=Math.min(Math.max(i.colIdx,fQe),US),i},e.prototype.updated=function(){if(!this.props.show)this.setState({colIdx:-1,rowIdx:-1});else if(this.state.colIdx===-1&&this.state.rowIdx===-1){var t=this.refs.tableEl.getBoundingClientRect(),n=t.left,i=t.top;this.offsetRect={left:window.pageXOffset+n,top:window.pageYOffset+i}}},e.prototype.createTableArea=function(t){for(var n=t.colIdx,i=t.rowIdx,a=[],o=0;o<i;o+=1){for(var l=[],c=0;c<n;c+=1){var f=""+Dt("table-cell")+(o>0?"":" header");l.push(yr(WS||(WS=gr(['<div class="','"></div>'],['<div class="','"></div>'])),f))}a.push(yr(GS||(GS=gr(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),Dt("table-row"),l))}return yr(JS||(JS=gr(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),Dt("table"),a)},e.prototype.render=function(){var t=this,n=this.getTableRange(),i=this.getSelectionAreaBound();return yr(KS||(KS=gr([`
      <div aria-label="`,`">
        <div
          class="`,`"
          ref=`,`
          onMousemove=`,`
          onClick=`,`
        >
          `,`
          <div class="`,'" style=',`></div>
        </div>
        <p class="`,'">',`</p>
      </div>
    `],[`
      <div aria-label="`,`">
        <div
          class="`,`"
          ref=`,`
          onMousemove=`,`
          onClick=`,`
        >
          `,`
          <div class="`,'" style=',`></div>
        </div>
        <p class="`,'">',`</p>
      </div>
    `])),rr.get("Insert table"),Dt("table-selection"),function(a){return t.refs.tableEl=a},this.extendSelectionRange,this.execCommand,this.createTableArea(n),Dt("table-selection-layer"),i,Dt("table-description"),this.getDescription())},e}(wi),WS,GS,JS,KS,hQe=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.mounted=function(){this.refs.el.appendChild(this.props.body)},e.prototype.updated=function(t){this.refs.el.replaceChild(this.props.body,t.body)},e.prototype.render=function(){var t=this;return yr(QS||(QS=gr(["<div ref=","></div>"],["<div ref=","></div>"])),function(n){return t.refs.el=n})},e}(wi),QS;function K0(r){return ms(r)?vQe(r):r}function pQe(){var r=document.createElement("label"),e=document.createElement("input"),t=document.createElement("span");r.className="scroll-sync active",e.type="checkbox",e.checked=!0,t.className="switch";var n=function(i){return e.addEventListener("change",function(a){var o=a.target.checked;o?No(r,"active"):Va(r,"active"),i("toggleScrollSync",{active:o})})};return r.appendChild(e),r.appendChild(t),{name:"scrollSync",el:r,onMounted:n}}function vQe(r){var e;switch(r){case"heading":e={name:"heading",className:"heading",tooltip:rr.get("Headings"),state:"heading"};break;case"bold":e={name:"bold",className:"bold",command:"bold",tooltip:rr.get("Bold"),state:"strong"};break;case"italic":e={name:"italic",className:"italic",command:"italic",tooltip:rr.get("Italic"),state:"emph"};break;case"strike":e={name:"strike",className:"strike",command:"strike",tooltip:rr.get("Strike"),state:"strike"};break;case"hr":e={name:"hr",className:"hrline",command:"hr",tooltip:rr.get("Line"),state:"thematicBreak"};break;case"quote":e={name:"quote",className:"quote",command:"blockQuote",tooltip:rr.get("Blockquote"),state:"blockQuote"};break;case"ul":e={name:"ul",className:"bullet-list",command:"bulletList",tooltip:rr.get("Unordered list"),state:"bulletList"};break;case"ol":e={name:"ol",className:"ordered-list",command:"orderedList",tooltip:rr.get("Ordered list"),state:"orderedList"};break;case"task":e={name:"task",className:"task-list",command:"taskList",tooltip:rr.get("Task"),state:"taskList"};break;case"table":e={name:"table",className:"table",tooltip:rr.get("Insert table"),state:"table"};break;case"image":e={name:"image",className:"image",tooltip:rr.get("Insert image")};break;case"link":e={name:"link",className:"link",tooltip:rr.get("Insert link")};break;case"code":e={name:"code",className:"code",command:"code",tooltip:rr.get("Code"),state:"code"};break;case"codeblock":e={name:"codeblock",className:"codeblock",command:"codeBlock",tooltip:rr.get("Insert CodeBlock"),state:"codeBlock"};break;case"indent":e={name:"indent",className:"indent",command:"indent",tooltip:rr.get("Indent"),state:"indent"};break;case"outdent":e={name:"outdent",className:"outdent",command:"outdent",tooltip:rr.get("Outdent"),state:"outdent"};break;case"scrollSync":e=pQe();break;case"more":e={name:"more",className:"more",tooltip:rr.get("More")};break}return e.name!=="scrollSync"&&(e.className+=" "+Dt("toolbar-icons")),e}function Zw(r,e){var t=e.el,n=e.pos,i=e.popup,a=e.initialValues;switch(r){case"heading":return{render:function(o){return yr(XS||(XS=gr(["<"," ..."," />"],["<"," ..."," />"])),oQe,o)},className:Dt("popup-add-heading"),fromEl:t,pos:n};case"link":return{render:function(o){return yr(YS||(YS=gr(["<"," ..."," />"],["<"," ..."," />"])),uQe,o)},className:Dt("popup-add-link"),fromEl:t,pos:n,initialValues:a};case"image":return{render:function(o){return yr(ZS||(ZS=gr(["<"," ..."," />"],["<"," ..."," />"])),lQe,o)},className:Dt("popup-add-image"),fromEl:t,pos:n};case"table":return{render:function(o){return yr(ex||(ex=gr(["<"," ..."," />"],["<"," ..."," />"])),dQe,o)},className:Dt("popup-add-table"),fromEl:t,pos:n};case"customPopupBody":return i?He({render:function(o){return yr(tx||(tx=gr(["<"," ..."," body="," />"],["<"," ..."," body="," />"])),hQe,o,i.body)},fromEl:t,pos:n},i):null;default:return null}}function lm(r){r.hidden=r.length===r.filter(function(e){return e.hidden}).length}function mQe(r,e){var t=function(n){return n.hidden=n.name==="scrollSync"&&e,n};return r.reduce(function(n,i){n.push(i.map(function(o){return t(K0(o))}));var a=n[(n.length||1)-1];return a&&lm(a),n},[])}function gQe(r,e){r.forEach(function(t){t.forEach(function(n){return n.hidden=n.name==="scrollSync"&&e}),lm(t)})}var XS,YS,ZS,ex,tx,yQe=20,wQe=function(r){Ct(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.handleMousedown=function(n){!Mo(n.target,"."+Dt("popup"))&&!Mo(n.target,t.props.info.fromEl)&&t.props.hidePopup()},t}return e.prototype.mounted=function(){document.addEventListener("mousedown",this.handleMousedown),this.props.eventEmitter.listen("closePopup",this.props.hidePopup)},e.prototype.beforeDestroy=function(){document.removeEventListener("mousedown",this.handleMousedown)},e.prototype.updated=function(t){var n=this.props,i=n.show,a=n.info;if(i&&a.pos&&t.show!==i){var o=He({},a.pos),l=this.refs.el.offsetWidth,c=Mo(this.refs.el,"."+Dt("toolbar")),f=c.offsetWidth;o.left+l>=f&&(o.left=f-l-yQe),Ew(this.state.popupPos,o)||this.setState({popupPos:o})}},e.prototype.render=function(){var t=this,n=this.props,i=n.info,a=n.show,o=n.hidePopup,l=n.eventEmitter,c=n.execCommand,f=i||{},v=f.className,y=v===void 0?"":v,T=f.style,N=f.render,E=f.initialValues,P=E===void 0?{}:E,L=He(He({display:a?"block":"none"},T),this.state.popupPos);return yr(rx||(rx=gr([`
      <div
        class="`," ",`"
        style=`,`
        ref=`,`
        aria-role="dialog"
      >
        <div class="`,`">
          `,`
        </div>
      </div>
    `],[`
      <div
        class="`," ",`"
        style=`,`
        ref=`,`
        aria-role="dialog"
      >
        <div class="`,`">
          `,`
        </div>
      </div>
    `])),Dt("popup"),y,L,function($){return t.refs.el=$},Dt("popup-body"),N&&N({eventEmitter:l,show:a,hidePopup:o,execCommand:c,initialValues:P}))},e}(wi),rx,nx=6;function eb(r){return function(e){Ct(t,e);function t(n){var i=e.call(this,n)||this;return i.showTooltip=function(a){var o=i.props.item.tooltip;if(!i.props.disabled&&o){var l=i.getBound(a),c=l.left+nx+"px",f=l.top+nx+"px";Ao(i.props.tooltipRef.current,{display:"block",left:c,top:f}),i.props.tooltipRef.current.querySelector(".text").textContent=o}},i.hideTooltip=function(){Ao(i.props.tooltipRef.current,"display","none")},i.state={active:!1,disabled:n.disabled},i.addEvent(),i}return t.prototype.addEvent=function(){var n=this,i=this.props,a=i.item,o=i.eventEmitter;a.state&&o.listen("changeToolbarState",function(l){var c,f=l.toolbarState,v=(c=f[a.state])!==null&&c!==void 0?c:{},y=v.active,T=v.disabled;n.setState({active:!!y,disabled:T??n.props.disabled})})},t.prototype.getBound=function(n){var i=XE(n,Mo(n,"."+Dt("toolbar"))),a=i.offsetLeft,o=i.offsetTop;return{left:a,top:n.offsetHeight+o}},t.prototype.render=function(){return yr(ix||(ix=gr([`
        <`,`
          ...`,`
          active=`,`
          showTooltip=`,`
          hideTooltip=`,`
          getBound=`,`
          disabled=`,`
        />
      `],[`
        <`,`
          ...`,`
          active=`,`
          showTooltip=`,`
          hideTooltip=`,`
          getBound=`,`
          disabled=`,`
        />
      `])),r,this.props,this.state.active,this.showTooltip,this.hideTooltip,this.getBound,this.state.disabled||this.props.disabled)},t}(wi)}var ix,bQe=80,kQe=function(r){Ct(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.showTooltip=function(){t.props.showTooltip(t.refs.el)},t.execCommand=function(){var n=t.props,i=n.item,a=n.execCommand,o=n.setPopupInfo,l=n.getBound,c=n.eventEmitter,f=i.command,v=i.name,y=i.popup;if(f)a(f);else{var T=y?"customPopupBody":v,N=c.emit("query","getPopupInitialValues",{popupName:T})[0],E=Zw(T,{el:t.refs.el,pos:l(t.refs.el),popup:y,initialValues:N});E&&o(E)}},t}return e.prototype.mounted=function(){this.setItemWidth()},e.prototype.updated=function(t){t.item.name!==this.props.item.name&&this.setItemWidth()},e.prototype.setItemWidth=function(){var t=this.props,n=t.setItemWidth,i=t.item;n&&n(i.name,Pw(this.refs.el)+(i.hidden?bQe:0))},e.prototype.render=function(){var t=this,n=this.props,i=n.hideTooltip,a=n.disabled,o=n.item,l=n.active,c=He({display:o.hidden?"none":null},o.style),f=""+(o.className||"")+(l?" active":"");return yr(ax||(ax=gr([`
      <button
        ref=`,`
        type="button"
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
        disabled=`,`
        aria-label=`,`
      >
        `,`
      </button>
    `],[`
      <button
        ref=`,`
        type="button"
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
        disabled=`,`
        aria-label=`,`
      >
        `,`
      </button>
    `])),function(v){return t.refs.el=v},c,f,this.execCommand,this.showTooltip,i,!!a,o.text||o.tooltip||"",o.text||"")},e}(wi),CQe=eb(kQe),ax,SQe=function(r){Ct(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.showTooltip=function(){t.props.showTooltip(t.refs.el)},t.showPopup=function(){var n=Zw("customPopupBody",{el:t.refs.el,pos:t.props.getBound(t.refs.el),popup:t.props.item.popup});n&&t.props.setPopupInfo(n)},t}return e.prototype.mounted=function(){var t=this.props,n=t.setItemWidth,i=t.item;this.refs.el.appendChild(i.el),n&&n(i.name,Pw(this.refs.el)),i.onMounted&&i.onMounted(this.props.execCommand)},e.prototype.updated=function(t){var n,i=this.props,a=i.item,o=i.active,l=i.disabled;(t.active!==o||t.disabled!==l)&&((n=a.onUpdated)===null||n===void 0||n.call(a,{active:o,disabled:l}))},e.prototype.render=function(){var t=this,n=this.props,i=n.disabled,a=n.item,o={display:a.hidden?"none":"inline-block"},l=function(c){return i?null:c};return yr(ox||(ox=gr([`
      <div
        ref=`,`
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
      ></div>
    `],[`
      <div
        ref=`,`
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
      ></div>
    `])),function(c){return t.refs.el=c},o,Dt("toolbar-item-wrapper"),l(this.showPopup),l(this.showTooltip),l(this.props.hideTooltip))},e}(wi),xQe=eb(SQe),ox,LM=function(r){Ct(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.render=function(){var t=this,n=this.props,i=n.group,a=n.hiddenDivider,o=i.hidden?{display:"none"}:null,l=a?{display:"none"}:null;return yr(lx||(lx=gr([`
      <div class="`,'" style=',`>
        `,`
        <div class="`,'" style=',`></div>
      </div>
    `],[`
      <div class="`,'" style=',`>
        `,`
        <div class="`,'" style=',`></div>
      </div>
    `])),Dt("toolbar-group"),o,i.map(function(c){var f=c.el?xQe:CQe;return yr(sx||(sx=gr(["<"," key="," ..."," item="," />"],["<"," key="," ..."," item="," />"])),f,c.name,t.props,c)}),Dt("toolbar-divider"),l)},e}(wi),sx,lx,TQe=4,EQe=function(r){Ct(e,r);function e(t){var n=r.call(this,t)||this;return n.handleClickDocument=function(i){var a=i.target;!Mo(a,"."+Dt("dropdown-toolbar"))&&!Mo(a,".more")&&n.setState({showDropdown:!1,dropdownPos:null})},n.showTooltip=function(){n.props.showTooltip(n.refs.el)},n.state={showDropdown:!1,dropdownPos:null},n}return e.prototype.getBound=function(){var t=this.props.getBound(this.refs.el);return t.top+=TQe,He(He({},t),{left:null,right:10})},e.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},e.prototype.updated=function(){this.state.showDropdown&&!this.state.dropdownPos&&this.setState({dropdownPos:this.getBound()})},e.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},e.prototype.render=function(){var t=this,n=this.state,i=n.showDropdown,a=n.dropdownPos,o=this.props,l=o.disabled,c=o.item,f=o.items,v=o.hideTooltip,y=f.filter(function(E){return!E.hidden}),T=y.length?null:{display:"none"},N=i?null:{display:"none"};return yr(cx||(cx=gr([`
      <div class="`,'" style=',`>
        <button
          ref=`,`
          type="button"
          class=`,`
          onClick=`,`
          onMouseover=`,`
          onMouseout=`,`
          disabled=`,`
        ></button>
        <div
          class="`,`"
          style=`,`
          ref=`,`
        >
          `,`
        </div>
      </div>
    `],[`
      <div class="`,'" style=',`>
        <button
          ref=`,`
          type="button"
          class=`,`
          onClick=`,`
          onMouseover=`,`
          onMouseout=`,`
          disabled=`,`
        ></button>
        <div
          class="`,`"
          style=`,`
          ref=`,`
        >
          `,`
        </div>
      </div>
    `])),Dt("toolbar-group"),T,function(E){return t.refs.el=E},c.className,function(){return t.setState({showDropdown:!0})},this.showTooltip,v,l,Dt("dropdown-toolbar"),He(He({},N),a),function(E){return t.refs.dropdownEl=E},y.length?y.map(function(E,P){var L;return yr(ux||(ux=gr([`
                  <`,`
                    group=`,`
                    hiddenDivider=`,`
                    ...`,`
                  />
                `],[`
                  <`,`
                    group=`,`
                    hiddenDivider=`,`
                    ...`,`
                  />
                `])),LM,E,P===y.length-1||((L=y[P+1])===null||L===void 0?void 0:L.hidden),t.props)}):null)},e}(wi),NQe=eb(EQe),ux,cx,MQe=50,OQe=function(r){Ct(e,r);function e(t){var n=r.call(this,t)||this;return n.toggleTab=function(i,a){var o=n.props.eventEmitter;if(n.state.activeTab!==a){var l=a==="write"?"changePreviewTabWrite":"changePreviewTabPreview";o.emit(l),n.setState({activeTab:a})}},n.setItemWidth=function(i,a){n.itemWidthMap[i]=a},n.setPopupInfo=function(i){n.setState({showPopup:!0,popupInfo:i})},n.openPopup=function(i,a){a===void 0&&(a={});var o=n.refs.el.querySelector("."+Dt("toolbar-group")+" ."+i);if(o){var l=XE(o,Mo(o,"."+Dt("toolbar"))),c=l.offsetLeft,f=l.offsetTop,v=Zw(i,{el:o,pos:{left:c,top:o.offsetHeight+f},initialValues:a});v&&n.setPopupInfo(v)}},n.hidePopup=function(){n.state.showPopup&&n.setState({showPopup:!1})},n.execCommand=function(i,a){var o=n.props.eventEmitter;o.emit("command",i,a),n.hidePopup()},n.tabs=[{name:"write",text:"Write"},{name:"preview",text:"Preview"}],n.itemWidthMap={},n.initialItems=mQe(t.toolbarItems||[],n.hiddenScrollSync()),n.state={items:n.initialItems,dropdownItems:[],showPopup:!1,popupInfo:{},activeTab:"write"},n.tooltipRef={current:null},n.resizeObserver=new aQe(function(){return n.handleResize()}),n.addEvent(),n}return e.prototype.insertToolbarItem=function(t,n){var i=t.groupIndex,a=t.itemIndex,o=this.initialItems[i];n=K0(n),o?o.splice(a,0,n):this.initialItems.push([n]),this.setState(this.classifyToolbarItems())},e.prototype.removeToolbarItem=function(t){var n=this;lf(this.initialItems,function(i){var a=!1;return lf(i,function(o,l){return o.name===t?(a=!0,i.splice(l,1),n.setState(n.classifyToolbarItems()),!1):!0}),!a})},e.prototype.addEvent=function(){var t=this,n=this.props.eventEmitter;this.handleResize=z7e(function(){t.setState({items:t.initialItems,dropdownItems:[]}),t.setState(t.classifyToolbarItems())},200),n.listen("openPopup",this.openPopup)},e.prototype.appendTooltipToRoot=function(){var t='<div class="'+Dt("tooltip")+`" style="display:none">
        <div class="arrow"></div>
        <span class="text"></span>
      </div>`;this.tooltipRef.current=QE(t,this.refs.el)},e.prototype.hiddenScrollSync=function(){return this.props.editorType==="wysiwyg"||this.props.previewStyle==="tab"},e.prototype.movePrevItemToDropdownToolbar=function(t,n,i,a){var o=function(c){var f=c.pop();f&&a.push(f)};if(t>1)o(i);else{var l=gi(n);l&&o(l)}},e.prototype.classifyToolbarItems=function(){var t=this,n=0,i=this.refs.el.clientWidth,a=this.refs.el.querySelector("."+Dt("toolbar-divider")),o=a?Pw(a):0,l=[],c=[],f=!1;return this.initialItems.forEach(function(v,y){var T=[],N=[];v.forEach(function(E,P){E.hidden||(n+=t.itemWidthMap[E.name],n>i-MQe?(f||(t.movePrevItemToDropdownToolbar(P,l,T,N),f=!0),N.push(E)):T.push(E))}),T.length&&(lm(T),l.push(T)),N.length&&(lm(N),c.push(N)),y<t.state.items.length-1&&(n+=o)}),{items:l,dropdownItems:c}},e.prototype.mounted=function(){this.props.previewStyle==="tab"&&this.props.eventEmitter.emit("changePreviewTabWrite",!0),this.setState(this.classifyToolbarItems()),this.appendTooltipToRoot(),this.resizeObserver.observe(this.refs.el)},e.prototype.updated=function(t){var n=this.props,i=n.editorType,a=n.previewStyle,o=n.eventEmitter,l=a!==t.previewStyle,c=i!==t.editorType;if(l||c){gQe(this.initialItems,this.hiddenScrollSync());var f=this.classifyToolbarItems();(l||a==="tab"&&i==="markdown")&&(o.emit("changePreviewTabWrite"),f.activeTab="write"),this.setState(f)}},e.prototype.beforeDestroy=function(){window.removeEventListener("resize",this.handleResize),this.resizeObserver.disconnect(),Nu(this.tooltipRef.current)},e.prototype.render=function(){var t=this,n=this.props,i=n.previewStyle,a=n.eventEmitter,o=n.editorType,l=this.state,c=l.popupInfo,f=l.showPopup,v=l.activeTab,y=l.items,T=l.dropdownItems,N={eventEmitter:a,tooltipRef:this.tooltipRef,disabled:o==="markdown"&&i==="tab"&&v==="preview",execCommand:this.execCommand,setPopupInfo:this.setPopupInfo},E=i==="tab"?{borderTopLeftRadius:0}:null;return yr(dx||(dx=gr([`
      <div class="`,`">
        <div
          class="`,`"
          style="display: `,`"
        >
          <`," tabs="," activeTab="," onClick=",` />
        </div>
        <div
          class="`,`"
          ref=`,`
          style=`,`
        >
          `,`
          <`,`
            item=`,`
            items=`,`
            ...`,`
          />
        </div>
        <`,`
          info=`,`
          show=`,`
          eventEmitter=`,`
          hidePopup=`,`
          execCommand=`,`
        />
      </div>
    `],[`
      <div class="`,`">
        <div
          class="`,`"
          style="display: `,`"
        >
          <`," tabs="," activeTab="," onClick=",` />
        </div>
        <div
          class="`,`"
          ref=`,`
          style=`,`
        >
          `,`
          <`,`
            item=`,`
            items=`,`
            ...`,`
          />
        </div>
        <`,`
          info=`,`
          show=`,`
          eventEmitter=`,`
          hidePopup=`,`
          execCommand=`,`
        />
      </div>
    `])),Dt("toolbar"),Dt("md-tab-container"),o==="wysiwyg"||i==="vertical"?"none":"block",AM,this.tabs,v,this.toggleTab,Dt("defaultUI-toolbar"),function(P){return t.refs.el=P},E,y.map(function(P,L){var $;return yr(fx||(fx=gr([`
              <`,`
                group=`,`
                hiddenDivider=`,`
                setItemWidth=`,`
                ...`,`
              />
            `],[`
              <`,`
                group=`,`
                hiddenDivider=`,`
                setItemWidth=`,`
                ...`,`
              />
            `])),LM,P,L===y.length-1||(($=y[L+1])===null||$===void 0?void 0:$.hidden),t.setItemWidth,N)}),NQe,K0("more"),T,N,wQe,c,f,a,this.hidePopup,this.execCommand)},e}(wi),fx,dx,DQe=function(r){Ct(e,r);function e(t){var n=r.call(this,t)||this;return n.handleClickDocument=function(i){Mo(i.target,"."+Dt("context-menu"))||n.setState({pos:null})},n.state={pos:null,menuGroups:[]},n.addEvent(),n}return e.prototype.addEvent=function(){var t=this;this.props.eventEmitter.listen("contextmenu",function(n){var i=n.pos,a=n.menuGroups;t.setState({pos:i,menuGroups:a})})},e.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},e.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},e.prototype.getMenuGroupElements=function(){var t=this,n=this.state,i=n.pos,a=n.menuGroups;return i?a.reduce(function(o,l){var c=[];return l.forEach(function(f){var v=f.label,y=f.className,T=y===void 0?!1:y,N=f.disabled,E=f.onClick,P=function(){N||(E(),t.setState({pos:null}))};c.push(yr(hx||(hx=gr([`
                <li
                  onClick=`,`
                  class="menu-item`,`"
                  aria-role="menuitem"
                >
                  <span class="`,'">',`</span>
                </li>
              `],[`
                <li
                  onClick=`,`
                  class="menu-item`,`"
                  aria-role="menuitem"
                >
                  <span class="`,'">',`</span>
                </li>
              `])),P,N?" disabled":"",T,v))}),o.push(yr(px||(px=gr([`<ul class="menu-group">
              `,`
            </ul>`],[`<ul class="menu-group">
              `,`
            </ul>`])),c)),o},[]):[]},e.prototype.render=function(){var t=He({display:this.state.pos?"block":"none"},this.state.pos);return yr(vx||(vx=gr(['<div class="','" style=',` aria-role="menu">
      `,`
    </div>`],['<div class="','" style=',` aria-role="menu">
      `,`
    </div>`])),Dt("context-menu"),t,this.getMenuGroupElements())},e}(wi),hx,px,vx,AQe=function(r){Ct(e,r);function e(t){var n=r.call(this,t)||this;n.changeMode=function(o){o!==n.state.editorType&&n.setState({editorType:o})},n.changePreviewStyle=function(o){o!==n.state.previewStyle&&n.setState({previewStyle:o})},n.hide=function(){n.setState({hide:!0})},n.show=function(){n.setState({hide:!1})};var i=t.editorType,a=t.previewStyle;return n.state={editorType:i,previewStyle:a,hide:!1},n.addEvent(),n}return e.prototype.mounted=function(){var t=this.props.slots,n=t.wwEditor,i=t.mdEditor,a=t.mdPreview;this.refs.wwContainer.appendChild(n),this.refs.mdContainer.insertAdjacentElement("afterbegin",i),this.refs.mdContainer.appendChild(a)},e.prototype.insertToolbarItem=function(t,n){this.toolbar.insertToolbarItem(t,n)},e.prototype.removeToolbarItem=function(t){this.toolbar.removeToolbarItem(t)},e.prototype.render=function(){var t=this,n=this.props,i=n.eventEmitter,a=n.hideModeSwitch,o=n.toolbarItems,l=n.theme,c=this.state,f=c.hide,v=c.previewStyle,y=c.editorType,T=f?" hidden":"",N=Dt(y==="markdown"?"md-mode":"ww-mode"),E=Dt("md")+"-"+v+"-style",P=Dt([l!=="light",l+" "]);return yr(gx||(gx=gr([`
      <div
        class="`,"","",`"
        ref=`,`
      >
        <`,`
          ref=`,`
          eventEmitter=`,`
          previewStyle=`,`
          toolbarItems=`,`
          editorType=`,`
        />
        <div
          class="`," ",`"
          ref=`,`
        >
          <div class="`,`">
            <div
              class="`," ",`"
              ref=`,`
            >
              <div class="`,`"></div>
            </div>
            <div
              class="`,`"
              ref=`,`
            />
          </div>
        </div>
        `,`
        <`," eventEmitter=",` />
      </div>
    `],[`
      <div
        class="`,"","",`"
        ref=`,`
      >
        <`,`
          ref=`,`
          eventEmitter=`,`
          previewStyle=`,`
          toolbarItems=`,`
          editorType=`,`
        />
        <div
          class="`," ",`"
          ref=`,`
        >
          <div class="`,`">
            <div
              class="`," ",`"
              ref=`,`
            >
              <div class="`,`"></div>
            </div>
            <div
              class="`,`"
              ref=`,`
            />
          </div>
        </div>
        `,`
        <`," eventEmitter=",` />
      </div>
    `])),P,Dt("defaultUI"),T,function(L){return t.refs.el=L},OQe,function(L){return t.toolbar=L},i,v,o,y,Dt("main"),N,function(L){return t.refs.editorSection=L},Dt("main-container"),Dt("md-container"),E,function(L){return t.refs.mdContainer=L},Dt("md-splitter"),Dt("ww-container"),function(L){return t.refs.wwContainer=L},!a&&yr(mx||(mx=gr(["<"," eventEmitter="," editorType="," />"],["<"," eventEmitter="," editorType="," />"])),B7e,i,y),DQe,i)},e.prototype.addEvent=function(){var t=this.props.eventEmitter;t.listen("hide",this.hide),t.listen("show",this.show),t.listen("changeMode",this.changeMode),t.listen("changePreviewStyle",this.changePreviewStyle)},e}(wi),mx,gx,LQe=function(r){Ct(e,r);function e(t){var n,i=r.call(this,t)||this,a,o=P7e(i.options.el,yr(yx||(yx=gr([`
        <`,`
          ref=`,`
          eventEmitter=`,`
          slots=`,`
          hideModeSwitch=`,`
          toolbarItems=`,`
          previewStyle=`,`
          editorType=`,`
          theme=`,`
        />
      `],[`
        <`,`
          ref=`,`
          eventEmitter=`,`
          slots=`,`
          hideModeSwitch=`,`
          toolbarItems=`,`
          previewStyle=`,`
          editorType=`,`
          theme=`,`
        />
      `])),AQe,function(l){return a=l},i.eventEmitter,i.getEditorElements(),i.options.hideModeSwitch,i.options.toolbarItems,i.options.previewStyle,i.options.initialEditType,i.options.theme));return i.setMinHeight(i.options.minHeight),i.setHeight(i.options.height),i.defaultUI={insertToolbarItem:a.insertToolbarItem.bind(a),removeToolbarItem:a.removeToolbarItem.bind(a),destroy:o},(n=i.pluginInfo.toolbarItems)===null||n===void 0||n.forEach(function(l){var c=l.groupIndex,f=l.itemIndex,v=l.item;i.defaultUI.insertToolbarItem({groupIndex:c,itemIndex:f},v)}),i.eventEmitter.emit("loadUI",i),i}return e.factory=function(t){return t.viewer?new bM(t):new e(t)},e.prototype.insertToolbarItem=function(t,n){this.defaultUI.insertToolbarItem(t,n)},e.prototype.removeToolbarItem=function(t){this.defaultUI.removeToolbarItem(t)},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.defaultUI.destroy()},e}(CM),yx;CM.setLanguage(["en","en-US"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Write",Preview:"Preview",Headings:"Headings",Paragraph:"Paragraph",Bold:"Bold",Italic:"Italic",Strike:"Strike",Code:"Inline code",Line:"Line",Blockquote:"Blockquote","Unordered list":"Unordered list","Ordered list":"Ordered list",Task:"Task",Indent:"Indent",Outdent:"Outdent","Insert link":"Insert link","Insert CodeBlock":"Insert codeBlock","Insert table":"Insert table","Insert image":"Insert image",Heading:"Heading","Image URL":"Image URL","Select image file":"Select image file","Choose a file":"Choose a file","No file":"No file",Description:"Description",OK:"OK",More:"More",Cancel:"Cancel",File:"File",URL:"URL","Link text":"Link text","Add row to up":"Add row to up","Add row to down":"Add row to down","Add column to left":"Add column to left","Add column to right":"Add column to right","Remove row":"Remove row","Remove column":"Remove column","Align column to left":"Align column to left","Align column to center":"Align column to center","Align column to right":"Align column to right","Remove table":"Remove table","Would you like to paste as table?":"Would you like to paste as table?","Text color":"Text color","Auto scroll enabled":"Auto scroll enabled","Auto scroll disabled":"Auto scroll disabled","Choose language":"Choose language"});var Ky={exports:{}},Vi={},Sa={},Mi={},Qy,wx;function RQe(){if(wx)return Qy;wx=1;function r(e){this.content=e}return r.prototype={constructor:r,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var i=n&&n!=e?this.remove(n):this,a=i.find(e),o=i.content.slice();return a==-1?o.push(n||e,t):(o[a+1]=t,n&&(o[a]=n)),new r(o)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new r(n)},addToStart:function(e,t){return new r([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new r(n)},addBefore:function(e,t,n){var i=this.remove(t),a=i.content.slice(),o=i.find(e);return a.splice(o==-1?a.length:o,0,t,n),new r(a)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=r.from(e),e.size?new r(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=r.from(e),e.size?new r(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=r.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}},r.from=function(e){if(e instanceof r)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new r(t)},Qy=r,Qy}var bx;function Fm(){if(bx)return Mi;bx=1;function r(V,R){var k=typeof Symbol<"u"&&V[Symbol.iterator]||V["@@iterator"];if(!k){if(Array.isArray(V)||(k=e(V))||R){k&&(V=k);var M=0,_=function(){};return{s:_,n:function(){return M>=V.length?{done:!0}:{done:!1,value:V[M++]}},e:function(Ae){throw Ae},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var G=!0,Z=!1,oe;return{s:function(){k=k.call(V)},n:function(){var Ae=k.next();return G=Ae.done,Ae},e:function(Ae){Z=!0,oe=Ae},f:function(){try{!G&&k.return!=null&&k.return()}finally{if(Z)throw oe}}}}function e(V,R){if(V){if(typeof V=="string")return t(V,R);var k=Object.prototype.toString.call(V).slice(8,-1);if(k==="Object"&&V.constructor&&(k=V.constructor.name),k==="Map"||k==="Set")return Array.from(V);if(k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return t(V,R)}}function t(V,R){(R==null||R>V.length)&&(R=V.length);for(var k=0,M=new Array(R);k<R;k++)M[k]=V[k];return M}function n(){return typeof Reflect<"u"&&Reflect.get?n=Reflect.get.bind():n=function(R,k,M){var _=i(R,k);if(_){var G=Object.getOwnPropertyDescriptor(_,k);return G.get?G.get.call(arguments.length<3?R:M):G.value}},n.apply(this,arguments)}function i(V,R){for(;!Object.prototype.hasOwnProperty.call(V,R)&&(V=E(V),V!==null););return V}function a(V,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function");V.prototype=Object.create(R&&R.prototype,{constructor:{value:V,writable:!0,configurable:!0}}),Object.defineProperty(V,"prototype",{writable:!1}),R&&N(V,R)}function o(V){var R=y();return function(){var M=E(V),_;if(R){var G=E(this).constructor;_=Reflect.construct(M,arguments,G)}else _=M.apply(this,arguments);return l(this,_)}}function l(V,R){if(R&&(P(R)==="object"||typeof R=="function"))return R;if(R!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c(V)}function c(V){if(V===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V}function f(V){var R=typeof Map=="function"?new Map:void 0;return f=function(M){if(M===null||!T(M))return M;if(typeof M!="function")throw new TypeError("Super expression must either be null or a function");if(typeof R<"u"){if(R.has(M))return R.get(M);R.set(M,_)}function _(){return v(M,arguments,E(this).constructor)}return _.prototype=Object.create(M.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),N(_,M)},f(V)}function v(V,R,k){return y()?v=Reflect.construct.bind():v=function(_,G,Z){var oe=[null];oe.push.apply(oe,G);var Ce=Function.bind.apply(_,oe),Ae=new Ce;return Z&&N(Ae,Z.prototype),Ae},v.apply(null,arguments)}function y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function T(V){try{return Function.toString.call(V).indexOf("[native code]")!==-1}catch{return typeof V=="function"}}function N(V,R){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(M,_){return M.__proto__=_,M},N(V,R)}function E(V){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(k){return k.__proto__||Object.getPrototypeOf(k)},E(V)}function P(V){"@babel/helpers - typeof";return P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},P(V)}function L(V,R){if(!(V instanceof R))throw new TypeError("Cannot call a class as a function")}function $(V,R){for(var k=0;k<R.length;k++){var M=R[k];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(V,re(M.key),M)}}function ee(V,R,k){return R&&$(V.prototype,R),k&&$(V,k),Object.defineProperty(V,"prototype",{writable:!1}),V}function re(V){var R=se(V,"string");return P(R)==="symbol"?R:String(R)}function se(V,R){if(P(V)!=="object"||V===null)return V;var k=V[Symbol.toPrimitive];if(k!==void 0){var M=k.call(V,R);if(P(M)!=="object")return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(V)}var ve=RQe();function le(V,R,k){for(var M=0;;M++){if(M==V.childCount||M==R.childCount)return V.childCount==R.childCount?null:k;var _=V.child(M),G=R.child(M);if(_==G){k+=_.nodeSize;continue}if(!_.sameMarkup(G))return k;if(_.isText&&_.text!=G.text){for(var Z=0;_.text[Z]==G.text[Z];Z++)k++;return k}if(_.content.size||G.content.size){var oe=le(_.content,G.content,k+1);if(oe!=null)return oe}k+=_.nodeSize}}function ke(V,R,k,M){for(var _=V.childCount,G=R.childCount;;){if(_==0||G==0)return _==G?null:{a:k,b:M};var Z=V.child(--_),oe=R.child(--G),Ce=Z.nodeSize;if(Z==oe){k-=Ce,M-=Ce;continue}if(!Z.sameMarkup(oe))return{a:k,b:M};if(Z.isText&&Z.text!=oe.text){for(var Ae=0,tt=Math.min(Z.text.length,oe.text.length);Ae<tt&&Z.text[Z.text.length-Ae-1]==oe.text[oe.text.length-Ae-1];)Ae++,k--,M--;return{a:k,b:M}}if(Z.content.size||oe.content.size){var Ye=ke(Z.content,oe.content,k-1,M-1);if(Ye)return Ye}k-=Ce,M-=Ce}}var we=function(){function V(R,k){if(L(this,V),this.content=R,this.size=k||0,k==null)for(var M=0;M<R.length;M++)this.size+=R[M].nodeSize}return ee(V,[{key:"nodesBetween",value:function(k,M,_){for(var G=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,Z=arguments.length>4?arguments[4]:void 0,oe=0,Ce=0;Ce<M;oe++){var Ae=this.content[oe],tt=Ce+Ae.nodeSize;if(tt>k&&_(Ae,G+Ce,Z||null,oe)!==!1&&Ae.content.size){var Ye=Ce+1;Ae.nodesBetween(Math.max(0,k-Ye),Math.min(Ae.content.size,M-Ye),_,G+Ye)}Ce=tt}}},{key:"descendants",value:function(k){this.nodesBetween(0,this.size,k)}},{key:"textBetween",value:function(k,M,_,G){var Z="",oe=!0;return this.nodesBetween(k,M,function(Ce,Ae){var tt=Ce.isText?Ce.text.slice(Math.max(k,Ae)-Ae,M-Ae):Ce.isLeaf?G?typeof G=="function"?G(Ce):G:Ce.type.spec.leafText?Ce.type.spec.leafText(Ce):"":"";Ce.isBlock&&(Ce.isLeaf&&tt||Ce.isTextblock)&&_&&(oe?oe=!1:Z+=_),Z+=tt},0),Z}},{key:"append",value:function(k){if(!k.size)return this;if(!this.size)return k;var M=this.lastChild,_=k.firstChild,G=this.content.slice(),Z=0;for(M.isText&&M.sameMarkup(_)&&(G[G.length-1]=M.withText(M.text+_.text),Z=1);Z<k.content.length;Z++)G.push(k.content[Z]);return new V(G,this.size+k.size)}},{key:"cut",value:function(k){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.size;if(k==0&&M==this.size)return this;var _=[],G=0;if(M>k)for(var Z=0,oe=0;oe<M;Z++){var Ce=this.content[Z],Ae=oe+Ce.nodeSize;Ae>k&&((oe<k||Ae>M)&&(Ce.isText?Ce=Ce.cut(Math.max(0,k-oe),Math.min(Ce.text.length,M-oe)):Ce=Ce.cut(Math.max(0,k-oe-1),Math.min(Ce.content.size,M-oe-1))),_.push(Ce),G+=Ce.nodeSize),oe=Ae}return new V(_,G)}},{key:"cutByIndex",value:function(k,M){return k==M?V.empty:k==0&&M==this.content.length?this:new V(this.content.slice(k,M))}},{key:"replaceChild",value:function(k,M){var _=this.content[k];if(_==M)return this;var G=this.content.slice(),Z=this.size+M.nodeSize-_.nodeSize;return G[k]=M,new V(G,Z)}},{key:"addToStart",value:function(k){return new V([k].concat(this.content),this.size+k.nodeSize)}},{key:"addToEnd",value:function(k){return new V(this.content.concat(k),this.size+k.nodeSize)}},{key:"eq",value:function(k){if(this.content.length!=k.content.length)return!1;for(var M=0;M<this.content.length;M++)if(!this.content[M].eq(k.content[M]))return!1;return!0}},{key:"firstChild",get:function(){return this.content.length?this.content[0]:null}},{key:"lastChild",get:function(){return this.content.length?this.content[this.content.length-1]:null}},{key:"childCount",get:function(){return this.content.length}},{key:"child",value:function(k){var M=this.content[k];if(!M)throw new RangeError("Index "+k+" out of range for "+this);return M}},{key:"maybeChild",value:function(k){return this.content[k]||null}},{key:"forEach",value:function(k){for(var M=0,_=0;M<this.content.length;M++){var G=this.content[M];k(G,_,M),_+=G.nodeSize}}},{key:"findDiffStart",value:function(k){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return le(this,k,M)}},{key:"findDiffEnd",value:function(k){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.size,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:k.size;return ke(this,k,M,_)}},{key:"findIndex",value:function(k){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1;if(k==0)return je(0,k);if(k==this.size)return je(this.content.length,k);if(k>this.size||k<0)throw new RangeError("Position ".concat(k," outside of fragment (").concat(this,")"));for(var _=0,G=0;;_++){var Z=this.child(_),oe=G+Z.nodeSize;if(oe>=k)return oe==k||M>0?je(_+1,oe):je(_,G);G=oe}}},{key:"toString",value:function(){return"<"+this.toStringInner()+">"}},{key:"toStringInner",value:function(){return this.content.join(", ")}},{key:"toJSON",value:function(){return this.content.length?this.content.map(function(k){return k.toJSON()}):null}}],[{key:"fromJSON",value:function(k,M){if(!M)return V.empty;if(!Array.isArray(M))throw new RangeError("Invalid input for Fragment.fromJSON");return new V(M.map(k.nodeFromJSON))}},{key:"fromArray",value:function(k){if(!k.length)return V.empty;for(var M,_=0,G=0;G<k.length;G++){var Z=k[G];_+=Z.nodeSize,G&&Z.isText&&k[G-1].sameMarkup(Z)?(M||(M=k.slice(0,G)),M[M.length-1]=Z.withText(M[M.length-1].text+Z.text)):M&&M.push(Z)}return new V(M||k,_)}},{key:"from",value:function(k){if(!k)return V.empty;if(k instanceof V)return k;if(Array.isArray(k))return this.fromArray(k);if(k.attrs)return new V([k],k.nodeSize);throw new RangeError("Can not convert "+k+" to a Fragment"+(k.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}]),V}();we.empty=new we([],0);var Le={index:0,offset:0};function je(V,R){return Le.index=V,Le.offset=R,Le}function Nt(V,R){if(V===R)return!0;if(!(V&&P(V)=="object")||!(R&&P(R)=="object"))return!1;var k=Array.isArray(V);if(Array.isArray(R)!=k)return!1;if(k){if(V.length!=R.length)return!1;for(var M=0;M<V.length;M++)if(!Nt(V[M],R[M]))return!1}else{for(var _ in V)if(!(_ in R)||!Nt(V[_],R[_]))return!1;for(var G in R)if(!(G in V))return!1}return!0}var et=function(){function V(R,k){L(this,V),this.type=R,this.attrs=k}return ee(V,[{key:"addToSet",value:function(k){for(var M,_=!1,G=0;G<k.length;G++){var Z=k[G];if(this.eq(Z))return k;if(this.type.excludes(Z.type))M||(M=k.slice(0,G));else{if(Z.type.excludes(this.type))return k;!_&&Z.type.rank>this.type.rank&&(M||(M=k.slice(0,G)),M.push(this),_=!0),M&&M.push(Z)}}return M||(M=k.slice()),_||M.push(this),M}},{key:"removeFromSet",value:function(k){for(var M=0;M<k.length;M++)if(this.eq(k[M]))return k.slice(0,M).concat(k.slice(M+1));return k}},{key:"isInSet",value:function(k){for(var M=0;M<k.length;M++)if(this.eq(k[M]))return!0;return!1}},{key:"eq",value:function(k){return this==k||this.type==k.type&&Nt(this.attrs,k.attrs)}},{key:"toJSON",value:function(){var k={type:this.type.name};for(var M in this.attrs){k.attrs=this.attrs;break}return k}}],[{key:"fromJSON",value:function(k,M){if(!M)throw new RangeError("Invalid input for Mark.fromJSON");var _=k.marks[M.type];if(!_)throw new RangeError("There is no mark type ".concat(M.type," in this schema"));var G=_.create(M.attrs);return _.checkAttrs(G.attrs),G}},{key:"sameSet",value:function(k,M){if(k==M)return!0;if(k.length!=M.length)return!1;for(var _=0;_<k.length;_++)if(!k[_].eq(M[_]))return!1;return!0}},{key:"setFrom",value:function(k){if(!k||Array.isArray(k)&&k.length==0)return V.none;if(k instanceof V)return[k];var M=k.slice();return M.sort(function(_,G){return _.type.rank-G.type.rank}),M}}]),V}();et.none=[];var St=function(V){a(k,V);var R=o(k);function k(){return L(this,k),R.apply(this,arguments)}return ee(k)}(f(Error)),It=function(){function V(R,k,M){L(this,V),this.content=R,this.openStart=k,this.openEnd=M}return ee(V,[{key:"size",get:function(){return this.content.size-this.openStart-this.openEnd}},{key:"insertAt",value:function(k,M){var _=Lt(this.content,k+this.openStart,M);return _&&new V(_,this.openStart,this.openEnd)}},{key:"removeBetween",value:function(k,M){return new V(Mt(this.content,k+this.openStart,M+this.openStart),this.openStart,this.openEnd)}},{key:"eq",value:function(k){return this.content.eq(k.content)&&this.openStart==k.openStart&&this.openEnd==k.openEnd}},{key:"toString",value:function(){return this.content+"("+this.openStart+","+this.openEnd+")"}},{key:"toJSON",value:function(){if(!this.content.size)return null;var k={content:this.content.toJSON()};return this.openStart>0&&(k.openStart=this.openStart),this.openEnd>0&&(k.openEnd=this.openEnd),k}}],[{key:"fromJSON",value:function(k,M){if(!M)return V.empty;var _=M.openStart||0,G=M.openEnd||0;if(typeof _!="number"||typeof G!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new V(we.fromJSON(k,M.content),_,G)}},{key:"maxOpen",value:function(k){for(var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,_=0,G=0,Z=k.firstChild;Z&&!Z.isLeaf&&(M||!Z.type.spec.isolating);Z=Z.firstChild)_++;for(var oe=k.lastChild;oe&&!oe.isLeaf&&(M||!oe.type.spec.isolating);oe=oe.lastChild)G++;return new V(k,_,G)}}]),V}();It.empty=new It(we.empty,0,0);function Mt(V,R,k){var M=V.findIndex(R),_=M.index,G=M.offset,Z=V.maybeChild(_),oe=V.findIndex(k),Ce=oe.index,Ae=oe.offset;if(G==R||Z.isText){if(Ae!=k&&!V.child(Ce).isText)throw new RangeError("Removing non-flat range");return V.cut(0,R).append(V.cut(k))}if(_!=Ce)throw new RangeError("Removing non-flat range");return V.replaceChild(_,Z.copy(Mt(Z.content,R-G-1,k-G-1)))}function Lt(V,R,k,M){var _=V.findIndex(R),G=_.index,Z=_.offset,oe=V.maybeChild(G);if(Z==R||oe.isText)return V.cut(0,R).append(k).append(V.cut(R));var Ce=Lt(oe.content,R-Z-1,k);return Ce&&V.replaceChild(G,oe.copy(Ce))}function be(V,R,k){if(k.openStart>V.depth)throw new St("Inserted content deeper than insertion position");if(V.depth-k.openStart!=R.depth-k.openEnd)throw new St("Inconsistent open depths");return We(V,R,k,0)}function We(V,R,k,M){var _=V.index(M),G=V.node(M);if(_==R.index(M)&&M<V.depth-k.openStart){var Z=We(V,R,k,M+1);return G.copy(G.content.replaceChild(_,Z))}else if(k.content.size)if(!k.openStart&&!k.openEnd&&V.depth==M&&R.depth==M){var oe=V.parent,Ce=oe.content;return Je(oe,Ce.cut(0,V.parentOffset).append(k.content).append(Ce.cut(R.parentOffset)))}else{var Ae=Oe(k,V),tt=Ae.start,Ye=Ae.end;return Je(G,dt(V,tt,Ye,R,M))}else return Je(G,xt(V,R,M))}function Ot(V,R){if(!R.type.compatibleContent(V.type))throw new St("Cannot join "+R.type.name+" onto "+V.type.name)}function st(V,R,k){var M=V.node(k);return Ot(M,R.node(k)),M}function Ie(V,R){var k=R.length-1;k>=0&&V.isText&&V.sameMarkup(R[k])?R[k]=V.withText(R[k].text+V.text):R.push(V)}function Ve(V,R,k,M){var _=(R||V).node(k),G=0,Z=R?R.index(k):_.childCount;V&&(G=V.index(k),V.depth>k?G++:V.textOffset&&(Ie(V.nodeAfter,M),G++));for(var oe=G;oe<Z;oe++)Ie(_.child(oe),M);R&&R.depth==k&&R.textOffset&&Ie(R.nodeBefore,M)}function Je(V,R){return V.type.checkContent(R),V.copy(R)}function dt(V,R,k,M,_){var G=V.depth>_&&st(V,R,_+1),Z=M.depth>_&&st(k,M,_+1),oe=[];return Ve(null,V,_,oe),G&&Z&&R.index(_)==k.index(_)?(Ot(G,Z),Ie(Je(G,dt(V,R,k,M,_+1)),oe)):(G&&Ie(Je(G,xt(V,R,_+1)),oe),Ve(R,k,_,oe),Z&&Ie(Je(Z,xt(k,M,_+1)),oe)),Ve(M,null,_,oe),new we(oe)}function xt(V,R,k){var M=[];if(Ve(null,V,k,M),V.depth>k){var _=st(V,R,k+1);Ie(Je(_,xt(V,R,k+1)),M)}return Ve(R,null,k,M),new we(M)}function Oe(V,R){for(var k=R.depth-V.openStart,M=R.node(k),_=M.copy(V.content),G=k-1;G>=0;G--)_=R.node(G).copy(we.from(_));return{start:_.resolveNoCache(V.openStart+k),end:_.resolveNoCache(_.content.size-V.openEnd-k)}}var Ee=function(){function V(R,k,M){L(this,V),this.pos=R,this.path=k,this.parentOffset=M,this.depth=k.length/3-1}return ee(V,[{key:"resolveDepth",value:function(k){return k==null?this.depth:k<0?this.depth+k:k}},{key:"parent",get:function(){return this.node(this.depth)}},{key:"doc",get:function(){return this.node(0)}},{key:"node",value:function(k){return this.path[this.resolveDepth(k)*3]}},{key:"index",value:function(k){return this.path[this.resolveDepth(k)*3+1]}},{key:"indexAfter",value:function(k){return k=this.resolveDepth(k),this.index(k)+(k==this.depth&&!this.textOffset?0:1)}},{key:"start",value:function(k){return k=this.resolveDepth(k),k==0?0:this.path[k*3-1]+1}},{key:"end",value:function(k){return k=this.resolveDepth(k),this.start(k)+this.node(k).content.size}},{key:"before",value:function(k){if(k=this.resolveDepth(k),!k)throw new RangeError("There is no position before the top-level node");return k==this.depth+1?this.pos:this.path[k*3-1]}},{key:"after",value:function(k){if(k=this.resolveDepth(k),!k)throw new RangeError("There is no position after the top-level node");return k==this.depth+1?this.pos:this.path[k*3-1]+this.path[k*3].nodeSize}},{key:"textOffset",get:function(){return this.pos-this.path[this.path.length-1]}},{key:"nodeAfter",get:function(){var k=this.parent,M=this.index(this.depth);if(M==k.childCount)return null;var _=this.pos-this.path[this.path.length-1],G=k.child(M);return _?k.child(M).cut(_):G}},{key:"nodeBefore",get:function(){var k=this.index(this.depth),M=this.pos-this.path[this.path.length-1];return M?this.parent.child(k).cut(0,M):k==0?null:this.parent.child(k-1)}},{key:"posAtIndex",value:function(k,M){M=this.resolveDepth(M);for(var _=this.path[M*3],G=M==0?0:this.path[M*3-1]+1,Z=0;Z<k;Z++)G+=_.child(Z).nodeSize;return G}},{key:"marks",value:function(){var k=this.parent,M=this.index();if(k.content.size==0)return et.none;if(this.textOffset)return k.child(M).marks;var _=k.maybeChild(M-1),G=k.maybeChild(M);if(!_){var Z=_;_=G,G=Z}for(var oe=_.marks,Ce=0;Ce<oe.length;Ce++)oe[Ce].type.spec.inclusive===!1&&(!G||!oe[Ce].isInSet(G.marks))&&(oe=oe[Ce--].removeFromSet(oe));return oe}},{key:"marksAcross",value:function(k){var M=this.parent.maybeChild(this.index());if(!M||!M.isInline)return null;for(var _=M.marks,G=k.parent.maybeChild(k.index()),Z=0;Z<_.length;Z++)_[Z].type.spec.inclusive===!1&&(!G||!_[Z].isInSet(G.marks))&&(_=_[Z--].removeFromSet(_));return _}},{key:"sharedDepth",value:function(k){for(var M=this.depth;M>0;M--)if(this.start(M)<=k&&this.end(M)>=k)return M;return 0}},{key:"blockRange",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this,M=arguments.length>1?arguments[1]:void 0;if(k.pos<this.pos)return k.blockRange(this);for(var _=this.depth-(this.parent.inlineContent||this.pos==k.pos?1:0);_>=0;_--)if(k.pos<=this.end(_)&&(!M||M(this.node(_))))return new Pe(this,k,_);return null}},{key:"sameParent",value:function(k){return this.pos-this.parentOffset==k.pos-k.parentOffset}},{key:"max",value:function(k){return k.pos>this.pos?k:this}},{key:"min",value:function(k){return k.pos<this.pos?k:this}},{key:"toString",value:function(){for(var k="",M=1;M<=this.depth;M++)k+=(k?"/":"")+this.node(M).type.name+"_"+this.index(M-1);return k+":"+this.parentOffset}}],[{key:"resolve",value:function(k,M){if(!(M>=0&&M<=k.content.size))throw new RangeError("Position "+M+" out of range");for(var _=[],G=0,Z=M,oe=k;;){var Ce=oe.content.findIndex(Z),Ae=Ce.index,tt=Ce.offset,Ye=Z-tt;if(_.push(oe,Ae,G+tt),!Ye||(oe=oe.child(Ae),oe.isText))break;Z=Ye-1,G+=tt+1}return new V(M,_,Z)}},{key:"resolveCached",value:function(k,M){var _=de.get(k);if(_)for(var G=0;G<_.elts.length;G++){var Z=_.elts[G];if(Z.pos==M)return Z}else de.set(k,_=new fe);var oe=_.elts[_.i]=V.resolve(k,M);return _.i=(_.i+1)%ye,oe}}]),V}(),fe=ee(function V(){L(this,V),this.elts=[],this.i=0}),ye=12,de=new WeakMap,Pe=function(){function V(R,k,M){L(this,V),this.$from=R,this.$to=k,this.depth=M}return ee(V,[{key:"start",get:function(){return this.$from.before(this.depth+1)}},{key:"end",get:function(){return this.$to.after(this.depth+1)}},{key:"parent",get:function(){return this.$from.node(this.depth)}},{key:"startIndex",get:function(){return this.$from.index(this.depth)}},{key:"endIndex",get:function(){return this.$to.indexAfter(this.depth)}}]),V}(),qe=Object.create(null),ot=function(){function V(R,k,M){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:et.none;L(this,V),this.type=R,this.attrs=k,this.marks=_,this.content=M||we.empty}return ee(V,[{key:"children",get:function(){return this.content.content}},{key:"nodeSize",get:function(){return this.isLeaf?1:2+this.content.size}},{key:"childCount",get:function(){return this.content.childCount}},{key:"child",value:function(k){return this.content.child(k)}},{key:"maybeChild",value:function(k){return this.content.maybeChild(k)}},{key:"forEach",value:function(k){this.content.forEach(k)}},{key:"nodesBetween",value:function(k,M,_){var G=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;this.content.nodesBetween(k,M,_,G,this)}},{key:"descendants",value:function(k){this.nodesBetween(0,this.content.size,k)}},{key:"textContent",get:function(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}},{key:"textBetween",value:function(k,M,_,G){return this.content.textBetween(k,M,_,G)}},{key:"firstChild",get:function(){return this.content.firstChild}},{key:"lastChild",get:function(){return this.content.lastChild}},{key:"eq",value:function(k){return this==k||this.sameMarkup(k)&&this.content.eq(k.content)}},{key:"sameMarkup",value:function(k){return this.hasMarkup(k.type,k.attrs,k.marks)}},{key:"hasMarkup",value:function(k,M,_){return this.type==k&&Nt(this.attrs,M||k.defaultAttrs||qe)&&et.sameSet(this.marks,_||et.none)}},{key:"copy",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return k==this.content?this:new V(this.type,this.attrs,k,this.marks)}},{key:"mark",value:function(k){return k==this.marks?this:new V(this.type,this.attrs,this.content,k)}},{key:"cut",value:function(k){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.content.size;return k==0&&M==this.content.size?this:this.copy(this.content.cut(k,M))}},{key:"slice",value:function(k){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.content.size,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(k==M)return It.empty;var G=this.resolve(k),Z=this.resolve(M),oe=_?0:G.sharedDepth(M),Ce=G.start(oe),Ae=G.node(oe),tt=Ae.content.cut(G.pos-Ce,Z.pos-Ce);return new It(tt,G.depth-oe,Z.depth-oe)}},{key:"replace",value:function(k,M,_){return be(this.resolve(k),this.resolve(M),_)}},{key:"nodeAt",value:function(k){for(var M=this;;){var _=M.content.findIndex(k),G=_.index,Z=_.offset;if(M=M.maybeChild(G),!M)return null;if(Z==k||M.isText)return M;k-=Z+1}}},{key:"childAfter",value:function(k){var M=this.content.findIndex(k),_=M.index,G=M.offset;return{node:this.content.maybeChild(_),index:_,offset:G}}},{key:"childBefore",value:function(k){if(k==0)return{node:null,index:0,offset:0};var M=this.content.findIndex(k),_=M.index,G=M.offset;if(G<k)return{node:this.content.child(_),index:_,offset:G};var Z=this.content.child(_-1);return{node:Z,index:_-1,offset:G-Z.nodeSize}}},{key:"resolve",value:function(k){return Ee.resolveCached(this,k)}},{key:"resolveNoCache",value:function(k){return Ee.resolve(this,k)}},{key:"rangeHasMark",value:function(k,M,_){var G=!1;return M>k&&this.nodesBetween(k,M,function(Z){return _.isInSet(Z.marks)&&(G=!0),!G}),G}},{key:"isBlock",get:function(){return this.type.isBlock}},{key:"isTextblock",get:function(){return this.type.isTextblock}},{key:"inlineContent",get:function(){return this.type.inlineContent}},{key:"isInline",get:function(){return this.type.isInline}},{key:"isText",get:function(){return this.type.isText}},{key:"isLeaf",get:function(){return this.type.isLeaf}},{key:"isAtom",get:function(){return this.type.isAtom}},{key:"toString",value:function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var k=this.type.name;return this.content.size&&(k+="("+this.content.toStringInner()+")"),Gt(this.marks,k)}},{key:"contentMatchAt",value:function(k){var M=this.type.contentMatch.matchFragment(this.content,0,k);if(!M)throw new Error("Called contentMatchAt on a node with invalid content");return M}},{key:"canReplace",value:function(k,M){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:we.empty,G=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,Z=arguments.length>4&&arguments[4]!==void 0?arguments[4]:_.childCount,oe=this.contentMatchAt(k).matchFragment(_,G,Z),Ce=oe&&oe.matchFragment(this.content,M);if(!Ce||!Ce.validEnd)return!1;for(var Ae=G;Ae<Z;Ae++)if(!this.type.allowsMarks(_.child(Ae).marks))return!1;return!0}},{key:"canReplaceWith",value:function(k,M,_,G){if(G&&!this.type.allowsMarks(G))return!1;var Z=this.contentMatchAt(k).matchType(_),oe=Z&&Z.matchFragment(this.content,M);return oe?oe.validEnd:!1}},{key:"canAppend",value:function(k){return k.content.size?this.canReplace(this.childCount,this.childCount,k.content):this.type.compatibleContent(k.type)}},{key:"check",value:function(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);for(var k=et.none,M=0;M<this.marks.length;M++){var _=this.marks[M];_.type.checkAttrs(_.attrs),k=_.addToSet(k)}if(!et.sameSet(k,this.marks))throw new RangeError("Invalid collection of marks for node ".concat(this.type.name,": ").concat(this.marks.map(function(G){return G.type.name})));this.content.forEach(function(G){return G.check()})}},{key:"toJSON",value:function(){var k={type:this.type.name};for(var M in this.attrs){k.attrs=this.attrs;break}return this.content.size&&(k.content=this.content.toJSON()),this.marks.length&&(k.marks=this.marks.map(function(_){return _.toJSON()})),k}}],[{key:"fromJSON",value:function(k,M){if(!M)throw new RangeError("Invalid input for Node.fromJSON");var _=void 0;if(M.marks){if(!Array.isArray(M.marks))throw new RangeError("Invalid mark data for Node.fromJSON");_=M.marks.map(k.markFromJSON)}if(M.type=="text"){if(typeof M.text!="string")throw new RangeError("Invalid text node in JSON");return k.text(M.text,_)}var G=we.fromJSON(k,M.content),Z=k.nodeType(M.type).create(M.attrs,G,_);return Z.type.checkAttrs(Z.attrs),Z}}]),V}();ot.prototype.text=void 0;var Ht=function(V){a(k,V);var R=o(k);function k(M,_,G,Z){var oe;if(L(this,k),oe=R.call(this,M,_,null,Z),!G)throw new RangeError("Empty text nodes are not allowed");return oe.text=G,oe}return ee(k,[{key:"toString",value:function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Gt(this.marks,JSON.stringify(this.text))}},{key:"textContent",get:function(){return this.text}},{key:"textBetween",value:function(_,G){return this.text.slice(_,G)}},{key:"nodeSize",get:function(){return this.text.length}},{key:"mark",value:function(_){return _==this.marks?this:new k(this.type,this.attrs,this.text,_)}},{key:"withText",value:function(_){return _==this.text?this:new k(this.type,this.attrs,_,this.marks)}},{key:"cut",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.text.length;return _==0&&G==this.text.length?this:this.withText(this.text.slice(_,G))}},{key:"eq",value:function(_){return this.sameMarkup(_)&&this.text==_.text}},{key:"toJSON",value:function(){var _=n(E(k.prototype),"toJSON",this).call(this);return _.text=this.text,_}}]),k}(ot);function Gt(V,R){for(var k=V.length-1;k>=0;k--)R=V[k].type.name+"("+R+")";return R}var zt=function(){function V(R){L(this,V),this.validEnd=R,this.next=[],this.wrapCache=[]}return ee(V,[{key:"matchType",value:function(k){for(var M=0;M<this.next.length;M++)if(this.next[M].type==k)return this.next[M].next;return null}},{key:"matchFragment",value:function(k){for(var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:k.childCount,G=this,Z=M;G&&Z<_;Z++)G=G.matchType(k.child(Z).type);return G}},{key:"inlineContent",get:function(){return this.next.length!=0&&this.next[0].type.isInline}},{key:"defaultType",get:function(){for(var k=0;k<this.next.length;k++){var M=this.next[k].type;if(!(M.isText||M.hasRequiredAttrs()))return M}return null}},{key:"compatible",value:function(k){for(var M=0;M<this.next.length;M++)for(var _=0;_<k.next.length;_++)if(this.next[M].type==k.next[_].type)return!0;return!1}},{key:"fillBefore",value:function(k){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,G=[this];function Z(oe,Ce){var Ae=oe.matchFragment(k,_);if(Ae&&(!M||Ae.validEnd))return we.from(Ce.map(function(kr){return kr.createAndFill()}));for(var tt=0;tt<oe.next.length;tt++){var Ye=oe.next[tt],ct=Ye.type,Bt=Ye.next;if(!(ct.isText||ct.hasRequiredAttrs())&&G.indexOf(Bt)==-1){G.push(Bt);var ir=Z(Bt,Ce.concat(ct));if(ir)return ir}}return null}return Z(this,[])}},{key:"findWrapping",value:function(k){for(var M=0;M<this.wrapCache.length;M+=2)if(this.wrapCache[M]==k)return this.wrapCache[M+1];var _=this.computeWrapping(k);return this.wrapCache.push(k,_),_}},{key:"computeWrapping",value:function(k){for(var M=Object.create(null),_=[{match:this,type:null,via:null}];_.length;){var G=_.shift(),Z=G.match;if(Z.matchType(k)){for(var oe=[],Ce=G;Ce.type;Ce=Ce.via)oe.push(Ce.type);return oe.reverse()}for(var Ae=0;Ae<Z.next.length;Ae++){var tt=Z.next[Ae],Ye=tt.type,ct=tt.next;!Ye.isLeaf&&!Ye.hasRequiredAttrs()&&!(Ye.name in M)&&(!G.type||ct.validEnd)&&(_.push({match:Ye.contentMatch,type:Ye,via:G}),M[Ye.name]=!0)}}return null}},{key:"edgeCount",get:function(){return this.next.length}},{key:"edge",value:function(k){if(k>=this.next.length)throw new RangeError("There's no ".concat(k,"th edge in this content match"));return this.next[k]}},{key:"toString",value:function(){var k=[];function M(_){k.push(_);for(var G=0;G<_.next.length;G++)k.indexOf(_.next[G].next)==-1&&M(_.next[G].next)}return M(this),k.map(function(_,G){for(var Z=G+(_.validEnd?"*":" ")+" ",oe=0;oe<_.next.length;oe++)Z+=(oe?", ":"")+_.next[oe].type.name+"->"+k.indexOf(_.next[oe].next);return Z}).join(`
`)}}],[{key:"parse",value:function(k,M){var _=new Tr(k,M);if(_.next==null)return V.empty;var G=tr(_);_.next&&_.err("Unexpected trailing text");var Z=pt(Sn(G));return qt(Z,_),Z}}]),V}();zt.empty=new zt(!0);var Tr=function(){function V(R,k){L(this,V),this.string=R,this.nodeTypes=k,this.inline=null,this.pos=0,this.tokens=R.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}return ee(V,[{key:"next",get:function(){return this.tokens[this.pos]}},{key:"eat",value:function(k){return this.next==k&&(this.pos++||!0)}},{key:"err",value:function(k){throw new SyntaxError(k+" (in content expression '"+this.string+"')")}}]),V}();function tr(V){var R=[];do R.push(Vr(V));while(V.eat("|"));return R.length==1?R[0]:{type:"choice",exprs:R}}function Vr(V){var R=[];do R.push(Lr(V));while(V.next&&V.next!=")"&&V.next!="|");return R.length==1?R[0]:{type:"seq",exprs:R}}function Lr(V){for(var R=Ii(V);;)if(V.eat("+"))R={type:"plus",expr:R};else if(V.eat("*"))R={type:"star",expr:R};else if(V.eat("?"))R={type:"opt",expr:R};else if(V.eat("{"))R=cr(V,R);else break;return R}function Br(V){/\D/.test(V.next)&&V.err("Expected number, got '"+V.next+"'");var R=Number(V.next);return V.pos++,R}function cr(V,R){var k=Br(V),M=k;return V.eat(",")&&(V.next!="}"?M=Br(V):M=-1),V.eat("}")||V.err("Unclosed braced range"),{type:"range",min:k,max:M,expr:R}}function _r(V,R){var k=V.nodeTypes,M=k[R];if(M)return[M];var _=[];for(var G in k){var Z=k[G];Z.isInGroup(R)&&_.push(Z)}return _.length==0&&V.err("No node type or group '"+R+"' found"),_}function Ii(V){if(V.eat("(")){var R=tr(V);return V.eat(")")||V.err("Missing closing paren"),R}else if(/\W/.test(V.next))V.err("Unexpected token '"+V.next+"'");else{var k=_r(V,V.next).map(function(M){return V.inline==null?V.inline=M.isInline:V.inline!=M.isInline&&V.err("Mixing inline and block content"),{type:"name",value:M}});return V.pos++,k.length==1?k[0]:{type:"choice",exprs:k}}}function Sn(V){var R=[[]];return _(G(V,0),k()),R;function k(){return R.push([])-1}function M(Z,oe,Ce){var Ae={term:Ce,to:oe};return R[Z].push(Ae),Ae}function _(Z,oe){Z.forEach(function(Ce){return Ce.to=oe})}function G(Z,oe){if(Z.type=="choice")return Z.exprs.reduce(function(ki,Yr){return ki.concat(G(Yr,oe))},[]);if(Z.type=="seq")for(var Ce=0;;Ce++){var Ae=G(Z.exprs[Ce],oe);if(Ce==Z.exprs.length-1)return Ae;_(Ae,oe=k())}else if(Z.type=="star"){var tt=k();return M(oe,tt),_(G(Z.expr,tt),tt),[M(tt)]}else if(Z.type=="plus"){var Ye=k();return _(G(Z.expr,oe),Ye),_(G(Z.expr,Ye),Ye),[M(Ye)]}else{if(Z.type=="opt")return[M(oe)].concat(G(Z.expr,oe));if(Z.type=="range"){for(var ct=oe,Bt=0;Bt<Z.min;Bt++){var ir=k();_(G(Z.expr,ct),ir),ct=ir}if(Z.max==-1)_(G(Z.expr,ct),ct);else for(var kr=Z.min;kr<Z.max;kr++){var Hn=k();M(ct,Hn),_(G(Z.expr,ct),Hn),ct=Hn}return[M(ct)]}else{if(Z.type=="name")return[M(oe,void 0,Z.value)];throw new Error("Unknown expr type")}}}}function Ar(V,R){return R-V}function ht(V,R){var k=[];return M(R),k.sort(Ar);function M(_){var G=V[_];if(G.length==1&&!G[0].term)return M(G[0].to);k.push(_);for(var Z=0;Z<G.length;Z++){var oe=G[Z],Ce=oe.term,Ae=oe.to;!Ce&&k.indexOf(Ae)==-1&&M(Ae)}}}function pt(V){var R=Object.create(null);return k(ht(V,0));function k(M){var _=[];M.forEach(function(Ce){V[Ce].forEach(function(Ae){var tt=Ae.term,Ye=Ae.to;if(tt){for(var ct,Bt=0;Bt<_.length;Bt++)_[Bt][0]==tt&&(ct=_[Bt][1]);ht(V,Ye).forEach(function(ir){ct||_.push([tt,ct=[]]),ct.indexOf(ir)==-1&&ct.push(ir)})}})});for(var G=R[M.join(",")]=new zt(M.indexOf(V.length-1)>-1),Z=0;Z<_.length;Z++){var oe=_[Z][1].sort(Ar);G.next.push({type:_[Z][0],next:R[oe.join(",")]||k(oe)})}return G}}function qt(V,R){for(var k=0,M=[V];k<M.length;k++){for(var _=M[k],G=!_.validEnd,Z=[],oe=0;oe<_.next.length;oe++){var Ce=_.next[oe],Ae=Ce.type,tt=Ce.next;Z.push(Ae.name),G&&!(Ae.isText||Ae.hasRequiredAttrs())&&(G=!1),M.indexOf(tt)==-1&&M.push(tt)}G&&R.err("Only non-generatable nodes ("+Z.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Ut(V){var R=Object.create(null);for(var k in V){var M=V[k];if(!M.hasDefault)return null;R[k]=M.default}return R}function or(V,R){var k=Object.create(null);for(var M in V){var _=R&&R[M];if(_===void 0){var G=V[M];if(G.hasDefault)_=G.default;else throw new RangeError("No value supplied for attribute "+M)}k[M]=_}return k}function Qr(V,R,k,M){for(var _ in R)if(!(_ in V))throw new RangeError("Unsupported attribute ".concat(_," for ").concat(k," of type ").concat(_));for(var G in V){var Z=V[G];Z.validate&&Z.validate(R[G])}}function wr(V,R){var k=Object.create(null);if(R)for(var M in R)k[M]=new pn(V,M,R[M]);return k}var Er=function(){function V(R,k,M){L(this,V),this.name=R,this.schema=k,this.spec=M,this.markSet=null,this.groups=M.group?M.group.split(" "):[],this.attrs=wr(R,M.attrs),this.defaultAttrs=Ut(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(M.inline||R=="text"),this.isText=R=="text"}return ee(V,[{key:"isInline",get:function(){return!this.isBlock}},{key:"isTextblock",get:function(){return this.isBlock&&this.inlineContent}},{key:"isLeaf",get:function(){return this.contentMatch==zt.empty}},{key:"isAtom",get:function(){return this.isLeaf||!!this.spec.atom}},{key:"isInGroup",value:function(k){return this.groups.indexOf(k)>-1}},{key:"whitespace",get:function(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}},{key:"hasRequiredAttrs",value:function(){for(var k in this.attrs)if(this.attrs[k].isRequired)return!0;return!1}},{key:"compatibleContent",value:function(k){return this==k||this.contentMatch.compatible(k.contentMatch)}},{key:"computeAttrs",value:function(k){return!k&&this.defaultAttrs?this.defaultAttrs:or(this.attrs,k)}},{key:"create",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,M=arguments.length>1?arguments[1]:void 0,_=arguments.length>2?arguments[2]:void 0;if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ot(this,this.computeAttrs(k),we.from(M),et.setFrom(_))}},{key:"createChecked",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,M=arguments.length>1?arguments[1]:void 0,_=arguments.length>2?arguments[2]:void 0;return M=we.from(M),this.checkContent(M),new ot(this,this.computeAttrs(k),M,et.setFrom(_))}},{key:"createAndFill",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,M=arguments.length>1?arguments[1]:void 0,_=arguments.length>2?arguments[2]:void 0;if(k=this.computeAttrs(k),M=we.from(M),M.size){var G=this.contentMatch.fillBefore(M);if(!G)return null;M=G.append(M)}var Z=this.contentMatch.matchFragment(M),oe=Z&&Z.fillBefore(we.empty,!0);return oe?new ot(this,k,M.append(oe),et.setFrom(_)):null}},{key:"validContent",value:function(k){var M=this.contentMatch.matchFragment(k);if(!M||!M.validEnd)return!1;for(var _=0;_<k.childCount;_++)if(!this.allowsMarks(k.child(_).marks))return!1;return!0}},{key:"checkContent",value:function(k){if(!this.validContent(k))throw new RangeError("Invalid content for node ".concat(this.name,": ").concat(k.toString().slice(0,50)))}},{key:"checkAttrs",value:function(k){Qr(this.attrs,k,"node",this.name)}},{key:"allowsMarkType",value:function(k){return this.markSet==null||this.markSet.indexOf(k)>-1}},{key:"allowsMarks",value:function(k){if(this.markSet==null)return!0;for(var M=0;M<k.length;M++)if(!this.allowsMarkType(k[M].type))return!1;return!0}},{key:"allowedMarks",value:function(k){if(this.markSet==null)return k;for(var M,_=0;_<k.length;_++)this.allowsMarkType(k[_].type)?M&&M.push(k[_]):M||(M=k.slice(0,_));return M?M.length?M:et.none:k}}],[{key:"compile",value:function(k,M){var _=Object.create(null);k.forEach(function(oe,Ce){return _[oe]=new V(oe,M,Ce)});var G=M.spec.topNode||"doc";if(!_[G])throw new RangeError("Schema is missing its top node type ('"+G+"')");if(!_.text)throw new RangeError("Every schema needs a 'text' type");for(var Z in _.text.attrs)throw new RangeError("The text node type should not have attributes");return _}}]),V}();function hn(V,R,k){var M=k.split("|");return function(_){var G=_===null?"null":P(_);if(M.indexOf(G)<0)throw new RangeError("Expected value of type ".concat(M," for attribute ").concat(R," on type ").concat(V,", got ").concat(G))}}var pn=function(){function V(R,k,M){L(this,V),this.hasDefault=Object.prototype.hasOwnProperty.call(M,"default"),this.default=M.default,this.validate=typeof M.validate=="string"?hn(R,k,M.validate):M.validate}return ee(V,[{key:"isRequired",get:function(){return!this.hasDefault}}]),V}(),Rr=function(){function V(R,k,M,_){L(this,V),this.name=R,this.rank=k,this.schema=M,this.spec=_,this.attrs=wr(R,_.attrs),this.excluded=null;var G=Ut(this.attrs);this.instance=G?new et(this,G):null}return ee(V,[{key:"create",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return!k&&this.instance?this.instance:new et(this,or(this.attrs,k))}},{key:"removeFromSet",value:function(k){for(var M=0;M<k.length;M++)k[M].type==this&&(k=k.slice(0,M).concat(k.slice(M+1)),M--);return k}},{key:"isInSet",value:function(k){for(var M=0;M<k.length;M++)if(k[M].type==this)return k[M]}},{key:"checkAttrs",value:function(k){Qr(this.attrs,k,"mark",this.name)}},{key:"excludes",value:function(k){return this.excluded.indexOf(k)>-1}}],[{key:"compile",value:function(k,M){var _=Object.create(null),G=0;return k.forEach(function(Z,oe){return _[Z]=new V(Z,G++,M,oe)}),_}}]),V}(),xn=function(){function V(R){L(this,V),this.linebreakReplacement=null,this.cached=Object.create(null);var k=this.spec={};for(var M in R)k[M]=R[M];k.nodes=ve.from(R.nodes),k.marks=ve.from(R.marks||{}),this.nodes=Er.compile(this.spec.nodes,this),this.marks=Rr.compile(this.spec.marks,this);var _=Object.create(null);for(var G in this.nodes){if(G in this.marks)throw new RangeError(G+" can not be both a node and a mark");var Z=this.nodes[G],oe=Z.spec.content||"",Ce=Z.spec.marks;if(Z.contentMatch=_[oe]||(_[oe]=zt.parse(oe,this.nodes)),Z.inlineContent=Z.contentMatch.inlineContent,Z.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!Z.isInline||!Z.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=Z}Z.markSet=Ce=="_"?null:Ce?bi(this,Ce.split(" ")):Ce==""||!Z.inlineContent?[]:null}for(var Ae in this.marks){var tt=this.marks[Ae],Ye=tt.spec.excludes;tt.excluded=Ye==null?[tt]:Ye==""?[]:bi(this,Ye.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}return ee(V,[{key:"node",value:function(k){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,_=arguments.length>2?arguments[2]:void 0,G=arguments.length>3?arguments[3]:void 0;if(typeof k=="string")k=this.nodeType(k);else if(k instanceof Er){if(k.schema!=this)throw new RangeError("Node type from different schema used ("+k.name+")")}else throw new RangeError("Invalid node type: "+k);return k.createChecked(M,_,G)}},{key:"text",value:function(k,M){var _=this.nodes.text;return new Ht(_,_.defaultAttrs,k,et.setFrom(M))}},{key:"mark",value:function(k,M){return typeof k=="string"&&(k=this.marks[k]),k.create(M)}},{key:"nodeFromJSON",value:function(k){return ot.fromJSON(this,k)}},{key:"markFromJSON",value:function(k){return et.fromJSON(this,k)}},{key:"nodeType",value:function(k){var M=this.nodes[k];if(!M)throw new RangeError("Unknown node type: "+k);return M}}]),V}();function bi(V,R){for(var k=[],M=0;M<R.length;M++){var _=R[M],G=V.marks[_],Z=G;if(G)k.push(G);else for(var oe in V.marks){var Ce=V.marks[oe];(_=="_"||Ce.spec.group&&Ce.spec.group.split(" ").indexOf(_)>-1)&&k.push(Z=Ce)}if(!Z)throw new SyntaxError("Unknown mark type: '"+R[M]+"'")}return k}function ti(V){return V.tag!=null}function ri(V){return V.style!=null}var vn=function(){function V(R,k){var M=this;L(this,V),this.schema=R,this.rules=k,this.tags=[],this.styles=[];var _=this.matchedStyles=[];k.forEach(function(G){if(ti(G))M.tags.push(G);else if(ri(G)){var Z=/[^=]*/.exec(G.style)[0];_.indexOf(Z)<0&&_.push(Z),M.styles.push(G)}}),this.normalizeLists=!this.tags.some(function(G){if(!/^(ul|ol)\b/.test(G.tag)||!G.node)return!1;var Z=R.nodes[G.node];return Z.contentMatch.matchType(Z)})}return ee(V,[{key:"parse",value:function(k){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=new F(this,M,!1);return _.addAll(k,et.none,M.from,M.to),_.finish()}},{key:"parseSlice",value:function(k){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=new F(this,M,!0);return _.addAll(k,et.none,M.from,M.to),It.maxOpen(_.finish())}},{key:"matchTag",value:function(k,M,_){for(var G=_?this.tags.indexOf(_)+1:0;G<this.tags.length;G++){var Z=this.tags[G];if(W(k,Z.tag)&&(Z.namespace===void 0||k.namespaceURI==Z.namespace)&&(!Z.context||M.matchesContext(Z.context))){if(Z.getAttrs){var oe=Z.getAttrs(k);if(oe===!1)continue;Z.attrs=oe||void 0}return Z}}}},{key:"matchStyle",value:function(k,M,_,G){for(var Z=G?this.styles.indexOf(G)+1:0;Z<this.styles.length;Z++){var oe=this.styles[Z],Ce=oe.style;if(!(Ce.indexOf(k)!=0||oe.context&&!_.matchesContext(oe.context)||Ce.length>k.length&&(Ce.charCodeAt(k.length)!=61||Ce.slice(k.length+1)!=M))){if(oe.getAttrs){var Ae=oe.getAttrs(M);if(Ae===!1)continue;oe.attrs=Ae||void 0}return oe}}}}],[{key:"schemaRules",value:function(k){var M=[];function _(Ae){for(var tt=Ae.priority==null?50:Ae.priority,Ye=0;Ye<M.length;Ye++){var ct=M[Ye],Bt=ct.priority==null?50:ct.priority;if(Bt<tt)break}M.splice(Ye,0,Ae)}var G=function(tt){var Ye=k.marks[tt].spec.parseDOM;Ye&&Ye.forEach(function(ct){_(ct=ie(ct)),ct.mark||ct.ignore||ct.clearMark||(ct.mark=tt)})};for(var Z in k.marks)G(Z);var oe=function(tt){var Ye=k.nodes[tt].spec.parseDOM;Ye&&Ye.forEach(function(ct){_(ct=ie(ct)),ct.node||ct.ignore||ct.mark||(ct.node=tt)})};for(var Ce in k.nodes)oe(Ce);return M}},{key:"fromSchema",value:function(k){return k.cached.domParser||(k.cached.domParser=new V(k,V.schemaRules(k)))}}]),V}(),an={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Pr={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Tn={ol:!0,ul:!0},dr=1,Ir=2,X=4;function Y(V,R,k){return R!=null?(R?dr:0)|(R==="full"?Ir:0):V&&V.whitespace=="pre"?dr|Ir:k&~X}var z=function(){function V(R,k,M,_,G,Z){L(this,V),this.type=R,this.attrs=k,this.marks=M,this.solid=_,this.options=Z,this.content=[],this.activeMarks=et.none,this.match=G||(Z&X?null:R.contentMatch)}return ee(V,[{key:"findWrapping",value:function(k){if(!this.match){if(!this.type)return[];var M=this.type.contentMatch.fillBefore(we.from(k));if(M)this.match=this.type.contentMatch.matchFragment(M);else{var _=this.type.contentMatch,G;return(G=_.findWrapping(k.type))?(this.match=_,G):null}}return this.match.findWrapping(k.type)}},{key:"finish",value:function(k){if(!(this.options&dr)){var M=this.content[this.content.length-1],_;if(M&&M.isText&&(_=/[ \t\r\n\u000c]+$/.exec(M.text))){var G=M;M.text.length==_[0].length?this.content.pop():this.content[this.content.length-1]=G.withText(G.text.slice(0,G.text.length-_[0].length))}}var Z=we.from(this.content);return!k&&this.match&&(Z=Z.append(this.match.fillBefore(we.empty,!0))),this.type?this.type.create(this.attrs,Z,this.marks):Z}},{key:"inlineContext",value:function(k){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:k.parentNode&&!an.hasOwnProperty(k.parentNode.nodeName.toLowerCase())}}]),V}(),F=function(){function V(R,k,M){L(this,V),this.parser=R,this.options=k,this.isOpen=M,this.open=0,this.localPreserveWS=!1;var _=k.topNode,G,Z=Y(null,k.preserveWhitespace,0)|(M?X:0);_?G=new z(_.type,_.attrs,et.none,!0,k.topMatch||_.type.contentMatch,Z):M?G=new z(null,null,et.none,!0,null,Z):G=new z(R.schema.topNodeType,null,et.none,!0,null,Z),this.nodes=[G],this.find=k.findPositions,this.needsBlock=!1}return ee(V,[{key:"top",get:function(){return this.nodes[this.open]}},{key:"addDOM",value:function(k,M){k.nodeType==3?this.addTextNode(k,M):k.nodeType==1&&this.addElement(k,M)}},{key:"addTextNode",value:function(k,M){var _=k.nodeValue,G=this.top,Z=G.options&Ir?"full":this.localPreserveWS||(G.options&dr)>0;if(Z==="full"||G.inlineContext(k)||/[^ \t\r\n\u000c]/.test(_)){if(Z)Z!=="full"?_=_.replace(/\r?\n|\r/g," "):_=_.replace(/\r\n?/g,`
`);else if(_=_.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(_)&&this.open==this.nodes.length-1){var oe=G.content[G.content.length-1],Ce=k.previousSibling;(!oe||Ce&&Ce.nodeName=="BR"||oe.isText&&/[ \t\r\n\u000c]$/.test(oe.text))&&(_=_.slice(1))}_&&this.insertNode(this.parser.schema.text(_),M,!/\S/.test(_)),this.findInText(k)}else this.findInside(k)}},{key:"addElement",value:function(k,M,_){var G=this.localPreserveWS,Z=this.top;(k.tagName=="PRE"||/pre/.test(k.style&&k.style.whiteSpace))&&(this.localPreserveWS=!0);var oe=k.nodeName.toLowerCase(),Ce;Tn.hasOwnProperty(oe)&&this.parser.normalizeLists&&U(k);var Ae=this.options.ruleFromNode&&this.options.ruleFromNode(k)||(Ce=this.parser.matchTag(k,this,_));e:if(Ae?Ae.ignore:Pr.hasOwnProperty(oe))this.findInside(k),this.ignoreFallback(k,M);else if(!Ae||Ae.skip||Ae.closeParent){Ae&&Ae.closeParent?this.open=Math.max(0,this.open-1):Ae&&Ae.skip.nodeType&&(k=Ae.skip);var tt,Ye=this.needsBlock;if(an.hasOwnProperty(oe))Z.content.length&&Z.content[0].isInline&&this.open&&(this.open--,Z=this.top),tt=!0,Z.type||(this.needsBlock=!0);else if(!k.firstChild){this.leafFallback(k,M);break e}var ct=Ae&&Ae.skip?M:this.readStyles(k,M);ct&&this.addAll(k,ct),tt&&this.sync(Z),this.needsBlock=Ye}else{var Bt=this.readStyles(k,M);Bt&&this.addElementByRule(k,Ae,Bt,Ae.consuming===!1?Ce:void 0)}this.localPreserveWS=G}},{key:"leafFallback",value:function(k,M){k.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(k.ownerDocument.createTextNode(`
`),M)}},{key:"ignoreFallback",value:function(k,M){k.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),M,!0)}},{key:"readStyles",value:function(k,M){var _=this,G=k.style;if(G&&G.length)for(var Z=0;Z<this.parser.matchedStyles.length;Z++){var oe=this.parser.matchedStyles[Z],Ce=G.getPropertyValue(oe);if(Ce){for(var Ae=function(Bt){var ir=_.parser.matchStyle(oe,Ce,_,Bt);if(!ir)return Ye=Bt,0;if(ir.ignore)return{v:null};if(ir.clearMark?M=M.filter(function(kr){return!ir.clearMark(kr)}):M=M.concat(_.parser.schema.marks[ir.mark].create(ir.attrs)),ir.consuming===!1)Bt=ir;else return Ye=Bt,0;Ye=Bt},tt,Ye=void 0;tt=Ae(Ye),tt!==0;)if(tt)return tt.v}}return M}},{key:"addElementByRule",value:function(k,M,_,G){var Z=this,oe,Ce;if(M.node)if(Ce=this.parser.schema.nodes[M.node],Ce.isLeaf)this.insertNode(Ce.create(M.attrs),_,k.nodeName=="BR")||this.leafFallback(k,_);else{var Ae=this.enter(Ce,M.attrs||null,_,M.preserveWhitespace);Ae&&(oe=!0,_=Ae)}else{var tt=this.parser.schema.marks[M.mark];_=_.concat(tt.create(M.attrs))}var Ye=this.top;if(Ce&&Ce.isLeaf)this.findInside(k);else if(G)this.addElement(k,_,G);else if(M.getContent)this.findInside(k),M.getContent(k,this.parser.schema).forEach(function(Bt){return Z.insertNode(Bt,_,!1)});else{var ct=k;typeof M.contentElement=="string"?ct=k.querySelector(M.contentElement):typeof M.contentElement=="function"?ct=M.contentElement(k):M.contentElement&&(ct=M.contentElement),this.findAround(k,ct,!0),this.addAll(ct,_),this.findAround(k,ct,!1)}oe&&this.sync(Ye)&&this.open--}},{key:"addAll",value:function(k,M,_,G){for(var Z=_||0,oe=_?k.childNodes[_]:k.firstChild,Ce=G==null?null:k.childNodes[G];oe!=Ce;oe=oe.nextSibling,++Z)this.findAtPoint(k,Z),this.addDOM(oe,M);this.findAtPoint(k,Z)}},{key:"findPlace",value:function(k,M,_){for(var G,Z,oe=this.open,Ce=0;oe>=0;oe--){var Ae=this.nodes[oe],tt=Ae.findWrapping(k);if(tt&&(!G||G.length>tt.length+Ce)&&(G=tt,Z=Ae,!tt.length))break;if(Ae.solid){if(_)break;Ce+=2}}if(!G)return null;this.sync(Z);for(var Ye=0;Ye<G.length;Ye++)M=this.enterInner(G[Ye],null,M,!1);return M}},{key:"insertNode",value:function(k,M,_){if(k.isInline&&this.needsBlock&&!this.top.type){var G=this.textblockFromContext();G&&(M=this.enterInner(G,null,M))}var Z=this.findPlace(k,M,_);if(Z){this.closeExtra();var oe=this.top;oe.match&&(oe.match=oe.match.matchType(k.type));var Ce=et.none,Ae=r(Z.concat(k.marks)),tt;try{for(Ae.s();!(tt=Ae.n()).done;){var Ye=tt.value;(oe.type?oe.type.allowsMarkType(Ye.type):Ne(Ye.type,k.type))&&(Ce=Ye.addToSet(Ce))}}catch(ct){Ae.e(ct)}finally{Ae.f()}return oe.content.push(k.mark(Ce)),!0}return!1}},{key:"enter",value:function(k,M,_,G){var Z=this.findPlace(k.create(M),_,!1);return Z&&(Z=this.enterInner(k,M,_,!0,G)),Z}},{key:"enterInner",value:function(k,M,_){var G=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,Z=arguments.length>4?arguments[4]:void 0;this.closeExtra();var oe=this.top;oe.match=oe.match&&oe.match.matchType(k);var Ce=Y(k,Z,oe.options);oe.options&X&&oe.content.length==0&&(Ce|=X);var Ae=et.none;return _=_.filter(function(tt){return(oe.type?oe.type.allowsMarkType(tt.type):Ne(tt.type,k))?(Ae=tt.addToSet(Ae),!1):!0}),this.nodes.push(new z(k,M,Ae,G,null,Ce)),this.open++,_}},{key:"closeExtra",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,M=this.nodes.length-1;if(M>this.open){for(;M>this.open;M--)this.nodes[M-1].content.push(this.nodes[M].finish(k));this.nodes.length=this.open+1}}},{key:"finish",value:function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}},{key:"sync",value:function(k){for(var M=this.open;M>=0;M--){if(this.nodes[M]==k)return this.open=M,!0;this.localPreserveWS&&(this.nodes[M].options|=dr)}return!1}},{key:"currentPos",get:function(){this.closeExtra();for(var k=0,M=this.open;M>=0;M--){for(var _=this.nodes[M].content,G=_.length-1;G>=0;G--)k+=_[G].nodeSize;M&&k++}return k}},{key:"findAtPoint",value:function(k,M){if(this.find)for(var _=0;_<this.find.length;_++)this.find[_].node==k&&this.find[_].offset==M&&(this.find[_].pos=this.currentPos)}},{key:"findInside",value:function(k){if(this.find)for(var M=0;M<this.find.length;M++)this.find[M].pos==null&&k.nodeType==1&&k.contains(this.find[M].node)&&(this.find[M].pos=this.currentPos)}},{key:"findAround",value:function(k,M,_){if(k!=M&&this.find){for(var G=0;G<this.find.length;G++)if(this.find[G].pos==null&&k.nodeType==1&&k.contains(this.find[G].node)){var Z=M.compareDocumentPosition(this.find[G].node);Z&(_?2:4)&&(this.find[G].pos=this.currentPos)}}}},{key:"findInText",value:function(k){if(this.find)for(var M=0;M<this.find.length;M++)this.find[M].node==k&&(this.find[M].pos=this.currentPos-(k.nodeValue.length-this.find[M].offset))}},{key:"matchesContext",value:function(k){var M=this;if(k.indexOf("|")>-1)return k.split(/\s*\|\s*/).some(this.matchesContext,this);var _=k.split("/"),G=this.options.context,Z=!this.isOpen&&(!G||G.parent.type==this.nodes[0].type),oe=-(G?G.depth+1:0)+(Z?0:1),Ce=function Ae(tt,Ye){for(;tt>=0;tt--){var ct=_[tt];if(ct==""){if(tt==_.length-1||tt==0)continue;for(;Ye>=oe;Ye--)if(Ae(tt-1,Ye))return!0;return!1}else{var Bt=Ye>0||Ye==0&&Z?M.nodes[Ye].type:G&&Ye>=oe?G.node(Ye-oe).type:null;if(!Bt||Bt.name!=ct&&!Bt.isInGroup(ct))return!1;Ye--}}return!0};return Ce(_.length-1,this.open)}},{key:"textblockFromContext",value:function(){var k=this.options.context;if(k)for(var M=k.depth;M>=0;M--){var _=k.node(M).contentMatchAt(k.indexAfter(M)).defaultType;if(_&&_.isTextblock&&_.defaultAttrs)return _}for(var G in this.parser.schema.nodes){var Z=this.parser.schema.nodes[G];if(Z.isTextblock&&Z.defaultAttrs)return Z}}}]),V}();function U(V){for(var R=V.firstChild,k=null;R;R=R.nextSibling){var M=R.nodeType==1?R.nodeName.toLowerCase():null;M&&Tn.hasOwnProperty(M)&&k?(k.appendChild(R),R=k):M=="li"?k=R:M&&(k=null)}}function W(V,R){return(V.matches||V.msMatchesSelector||V.webkitMatchesSelector||V.mozMatchesSelector).call(V,R)}function ie(V){var R={};for(var k in V)R[k]=V[k];return R}function Ne(V,R){var k=R.schema.nodes,M=function(){var oe=k[G];if(!oe.allowsMarkType(V))return 0;var Ce=[],Ae=function tt(Ye){Ce.push(Ye);for(var ct=0;ct<Ye.edgeCount;ct++){var Bt=Ye.edge(ct),ir=Bt.type,kr=Bt.next;if(ir==R||Ce.indexOf(kr)<0&&tt(kr))return!0}};if(Ae(oe.contentMatch))return{v:!0}},_;for(var G in k)if(_=M(),_!==0&&_)return _.v}var ze=function(){function V(R,k){L(this,V),this.nodes=R,this.marks=k}return ee(V,[{key:"serializeFragment",value:function(k){var M=this,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},G=arguments.length>2?arguments[2]:void 0;G||(G=ae(_).createDocumentFragment());var Z=G,oe=[];return k.forEach(function(Ce){if(oe.length||Ce.marks.length){for(var Ae=0,tt=0;Ae<oe.length&&tt<Ce.marks.length;){var Ye=Ce.marks[tt];if(!M.marks[Ye.type.name]){tt++;continue}if(!Ye.eq(oe[Ae][0])||Ye.type.spec.spanning===!1)break;Ae++,tt++}for(;Ae<oe.length;)Z=oe.pop()[1];for(;tt<Ce.marks.length;){var ct=Ce.marks[tt++],Bt=M.serializeMark(ct,Ce.isInline,_);Bt&&(oe.push([ct,Z]),Z.appendChild(Bt.dom),Z=Bt.contentDOM||Bt.dom)}}Z.appendChild(M.serializeNodeInner(Ce,_))}),G}},{key:"serializeNodeInner",value:function(k,M){var _=Rt(ae(M),this.nodes[k.type.name](k),null,k.attrs),G=_.dom,Z=_.contentDOM;if(Z){if(k.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(k.content,M,Z)}return G}},{key:"serializeNode",value:function(k){for(var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=this.serializeNodeInner(k,M),G=k.marks.length-1;G>=0;G--){var Z=this.serializeMark(k.marks[G],k.isInline,M);Z&&((Z.contentDOM||Z.dom).appendChild(_),_=Z.dom)}return _}},{key:"serializeMark",value:function(k,M){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},G=this.marks[k.type.name];return G&&Rt(ae(_),G(k,M),null,k.attrs)}}],[{key:"renderSpec",value:function(k,M){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,G=arguments.length>3?arguments[3]:void 0;return Rt(k,M,_,G)}},{key:"fromSchema",value:function(k){return k.cached.domSerializer||(k.cached.domSerializer=new V(this.nodesFromSchema(k),this.marksFromSchema(k)))}},{key:"nodesFromSchema",value:function(k){var M=he(k.nodes);return M.text||(M.text=function(_){return _.text}),M}},{key:"marksFromSchema",value:function(k){return he(k.marks)}}]),V}();function he(V){var R={};for(var k in V){var M=V[k].spec.toDOM;M&&(R[k]=M)}return R}function ae(V){return V.document||window.document}var De=new WeakMap;function _e(V){var R=De.get(V);return R===void 0&&De.set(V,R=lt(V)),R}function lt(V){var R=null;function k(M){if(M&&P(M)=="object")if(Array.isArray(M))if(typeof M[0]=="string")R||(R=[]),R.push(M);else for(var _=0;_<M.length;_++)k(M[_]);else for(var G in M)k(M[G])}return k(V),R}function Rt(V,R,k,M){if(typeof R=="string")return{dom:V.createTextNode(R)};if(R.nodeType!=null)return{dom:R};if(R.dom&&R.dom.nodeType!=null)return R;var _=R[0],G;if(typeof _!="string")throw new RangeError("Invalid array passed to renderSpec");if(M&&(G=_e(M))&&G.indexOf(R)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");var Z=_.indexOf(" ");Z>0&&(k=_.slice(0,Z),_=_.slice(Z+1));var oe,Ce=k?V.createElementNS(k,_):V.createElement(_),Ae=R[1],tt=1;if(Ae&&P(Ae)=="object"&&Ae.nodeType==null&&!Array.isArray(Ae)){tt=2;for(var Ye in Ae)if(Ae[Ye]!=null){var ct=Ye.indexOf(" ");ct>0?Ce.setAttributeNS(Ye.slice(0,ct),Ye.slice(ct+1),Ae[Ye]):Ce.setAttribute(Ye,Ae[Ye])}}for(var Bt=tt;Bt<R.length;Bt++){var ir=R[Bt];if(ir===0){if(Bt<R.length-1||Bt>tt)throw new RangeError("Content hole must be the only child of its parent node");return{dom:Ce,contentDOM:Ce}}else{var kr=Rt(V,ir,k,M),Hn=kr.dom,ki=kr.contentDOM;if(Ce.appendChild(Hn),ki){if(oe)throw new RangeError("Multiple content holes");oe=ki}}}return{dom:Ce,contentDOM:oe}}return Mi.ContentMatch=zt,Mi.DOMParser=vn,Mi.DOMSerializer=ze,Mi.Fragment=we,Mi.Mark=et,Mi.MarkType=Rr,Mi.Node=ot,Mi.NodeRange=Pe,Mi.NodeType=Er,Mi.ReplaceError=St,Mi.ResolvedPos=Ee,Mi.Schema=xn,Mi.Slice=It,Mi}var Xy={},kx;function tb(){return kx||(kx=1,function(r){function e(X){var Y=typeof Map=="function"?new Map:void 0;return e=function(F){if(F===null||!n(F))return F;if(typeof F!="function")throw new TypeError("Super expression must either be null or a function");if(typeof Y<"u"){if(Y.has(F))return Y.get(F);Y.set(F,U)}function U(){return t(F,arguments,v(this).constructor)}return U.prototype=Object.create(F.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),a(U,F)},e(X)}function t(X,Y,z){return f()?t=Reflect.construct.bind():t=function(U,W,ie){var Ne=[null];Ne.push.apply(Ne,W);var ze=Function.bind.apply(U,Ne),he=new ze;return ie&&a(he,ie.prototype),he},t.apply(null,arguments)}function n(X){try{return Function.toString.call(X).indexOf("[native code]")!==-1}catch{return typeof X=="function"}}function i(X,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function");X.prototype=Object.create(Y&&Y.prototype,{constructor:{value:X,writable:!0,configurable:!0}}),Object.defineProperty(X,"prototype",{writable:!1}),Y&&a(X,Y)}function a(X,Y){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(F,U){return F.__proto__=U,F},a(X,Y)}function o(X){var Y=f();return function(){var F=v(X),U;if(Y){var W=v(this).constructor;U=Reflect.construct(F,arguments,W)}else U=F.apply(this,arguments);return l(this,U)}}function l(X,Y){if(Y&&(y(Y)==="object"||typeof Y=="function"))return Y;if(Y!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c(X)}function c(X){if(X===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return X}function f(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function v(X){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(z){return z.__proto__||Object.getPrototypeOf(z)},v(X)}function y(X){"@babel/helpers - typeof";return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},y(X)}function T(X,Y){if(!(X instanceof Y))throw new TypeError("Cannot call a class as a function")}function N(X,Y){for(var z=0;z<Y.length;z++){var F=Y[z];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(X,P(F.key),F)}}function E(X,Y,z){return Y&&N(X.prototype,Y),z&&N(X,z),Object.defineProperty(X,"prototype",{writable:!1}),X}function P(X){var Y=L(X,"string");return y(Y)==="symbol"?Y:String(Y)}function L(X,Y){if(y(X)!=="object"||X===null)return X;var z=X[Symbol.toPrimitive];if(z!==void 0){var F=z.call(X,Y);if(y(F)!=="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(X)}var $=Fm(),ee=65535,re=Math.pow(2,16);function se(X,Y){return X+Y*re}function ve(X){return X&ee}function le(X){return(X-(X&ee))/re}var ke=1,we=2,Le=4,je=8,Nt=function(){function X(Y,z,F){T(this,X),this.pos=Y,this.delInfo=z,this.recover=F}return E(X,[{key:"deleted",get:function(){return(this.delInfo&je)>0}},{key:"deletedBefore",get:function(){return(this.delInfo&(ke|Le))>0}},{key:"deletedAfter",get:function(){return(this.delInfo&(we|Le))>0}},{key:"deletedAcross",get:function(){return(this.delInfo&Le)>0}}]),X}(),et=function(){function X(Y){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(T(this,X),this.ranges=Y,this.inverted=z,!Y.length&&X.empty)return X.empty}return E(X,[{key:"recover",value:function(z){var F=0,U=ve(z);if(!this.inverted)for(var W=0;W<U;W++)F+=this.ranges[W*3+2]-this.ranges[W*3+1];return this.ranges[U*3]+F+le(z)}},{key:"mapResult",value:function(z){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this._map(z,F,!1)}},{key:"map",value:function(z){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this._map(z,F,!0)}},{key:"_map",value:function(z,F,U){for(var W=0,ie=this.inverted?2:1,Ne=this.inverted?1:2,ze=0;ze<this.ranges.length;ze+=3){var he=this.ranges[ze]-(this.inverted?W:0);if(he>z)break;var ae=this.ranges[ze+ie],De=this.ranges[ze+Ne],_e=he+ae;if(z<=_e){var lt=ae?z==he?-1:z==_e?1:F:F,Rt=he+W+(lt<0?0:De);if(U)return Rt;var V=z==(F<0?he:_e)?null:se(ze/3,z-he),R=z==he?we:z==_e?ke:Le;return(F<0?z!=he:z!=_e)&&(R|=je),new Nt(Rt,R,V)}W+=De-ae}return U?z+W:new Nt(z+W,0,null)}},{key:"touches",value:function(z,F){for(var U=0,W=ve(F),ie=this.inverted?2:1,Ne=this.inverted?1:2,ze=0;ze<this.ranges.length;ze+=3){var he=this.ranges[ze]-(this.inverted?U:0);if(he>z)break;var ae=this.ranges[ze+ie],De=he+ae;if(z<=De&&ze==W*3)return!0;U+=this.ranges[ze+Ne]-ae}return!1}},{key:"forEach",value:function(z){for(var F=this.inverted?2:1,U=this.inverted?1:2,W=0,ie=0;W<this.ranges.length;W+=3){var Ne=this.ranges[W],ze=Ne-(this.inverted?ie:0),he=Ne+(this.inverted?0:ie),ae=this.ranges[W+F],De=this.ranges[W+U];z(ze,ze+ae,he,he+De),ie+=De-ae}}},{key:"invert",value:function(){return new X(this.ranges,!this.inverted)}},{key:"toString",value:function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}}],[{key:"offset",value:function(z){return z==0?X.empty:new X(z<0?[0,-z,0]:[0,0,z])}}]),X}();et.empty=new et([]);var St=function(){function X(Y,z){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,U=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Y?Y.length:0;T(this,X),this.mirror=z,this.from=F,this.to=U,this._maps=Y||[],this.ownData=!(Y||z)}return E(X,[{key:"maps",get:function(){return this._maps}},{key:"slice",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.maps.length;return new X(this._maps,this.mirror,z,F)}},{key:"appendMap",value:function(z,F){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(z),F!=null&&this.setMirror(this._maps.length-1,F)}},{key:"appendMapping",value:function(z){for(var F=0,U=this._maps.length;F<z._maps.length;F++){var W=z.getMirror(F);this.appendMap(z._maps[F],W!=null&&W<F?U+W:void 0)}}},{key:"getMirror",value:function(z){if(this.mirror){for(var F=0;F<this.mirror.length;F++)if(this.mirror[F]==z)return this.mirror[F+(F%2?-1:1)]}}},{key:"setMirror",value:function(z,F){this.mirror||(this.mirror=[]),this.mirror.push(z,F)}},{key:"appendMappingInverted",value:function(z){for(var F=z.maps.length-1,U=this._maps.length+z._maps.length;F>=0;F--){var W=z.getMirror(F);this.appendMap(z._maps[F].invert(),W!=null&&W>F?U-W-1:void 0)}}},{key:"invert",value:function(){var z=new X;return z.appendMappingInverted(this),z}},{key:"map",value:function(z){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(this.mirror)return this._map(z,F,!0);for(var U=this.from;U<this.to;U++)z=this._maps[U].map(z,F);return z}},{key:"mapResult",value:function(z){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this._map(z,F,!1)}},{key:"_map",value:function(z,F,U){for(var W=0,ie=this.from;ie<this.to;ie++){var Ne=this._maps[ie],ze=Ne.mapResult(z,F);if(ze.recover!=null){var he=this.getMirror(ie);if(he!=null&&he>ie&&he<this.to){ie=he,z=this._maps[he].recover(ze.recover);continue}}W|=ze.delInfo,z=ze.pos}return U?z:new Nt(z,W,null)}}]),X}(),It=Object.create(null),Mt=function(){function X(){T(this,X)}return E(X,[{key:"getMap",value:function(){return et.empty}},{key:"merge",value:function(z){return null}}],[{key:"fromJSON",value:function(z,F){if(!F||!F.stepType)throw new RangeError("Invalid input for Step.fromJSON");var U=It[F.stepType];if(!U)throw new RangeError("No step type ".concat(F.stepType," defined"));return U.fromJSON(z,F)}},{key:"jsonID",value:function(z,F){if(z in It)throw new RangeError("Duplicate use of step JSON ID "+z);return It[z]=F,F.prototype.jsonID=z,F}}]),X}(),Lt=function(){function X(Y,z){T(this,X),this.doc=Y,this.failed=z}return E(X,null,[{key:"ok",value:function(z){return new X(z,null)}},{key:"fail",value:function(z){return new X(null,z)}},{key:"fromReplace",value:function(z,F,U,W){try{return X.ok(z.replace(F,U,W))}catch(ie){if(ie instanceof $.ReplaceError)return X.fail(ie.message);throw ie}}}]),X}();function be(X,Y,z){for(var F=[],U=0;U<X.childCount;U++){var W=X.child(U);W.content.size&&(W=W.copy(be(W.content,Y,W))),W.isInline&&(W=Y(W,z,U)),F.push(W)}return $.Fragment.fromArray(F)}var We=function(X){i(z,X);var Y=o(z);function z(F,U,W){var ie;return T(this,z),ie=Y.call(this),ie.from=F,ie.to=U,ie.mark=W,ie}return E(z,[{key:"apply",value:function(U){var W=this,ie=U.slice(this.from,this.to),Ne=U.resolve(this.from),ze=Ne.node(Ne.sharedDepth(this.to)),he=new $.Slice(be(ie.content,function(ae,De){return!ae.isAtom||!De.type.allowsMarkType(W.mark.type)?ae:ae.mark(W.mark.addToSet(ae.marks))},ze),ie.openStart,ie.openEnd);return Lt.fromReplace(U,this.from,this.to,he)}},{key:"invert",value:function(){return new Ot(this.from,this.to,this.mark)}},{key:"map",value:function(U){var W=U.mapResult(this.from,1),ie=U.mapResult(this.to,-1);return W.deleted&&ie.deleted||W.pos>=ie.pos?null:new z(W.pos,ie.pos,this.mark)}},{key:"merge",value:function(U){return U instanceof z&&U.mark.eq(this.mark)&&this.from<=U.to&&this.to>=U.from?new z(Math.min(this.from,U.from),Math.max(this.to,U.to),this.mark):null}},{key:"toJSON",value:function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}}],[{key:"fromJSON",value:function(U,W){if(typeof W.from!="number"||typeof W.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new z(W.from,W.to,U.markFromJSON(W.mark))}}]),z}(Mt);Mt.jsonID("addMark",We);var Ot=function(X){i(z,X);var Y=o(z);function z(F,U,W){var ie;return T(this,z),ie=Y.call(this),ie.from=F,ie.to=U,ie.mark=W,ie}return E(z,[{key:"apply",value:function(U){var W=this,ie=U.slice(this.from,this.to),Ne=new $.Slice(be(ie.content,function(ze){return ze.mark(W.mark.removeFromSet(ze.marks))},U),ie.openStart,ie.openEnd);return Lt.fromReplace(U,this.from,this.to,Ne)}},{key:"invert",value:function(){return new We(this.from,this.to,this.mark)}},{key:"map",value:function(U){var W=U.mapResult(this.from,1),ie=U.mapResult(this.to,-1);return W.deleted&&ie.deleted||W.pos>=ie.pos?null:new z(W.pos,ie.pos,this.mark)}},{key:"merge",value:function(U){return U instanceof z&&U.mark.eq(this.mark)&&this.from<=U.to&&this.to>=U.from?new z(Math.min(this.from,U.from),Math.max(this.to,U.to),this.mark):null}},{key:"toJSON",value:function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}}],[{key:"fromJSON",value:function(U,W){if(typeof W.from!="number"||typeof W.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new z(W.from,W.to,U.markFromJSON(W.mark))}}]),z}(Mt);Mt.jsonID("removeMark",Ot);var st=function(X){i(z,X);var Y=o(z);function z(F,U){var W;return T(this,z),W=Y.call(this),W.pos=F,W.mark=U,W}return E(z,[{key:"apply",value:function(U){var W=U.nodeAt(this.pos);if(!W)return Lt.fail("No node at mark step's position");var ie=W.type.create(W.attrs,null,this.mark.addToSet(W.marks));return Lt.fromReplace(U,this.pos,this.pos+1,new $.Slice($.Fragment.from(ie),0,W.isLeaf?0:1))}},{key:"invert",value:function(U){var W=U.nodeAt(this.pos);if(W){var ie=this.mark.addToSet(W.marks);if(ie.length==W.marks.length){for(var Ne=0;Ne<W.marks.length;Ne++)if(!W.marks[Ne].isInSet(ie))return new z(this.pos,W.marks[Ne]);return new z(this.pos,this.mark)}}return new Ie(this.pos,this.mark)}},{key:"map",value:function(U){var W=U.mapResult(this.pos,1);return W.deletedAfter?null:new z(W.pos,this.mark)}},{key:"toJSON",value:function(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}}],[{key:"fromJSON",value:function(U,W){if(typeof W.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new z(W.pos,U.markFromJSON(W.mark))}}]),z}(Mt);Mt.jsonID("addNodeMark",st);var Ie=function(X){i(z,X);var Y=o(z);function z(F,U){var W;return T(this,z),W=Y.call(this),W.pos=F,W.mark=U,W}return E(z,[{key:"apply",value:function(U){var W=U.nodeAt(this.pos);if(!W)return Lt.fail("No node at mark step's position");var ie=W.type.create(W.attrs,null,this.mark.removeFromSet(W.marks));return Lt.fromReplace(U,this.pos,this.pos+1,new $.Slice($.Fragment.from(ie),0,W.isLeaf?0:1))}},{key:"invert",value:function(U){var W=U.nodeAt(this.pos);return!W||!this.mark.isInSet(W.marks)?this:new st(this.pos,this.mark)}},{key:"map",value:function(U){var W=U.mapResult(this.pos,1);return W.deletedAfter?null:new z(W.pos,this.mark)}},{key:"toJSON",value:function(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}}],[{key:"fromJSON",value:function(U,W){if(typeof W.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new z(W.pos,U.markFromJSON(W.mark))}}]),z}(Mt);Mt.jsonID("removeNodeMark",Ie);var Ve=function(X){i(z,X);var Y=o(z);function z(F,U,W){var ie,Ne=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return T(this,z),ie=Y.call(this),ie.from=F,ie.to=U,ie.slice=W,ie.structure=Ne,ie}return E(z,[{key:"apply",value:function(U){return this.structure&&dt(U,this.from,this.to)?Lt.fail("Structure replace would overwrite content"):Lt.fromReplace(U,this.from,this.to,this.slice)}},{key:"getMap",value:function(){return new et([this.from,this.to-this.from,this.slice.size])}},{key:"invert",value:function(U){return new z(this.from,this.from+this.slice.size,U.slice(this.from,this.to))}},{key:"map",value:function(U){var W=U.mapResult(this.from,1),ie=U.mapResult(this.to,-1);return W.deletedAcross&&ie.deletedAcross?null:new z(W.pos,Math.max(W.pos,ie.pos),this.slice,this.structure)}},{key:"merge",value:function(U){if(!(U instanceof z)||U.structure||this.structure)return null;if(this.from+this.slice.size==U.from&&!this.slice.openEnd&&!U.slice.openStart){var W=this.slice.size+U.slice.size==0?$.Slice.empty:new $.Slice(this.slice.content.append(U.slice.content),this.slice.openStart,U.slice.openEnd);return new z(this.from,this.to+(U.to-U.from),W,this.structure)}else if(U.to==this.from&&!this.slice.openStart&&!U.slice.openEnd){var ie=this.slice.size+U.slice.size==0?$.Slice.empty:new $.Slice(U.slice.content.append(this.slice.content),U.slice.openStart,this.slice.openEnd);return new z(U.from,this.to,ie,this.structure)}else return null}},{key:"toJSON",value:function(){var U={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(U.slice=this.slice.toJSON()),this.structure&&(U.structure=!0),U}}],[{key:"fromJSON",value:function(U,W){if(typeof W.from!="number"||typeof W.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new z(W.from,W.to,$.Slice.fromJSON(U,W.slice),!!W.structure)}}]),z}(Mt);Mt.jsonID("replace",Ve);var Je=function(X){i(z,X);var Y=o(z);function z(F,U,W,ie,Ne,ze){var he,ae=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1;return T(this,z),he=Y.call(this),he.from=F,he.to=U,he.gapFrom=W,he.gapTo=ie,he.slice=Ne,he.insert=ze,he.structure=ae,he}return E(z,[{key:"apply",value:function(U){if(this.structure&&(dt(U,this.from,this.gapFrom)||dt(U,this.gapTo,this.to)))return Lt.fail("Structure gap-replace would overwrite content");var W=U.slice(this.gapFrom,this.gapTo);if(W.openStart||W.openEnd)return Lt.fail("Gap is not a flat range");var ie=this.slice.insertAt(this.insert,W.content);return ie?Lt.fromReplace(U,this.from,this.to,ie):Lt.fail("Content does not fit in gap")}},{key:"getMap",value:function(){return new et([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}},{key:"invert",value:function(U){var W=this.gapTo-this.gapFrom;return new z(this.from,this.from+this.slice.size+W,this.from+this.insert,this.from+this.insert+W,U.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}},{key:"map",value:function(U){var W=U.mapResult(this.from,1),ie=U.mapResult(this.to,-1),Ne=this.from==this.gapFrom?W.pos:U.map(this.gapFrom,-1),ze=this.to==this.gapTo?ie.pos:U.map(this.gapTo,1);return W.deletedAcross&&ie.deletedAcross||Ne<W.pos||ze>ie.pos?null:new z(W.pos,ie.pos,Ne,ze,this.slice,this.insert,this.structure)}},{key:"toJSON",value:function(){var U={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(U.slice=this.slice.toJSON()),this.structure&&(U.structure=!0),U}}],[{key:"fromJSON",value:function(U,W){if(typeof W.from!="number"||typeof W.to!="number"||typeof W.gapFrom!="number"||typeof W.gapTo!="number"||typeof W.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new z(W.from,W.to,W.gapFrom,W.gapTo,$.Slice.fromJSON(U,W.slice),W.insert,!!W.structure)}}]),z}(Mt);Mt.jsonID("replaceAround",Je);function dt(X,Y,z){for(var F=X.resolve(Y),U=z-Y,W=F.depth;U>0&&W>0&&F.indexAfter(W)==F.node(W).childCount;)W--,U--;if(U>0)for(var ie=F.node(W).maybeChild(F.indexAfter(W));U>0;){if(!ie||ie.isLeaf)return!0;ie=ie.firstChild,U--}return!1}function xt(X,Y,z,F){var U=[],W=[],ie,Ne;X.doc.nodesBetween(Y,z,function(ze,he,ae){if(ze.isInline){var De=ze.marks;if(!F.isInSet(De)&&ae.type.allowsMarkType(F.type)){for(var _e=Math.max(he,Y),lt=Math.min(he+ze.nodeSize,z),Rt=F.addToSet(De),V=0;V<De.length;V++)De[V].isInSet(Rt)||(ie&&ie.to==_e&&ie.mark.eq(De[V])?ie.to=lt:U.push(ie=new Ot(_e,lt,De[V])));Ne&&Ne.to==_e?Ne.to=lt:W.push(Ne=new We(_e,lt,F))}}}),U.forEach(function(ze){return X.step(ze)}),W.forEach(function(ze){return X.step(ze)})}function Oe(X,Y,z,F){var U=[],W=0;X.doc.nodesBetween(Y,z,function(ie,Ne){if(ie.isInline){W++;var ze=null;if(F instanceof $.MarkType)for(var he=ie.marks,ae;ae=F.isInSet(he);)(ze||(ze=[])).push(ae),he=ae.removeFromSet(he);else F?F.isInSet(ie.marks)&&(ze=[F]):ze=ie.marks;if(ze&&ze.length)for(var De=Math.min(Ne+ie.nodeSize,z),_e=0;_e<ze.length;_e++){for(var lt=ze[_e],Rt=void 0,V=0;V<U.length;V++){var R=U[V];R.step==W-1&&lt.eq(U[V].style)&&(Rt=R)}Rt?(Rt.to=De,Rt.step=W):U.push({style:lt,from:Math.max(Ne,Y),to:De,step:W})}}}),U.forEach(function(ie){return X.step(new Ot(ie.from,ie.to,ie.style))})}function Ee(X,Y,z){for(var F=arguments.length>3&&arguments[3]!==void 0?arguments[3]:z.contentMatch,U=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,W=X.doc.nodeAt(Y),ie=[],Ne=Y+1,ze=0;ze<W.childCount;ze++){var he=W.child(ze),ae=Ne+he.nodeSize,De=F.matchType(he.type);if(!De)ie.push(new Ve(Ne,ae,$.Slice.empty));else{F=De;for(var _e=0;_e<he.marks.length;_e++)z.allowsMarkType(he.marks[_e].type)||X.step(new Ot(Ne,ae,he.marks[_e]));if(U&&he.isText&&z.whitespace!="pre")for(var lt=void 0,Rt=/\r?\n|\r/g,V=void 0;lt=Rt.exec(he.text);)V||(V=new $.Slice($.Fragment.from(z.schema.text(" ",z.allowedMarks(he.marks))),0,0)),ie.push(new Ve(Ne+lt.index,Ne+lt.index+lt[0].length,V))}Ne=ae}if(!F.validEnd){var R=F.fillBefore($.Fragment.empty,!0);X.replace(Ne,Ne,new $.Slice(R,0,0))}for(var k=ie.length-1;k>=0;k--)X.step(ie[k])}function fe(X,Y,z){return(Y==0||X.canReplace(Y,X.childCount))&&(z==X.childCount||X.canReplace(0,z))}function ye(X){for(var Y=X.parent,z=Y.content.cutByIndex(X.startIndex,X.endIndex),F=X.depth;;--F){var U=X.$from.node(F),W=X.$from.index(F),ie=X.$to.indexAfter(F);if(F<X.depth&&U.canReplace(W,ie,z))return F;if(F==0||U.type.spec.isolating||!fe(U,W,ie))break}return null}function de(X,Y,z){for(var F=Y.$from,U=Y.$to,W=Y.depth,ie=F.before(W+1),Ne=U.after(W+1),ze=ie,he=Ne,ae=$.Fragment.empty,De=0,_e=W,lt=!1;_e>z;_e--)lt||F.index(_e)>0?(lt=!0,ae=$.Fragment.from(F.node(_e).copy(ae)),De++):ze--;for(var Rt=$.Fragment.empty,V=0,R=W,k=!1;R>z;R--)k||U.after(R+1)<U.end(R)?(k=!0,Rt=$.Fragment.from(U.node(R).copy(Rt)),V++):he++;X.step(new Je(ze,he,ie,Ne,new $.Slice(ae.append(Rt),De,V),ae.size-De,!0))}function Pe(X,Y){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,F=arguments.length>3&&arguments[3]!==void 0?arguments[3]:X,U=ot(X,Y),W=U&&Ht(F,Y);return W?U.map(qe).concat({type:Y,attrs:z}).concat(W.map(qe)):null}function qe(X){return{type:X,attrs:null}}function ot(X,Y){var z=X.parent,F=X.startIndex,U=X.endIndex,W=z.contentMatchAt(F).findWrapping(Y);if(!W)return null;var ie=W.length?W[0]:Y;return z.canReplaceWith(F,U,ie)?W:null}function Ht(X,Y){var z=X.parent,F=X.startIndex,U=X.endIndex,W=z.child(F),ie=Y.contentMatch.findWrapping(W.type);if(!ie)return null;for(var Ne=ie.length?ie[ie.length-1]:Y,ze=Ne.contentMatch,he=F;ze&&he<U;he++)ze=ze.matchType(z.child(he).type);return!ze||!ze.validEnd?null:ie}function Gt(X,Y,z){for(var F=$.Fragment.empty,U=z.length-1;U>=0;U--){if(F.size){var W=z[U].type.contentMatch.matchFragment(F);if(!W||!W.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}F=$.Fragment.from(z[U].type.create(z[U].attrs,F))}var ie=Y.start,Ne=Y.end;X.step(new Je(ie,Ne,ie,Ne,new $.Slice(F,0,0),z.length,!0))}function zt(X,Y,z,F,U){if(!F.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var W=X.steps.length;X.doc.nodesBetween(Y,z,function(ie,Ne){var ze=typeof U=="function"?U(ie):U;if(ie.isTextblock&&!ie.hasMarkup(F,ze)&&Vr(X.doc,X.mapping.slice(W).map(Ne),F)){var he=null;if(F.schema.linebreakReplacement){var ae=F.whitespace=="pre",De=!!F.contentMatch.matchType(F.schema.linebreakReplacement);ae&&!De?he=!1:!ae&&De&&(he=!0)}he===!1&&tr(X,ie,Ne,W),Ee(X,X.mapping.slice(W).map(Ne,1),F,void 0,he===null);var _e=X.mapping.slice(W),lt=_e.map(Ne,1),Rt=_e.map(Ne+ie.nodeSize,1);return X.step(new Je(lt,Rt,lt+1,Rt-1,new $.Slice($.Fragment.from(F.create(ze,null,ie.marks)),0,0),1,!0)),he===!0&&Tr(X,ie,Ne,W),!1}})}function Tr(X,Y,z,F){Y.forEach(function(U,W){if(U.isText)for(var ie,Ne=/\r?\n|\r/g;ie=Ne.exec(U.text);){var ze=X.mapping.slice(F).map(z+1+W+ie.index);X.replaceWith(ze,ze+1,Y.type.schema.linebreakReplacement.create())}})}function tr(X,Y,z,F){Y.forEach(function(U,W){if(U.type==U.type.schema.linebreakReplacement){var ie=X.mapping.slice(F).map(z+1+W);X.replaceWith(ie,ie+1,Y.type.schema.text(`
`))}})}function Vr(X,Y,z){var F=X.resolve(Y),U=F.index();return F.parent.canReplaceWith(U,U+1,z)}function Lr(X,Y,z,F,U){var W=X.doc.nodeAt(Y);if(!W)throw new RangeError("No node at given position");z||(z=W.type);var ie=z.create(F,null,U||W.marks);if(W.isLeaf)return X.replaceWith(Y,Y+W.nodeSize,ie);if(!z.validContent(W.content))throw new RangeError("Invalid content for node type "+z.name);X.step(new Je(Y,Y+W.nodeSize,Y+1,Y+W.nodeSize-1,new $.Slice($.Fragment.from(ie),0,0),1,!0))}function Br(X,Y){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,F=arguments.length>3?arguments[3]:void 0,U=X.resolve(Y),W=U.depth-z,ie=F&&F[F.length-1]||U.parent;if(W<0||U.parent.type.spec.isolating||!U.parent.canReplace(U.index(),U.parent.childCount)||!ie.type.validContent(U.parent.content.cutByIndex(U.index(),U.parent.childCount)))return!1;for(var Ne=U.depth-1,ze=z-2;Ne>W;Ne--,ze--){var he=U.node(Ne),ae=U.index(Ne);if(he.type.spec.isolating)return!1;var De=he.content.cutByIndex(ae,he.childCount),_e=F&&F[ze+1];_e&&(De=De.replaceChild(0,_e.type.create(_e.attrs)));var lt=F&&F[ze]||he;if(!he.canReplace(ae+1,he.childCount)||!lt.type.validContent(De))return!1}var Rt=U.indexAfter(W),V=F&&F[0];return U.node(W).canReplaceWith(Rt,Rt,V?V.type:U.node(W+1).type)}function cr(X,Y){for(var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,F=arguments.length>3?arguments[3]:void 0,U=X.doc.resolve(Y),W=$.Fragment.empty,ie=$.Fragment.empty,Ne=U.depth,ze=U.depth-z,he=z-1;Ne>ze;Ne--,he--){W=$.Fragment.from(U.node(Ne).copy(W));var ae=F&&F[he];ie=$.Fragment.from(ae?ae.type.create(ae.attrs,ie):U.node(Ne).copy(ie))}X.step(new Ve(Y,Y,new $.Slice(W.append(ie),z,z),!0))}function _r(X,Y){var z=X.resolve(Y),F=z.index();return Sn(z.nodeBefore,z.nodeAfter)&&z.parent.canReplace(F,F+1)}function Ii(X,Y){Y.content.size||X.type.compatibleContent(Y.type);for(var z=X.contentMatchAt(X.childCount),F=X.type.schema.linebreakReplacement,U=0;U<Y.childCount;U++){var W=Y.child(U),ie=W.type==F?X.type.schema.nodes.text:W.type;if(z=z.matchType(ie),!z||!X.type.allowsMarks(W.marks))return!1}return z.validEnd}function Sn(X,Y){return!!(X&&Y&&!X.isLeaf&&Ii(X,Y))}function Ar(X,Y){for(var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,F=X.resolve(Y),U=F.depth;;U--){var W=void 0,ie=void 0,Ne=F.index(U);if(U==F.depth?(W=F.nodeBefore,ie=F.nodeAfter):z>0?(W=F.node(U+1),Ne++,ie=F.node(U).maybeChild(Ne)):(W=F.node(U).maybeChild(Ne-1),ie=F.node(U+1)),W&&!W.isTextblock&&Sn(W,ie)&&F.node(U).canReplace(Ne,Ne+1))return Y;if(U==0)break;Y=z<0?F.before(U):F.after(U)}}function ht(X,Y,z){var F=null,U=X.doc.type.schema.linebreakReplacement,W=X.doc.resolve(Y-z),ie=W.node().type;if(U&&ie.inlineContent){var Ne=ie.whitespace=="pre",ze=!!ie.contentMatch.matchType(U);Ne&&!ze?F=!1:!Ne&&ze&&(F=!0)}var he=X.steps.length;if(F===!1){var ae=X.doc.resolve(Y+z);tr(X,ae.node(),ae.before(),he)}ie.inlineContent&&Ee(X,Y+z-1,ie,W.node().contentMatchAt(W.index()),F==null);var De=X.mapping.slice(he),_e=De.map(Y-z);if(X.step(new Ve(_e,De.map(Y+z,-1),$.Slice.empty,!0)),F===!0){var lt=X.doc.resolve(_e);Tr(X,lt.node(),lt.before(),X.steps.length)}return X}function pt(X,Y,z){var F=X.resolve(Y);if(F.parent.canReplaceWith(F.index(),F.index(),z))return Y;if(F.parentOffset==0)for(var U=F.depth-1;U>=0;U--){var W=F.index(U);if(F.node(U).canReplaceWith(W,W,z))return F.before(U+1);if(W>0)return null}if(F.parentOffset==F.parent.content.size)for(var ie=F.depth-1;ie>=0;ie--){var Ne=F.indexAfter(ie);if(F.node(ie).canReplaceWith(Ne,Ne,z))return F.after(ie+1);if(Ne<F.node(ie).childCount)return null}return null}function qt(X,Y,z){var F=X.resolve(Y);if(!z.content.size)return Y;for(var U=z.content,W=0;W<z.openStart;W++)U=U.firstChild.content;for(var ie=1;ie<=(z.openStart==0&&z.size?2:1);ie++)for(var Ne=F.depth;Ne>=0;Ne--){var ze=Ne==F.depth?0:F.pos<=(F.start(Ne+1)+F.end(Ne+1))/2?-1:1,he=F.index(Ne)+(ze>0?1:0),ae=F.node(Ne),De=!1;if(ie==1)De=ae.canReplace(he,he,U);else{var _e=ae.contentMatchAt(he).findWrapping(U.firstChild.type);De=_e&&ae.canReplaceWith(he,he,_e[0])}if(De)return ze==0?F.pos:ze<0?F.before(Ne+1):F.after(Ne+1)}return null}function Ut(X,Y){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Y,F=arguments.length>3&&arguments[3]!==void 0?arguments[3]:$.Slice.empty;if(Y==z&&!F.size)return null;var U=X.resolve(Y),W=X.resolve(z);return or(U,W,F)?new Ve(Y,z,F):new Qr(U,W,F).fit()}function or(X,Y,z){return!z.openStart&&!z.openEnd&&X.start()==Y.start()&&X.parent.canReplace(X.index(),Y.index(),z.content)}var Qr=function(){function X(Y,z,F){T(this,X),this.$from=Y,this.$to=z,this.unplaced=F,this.frontier=[],this.placed=$.Fragment.empty;for(var U=0;U<=Y.depth;U++){var W=Y.node(U);this.frontier.push({type:W.type,match:W.contentMatchAt(Y.indexAfter(U))})}for(var ie=Y.depth;ie>0;ie--)this.placed=$.Fragment.from(Y.node(ie).copy(this.placed))}return E(X,[{key:"depth",get:function(){return this.frontier.length-1}},{key:"fit",value:function(){for(;this.unplaced.size;){var z=this.findFittable();z?this.placeNodes(z):this.openMore()||this.dropNode()}var F=this.mustMoveInline(),U=this.placed.size-this.depth-this.$from.depth,W=this.$from,ie=this.close(F<0?this.$to:W.doc.resolve(F));if(!ie)return null;for(var Ne=this.placed,ze=W.depth,he=ie.depth;ze&&he&&Ne.childCount==1;)Ne=Ne.firstChild.content,ze--,he--;var ae=new $.Slice(Ne,ze,he);return F>-1?new Je(W.pos,F,this.$to.pos,this.$to.end(),ae,U):ae.size||W.pos!=this.$to.pos?new Ve(W.pos,ie.pos,ae):null}},{key:"findFittable",value:function(){for(var z=this.unplaced.openStart,F=this.unplaced.content,U=0,W=this.unplaced.openEnd;U<z;U++){var ie=F.firstChild;if(F.childCount>1&&(W=0),ie.type.spec.isolating&&W<=U){z=U;break}F=ie.content}for(var Ne=1;Ne<=2;Ne++)for(var ze=Ne==1?z:this.unplaced.openStart;ze>=0;ze--){var he=void 0,ae=null;ze?(ae=hn(this.unplaced.content,ze-1).firstChild,he=ae.content):he=this.unplaced.content;for(var De=he.firstChild,_e=this.depth;_e>=0;_e--){var lt=this.frontier[_e],Rt=lt.type,V=lt.match,R=void 0,k=null;if(Ne==1&&(De?V.matchType(De.type)||(k=V.fillBefore($.Fragment.from(De),!1)):ae&&Rt.compatibleContent(ae.type)))return{sliceDepth:ze,frontierDepth:_e,parent:ae,inject:k};if(Ne==2&&De&&(R=V.findWrapping(De.type)))return{sliceDepth:ze,frontierDepth:_e,parent:ae,wrap:R};if(ae&&V.matchType(ae.type))break}}}},{key:"openMore",value:function(){var z=this.unplaced,F=z.content,U=z.openStart,W=z.openEnd,ie=hn(F,U);return!ie.childCount||ie.firstChild.isLeaf?!1:(this.unplaced=new $.Slice(F,U+1,Math.max(W,ie.size+U>=F.size-W?U+1:0)),!0)}},{key:"dropNode",value:function(){var z=this.unplaced,F=z.content,U=z.openStart,W=z.openEnd,ie=hn(F,U);if(ie.childCount<=1&&U>0){var Ne=F.size-U<=U+ie.size;this.unplaced=new $.Slice(wr(F,U-1,1),U-1,Ne?U-1:W)}else this.unplaced=new $.Slice(wr(F,U,1),U,W)}},{key:"placeNodes",value:function(z){for(var F=z.sliceDepth,U=z.frontierDepth,W=z.parent,ie=z.inject,Ne=z.wrap;this.depth>U;)this.closeFrontierNode();if(Ne)for(var ze=0;ze<Ne.length;ze++)this.openFrontierNode(Ne[ze]);var he=this.unplaced,ae=W?W.content:he.content,De=he.openStart-F,_e=0,lt=[],Rt=this.frontier[U],V=Rt.match,R=Rt.type;if(ie){for(var k=0;k<ie.childCount;k++)lt.push(ie.child(k));V=V.matchFragment(ie)}for(var M=ae.size+F-(he.content.size-he.openEnd);_e<ae.childCount;){var _=ae.child(_e),G=V.matchType(_.type);if(!G)break;_e++,(_e>1||De==0||_.content.size)&&(V=G,lt.push(pn(_.mark(R.allowedMarks(_.marks)),_e==1?De:0,_e==ae.childCount?M:-1)))}var Z=_e==ae.childCount;Z||(M=-1),this.placed=Er(this.placed,U,$.Fragment.from(lt)),this.frontier[U].match=V,Z&&M<0&&W&&W.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var oe=0,Ce=ae;oe<M;oe++){var Ae=Ce.lastChild;this.frontier.push({type:Ae.type,match:Ae.contentMatchAt(Ae.childCount)}),Ce=Ae.content}this.unplaced=Z?F==0?$.Slice.empty:new $.Slice(wr(he.content,F-1,1),F-1,M<0?he.openEnd:F-1):new $.Slice(wr(he.content,F,_e),he.openStart,he.openEnd)}},{key:"mustMoveInline",value:function(){if(!this.$to.parent.isTextblock)return-1;var z=this.frontier[this.depth],F;if(!z.type.isTextblock||!Rr(this.$to,this.$to.depth,z.type,z.match,!1)||this.$to.depth==this.depth&&(F=this.findCloseLevel(this.$to))&&F.depth==this.depth)return-1;for(var U=this.$to.depth,W=this.$to.after(U);U>1&&W==this.$to.end(--U);)++W;return W}},{key:"findCloseLevel",value:function(z){e:for(var F=Math.min(this.depth,z.depth);F>=0;F--){var U=this.frontier[F],W=U.match,ie=U.type,Ne=F<z.depth&&z.end(F+1)==z.pos+(z.depth-(F+1)),ze=Rr(z,F,ie,W,Ne);if(ze){for(var he=F-1;he>=0;he--){var ae=this.frontier[he],De=ae.match,_e=ae.type,lt=Rr(z,he,_e,De,!0);if(!lt||lt.childCount)continue e}return{depth:F,fit:ze,move:Ne?z.doc.resolve(z.after(F+1)):z}}}}},{key:"close",value:function(z){var F=this.findCloseLevel(z);if(!F)return null;for(;this.depth>F.depth;)this.closeFrontierNode();F.fit.childCount&&(this.placed=Er(this.placed,F.depth,F.fit)),z=F.move;for(var U=F.depth+1;U<=z.depth;U++){var W=z.node(U),ie=W.type.contentMatch.fillBefore(W.content,!0,z.index(U));this.openFrontierNode(W.type,W.attrs,ie)}return z}},{key:"openFrontierNode",value:function(z){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,U=arguments.length>2?arguments[2]:void 0,W=this.frontier[this.depth];W.match=W.match.matchType(z),this.placed=Er(this.placed,this.depth,$.Fragment.from(z.create(F,U))),this.frontier.push({type:z,match:z.contentMatch})}},{key:"closeFrontierNode",value:function(){var z=this.frontier.pop(),F=z.match.fillBefore($.Fragment.empty,!0);F.childCount&&(this.placed=Er(this.placed,this.frontier.length,F))}}]),X}();function wr(X,Y,z){return Y==0?X.cutByIndex(z,X.childCount):X.replaceChild(0,X.firstChild.copy(wr(X.firstChild.content,Y-1,z)))}function Er(X,Y,z){return Y==0?X.append(z):X.replaceChild(X.childCount-1,X.lastChild.copy(Er(X.lastChild.content,Y-1,z)))}function hn(X,Y){for(var z=0;z<Y;z++)X=X.firstChild.content;return X}function pn(X,Y,z){if(Y<=0)return X;var F=X.content;return Y>1&&(F=F.replaceChild(0,pn(F.firstChild,Y-1,F.childCount==1?z-1:0))),Y>0&&(F=X.type.contentMatch.fillBefore(F).append(F),z<=0&&(F=F.append(X.type.contentMatch.matchFragment(F).fillBefore($.Fragment.empty,!0)))),X.copy(F)}function Rr(X,Y,z,F,U){var W=X.node(Y),ie=U?X.indexAfter(Y):X.index(Y);if(ie==W.childCount&&!z.compatibleContent(W.type))return null;var Ne=F.fillBefore(W.content,!0,ie);return Ne&&!xn(z,W.content,ie)?Ne:null}function xn(X,Y,z){for(var F=z;F<Y.childCount;F++)if(!X.allowsMarks(Y.child(F).marks))return!0;return!1}function bi(X){return X.spec.defining||X.spec.definingForContent}function ti(X,Y,z,F){if(!F.size)return X.deleteRange(Y,z);var U=X.doc.resolve(Y),W=X.doc.resolve(z);if(or(U,W,F))return X.step(new Ve(Y,z,F));var ie=Pr(U,X.doc.resolve(z));ie[ie.length-1]==0&&ie.pop();var Ne=-(U.depth+1);ie.unshift(Ne);for(var ze=U.depth,he=U.pos-1;ze>0;ze--,he--){var ae=U.node(ze).type.spec;if(ae.defining||ae.definingAsContext||ae.isolating)break;ie.indexOf(ze)>-1?Ne=ze:U.before(ze)==he&&ie.splice(1,0,-ze)}for(var De=ie.indexOf(Ne),_e=[],lt=F.openStart,Rt=F.content,V=0;;V++){var R=Rt.firstChild;if(_e.push(R),V==F.openStart)break;Rt=R.content}for(var k=lt-1;k>=0;k--){var M=_e[k],_=bi(M.type);if(_&&!M.sameMarkup(U.node(Math.abs(Ne)-1)))lt=k;else if(_||!M.type.isTextblock)break}for(var G=F.openStart;G>=0;G--){var Z=(G+lt+1)%(F.openStart+1),oe=_e[Z];if(oe)for(var Ce=0;Ce<ie.length;Ce++){var Ae=ie[(Ce+De)%ie.length],tt=!0;Ae<0&&(tt=!1,Ae=-Ae);var Ye=U.node(Ae-1),ct=U.index(Ae-1);if(Ye.canReplaceWith(ct,ct,oe.type,oe.marks))return X.replace(U.before(Ae),tt?W.after(Ae):z,new $.Slice(ri(F.content,0,F.openStart,Z),Z,F.openEnd))}}for(var Bt=X.steps.length,ir=ie.length-1;ir>=0&&(X.replace(Y,z,F),!(X.steps.length>Bt));ir--){var kr=ie[ir];kr<0||(Y=U.before(kr),z=W.after(kr))}}function ri(X,Y,z,F,U){if(Y<z){var W=X.firstChild;X=X.replaceChild(0,W.copy(ri(W.content,Y+1,z,F,W)))}if(Y>F){var ie=U.contentMatchAt(0),Ne=ie.fillBefore(X).append(X);X=Ne.append(ie.matchFragment(Ne).fillBefore($.Fragment.empty,!0))}return X}function vn(X,Y,z,F){if(!F.isInline&&Y==z&&X.doc.resolve(Y).parent.content.size){var U=pt(X.doc,Y,F.type);U!=null&&(Y=z=U)}X.replaceRange(Y,z,new $.Slice($.Fragment.from(F),0,0))}function an(X,Y,z){for(var F=X.doc.resolve(Y),U=X.doc.resolve(z),W=Pr(F,U),ie=0;ie<W.length;ie++){var Ne=W[ie],ze=ie==W.length-1;if(ze&&Ne==0||F.node(Ne).type.contentMatch.validEnd)return X.delete(F.start(Ne),U.end(Ne));if(Ne>0&&(ze||F.node(Ne-1).canReplace(F.index(Ne-1),U.indexAfter(Ne-1))))return X.delete(F.before(Ne),U.after(Ne))}for(var he=1;he<=F.depth&&he<=U.depth;he++)if(Y-F.start(he)==F.depth-he&&z>F.end(he)&&U.end(he)-z!=U.depth-he&&F.start(he-1)==U.start(he-1)&&F.node(he-1).canReplace(F.index(he-1),U.index(he-1)))return X.delete(F.before(he),z);X.delete(Y,z)}function Pr(X,Y){for(var z=[],F=Math.min(X.depth,Y.depth),U=F;U>=0;U--){var W=X.start(U);if(W<X.pos-(X.depth-U)||Y.end(U)>Y.pos+(Y.depth-U)||X.node(U).type.spec.isolating||Y.node(U).type.spec.isolating)break;(W==Y.start(U)||U==X.depth&&U==Y.depth&&X.parent.inlineContent&&Y.parent.inlineContent&&U&&Y.start(U-1)==W-1)&&z.push(U)}return z}var Tn=function(X){i(z,X);var Y=o(z);function z(F,U,W){var ie;return T(this,z),ie=Y.call(this),ie.pos=F,ie.attr=U,ie.value=W,ie}return E(z,[{key:"apply",value:function(U){var W=U.nodeAt(this.pos);if(!W)return Lt.fail("No node at attribute step's position");var ie=Object.create(null);for(var Ne in W.attrs)ie[Ne]=W.attrs[Ne];ie[this.attr]=this.value;var ze=W.type.create(ie,null,W.marks);return Lt.fromReplace(U,this.pos,this.pos+1,new $.Slice($.Fragment.from(ze),0,W.isLeaf?0:1))}},{key:"getMap",value:function(){return et.empty}},{key:"invert",value:function(U){return new z(this.pos,this.attr,U.nodeAt(this.pos).attrs[this.attr])}},{key:"map",value:function(U){var W=U.mapResult(this.pos,1);return W.deletedAfter?null:new z(W.pos,this.attr,this.value)}},{key:"toJSON",value:function(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}}],[{key:"fromJSON",value:function(U,W){if(typeof W.pos!="number"||typeof W.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new z(W.pos,W.attr,W.value)}}]),z}(Mt);Mt.jsonID("attr",Tn);var dr=function(X){i(z,X);var Y=o(z);function z(F,U){var W;return T(this,z),W=Y.call(this),W.attr=F,W.value=U,W}return E(z,[{key:"apply",value:function(U){var W=Object.create(null);for(var ie in U.attrs)W[ie]=U.attrs[ie];W[this.attr]=this.value;var Ne=U.type.create(W,U.content,U.marks);return Lt.ok(Ne)}},{key:"getMap",value:function(){return et.empty}},{key:"invert",value:function(U){return new z(this.attr,U.attrs[this.attr])}},{key:"map",value:function(U){return this}},{key:"toJSON",value:function(){return{stepType:"docAttr",attr:this.attr,value:this.value}}}],[{key:"fromJSON",value:function(U,W){if(typeof W.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new z(W.attr,W.value)}}]),z}(Mt);Mt.jsonID("docAttr",dr),r.TransformError=function(X){i(z,X);var Y=o(z);function z(){return T(this,z),Y.apply(this,arguments)}return E(z)}(e(Error)),r.TransformError=function X(Y){var z=Error.call(this,Y);return z.__proto__=X.prototype,z},r.TransformError.prototype=Object.create(Error.prototype),r.TransformError.prototype.constructor=r.TransformError,r.TransformError.prototype.name="TransformError";var Ir=function(){function X(Y){T(this,X),this.doc=Y,this.steps=[],this.docs=[],this.mapping=new St}return E(X,[{key:"before",get:function(){return this.docs.length?this.docs[0]:this.doc}},{key:"step",value:function(z){var F=this.maybeStep(z);if(F.failed)throw new r.TransformError(F.failed);return this}},{key:"maybeStep",value:function(z){var F=z.apply(this.doc);return F.failed||this.addStep(z,F.doc),F}},{key:"docChanged",get:function(){return this.steps.length>0}},{key:"addStep",value:function(z,F){this.docs.push(this.doc),this.steps.push(z),this.mapping.appendMap(z.getMap()),this.doc=F}},{key:"replace",value:function(z){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:z,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:$.Slice.empty,W=Ut(this.doc,z,F,U);return W&&this.step(W),this}},{key:"replaceWith",value:function(z,F,U){return this.replace(z,F,new $.Slice($.Fragment.from(U),0,0))}},{key:"delete",value:function(z,F){return this.replace(z,F,$.Slice.empty)}},{key:"insert",value:function(z,F){return this.replaceWith(z,z,F)}},{key:"replaceRange",value:function(z,F,U){return ti(this,z,F,U),this}},{key:"replaceRangeWith",value:function(z,F,U){return vn(this,z,F,U),this}},{key:"deleteRange",value:function(z,F){return an(this,z,F),this}},{key:"lift",value:function(z,F){return de(this,z,F),this}},{key:"join",value:function(z){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return ht(this,z,F),this}},{key:"wrap",value:function(z,F){return Gt(this,z,F),this}},{key:"setBlockType",value:function(z){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:z,U=arguments.length>2?arguments[2]:void 0,W=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return zt(this,z,F,U,W),this}},{key:"setNodeMarkup",value:function(z,F){var U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,W=arguments.length>3?arguments[3]:void 0;return Lr(this,z,F,U,W),this}},{key:"setNodeAttribute",value:function(z,F,U){return this.step(new Tn(z,F,U)),this}},{key:"setDocAttribute",value:function(z,F){return this.step(new dr(z,F)),this}},{key:"addNodeMark",value:function(z,F){return this.step(new st(z,F)),this}},{key:"removeNodeMark",value:function(z,F){var U=this.doc.nodeAt(z);if(!U)throw new RangeError("No node at position "+z);if(F instanceof $.Mark)F.isInSet(U.marks)&&this.step(new Ie(z,F));else{for(var W=U.marks,ie,Ne=[];ie=F.isInSet(W);)Ne.push(new Ie(z,ie)),W=ie.removeFromSet(W);for(var ze=Ne.length-1;ze>=0;ze--)this.step(Ne[ze])}return this}},{key:"split",value:function(z){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,U=arguments.length>2?arguments[2]:void 0;return cr(this,z,F,U),this}},{key:"addMark",value:function(z,F,U){return xt(this,z,F,U),this}},{key:"removeMark",value:function(z,F,U){return Oe(this,z,F,U),this}},{key:"clearIncompatible",value:function(z,F,U){return Ee(this,z,F,U),this}}]),X}();r.AddMarkStep=We,r.AddNodeMarkStep=st,r.AttrStep=Tn,r.DocAttrStep=dr,r.MapResult=Nt,r.Mapping=St,r.RemoveMarkStep=Ot,r.RemoveNodeMarkStep=Ie,r.ReplaceAroundStep=Je,r.ReplaceStep=Ve,r.Step=Mt,r.StepMap=et,r.StepResult=Lt,r.Transform=Ir,r.canJoin=_r,r.canSplit=Br,r.dropPoint=qt,r.findWrapping=Pe,r.insertPoint=pt,r.joinPoint=Ar,r.liftTarget=ye,r.replaceStep=Ut}(Xy)),Xy}var Cx;function qm(){if(Cx)return Sa;Cx=1;function r(Oe){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ee){return typeof Ee}:function(Ee){return Ee&&typeof Symbol=="function"&&Ee.constructor===Symbol&&Ee!==Symbol.prototype?"symbol":typeof Ee},r(Oe)}function e(){return typeof Reflect<"u"&&Reflect.get?e=Reflect.get:e=function(Ee,fe,ye){var de=t(Ee,fe);if(de){var Pe=Object.getOwnPropertyDescriptor(de,fe);return Pe.get?Pe.get.call(arguments.length<3?Ee:ye):Pe.value}},e.apply(this,arguments)}function t(Oe,Ee){for(;!Object.prototype.hasOwnProperty.call(Oe,Ee)&&(Oe=f(Oe),Oe!==null););return Oe}function n(Oe,Ee){if(typeof Ee!="function"&&Ee!==null)throw new TypeError("Super expression must either be null or a function");Oe.prototype=Object.create(Ee&&Ee.prototype,{constructor:{value:Oe,writable:!0,configurable:!0}}),Object.defineProperty(Oe,"prototype",{writable:!1}),Ee&&i(Oe,Ee)}function i(Oe,Ee){return i=Object.setPrototypeOf||function(ye,de){return ye.__proto__=de,ye},i(Oe,Ee)}function a(Oe){var Ee=c();return function(){var ye=f(Oe),de;if(Ee){var Pe=f(this).constructor;de=Reflect.construct(ye,arguments,Pe)}else de=ye.apply(this,arguments);return o(this,de)}}function o(Oe,Ee){if(Ee&&(r(Ee)==="object"||typeof Ee=="function"))return Ee;if(Ee!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l(Oe)}function l(Oe){if(Oe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Oe}function c(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function f(Oe){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(fe){return fe.__proto__||Object.getPrototypeOf(fe)},f(Oe)}function v(Oe,Ee){if(!(Oe instanceof Ee))throw new TypeError("Cannot call a class as a function")}function y(Oe,Ee){for(var fe=0;fe<Ee.length;fe++){var ye=Ee[fe];ye.enumerable=ye.enumerable||!1,ye.configurable=!0,"value"in ye&&(ye.writable=!0),Object.defineProperty(Oe,ye.key,ye)}}function T(Oe,Ee,fe){return Ee&&y(Oe.prototype,Ee),fe&&y(Oe,fe),Object.defineProperty(Oe,"prototype",{writable:!1}),Oe}Object.defineProperty(Sa,"__esModule",{value:!0});var N=Fm(),E=tb(),P=Object.create(null),L=function(){function Oe(Ee,fe,ye){v(this,Oe),this.$anchor=Ee,this.$head=fe,this.ranges=ye||[new $(Ee.min(fe),Ee.max(fe))]}return T(Oe,[{key:"anchor",get:function(){return this.$anchor.pos}},{key:"head",get:function(){return this.$head.pos}},{key:"from",get:function(){return this.$from.pos}},{key:"to",get:function(){return this.$to.pos}},{key:"$from",get:function(){return this.ranges[0].$from}},{key:"$to",get:function(){return this.ranges[0].$to}},{key:"empty",get:function(){for(var fe=this.ranges,ye=0;ye<fe.length;ye++)if(fe[ye].$from.pos!=fe[ye].$to.pos)return!1;return!0}},{key:"content",value:function(){return this.$from.doc.slice(this.from,this.to,!0)}},{key:"replace",value:function(fe){for(var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N.Slice.empty,de=ye.content.lastChild,Pe=null,qe=0;qe<ye.openEnd;qe++)Pe=de,de=de.lastChild;for(var ot=fe.steps.length,Ht=this.ranges,Gt=0;Gt<Ht.length;Gt++){var zt=Ht[Gt],Tr=zt.$from,tr=zt.$to,Vr=fe.mapping.slice(ot);fe.replaceRange(Vr.map(Tr.pos),Vr.map(tr.pos),Gt?N.Slice.empty:ye),Gt==0&&Nt(fe,ot,(de?de.isInline:Pe&&Pe.isTextblock)?-1:1)}}},{key:"replaceWith",value:function(fe,ye){for(var de=fe.steps.length,Pe=this.ranges,qe=0;qe<Pe.length;qe++){var ot=Pe[qe],Ht=ot.$from,Gt=ot.$to,zt=fe.mapping.slice(de),Tr=zt.map(Ht.pos),tr=zt.map(Gt.pos);qe?fe.deleteRange(Tr,tr):(fe.replaceRangeWith(Tr,tr,ye),Nt(fe,de,ye.isInline?-1:1))}}},{key:"getBookmark",value:function(){return se.between(this.$anchor,this.$head).getBookmark()}}],[{key:"findFrom",value:function(fe,ye){var de=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Pe=fe.parent.inlineContent?new se(fe):je(fe.node(0),fe.parent,fe.pos,fe.index(),ye,de);if(Pe)return Pe;for(var qe=fe.depth-1;qe>=0;qe--){var ot=ye<0?je(fe.node(0),fe.node(qe),fe.before(qe+1),fe.index(qe),ye,de):je(fe.node(0),fe.node(qe),fe.after(qe+1),fe.index(qe)+1,ye,de);if(ot)return ot}return null}},{key:"near",value:function(fe){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this.findFrom(fe,ye)||this.findFrom(fe,-ye)||new we(fe.node(0))}},{key:"atStart",value:function(fe){return je(fe,fe,0,0,1)||new we(fe)}},{key:"atEnd",value:function(fe){return je(fe,fe,fe.content.size,fe.childCount,-1)||new we(fe)}},{key:"fromJSON",value:function(fe,ye){if(!ye||!ye.type)throw new RangeError("Invalid input for Selection.fromJSON");var de=P[ye.type];if(!de)throw new RangeError("No selection type ".concat(ye.type," defined"));return de.fromJSON(fe,ye)}},{key:"jsonID",value:function(fe,ye){if(fe in P)throw new RangeError("Duplicate use of selection JSON ID "+fe);return P[fe]=ye,ye.prototype.jsonID=fe,ye}}]),Oe}();L.prototype.visible=!0;var $=T(function Oe(Ee,fe){v(this,Oe),this.$from=Ee,this.$to=fe}),ee=!1;function re(Oe){!ee&&!Oe.parent.inlineContent&&(ee=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+Oe.parent.type.name+")"))}var se=function(Oe){n(fe,Oe);var Ee=a(fe);function fe(ye){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ye;return v(this,fe),re(ye),re(de),Ee.call(this,ye,de)}return T(fe,[{key:"$cursor",get:function(){return this.$anchor.pos==this.$head.pos?this.$head:null}},{key:"map",value:function(de,Pe){var qe=de.resolve(Pe.map(this.head));if(!qe.parent.inlineContent)return L.near(qe);var ot=de.resolve(Pe.map(this.anchor));return new fe(ot.parent.inlineContent?ot:qe,qe)}},{key:"replace",value:function(de){var Pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N.Slice.empty;if(e(f(fe.prototype),"replace",this).call(this,de,Pe),Pe==N.Slice.empty){var qe=this.$from.marksAcross(this.$to);qe&&de.ensureMarks(qe)}}},{key:"eq",value:function(de){return de instanceof fe&&de.anchor==this.anchor&&de.head==this.head}},{key:"getBookmark",value:function(){return new ve(this.anchor,this.head)}},{key:"toJSON",value:function(){return{type:"text",anchor:this.anchor,head:this.head}}}],[{key:"fromJSON",value:function(de,Pe){if(typeof Pe.anchor!="number"||typeof Pe.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new fe(de.resolve(Pe.anchor),de.resolve(Pe.head))}},{key:"create",value:function(de,Pe){var qe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Pe,ot=de.resolve(Pe);return new this(ot,qe==Pe?ot:de.resolve(qe))}},{key:"between",value:function(de,Pe,qe){var ot=de.pos-Pe.pos;if((!qe||ot)&&(qe=ot>=0?1:-1),!Pe.parent.inlineContent){var Ht=L.findFrom(Pe,qe,!0)||L.findFrom(Pe,-qe,!0);if(Ht)Pe=Ht.$head;else return L.near(Pe,qe)}return de.parent.inlineContent||(ot==0?de=Pe:(de=(L.findFrom(de,-qe,!0)||L.findFrom(de,qe,!0)).$anchor,de.pos<Pe.pos!=ot<0&&(de=Pe))),new fe(de,Pe)}}]),fe}(L);L.jsonID("text",se);var ve=function(){function Oe(Ee,fe){v(this,Oe),this.anchor=Ee,this.head=fe}return T(Oe,[{key:"map",value:function(fe){return new Oe(fe.map(this.anchor),fe.map(this.head))}},{key:"resolve",value:function(fe){return se.between(fe.resolve(this.anchor),fe.resolve(this.head))}}]),Oe}(),le=function(Oe){n(fe,Oe);var Ee=a(fe);function fe(ye){var de;v(this,fe);var Pe=ye.nodeAfter,qe=ye.node(0).resolve(ye.pos+Pe.nodeSize);return de=Ee.call(this,ye,qe),de.node=Pe,de}return T(fe,[{key:"map",value:function(de,Pe){var qe=Pe.mapResult(this.anchor),ot=qe.deleted,Ht=qe.pos,Gt=de.resolve(Ht);return ot?L.near(Gt):new fe(Gt)}},{key:"content",value:function(){return new N.Slice(N.Fragment.from(this.node),0,0)}},{key:"eq",value:function(de){return de instanceof fe&&de.anchor==this.anchor}},{key:"toJSON",value:function(){return{type:"node",anchor:this.anchor}}},{key:"getBookmark",value:function(){return new ke(this.anchor)}}],[{key:"fromJSON",value:function(de,Pe){if(typeof Pe.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new fe(de.resolve(Pe.anchor))}},{key:"create",value:function(de,Pe){return new fe(de.resolve(Pe))}},{key:"isSelectable",value:function(de){return!de.isText&&de.type.spec.selectable!==!1}}]),fe}(L);le.prototype.visible=!1,L.jsonID("node",le);var ke=function(){function Oe(Ee){v(this,Oe),this.anchor=Ee}return T(Oe,[{key:"map",value:function(fe){var ye=fe.mapResult(this.anchor),de=ye.deleted,Pe=ye.pos;return de?new ve(Pe,Pe):new Oe(Pe)}},{key:"resolve",value:function(fe){var ye=fe.resolve(this.anchor),de=ye.nodeAfter;return de&&le.isSelectable(de)?new le(ye):L.near(ye)}}]),Oe}(),we=function(Oe){n(fe,Oe);var Ee=a(fe);function fe(ye){return v(this,fe),Ee.call(this,ye.resolve(0),ye.resolve(ye.content.size))}return T(fe,[{key:"replace",value:function(de){var Pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N.Slice.empty;if(Pe==N.Slice.empty){de.delete(0,de.doc.content.size);var qe=L.atStart(de.doc);qe.eq(de.selection)||de.setSelection(qe)}else e(f(fe.prototype),"replace",this).call(this,de,Pe)}},{key:"toJSON",value:function(){return{type:"all"}}},{key:"map",value:function(de){return new fe(de)}},{key:"eq",value:function(de){return de instanceof fe}},{key:"getBookmark",value:function(){return Le}}],[{key:"fromJSON",value:function(de){return new fe(de)}}]),fe}(L);L.jsonID("all",we);var Le={map:function(){return this},resolve:function(Ee){return new we(Ee)}};function je(Oe,Ee,fe,ye,de){var Pe=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;if(Ee.inlineContent)return se.create(Oe,fe);for(var qe=ye-(de>0?0:1);de>0?qe<Ee.childCount:qe>=0;qe+=de){var ot=Ee.child(qe);if(ot.isAtom){if(!Pe&&le.isSelectable(ot))return le.create(Oe,fe-(de<0?ot.nodeSize:0))}else{var Ht=je(Oe,ot,fe+de,de<0?ot.childCount:0,de,Pe);if(Ht)return Ht}fe+=ot.nodeSize*de}return null}function Nt(Oe,Ee,fe){var ye=Oe.steps.length-1;if(!(ye<Ee)){var de=Oe.steps[ye];if(de instanceof E.ReplaceStep||de instanceof E.ReplaceAroundStep){var Pe=Oe.mapping.maps[ye],qe;Pe.forEach(function(ot,Ht,Gt,zt){qe==null&&(qe=zt)}),Oe.setSelection(L.near(Oe.doc.resolve(qe),fe))}}}var et=1,St=2,It=4,Mt=function(Oe){n(fe,Oe);var Ee=a(fe);function fe(ye){var de;return v(this,fe),de=Ee.call(this,ye.doc),de.curSelectionFor=0,de.updated=0,de.meta=Object.create(null),de.time=Date.now(),de.curSelection=ye.selection,de.storedMarks=ye.storedMarks,de}return T(fe,[{key:"selection",get:function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}},{key:"setSelection",value:function(de){if(de.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=de,this.curSelectionFor=this.steps.length,this.updated=(this.updated|et)&~St,this.storedMarks=null,this}},{key:"selectionSet",get:function(){return(this.updated&et)>0}},{key:"setStoredMarks",value:function(de){return this.storedMarks=de,this.updated|=St,this}},{key:"ensureMarks",value:function(de){return N.Mark.sameSet(this.storedMarks||this.selection.$from.marks(),de)||this.setStoredMarks(de),this}},{key:"addStoredMark",value:function(de){return this.ensureMarks(de.addToSet(this.storedMarks||this.selection.$head.marks()))}},{key:"removeStoredMark",value:function(de){return this.ensureMarks(de.removeFromSet(this.storedMarks||this.selection.$head.marks()))}},{key:"storedMarksSet",get:function(){return(this.updated&St)>0}},{key:"addStep",value:function(de,Pe){e(f(fe.prototype),"addStep",this).call(this,de,Pe),this.updated=this.updated&~St,this.storedMarks=null}},{key:"setTime",value:function(de){return this.time=de,this}},{key:"replaceSelection",value:function(de){return this.selection.replace(this,de),this}},{key:"replaceSelectionWith",value:function(de){var Pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,qe=this.selection;return Pe&&(de=de.mark(this.storedMarks||(qe.empty?qe.$from.marks():qe.$from.marksAcross(qe.$to)||N.Mark.none))),qe.replaceWith(this,de),this}},{key:"deleteSelection",value:function(){return this.selection.replace(this),this}},{key:"insertText",value:function(de,Pe,qe){var ot=this.doc.type.schema;if(Pe==null)return de?this.replaceSelectionWith(ot.text(de),!0):this.deleteSelection();if(qe==null&&(qe=Pe),qe=qe??Pe,!de)return this.deleteRange(Pe,qe);var Ht=this.storedMarks;if(!Ht){var Gt=this.doc.resolve(Pe);Ht=qe==Pe?Gt.marks():Gt.marksAcross(this.doc.resolve(qe))}return this.replaceRangeWith(Pe,qe,ot.text(de,Ht)),this.selection.empty||this.setSelection(L.near(this.selection.$to)),this}},{key:"setMeta",value:function(de,Pe){return this.meta[typeof de=="string"?de:de.key]=Pe,this}},{key:"getMeta",value:function(de){return this.meta[typeof de=="string"?de:de.key]}},{key:"isGeneric",get:function(){for(var de in this.meta)return!1;return!0}},{key:"scrollIntoView",value:function(){return this.updated|=It,this}},{key:"scrolledIntoView",get:function(){return(this.updated&It)>0}}]),fe}(E.Transform);function Lt(Oe,Ee){return!Ee||!Oe?Oe:Oe.bind(Ee)}var be=T(function Oe(Ee,fe,ye){v(this,Oe),this.name=Ee,this.init=Lt(fe.init,ye),this.apply=Lt(fe.apply,ye)}),We=[new be("doc",{init:function(Ee){return Ee.doc||Ee.schema.topNodeType.createAndFill()},apply:function(Ee){return Ee.doc}}),new be("selection",{init:function(Ee,fe){return Ee.selection||L.atStart(fe.doc)},apply:function(Ee){return Ee.selection}}),new be("storedMarks",{init:function(Ee){return Ee.storedMarks||null},apply:function(Ee,fe,ye,de){return de.selection.$cursor?Ee.storedMarks:null}}),new be("scrollToSelection",{init:function(){return 0},apply:function(Ee,fe){return Ee.scrolledIntoView?fe+1:fe}})],Ot=T(function Oe(Ee,fe){var ye=this;v(this,Oe),this.schema=Ee,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=We.slice(),fe&&fe.forEach(function(de){if(ye.pluginsByKey[de.key])throw new RangeError("Adding different instances of a keyed plugin ("+de.key+")");ye.plugins.push(de),ye.pluginsByKey[de.key]=de,de.spec.state&&ye.fields.push(new be(de.key,de.spec.state,de))})}),st=function(){function Oe(Ee){v(this,Oe),this.config=Ee}return T(Oe,[{key:"schema",get:function(){return this.config.schema}},{key:"plugins",get:function(){return this.config.plugins}},{key:"apply",value:function(fe){return this.applyTransaction(fe).state}},{key:"filterTransaction",value:function(fe){for(var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,de=0;de<this.config.plugins.length;de++)if(de!=ye){var Pe=this.config.plugins[de];if(Pe.spec.filterTransaction&&!Pe.spec.filterTransaction.call(Pe,fe,this))return!1}return!0}},{key:"applyTransaction",value:function(fe){if(!this.filterTransaction(fe))return{state:this,transactions:[]};for(var ye=[fe],de=this.applyInner(fe),Pe=null;;){for(var qe=!1,ot=0;ot<this.config.plugins.length;ot++){var Ht=this.config.plugins[ot];if(Ht.spec.appendTransaction){var Gt=Pe?Pe[ot].n:0,zt=Pe?Pe[ot].state:this,Tr=Gt<ye.length&&Ht.spec.appendTransaction.call(Ht,Gt?ye.slice(Gt):ye,zt,de);if(Tr&&de.filterTransaction(Tr,ot)){if(Tr.setMeta("appendedTransaction",fe),!Pe){Pe=[];for(var tr=0;tr<this.config.plugins.length;tr++)Pe.push(tr<ot?{state:de,n:ye.length}:{state:this,n:0})}ye.push(Tr),de=de.applyInner(Tr),qe=!0}Pe&&(Pe[ot]={state:de,n:ye.length})}}if(!qe)return{state:de,transactions:ye}}}},{key:"applyInner",value:function(fe){if(!fe.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var ye=new Oe(this.config),de=this.config.fields,Pe=0;Pe<de.length;Pe++){var qe=de[Pe];ye[qe.name]=qe.apply(fe,this[qe.name],this,ye)}return ye}},{key:"tr",get:function(){return new Mt(this)}},{key:"reconfigure",value:function(fe){for(var ye=new Ot(this.schema,fe.plugins),de=ye.fields,Pe=new Oe(ye),qe=0;qe<de.length;qe++){var ot=de[qe].name;Pe[ot]=this.hasOwnProperty(ot)?this[ot]:de[qe].init(fe,Pe)}return Pe}},{key:"toJSON",value:function(fe){var ye={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(ye.storedMarks=this.storedMarks.map(function(ot){return ot.toJSON()})),fe&&r(fe)=="object")for(var de in fe){if(de=="doc"||de=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");var Pe=fe[de],qe=Pe.spec.state;qe&&qe.toJSON&&(ye[de]=qe.toJSON.call(Pe,this[Pe.key]))}return ye}}],[{key:"create",value:function(fe){for(var ye=new Ot(fe.doc?fe.doc.type.schema:fe.schema,fe.plugins),de=new Oe(ye),Pe=0;Pe<ye.fields.length;Pe++)de[ye.fields[Pe].name]=ye.fields[Pe].init(fe,de);return de}},{key:"fromJSON",value:function(fe,ye,de){if(!ye)throw new RangeError("Invalid input for EditorState.fromJSON");if(!fe.schema)throw new RangeError("Required config field 'schema' missing");var Pe=new Ot(fe.schema,fe.plugins),qe=new Oe(Pe);return Pe.fields.forEach(function(ot){if(ot.name=="doc")qe.doc=N.Node.fromJSON(fe.schema,ye.doc);else if(ot.name=="selection")qe.selection=L.fromJSON(qe.doc,ye.selection);else if(ot.name=="storedMarks")ye.storedMarks&&(qe.storedMarks=ye.storedMarks.map(fe.schema.markFromJSON));else{if(de)for(var Ht in de){var Gt=de[Ht],zt=Gt.spec.state;if(Gt.key==ot.name&&zt&&zt.fromJSON&&Object.prototype.hasOwnProperty.call(ye,Ht)){qe[ot.name]=zt.fromJSON.call(Gt,fe,ye[Ht],qe);return}}qe[ot.name]=ot.init(fe,qe)}}),qe}}]),Oe}();function Ie(Oe,Ee,fe){for(var ye in Oe){var de=Oe[ye];de instanceof Function?de=de.bind(Ee):ye=="handleDOMEvents"&&(de=Ie(de,Ee,{})),fe[ye]=de}return fe}var Ve=function(){function Oe(Ee){v(this,Oe),this.spec=Ee,this.props={},Ee.props&&Ie(Ee.props,this,this.props),this.key=Ee.key?Ee.key.key:dt("plugin")}return T(Oe,[{key:"getState",value:function(fe){return fe[this.key]}}]),Oe}(),Je=Object.create(null);function dt(Oe){return Oe in Je?Oe+"$"+ ++Je[Oe]:(Je[Oe]=0,Oe+"$")}var xt=function(){function Oe(){var Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"key";v(this,Oe),this.key=dt(Ee)}return T(Oe,[{key:"get",value:function(fe){return fe.config.pluginsByKey[this.key]}},{key:"getState",value:function(fe){return fe[this.key]}}]),Oe}();return Sa.AllSelection=we,Sa.EditorState=st,Sa.NodeSelection=le,Sa.Plugin=Ve,Sa.PluginKey=xt,Sa.Selection=L,Sa.SelectionRange=$,Sa.TextSelection=se,Sa.Transaction=Mt,Sa}var Sx;function IQe(){if(Sx)return Vi;Sx=1;function r(re,se,ve){return Object.defineProperty(re,"prototype",{writable:!1}),re}function e(re,se){if(!(re instanceof se))throw new TypeError("Cannot call a class as a function")}var t=qm(),n=tb(),i=r(function re(se,ve){var le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};e(this,re),this.match=se,this.match=se,this.handler=typeof ve=="string"?a(ve):ve,this.undoable=le.undoable!==!1,this.inCode=le.inCode||!1,this.inCodeMark=le.inCodeMark!==!1});function a(re){return function(se,ve,le,ke){var we=re;if(ve[1]){var Le=ve[0].lastIndexOf(ve[1]);we+=ve[0].slice(Le+ve[1].length),le+=Le;var je=le-ke;je>0&&(we=ve[0].slice(Le-je,Le)+we,le=ke)}return se.tr.insertText(we,le,ke)}}var o=500;function l(re){var se=re.rules,ve=new t.Plugin({state:{init:function(){return null},apply:function(ke,we){var Le=ke.getMeta(this);return Le||(ke.selectionSet||ke.docChanged?null:we)}},props:{handleTextInput:function(ke,we,Le,je){return c(ke,we,Le,je,se,ve)},handleDOMEvents:{compositionend:function(ke){setTimeout(function(){var we=ke.state.selection.$cursor;we&&c(ke,we.pos,we.pos,"",se,ve)})}}},isInputRules:!0});return ve}function c(re,se,ve,le,ke,we){if(re.composing)return!1;for(var Le=re.state,je=Le.doc.resolve(se),Nt=je.parent.textBetween(Math.max(0,je.parentOffset-o),je.parentOffset,null,"")+le,et=0;et<ke.length;et++){var St=ke[et];if(!(!St.inCodeMark&&je.marks().some(function(Lt){return Lt.type.spec.code}))){if(je.parent.type.spec.code){if(!St.inCode)continue}else if(St.inCode==="only")continue;var It=St.match.exec(Nt),Mt=It&&It[0].length>=le.length&&St.handler(Le,It,se-(It[0].length-le.length),ve);if(Mt)return St.undoable&&Mt.setMeta(we,{transform:Mt,from:se,to:ve,text:le}),re.dispatch(Mt),!0}}return!1}var f=function(se,ve){for(var le=se.plugins,ke=0;ke<le.length;ke++){var we=le[ke],Le=void 0;if(we.spec.isInputRules&&(Le=we.getState(se))){if(ve){for(var je=se.tr,Nt=Le.transform,et=Nt.steps.length-1;et>=0;et--)je.step(Nt.steps[et].invert(Nt.docs[et]));if(Le.text){var St=je.doc.resolve(Le.from).marks();je.replaceWith(Le.from,Le.to,se.schema.text(Le.text,St))}else je.delete(Le.from,Le.to);ve(je)}return!0}}return!1},v=new i(/--$/,"",{inCodeMark:!1}),y=new i(/\.\.\.$/,"",{inCodeMark:!1}),T=new i(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"",{inCodeMark:!1}),N=new i(/"$/,"",{inCodeMark:!1}),E=new i(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"",{inCodeMark:!1}),P=new i(/'$/,"",{inCodeMark:!1}),L=[T,N,E,P];function $(re,se){var ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,le=arguments.length>3?arguments[3]:void 0;return new i(re,function(ke,we,Le,je){var Nt=ve instanceof Function?ve(we):ve,et=ke.tr.delete(Le,je),St=et.doc.resolve(Le),It=St.blockRange(),Mt=It&&n.findWrapping(It,se,Nt);if(!Mt)return null;et.wrap(It,Mt);var Lt=et.doc.resolve(Le-1).nodeBefore;return Lt&&Lt.type==se&&n.canJoin(et.doc,Le-1)&&(!le||le(we,Lt))&&et.join(Le-1),et})}function ee(re,se){var ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return new i(re,function(le,ke,we,Le){var je=le.doc.resolve(we),Nt=ve instanceof Function?ve(ke):ve;return je.node(-1).canReplaceWith(je.index(-1),je.indexAfter(-1),se)?le.tr.delete(we,Le).setBlockType(we,we,se,Nt):null})}return Vi.InputRule=i,Vi.closeDoubleQuote=N,Vi.closeSingleQuote=P,Vi.ellipsis=y,Vi.emDash=v,Vi.inputRules=l,Vi.openDoubleQuote=T,Vi.openSingleQuote=E,Vi.smartQuotes=L,Vi.textblockTypeInputRule=ee,Vi.undoInputRule=f,Vi.wrappingInputRule=$,Vi}var vv={},Wc={},xx;function PQe(){if(xx)return Wc;xx=1,Object.defineProperty(Wc,"__esModule",{value:!0});for(var r={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},e={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},t=typeof navigator<"u"&&/Mac/.test(navigator.platform),n=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),i=0;i<10;i++)r[48+i]=r[96+i]=String(i);for(var i=1;i<=24;i++)r[i+111]="F"+i;for(var i=65;i<=90;i++)r[i]=String.fromCharCode(i+32),e[i]=String.fromCharCode(i);for(var a in r)e.hasOwnProperty(a)||(e[a]=r[a]);function o(l){var c=t&&l.metaKey&&l.shiftKey&&!l.ctrlKey&&!l.altKey||n&&l.shiftKey&&l.key&&l.key.length==1||l.key=="Unidentified",f=!c&&l.key||(l.shiftKey?e:r)[l.keyCode]||l.key||"Unidentified";return f=="Esc"&&(f="Escape"),f=="Del"&&(f="Delete"),f=="Left"&&(f="ArrowLeft"),f=="Up"&&(f="ArrowUp"),f=="Right"&&(f="ArrowRight"),f=="Down"&&(f="ArrowDown"),f}return Wc.base=r,Wc.keyName=o,Wc.shift=e,Wc}var Tx;function BQe(){if(Tx)return vv;Tx=1;var r=PQe(),e=qm(),t=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),n=typeof navigator<"u"&&/Win/.test(navigator.platform);function i(f){var v=f.split(/-(?!$)/),y=v[v.length-1];y=="Space"&&(y=" ");for(var T,N,E,P,L=0;L<v.length-1;L++){var $=v[L];if(/^(cmd|meta|m)$/i.test($))P=!0;else if(/^a(lt)?$/i.test($))T=!0;else if(/^(c|ctrl|control)$/i.test($))N=!0;else if(/^s(hift)?$/i.test($))E=!0;else if(/^mod$/i.test($))t?P=!0:N=!0;else throw new Error("Unrecognized modifier name: "+$)}return T&&(y="Alt-"+y),N&&(y="Ctrl-"+y),P&&(y="Meta-"+y),E&&(y="Shift-"+y),y}function a(f){var v=Object.create(null);for(var y in f)v[i(y)]=f[y];return v}function o(f,v){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return v.altKey&&(f="Alt-"+f),v.ctrlKey&&(f="Ctrl-"+f),v.metaKey&&(f="Meta-"+f),y&&v.shiftKey&&(f="Shift-"+f),f}function l(f){return new e.Plugin({props:{handleKeyDown:c(f)}})}function c(f){var v=a(f);return function(y,T){var N=r.keyName(T),E,P=v[o(N,T)];if(P&&P(y.state,y.dispatch,y))return!0;if(N.length==1&&N!=" "){if(T.shiftKey){var L=v[o(N,T,!1)];if(L&&L(y.state,y.dispatch,y))return!0}if((T.altKey||T.metaKey||T.ctrlKey)&&!(n&&T.ctrlKey&&T.altKey)&&(E=r.base[T.keyCode])&&E!=N){var $=v[o(E,T)];if($&&$(y.state,y.dispatch,y))return!0}}return!1}}return vv.keydownHandler=c,vv.keymap=l,vv}var ou={},Ex;function _Qe(){if(Ex)return ou;Ex=1;function r(h,b){return n(h)||t(h,b)||a(h,b)||e()}function e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t(h,b){var p=h==null?null:typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(p!=null){var w,x,O,I,B=[],j=!0,K=!1;try{if(O=(p=p.call(h)).next,b!==0)for(;!(j=(w=O.call(p)).done)&&(B.push(w.value),B.length!==b);j=!0);}catch(ue){K=!0,x=ue}finally{try{if(!j&&p.return!=null&&(I=p.return(),Object(I)!==I))return}finally{if(K)throw x}}return B}}function n(h){if(Array.isArray(h))return h}function i(h,b){var p=typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(!p){if(Array.isArray(h)||(p=a(h))||b){p&&(h=p);var w=0,x=function(){};return{s:x,n:function(){return w>=h.length?{done:!0}:{done:!1,value:h[w++]}},e:function(K){throw K},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var O=!0,I=!1,B;return{s:function(){p=p.call(h)},n:function(){var K=p.next();return O=K.done,K},e:function(K){I=!0,B=K},f:function(){try{!O&&p.return!=null&&p.return()}finally{if(I)throw B}}}}function a(h,b){if(h){if(typeof h=="string")return o(h,b);var p=Object.prototype.toString.call(h).slice(8,-1);if(p==="Object"&&h.constructor&&(p=h.constructor.name),p==="Map"||p==="Set")return Array.from(h);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return o(h,b)}}function o(h,b){(b==null||b>h.length)&&(b=h.length);for(var p=0,w=new Array(b);p<b;p++)w[p]=h[p];return w}function l(){return typeof Reflect<"u"&&Reflect.get?l=Reflect.get.bind():l=function(b,p,w){var x=c(b,p);if(x){var O=Object.getOwnPropertyDescriptor(x,p);return O.get?O.get.call(arguments.length<3?b:w):O.value}},l.apply(this,arguments)}function c(h,b){for(;!Object.prototype.hasOwnProperty.call(h,b)&&(h=P(h),h!==null););return h}function f(h,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(b&&b.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),b&&v(h,b)}function v(h,b){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,x){return w.__proto__=x,w},v(h,b)}function y(h){var b=E();return function(){var w=P(h),x;if(b){var O=P(this).constructor;x=Reflect.construct(w,arguments,O)}else x=w.apply(this,arguments);return T(this,x)}}function T(h,b){if(b&&(L(b)==="object"||typeof b=="function"))return b;if(b!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N(h)}function N(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function E(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function P(h){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(p){return p.__proto__||Object.getPrototypeOf(p)},P(h)}function L(h){"@babel/helpers - typeof";return L=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},L(h)}function $(h,b){if(!(h instanceof b))throw new TypeError("Cannot call a class as a function")}function ee(h,b){for(var p=0;p<b.length;p++){var w=b[p];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,se(w.key),w)}}function re(h,b,p){return b&&ee(h.prototype,b),p&&ee(h,p),Object.defineProperty(h,"prototype",{writable:!1}),h}function se(h){var b=ve(h,"string");return L(b)==="symbol"?b:String(b)}function ve(h,b){if(L(h)!=="object"||h===null)return h;var p=h[Symbol.toPrimitive];if(p!==void 0){var w=p.call(h,b);if(L(w)!=="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}var le=qm(),ke=Fm(),we=tb(),Le=function(b){for(var p=0;;p++)if(b=b.previousSibling,!b)return p},je=function(b){var p=b.assignedSlot||b.parentNode;return p&&p.nodeType==11?p.host:p},Nt=null,et=function(b,p,w){var x=Nt||(Nt=document.createRange());return x.setEnd(b,w??b.nodeValue.length),x.setStart(b,p||0),x},St=function(){Nt=null},It=function(b,p,w,x){return w&&(Lt(b,p,w,x,-1)||Lt(b,p,w,x,1))},Mt=/^(img|br|input|textarea|hr)$/i;function Lt(h,b,p,w,x){for(var O;;){if(h==p&&b==w)return!0;if(b==(x<0?0:be(h))){var I=h.parentNode;if(!I||I.nodeType!=1||Ie(h)||Mt.test(h.nodeName)||h.contentEditable=="false")return!1;b=Le(h)+(x<0?0:1),h=I}else if(h.nodeType==1){var B=h.childNodes[b+(x<0?-1:0)];if(B.nodeType==1&&B.contentEditable=="false")if(!((O=B.pmViewDesc)===null||O===void 0)&&O.ignoreForSelection)b+=x;else return!1;else h=B,b=x<0?be(h):0}else return!1}}function be(h){return h.nodeType==3?h.nodeValue.length:h.childNodes.length}function We(h,b){for(;;){if(h.nodeType==3&&b)return h;if(h.nodeType==1&&b>0){if(h.contentEditable=="false")return null;h=h.childNodes[b-1],b=be(h)}else if(h.parentNode&&!Ie(h))b=Le(h),h=h.parentNode;else return null}}function Ot(h,b){for(;;){if(h.nodeType==3&&b<h.nodeValue.length)return h;if(h.nodeType==1&&b<h.childNodes.length){if(h.contentEditable=="false")return null;h=h.childNodes[b],b=0}else if(h.parentNode&&!Ie(h))b=Le(h)+1,h=h.parentNode;else return null}}function st(h,b,p){for(var w=b==0,x=b==be(h);w||x;){if(h==p)return!0;var O=Le(h);if(h=h.parentNode,!h)return!1;w=w&&O==0,x=x&&O==be(h)}}function Ie(h){for(var b,p=h;p&&!(b=p.pmViewDesc);p=p.parentNode);return b&&b.node&&b.node.isBlock&&(b.dom==h||b.contentDOM==h)}var Ve=function(b){return b.focusNode&&It(b.focusNode,b.focusOffset,b.anchorNode,b.anchorOffset)};function Je(h,b){var p=document.createEvent("Event");return p.initEvent("keydown",!0,!0),p.keyCode=h,p.key=p.code=b,p}function dt(h){for(var b=h.activeElement;b&&b.shadowRoot;)b=b.shadowRoot.activeElement;return b}function xt(h,b,p){if(h.caretPositionFromPoint)try{var w=h.caretPositionFromPoint(b,p);if(w)return{node:w.offsetNode,offset:Math.min(be(w.offsetNode),w.offset)}}catch{}if(h.caretRangeFromPoint){var x=h.caretRangeFromPoint(b,p);if(x)return{node:x.startContainer,offset:Math.min(be(x.startContainer),x.startOffset)}}}var Oe=typeof navigator<"u"?navigator:null,Ee=typeof document<"u"?document:null,fe=Oe&&Oe.userAgent||"",ye=/Edge\/(\d+)/.exec(fe),de=/MSIE \d/.exec(fe),Pe=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(fe),qe=!!(de||Pe||ye),ot=de?document.documentMode:Pe?+Pe[1]:ye?+ye[1]:0,Ht=!qe&&/gecko\/(\d+)/i.test(fe);Ht&&+(/Firefox\/(\d+)/.exec(fe)||[0,0])[1];var Gt=!qe&&/Chrome\/(\d+)/.exec(fe),zt=!!Gt,Tr=Gt?+Gt[1]:0,tr=!qe&&!!Oe&&/Apple Computer/.test(Oe.vendor),Vr=tr&&(/Mobile\/\w+/.test(fe)||!!Oe&&Oe.maxTouchPoints>2),Lr=Vr||(Oe?/Mac/.test(Oe.platform):!1),Br=Oe?/Win/.test(Oe.platform):!1,cr=/Android \d/.test(fe),_r=!!Ee&&"webkitFontSmoothing"in Ee.documentElement.style,Ii=_r?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Sn(h){var b=h.defaultView&&h.defaultView.visualViewport;return b?{left:0,right:b.width,top:0,bottom:b.height}:{left:0,right:h.documentElement.clientWidth,top:0,bottom:h.documentElement.clientHeight}}function Ar(h,b){return typeof h=="number"?h:h[b]}function ht(h){var b=h.getBoundingClientRect(),p=b.width/h.offsetWidth||1,w=b.height/h.offsetHeight||1;return{left:b.left,right:b.left+h.clientWidth*p,top:b.top,bottom:b.top+h.clientHeight*w}}function pt(h,b,p){for(var w=h.someProp("scrollThreshold")||0,x=h.someProp("scrollMargin")||5,O=h.dom.ownerDocument,I=p||h.dom;I;){if(I.nodeType!=1){I=je(I);continue}var B=I,j=B==O.body,K=j?Sn(O):ht(B),ue=0,Se=0;if(b.top<K.top+Ar(w,"top")?Se=-(K.top-b.top+Ar(x,"top")):b.bottom>K.bottom-Ar(w,"bottom")&&(Se=b.bottom-b.top>K.bottom-K.top?b.top+Ar(x,"top")-K.top:b.bottom-K.bottom+Ar(x,"bottom")),b.left<K.left+Ar(w,"left")?ue=-(K.left-b.left+Ar(x,"left")):b.right>K.right-Ar(w,"right")&&(ue=b.right-K.right+Ar(x,"right")),ue||Se)if(j)O.defaultView.scrollBy(ue,Se);else{var me=B.scrollLeft,Re=B.scrollTop;Se&&(B.scrollTop+=Se),ue&&(B.scrollLeft+=ue);var Ge=B.scrollLeft-me,ut=B.scrollTop-Re;b={left:b.left-Ge,top:b.top-ut,right:b.right-Ge,bottom:b.bottom-ut}}var mt=j?"fixed":getComputedStyle(I).position;if(/^(fixed|sticky)$/.test(mt))break;I=mt=="absolute"?I.offsetParent:je(I)}}function qt(h){for(var b=h.dom.getBoundingClientRect(),p=Math.max(0,b.top),w,x,O=(b.left+b.right)/2,I=p+1;I<Math.min(innerHeight,b.bottom);I+=5){var B=h.root.elementFromPoint(O,I);if(!(!B||B==h.dom||!h.dom.contains(B))){var j=B.getBoundingClientRect();if(j.top>=p-20){w=B,x=j.top;break}}}return{refDOM:w,refTop:x,stack:Ut(h.dom)}}function Ut(h){for(var b=[],p=h.ownerDocument,w=h;w&&(b.push({dom:w,top:w.scrollTop,left:w.scrollLeft}),h!=p);w=je(w));return b}function or(h){var b=h.refDOM,p=h.refTop,w=h.stack,x=b?b.getBoundingClientRect().top:0;Qr(w,x==0?0:x-p)}function Qr(h,b){for(var p=0;p<h.length;p++){var w=h[p],x=w.dom,O=w.top,I=w.left;x.scrollTop!=O+b&&(x.scrollTop=O+b),x.scrollLeft!=I&&(x.scrollLeft=I)}}var wr=null;function Er(h){if(h.setActive)return h.setActive();if(wr)return h.focus(wr);var b=Ut(h);h.focus(wr==null?{get preventScroll(){return wr={preventScroll:!0},!0}}:void 0),wr||(wr=!1,Qr(b,0))}function hn(h,b){for(var p,w=2e8,x,O=0,I=b.top,B=b.top,j,K,ue=h.firstChild,Se=0;ue;ue=ue.nextSibling,Se++){var me=void 0;if(ue.nodeType==1)me=ue.getClientRects();else if(ue.nodeType==3)me=et(ue).getClientRects();else continue;for(var Re=0;Re<me.length;Re++){var Ge=me[Re];if(Ge.top<=I&&Ge.bottom>=B){I=Math.max(Ge.bottom,I),B=Math.min(Ge.top,B);var ut=Ge.left>b.left?Ge.left-b.left:Ge.right<b.left?b.left-Ge.right:0;if(ut<w){p=ue,w=ut,x=ut&&p.nodeType==3?{left:Ge.right<b.left?Ge.right:Ge.left,top:b.top}:b,ue.nodeType==1&&ut&&(O=Se+(b.left>=(Ge.left+Ge.right)/2?1:0));continue}}else Ge.top>b.top&&!j&&Ge.left<=b.left&&Ge.right>=b.left&&(j=ue,K={left:Math.max(Ge.left,Math.min(Ge.right,b.left)),top:Ge.top});!p&&(b.left>=Ge.right&&b.top>=Ge.top||b.left>=Ge.left&&b.top>=Ge.bottom)&&(O=Se+1)}}return!p&&j&&(p=j,x=K,w=0),p&&p.nodeType==3?pn(p,x):!p||w&&p.nodeType==1?{node:h,offset:O}:hn(p,x)}function pn(h,b){for(var p=h.nodeValue.length,w=document.createRange(),x=0;x<p;x++){w.setEnd(h,x+1),w.setStart(h,x);var O=Pr(w,1);if(O.top!=O.bottom&&Rr(b,O))return{node:h,offset:x+(b.left>=(O.left+O.right)/2?1:0)}}return{node:h,offset:0}}function Rr(h,b){return h.left>=b.left-1&&h.left<=b.right+1&&h.top>=b.top-1&&h.top<=b.bottom+1}function xn(h,b){var p=h.parentNode;return p&&/^li$/i.test(p.nodeName)&&b.left<h.getBoundingClientRect().left?p:h}function bi(h,b,p){var w=hn(b,p),x=w.node,O=w.offset,I=-1;if(x.nodeType==1&&!x.firstChild){var B=x.getBoundingClientRect();I=B.left!=B.right&&p.left>(B.left+B.right)/2?1:-1}return h.docView.posFromDOM(x,O,I)}function ti(h,b,p,w){for(var x=-1,O=b,I=!1;O!=h.dom;){var B=h.docView.nearestDesc(O,!0),j=void 0;if(!B)return null;if(B.dom.nodeType==1&&(B.node.isBlock&&B.parent||!B.contentDOM)&&((j=B.dom.getBoundingClientRect()).width||j.height)&&(B.node.isBlock&&B.parent&&(!I&&j.left>w.left||j.top>w.top?x=B.posBefore:(!I&&j.right<w.left||j.bottom<w.top)&&(x=B.posAfter),I=!0),!B.contentDOM&&x<0&&!B.node.isText)){var K=B.node.isBlock?w.top<(j.top+j.bottom)/2:w.left<(j.left+j.right)/2;return K?B.posBefore:B.posAfter}O=B.dom.parentNode}return x>-1?x:h.docView.posFromDOM(b,p,-1)}function ri(h,b,p){var w=h.childNodes.length;if(w&&p.top<p.bottom)for(var x=Math.max(0,Math.min(w-1,Math.floor(w*(b.top-p.top)/(p.bottom-p.top))-2)),O=x;;){var I=h.childNodes[O];if(I.nodeType==1)for(var B=I.getClientRects(),j=0;j<B.length;j++){var K=B[j];if(Rr(b,K))return ri(I,b,K)}if((O=(O+1)%w)==x)break}return h}function vn(h,b){var p=h.dom.ownerDocument,w,x=0,O=xt(p,b.left,b.top);O&&(w=O.node,x=O.offset);var I=(h.root.elementFromPoint?h.root:p).elementFromPoint(b.left,b.top),B;if(!I||!h.dom.contains(I.nodeType!=1?I.parentNode:I)){var j=h.dom.getBoundingClientRect();if(!Rr(b,j)||(I=ri(h.dom,b,j),!I))return null}if(tr)for(var K=I;w&&K;K=je(K))K.draggable&&(w=void 0);if(I=xn(I,b),w){if(Ht&&w.nodeType==1&&(x=Math.min(x,w.childNodes.length),x<w.childNodes.length)){var ue=w.childNodes[x],Se;ue.nodeName=="IMG"&&(Se=ue.getBoundingClientRect()).right<=b.left&&Se.bottom>b.top&&x++}var me;_r&&x&&w.nodeType==1&&(me=w.childNodes[x-1]).nodeType==1&&me.contentEditable=="false"&&me.getBoundingClientRect().top>=b.top&&x--,w==h.dom&&x==w.childNodes.length-1&&w.lastChild.nodeType==1&&b.top>w.lastChild.getBoundingClientRect().bottom?B=h.state.doc.content.size:(x==0||w.nodeType!=1||w.childNodes[x-1].nodeName!="BR")&&(B=ti(h,w,x,b))}B==null&&(B=bi(h,I,b));var Re=h.docView.nearestDesc(I,!0);return{pos:B,inside:Re?Re.posAtStart-Re.border:-1}}function an(h){return h.top<h.bottom||h.left<h.right}function Pr(h,b){var p=h.getClientRects();if(p.length){var w=p[b<0?0:p.length-1];if(an(w))return w}return Array.prototype.find.call(p,an)||h.getBoundingClientRect()}var Tn=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function dr(h,b,p){var w=h.docView.domFromPos(b,p<0?-1:1),x=w.node,O=w.offset,I=w.atom,B=_r||Ht;if(x.nodeType==3)if(B&&(Tn.test(x.nodeValue)||(p<0?!O:O==x.nodeValue.length))){var j=Pr(et(x,O,O),p);if(Ht&&O&&/\s/.test(x.nodeValue[O-1])&&O<x.nodeValue.length){var K=Pr(et(x,O-1,O-1),-1);if(K.top==j.top){var ue=Pr(et(x,O,O+1),-1);if(ue.top!=j.top)return Ir(ue,ue.left<K.left)}}return j}else{var Se=O,me=O,Re=p<0?1:-1;return p<0&&!O?(me++,Re=-1):p>=0&&O==x.nodeValue.length?(Se--,Re=1):p<0?Se--:me++,Ir(Pr(et(x,Se,me),Re),Re<0)}var Ge=h.state.doc.resolve(b-(I||0));if(!Ge.parent.inlineContent){if(I==null&&O&&(p<0||O==be(x))){var ut=x.childNodes[O-1];if(ut.nodeType==1)return X(ut.getBoundingClientRect(),!1)}if(I==null&&O<be(x)){var mt=x.childNodes[O];if(mt.nodeType==1)return X(mt.getBoundingClientRect(),!0)}return X(x.getBoundingClientRect(),p>=0)}if(I==null&&O&&(p<0||O==be(x))){var Ze=x.childNodes[O-1],sr=Ze.nodeType==3?et(Ze,be(Ze)-(B?0:1)):Ze.nodeType==1&&(Ze.nodeName!="BR"||!Ze.nextSibling)?Ze:null;if(sr)return Ir(Pr(sr,1),!1)}if(I==null&&O<be(x)){for(var Kt=x.childNodes[O];Kt.pmViewDesc&&Kt.pmViewDesc.ignoreForCoords;)Kt=Kt.nextSibling;var Pt=Kt?Kt.nodeType==3?et(Kt,0,B?0:1):Kt.nodeType==1?Kt:null:null;if(Pt)return Ir(Pr(Pt,-1),!0)}return Ir(Pr(x.nodeType==3?et(x):x,-p),p>=0)}function Ir(h,b){if(h.width==0)return h;var p=b?h.left:h.right;return{top:h.top,bottom:h.bottom,left:p,right:p}}function X(h,b){if(h.height==0)return h;var p=b?h.top:h.bottom;return{top:p,bottom:p,left:h.left,right:h.right}}function Y(h,b,p){var w=h.state,x=h.root.activeElement;w!=b&&h.updateState(b),x!=h.dom&&h.focus();try{return p()}finally{w!=b&&h.updateState(w),x!=h.dom&&x&&x.focus()}}function z(h,b,p){var w=b.selection,x=p=="up"?w.$from:w.$to;return Y(h,b,function(){for(var O=h.docView.domFromPos(x.pos,p=="up"?-1:1),I=O.node;;){var B=h.docView.nearestDesc(I,!0);if(!B)break;if(B.node.isBlock){I=B.contentDOM||B.dom;break}I=B.dom.parentNode}for(var j=dr(h,x.pos,1),K=I.firstChild;K;K=K.nextSibling){var ue=void 0;if(K.nodeType==1)ue=K.getClientRects();else if(K.nodeType==3)ue=et(K,0,K.nodeValue.length).getClientRects();else continue;for(var Se=0;Se<ue.length;Se++){var me=ue[Se];if(me.bottom>me.top+1&&(p=="up"?j.top-me.top>(me.bottom-j.top)*2:me.bottom-j.bottom>(j.bottom-me.top)*2))return!1}}return!0})}var F=/[\u0590-\u08ac]/;function U(h,b,p){var w=b.selection.$head;if(!w.parent.isTextblock)return!1;var x=w.parentOffset,O=!x,I=x==w.parent.content.size,B=h.domSelection();return B?!F.test(w.parent.textContent)||!B.modify?p=="left"||p=="backward"?O:I:Y(h,b,function(){var j=h.domSelectionRange(),K=j.focusNode,ue=j.focusOffset,Se=j.anchorNode,me=j.anchorOffset,Re=B.caretBidiLevel;B.modify("move",p,"character");var Ge=w.depth?h.docView.domAfterPos(w.before()):h.dom,ut=h.domSelectionRange(),mt=ut.focusNode,Ze=ut.focusOffset,sr=mt&&!Ge.contains(mt.nodeType==1?mt:mt.parentNode)||K==mt&&ue==Ze;try{B.collapse(Se,me),K&&(K!=Se||ue!=me)&&B.extend&&B.extend(K,ue)}catch{}return Re!=null&&(B.caretBidiLevel=Re),sr}):w.pos==w.start()||w.pos==w.end()}var W=null,ie=null,Ne=!1;function ze(h,b,p){return W==b&&ie==p?Ne:(W=b,ie=p,Ne=p=="up"||p=="down"?z(h,b,p):U(h,b,p))}var he=0,ae=1,De=2,_e=3,lt=function(){function h(b,p,w,x){$(this,h),this.parent=b,this.children=p,this.dom=w,this.contentDOM=x,this.dirty=he,w.pmViewDesc=this}return re(h,[{key:"matchesWidget",value:function(p){return!1}},{key:"matchesMark",value:function(p){return!1}},{key:"matchesNode",value:function(p,w,x){return!1}},{key:"matchesHack",value:function(p){return!1}},{key:"parseRule",value:function(){return null}},{key:"stopEvent",value:function(p){return!1}},{key:"size",get:function(){for(var p=0,w=0;w<this.children.length;w++)p+=this.children[w].size;return p}},{key:"border",get:function(){return 0}},{key:"destroy",value:function(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(var p=0;p<this.children.length;p++)this.children[p].destroy()}},{key:"posBeforeChild",value:function(p){for(var w=0,x=this.posAtStart;;w++){var O=this.children[w];if(O==p)return x;x+=O.size}}},{key:"posBefore",get:function(){return this.parent.posBeforeChild(this)}},{key:"posAtStart",get:function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}},{key:"posAfter",get:function(){return this.posBefore+this.size}},{key:"posAtEnd",get:function(){return this.posAtStart+this.size-2*this.border}},{key:"localPosFromDOM",value:function(p,w,x){if(this.contentDOM&&this.contentDOM.contains(p.nodeType==1?p:p.parentNode))if(x<0){var O,I;if(p==this.contentDOM)O=p.childNodes[w-1];else{for(;p.parentNode!=this.contentDOM;)p=p.parentNode;O=p.previousSibling}for(;O&&!((I=O.pmViewDesc)&&I.parent==this);)O=O.previousSibling;return O?this.posBeforeChild(I)+I.size:this.posAtStart}else{var B,j;if(p==this.contentDOM)B=p.childNodes[w];else{for(;p.parentNode!=this.contentDOM;)p=p.parentNode;B=p.nextSibling}for(;B&&!((j=B.pmViewDesc)&&j.parent==this);)B=B.nextSibling;return B?this.posBeforeChild(j):this.posAtEnd}var K;if(p==this.dom&&this.contentDOM)K=w>Le(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))K=p.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(w==0)for(var ue=p;;ue=ue.parentNode){if(ue==this.dom){K=!1;break}if(ue.previousSibling)break}if(K==null&&w==p.childNodes.length)for(var Se=p;;Se=Se.parentNode){if(Se==this.dom){K=!0;break}if(Se.nextSibling)break}}return K??x>0?this.posAtEnd:this.posAtStart}},{key:"nearestDesc",value:function(p){for(var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,x=!0,O=p;O;O=O.parentNode){var I=this.getDesc(O),B=void 0;if(I&&(!w||I.node))if(x&&(B=I.nodeDOM)&&!(B.nodeType==1?B.contains(p.nodeType==1?p:p.parentNode):B==p))x=!1;else return I}}},{key:"getDesc",value:function(p){for(var w=p.pmViewDesc,x=w;x;x=x.parent)if(x==this)return w}},{key:"posFromDOM",value:function(p,w,x){for(var O=p;O;O=O.parentNode){var I=this.getDesc(O);if(I)return I.localPosFromDOM(p,w,x)}return-1}},{key:"descAt",value:function(p){for(var w=0,x=0;w<this.children.length;w++){var O=this.children[w],I=x+O.size;if(x==p&&I!=x){for(;!O.border&&O.children.length;)for(var B=0;B<O.children.length;B++){var j=O.children[B];if(j.size){O=j;break}}return O}if(p<I)return O.descAt(p-x-O.border);x=I}}},{key:"domFromPos",value:function(p,w){if(!this.contentDOM)return{node:this.dom,offset:0,atom:p+1};for(var x=0,O=0,I=0;x<this.children.length;x++){var B=this.children[x],j=I+B.size;if(j>p||B instanceof G){O=p-I;break}I=j}if(O)return this.children[x].domFromPos(O-this.children[x].border,w);for(var K;x&&!(K=this.children[x-1]).size&&K instanceof Rt&&K.side>=0;x--);if(w<=0){for(var ue,Se=!0;ue=x?this.children[x-1]:null,!(!ue||ue.dom.parentNode==this.contentDOM);x--,Se=!1);return ue&&w&&Se&&!ue.border&&!ue.domAtom?ue.domFromPos(ue.size,w):{node:this.contentDOM,offset:ue?Le(ue.dom)+1:0}}else{for(var me,Re=!0;me=x<this.children.length?this.children[x]:null,!(!me||me.dom.parentNode==this.contentDOM);x++,Re=!1);return me&&Re&&!me.border&&!me.domAtom?me.domFromPos(0,w):{node:this.contentDOM,offset:me?Le(me.dom):this.contentDOM.childNodes.length}}}},{key:"parseRange",value:function(p,w){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.children.length==0)return{node:this.contentDOM,from:p,to:w,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var O=-1,I=-1,B=x,j=0;;j++){var K=this.children[j],ue=B+K.size;if(O==-1&&p<=ue){var Se=B+K.border;if(p>=Se&&w<=ue-K.border&&K.node&&K.contentDOM&&this.contentDOM.contains(K.contentDOM))return K.parseRange(p,w,Se);p=B;for(var me=j;me>0;me--){var Re=this.children[me-1];if(Re.size&&Re.dom.parentNode==this.contentDOM&&!Re.emptyChildAt(1)){O=Le(Re.dom)+1;break}p-=Re.size}O==-1&&(O=0)}if(O>-1&&(ue>w||j==this.children.length-1)){w=ue;for(var Ge=j+1;Ge<this.children.length;Ge++){var ut=this.children[Ge];if(ut.size&&ut.dom.parentNode==this.contentDOM&&!ut.emptyChildAt(-1)){I=Le(ut.dom);break}w+=ut.size}I==-1&&(I=this.contentDOM.childNodes.length);break}B=ue}return{node:this.contentDOM,from:p,to:w,fromOffset:O,toOffset:I}}},{key:"emptyChildAt",value:function(p){if(this.border||!this.contentDOM||!this.children.length)return!1;var w=this.children[p<0?0:this.children.length-1];return w.size==0||w.emptyChildAt(p)}},{key:"domAfterPos",value:function(p){var w=this.domFromPos(p,0),x=w.node,O=w.offset;if(x.nodeType!=1||O==x.childNodes.length)throw new RangeError("No node after pos "+p);return x.childNodes[O]}},{key:"setSelection",value:function(p,w,x){for(var O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,I=Math.min(p,w),B=Math.max(p,w),j=0,K=0;j<this.children.length;j++){var ue=this.children[j],Se=K+ue.size;if(I>K&&B<Se)return ue.setSelection(p-K-ue.border,w-K-ue.border,x,O);K=Se}var me=this.domFromPos(p,p?-1:1),Re=w==p?me:this.domFromPos(w,w?-1:1),Ge=x.root.getSelection(),ut=x.domSelectionRange(),mt=!1;if((Ht||tr)&&p==w){var Ze=me,sr=Ze.node,Kt=Ze.offset;if(sr.nodeType==3){if(mt=!!(Kt&&sr.nodeValue[Kt-1]==`
`),mt&&Kt==sr.nodeValue.length)for(var Pt=sr,Yt;Pt;Pt=Pt.parentNode){if(Yt=Pt.nextSibling){Yt.nodeName=="BR"&&(me=Re={node:Yt.parentNode,offset:Le(Yt)+1});break}var lr=Pt.pmViewDesc;if(lr&&lr.node&&lr.node.isBlock)break}}else{var Cr=sr.childNodes[Kt-1];mt=Cr&&(Cr.nodeName=="BR"||Cr.contentEditable=="false")}}if(Ht&&ut.focusNode&&ut.focusNode!=Re.node&&ut.focusNode.nodeType==1){var un=ut.focusNode.childNodes[ut.focusOffset];un&&un.contentEditable=="false"&&(O=!0)}if(!(!(O||mt&&tr)&&It(me.node,me.offset,ut.anchorNode,ut.anchorOffset)&&It(Re.node,Re.offset,ut.focusNode,ut.focusOffset))){var Wr=!1;if((Ge.extend||p==w)&&!mt){Ge.collapse(me.node,me.offset);try{p!=w&&Ge.extend(Re.node,Re.offset),Wr=!0}catch{}}if(!Wr){if(p>w){var qr=me;me=Re,Re=qr}var An=document.createRange();An.setEnd(Re.node,Re.offset),An.setStart(me.node,me.offset),Ge.removeAllRanges(),Ge.addRange(An)}}}},{key:"ignoreMutation",value:function(p){return!this.contentDOM&&p.type!="selection"}},{key:"contentLost",get:function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}},{key:"markDirty",value:function(p,w){for(var x=0,O=0;O<this.children.length;O++){var I=this.children[O],B=x+I.size;if(x==B?p<=B&&w>=x:p<B&&w>x){var j=x+I.border,K=B-I.border;if(p>=j&&w<=K){this.dirty=p==x||w==B?De:ae,p==j&&w==K&&(I.contentLost||I.dom.parentNode!=this.contentDOM)?I.dirty=_e:I.markDirty(p-j,w-j);return}else I.dirty=I.dom==I.contentDOM&&I.dom.parentNode==this.contentDOM&&!I.children.length?De:_e}x=B}this.dirty=De}},{key:"markParentsDirty",value:function(){for(var p=1,w=this.parent;w;w=w.parent,p++){var x=p==1?De:ae;w.dirty<x&&(w.dirty=x)}}},{key:"domAtom",get:function(){return!1}},{key:"ignoreForCoords",get:function(){return!1}},{key:"ignoreForSelection",get:function(){return!1}},{key:"isText",value:function(p){return!1}}]),h}(),Rt=function(h){f(p,h);var b=y(p);function p(w,x,O,I){var B;$(this,p);var j,K=x.type.toDOM;if(typeof K=="function"&&(K=K(O,function(){if(!j)return I;if(j.parent)return j.parent.posBeforeChild(j)})),!x.type.spec.raw){if(K.nodeType!=1){var ue=document.createElement("span");ue.appendChild(K),K=ue}K.contentEditable="false",K.classList.add("ProseMirror-widget")}return B=b.call(this,w,[],K,null),B.widget=x,B.widget=x,j=N(B),B}return re(p,[{key:"matchesWidget",value:function(x){return this.dirty==he&&x.type.eq(this.widget.type)}},{key:"parseRule",value:function(){return{ignore:!0}}},{key:"stopEvent",value:function(x){var O=this.widget.spec.stopEvent;return O?O(x):!1}},{key:"ignoreMutation",value:function(x){return x.type!="selection"||this.widget.spec.ignoreSelection}},{key:"destroy",value:function(){this.widget.type.destroy(this.dom),l(P(p.prototype),"destroy",this).call(this)}},{key:"domAtom",get:function(){return!0}},{key:"ignoreForSelection",get:function(){return!!this.widget.type.spec.relaxedSide}},{key:"side",get:function(){return this.widget.type.side}}]),p}(lt),V=function(h){f(p,h);var b=y(p);function p(w,x,O,I){var B;return $(this,p),B=b.call(this,w,[],x,null),B.textDOM=O,B.text=I,B}return re(p,[{key:"size",get:function(){return this.text.length}},{key:"localPosFromDOM",value:function(x,O){return x!=this.textDOM?this.posAtStart+(O?this.size:0):this.posAtStart+O}},{key:"domFromPos",value:function(x){return{node:this.textDOM,offset:x}}},{key:"ignoreMutation",value:function(x){return x.type==="characterData"&&x.target.nodeValue==x.oldValue}}]),p}(lt),R=function(h){f(p,h);var b=y(p);function p(w,x,O,I,B){var j;return $(this,p),j=b.call(this,w,[],O,I),j.mark=x,j.spec=B,j}return re(p,[{key:"parseRule",value:function(){return this.dirty&_e||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}},{key:"matchesMark",value:function(x){return this.dirty!=_e&&this.mark.eq(x)}},{key:"markDirty",value:function(x,O){if(l(P(p.prototype),"markDirty",this).call(this,x,O),this.dirty!=he){for(var I=this.parent;!I.node;)I=I.parent;I.dirty<this.dirty&&(I.dirty=this.dirty),this.dirty=he}}},{key:"slice",value:function(x,O,I){var B=p.create(this.parent,this.mark,!0,I),j=this.children,K=this.size;O<K&&(j=Nn(j,O,K,I)),x>0&&(j=Nn(j,0,x,I));for(var ue=0;ue<j.length;ue++)j[ue].parent=B;return B.children=j,B}},{key:"ignoreMutation",value:function(x){return this.spec.ignoreMutation?this.spec.ignoreMutation(x):l(P(p.prototype),"ignoreMutation",this).call(this,x)}},{key:"destroy",value:function(){this.spec.destroy&&this.spec.destroy(),l(P(p.prototype),"destroy",this).call(this)}}],[{key:"create",value:function(x,O,I,B){var j=B.nodeViews[O.type.name],K=j&&j(O,B,I);return(!K||!K.dom)&&(K=ke.DOMSerializer.renderSpec(document,O.type.spec.toDOM(O,I),null,O.attrs)),new p(x,O,K.dom,K.contentDOM||K.dom,K)}}]),p}(lt),k=function(h){f(p,h);var b=y(p);function p(w,x,O,I,B,j,K,ue,Se){var me;return $(this,p),me=b.call(this,w,[],B,j),me.node=x,me.outerDeco=O,me.innerDeco=I,me.nodeDOM=K,me}return re(p,[{key:"parseRule",value:function(){var x=this;if(this.node.type.spec.reparseInView)return null;var O={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(O.preserveWhitespace="full"),!this.contentDOM)O.getContent=function(){return x.node.content};else if(!this.contentLost)O.contentElement=this.contentDOM;else{for(var I=this.children.length-1;I>=0;I--){var B=this.children[I];if(this.dom.contains(B.dom.parentNode)){O.contentElement=B.dom.parentNode;break}}O.contentElement||(O.getContent=function(){return ke.Fragment.empty})}return O}},{key:"matchesNode",value:function(x,O,I){return this.dirty==he&&x.eq(this.node)&&ir(O,this.outerDeco)&&I.eq(this.innerDeco)}},{key:"size",get:function(){return this.node.nodeSize}},{key:"border",get:function(){return this.node.isLeaf?0:1}},{key:"updateChildren",value:function(x,O){var I=this,B=this.node.inlineContent,j=O,K=x.composing?this.localCompositionInfo(x,O):null,ue=K&&K.pos>-1?K:null,Se=K&&K.pos<0,me=new Hn(this,ue&&ue.node,x);Ci(this.node,this.innerDeco,function(Re,Ge,ut){Re.spec.marks?me.syncToMarks(Re.spec.marks,B,x):Re.type.side>=0&&!ut&&me.syncToMarks(Ge==I.node.childCount?ke.Mark.none:I.node.child(Ge).marks,B,x),me.placeWidget(Re,x,j)},function(Re,Ge,ut,mt){me.syncToMarks(Re.marks,B,x);var Ze;me.findNodeMatch(Re,Ge,ut,mt)||Se&&x.state.selection.from>j&&x.state.selection.to<j+Re.nodeSize&&(Ze=me.findIndexWithChild(K.node))>-1&&me.updateNodeAt(Re,Ge,ut,Ze,x)||me.updateNextNode(Re,Ge,ut,x,mt,j)||me.addNode(Re,Ge,ut,x,j),j+=Re.nodeSize}),me.syncToMarks([],B,x),this.node.isTextblock&&me.addTextblockHacks(),me.destroyRest(),(me.changed||this.dirty==De)&&(ue&&this.protectLocalComposition(x,ue),oe(this.contentDOM,this.children,x),Vr&&ni(this.dom))}},{key:"localCompositionInfo",value:function(x,O){var I=x.state.selection,B=I.from,j=I.to;if(!(x.state.selection instanceof le.TextSelection)||B<O||j>O+this.node.content.size)return null;var K=x.input.compositionNode;if(!K||!this.dom.contains(K.parentNode))return null;if(this.node.inlineContent){var ue=K.nodeValue,Se=En(this.node.content,ue,B-O,j-O);return Se<0?null:{node:K,pos:Se,text:ue}}else return{node:K,pos:-1,text:""}}},{key:"protectLocalComposition",value:function(x,O){var I=O.node,B=O.pos,j=O.text;if(!this.getDesc(I)){for(var K=I;K.parentNode!=this.contentDOM;K=K.parentNode){for(;K.previousSibling;)K.parentNode.removeChild(K.previousSibling);for(;K.nextSibling;)K.parentNode.removeChild(K.nextSibling);K.pmViewDesc&&(K.pmViewDesc=void 0)}var ue=new V(this,K,I,j);x.input.compositionNodes.push(ue),this.children=Nn(this.children,B,B+j.length,x,ue)}}},{key:"update",value:function(x,O,I,B){return this.dirty==_e||!x.sameMarkup(this.node)?!1:(this.updateInner(x,O,I,B),!0)}},{key:"updateInner",value:function(x,O,I,B){this.updateOuterDeco(O),this.node=x,this.innerDeco=I,this.contentDOM&&this.updateChildren(B,this.posAtStart),this.dirty=he}},{key:"updateOuterDeco",value:function(x){if(!ir(x,this.outerDeco)){var O=this.nodeDOM.nodeType!=1,I=this.dom;this.dom=Ye(this.dom,this.nodeDOM,tt(this.outerDeco,this.node,O),tt(x,this.node,O)),this.dom!=I&&(I.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=x}}},{key:"selectNode",value:function(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}},{key:"deselectNode",value:function(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}},{key:"domAtom",get:function(){return this.node.isAtom}}],[{key:"create",value:function(x,O,I,B,j,K){var ue=j.nodeViews[O.type.name],Se,me=ue&&ue(O,j,function(){if(!Se)return K;if(Se.parent)return Se.parent.posBeforeChild(Se)},I,B),Re=me&&me.dom,Ge=me&&me.contentDOM;if(O.isText){if(!Re)Re=document.createTextNode(O.text);else if(Re.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else if(!Re){var ut=ke.DOMSerializer.renderSpec(document,O.type.spec.toDOM(O),null,O.attrs);Re=ut.dom,Ge=ut.contentDOM}!Ge&&!O.isText&&Re.nodeName!="BR"&&(Re.hasAttribute("contenteditable")||(Re.contentEditable="false"),O.type.spec.draggable&&(Re.draggable=!0));var mt=Re;return Re=Bt(Re,I,O),me?Se=new Z(x,O,I,B,Re,Ge||null,mt,me,j,K+1):O.isText?new _(x,O,I,B,Re,mt,j):new p(x,O,I,B,Re,Ge||null,mt)}}]),p}(lt);function M(h,b,p,w,x){Bt(w,b,h);var O=new k(void 0,h,b,p,w,w,w,x,0);return O.contentDOM&&O.updateChildren(x,0),O}var _=function(h){f(p,h);var b=y(p);function p(w,x,O,I,B,j,K){return $(this,p),b.call(this,w,x,O,I,B,null,j,K,0)}return re(p,[{key:"parseRule",value:function(){for(var x=this.nodeDOM.parentNode;x&&x!=this.dom&&!x.pmIsDeco;)x=x.parentNode;return{skip:x||!0}}},{key:"update",value:function(x,O,I,B){return this.dirty==_e||this.dirty!=he&&!this.inParent()||!x.sameMarkup(this.node)?!1:(this.updateOuterDeco(O),(this.dirty!=he||x.text!=this.node.text)&&x.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=x.text,B.trackWrites==this.nodeDOM&&(B.trackWrites=null)),this.node=x,this.dirty=he,!0)}},{key:"inParent",value:function(){for(var x=this.parent.contentDOM,O=this.nodeDOM;O;O=O.parentNode)if(O==x)return!0;return!1}},{key:"domFromPos",value:function(x){return{node:this.nodeDOM,offset:x}}},{key:"localPosFromDOM",value:function(x,O,I){return x==this.nodeDOM?this.posAtStart+Math.min(O,this.node.text.length):l(P(p.prototype),"localPosFromDOM",this).call(this,x,O,I)}},{key:"ignoreMutation",value:function(x){return x.type!="characterData"&&x.type!="selection"}},{key:"slice",value:function(x,O,I){var B=this.node.cut(x,O),j=document.createTextNode(B.text);return new p(this.parent,B,this.outerDeco,this.innerDeco,j,j,I)}},{key:"markDirty",value:function(x,O){l(P(p.prototype),"markDirty",this).call(this,x,O),this.dom!=this.nodeDOM&&(x==0||O==this.nodeDOM.nodeValue.length)&&(this.dirty=_e)}},{key:"domAtom",get:function(){return!1}},{key:"isText",value:function(x){return this.node.text==x}}]),p}(k),G=function(h){f(p,h);var b=y(p);function p(){return $(this,p),b.apply(this,arguments)}return re(p,[{key:"parseRule",value:function(){return{ignore:!0}}},{key:"matchesHack",value:function(x){return this.dirty==he&&this.dom.nodeName==x}},{key:"domAtom",get:function(){return!0}},{key:"ignoreForCoords",get:function(){return this.dom.nodeName=="IMG"}}]),p}(lt),Z=function(h){f(p,h);var b=y(p);function p(w,x,O,I,B,j,K,ue,Se,me){var Re;return $(this,p),Re=b.call(this,w,x,O,I,B,j,K,Se,me),Re.spec=ue,Re}return re(p,[{key:"update",value:function(x,O,I,B){if(this.dirty==_e)return!1;if(this.spec.update&&(this.node.type==x.type||this.spec.multiType)){var j=this.spec.update(x,O,I);return j&&this.updateInner(x,O,I,B),j}else return!this.contentDOM&&!x.isLeaf?!1:l(P(p.prototype),"update",this).call(this,x,O,I,B)}},{key:"selectNode",value:function(){this.spec.selectNode?this.spec.selectNode():l(P(p.prototype),"selectNode",this).call(this)}},{key:"deselectNode",value:function(){this.spec.deselectNode?this.spec.deselectNode():l(P(p.prototype),"deselectNode",this).call(this)}},{key:"setSelection",value:function(x,O,I,B){this.spec.setSelection?this.spec.setSelection(x,O,I.root):l(P(p.prototype),"setSelection",this).call(this,x,O,I,B)}},{key:"destroy",value:function(){this.spec.destroy&&this.spec.destroy(),l(P(p.prototype),"destroy",this).call(this)}},{key:"stopEvent",value:function(x){return this.spec.stopEvent?this.spec.stopEvent(x):!1}},{key:"ignoreMutation",value:function(x){return this.spec.ignoreMutation?this.spec.ignoreMutation(x):l(P(p.prototype),"ignoreMutation",this).call(this,x)}}]),p}(k);function oe(h,b,p){for(var w=h.firstChild,x=!1,O=0;O<b.length;O++){var I=b[O],B=I.dom;if(B.parentNode==h){for(;B!=w;)w=kr(w),x=!0;w=w.nextSibling}else x=!0,h.insertBefore(B,w);if(I instanceof R){var j=w?w.previousSibling:h.lastChild;oe(I.contentDOM,I.children,p),w=j?j.nextSibling:h.firstChild}}for(;w;)w=kr(w),x=!0;x&&p.trackWrites==h&&(p.trackWrites=null)}var Ce=function(b){b&&(this.nodeName=b)};Ce.prototype=Object.create(null);var Ae=[new Ce];function tt(h,b,p){if(h.length==0)return Ae;for(var w=p?Ae[0]:new Ce,x=[w],O=0;O<h.length;O++){var I=h[O].type.attrs;if(I){I.nodeName&&x.push(w=new Ce(I.nodeName));for(var B in I){var j=I[B];j!=null&&(p&&x.length==1&&x.push(w=new Ce(b.isInline?"span":"div")),B=="class"?w.class=(w.class?w.class+" ":"")+j:B=="style"?w.style=(w.style?w.style+";":"")+j:B!="nodeName"&&(w[B]=j))}}}return x}function Ye(h,b,p,w){if(p==Ae&&w==Ae)return b;for(var x=b,O=0;O<w.length;O++){var I=w[O],B=p[O];if(O){var j=void 0;B&&B.nodeName==I.nodeName&&x!=h&&(j=x.parentNode)&&j.nodeName.toLowerCase()==I.nodeName||(j=document.createElement(I.nodeName),j.pmIsDeco=!0,j.appendChild(x),B=Ae[0]),x=j}ct(x,B||Ae[0],I)}return x}function ct(h,b,p){for(var w in b)w!="class"&&w!="style"&&w!="nodeName"&&!(w in p)&&h.removeAttribute(w);for(var x in p)x!="class"&&x!="style"&&x!="nodeName"&&p[x]!=b[x]&&h.setAttribute(x,p[x]);if(b.class!=p.class){for(var O=b.class?b.class.split(" ").filter(Boolean):[],I=p.class?p.class.split(" ").filter(Boolean):[],B=0;B<O.length;B++)I.indexOf(O[B])==-1&&h.classList.remove(O[B]);for(var j=0;j<I.length;j++)O.indexOf(I[j])==-1&&h.classList.add(I[j]);h.classList.length==0&&h.removeAttribute("class")}if(b.style!=p.style){if(b.style)for(var K=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,ue;ue=K.exec(b.style);)h.style.removeProperty(ue[1]);p.style&&(h.style.cssText+=p.style)}}function Bt(h,b,p){return Ye(h,h,Ae,tt(b,p,h.nodeType!=1))}function ir(h,b){if(h.length!=b.length)return!1;for(var p=0;p<h.length;p++)if(!h[p].type.eq(b[p].type))return!1;return!0}function kr(h){var b=h.nextSibling;return h.parentNode.removeChild(h),b}var Hn=function(){function h(b,p,w){$(this,h),this.lock=p,this.view=w,this.index=0,this.stack=[],this.changed=!1,this.top=b,this.preMatch=ki(b.node.content,b)}return re(h,[{key:"destroyBetween",value:function(p,w){if(p!=w){for(var x=p;x<w;x++)this.top.children[x].destroy();this.top.children.splice(p,w-p),this.changed=!0}}},{key:"destroyRest",value:function(){this.destroyBetween(this.index,this.top.children.length)}},{key:"syncToMarks",value:function(p,w,x){for(var O=0,I=this.stack.length>>1,B=Math.min(I,p.length);O<B&&(O==I-1?this.top:this.stack[O+1<<1]).matchesMark(p[O])&&p[O].type.spec.spanning!==!1;)O++;for(;O<I;)this.destroyRest(),this.top.dirty=he,this.index=this.stack.pop(),this.top=this.stack.pop(),I--;for(;I<p.length;){this.stack.push(this.top,this.index+1);for(var j=-1,K=this.index;K<Math.min(this.index+3,this.top.children.length);K++){var ue=this.top.children[K];if(ue.matchesMark(p[I])&&!this.isLocked(ue.dom)){j=K;break}}if(j>-1)j>this.index&&(this.changed=!0,this.destroyBetween(this.index,j)),this.top=this.top.children[this.index];else{var Se=R.create(this.top,p[I],w,x);this.top.children.splice(this.index,0,Se),this.top=Se,this.changed=!0}this.index=0,I++}}},{key:"findNodeMatch",value:function(p,w,x,O){var I=-1,B;if(O>=this.preMatch.index&&(B=this.preMatch.matches[O-this.preMatch.index]).parent==this.top&&B.matchesNode(p,w,x))I=this.top.children.indexOf(B,this.index);else for(var j=this.index,K=Math.min(this.top.children.length,j+5);j<K;j++){var ue=this.top.children[j];if(ue.matchesNode(p,w,x)&&!this.preMatch.matched.has(ue)){I=j;break}}return I<0?!1:(this.destroyBetween(this.index,I),this.index++,!0)}},{key:"updateNodeAt",value:function(p,w,x,O,I){var B=this.top.children[O];return B.dirty==_e&&B.dom==B.contentDOM&&(B.dirty=De),B.update(p,w,x,I)?(this.destroyBetween(this.index,O),this.index++,!0):!1}},{key:"findIndexWithChild",value:function(p){for(;;){var w=p.parentNode;if(!w)return-1;if(w==this.top.contentDOM){var x=p.pmViewDesc;if(x){for(var O=this.index;O<this.top.children.length;O++)if(this.top.children[O]==x)return O}return-1}p=w}}},{key:"updateNextNode",value:function(p,w,x,O,I,B){for(var j=this.index;j<this.top.children.length;j++){var K=this.top.children[j];if(K instanceof k){var ue=this.preMatch.matched.get(K);if(ue!=null&&ue!=I)return!1;var Se=K.dom,me=void 0,Re=this.isLocked(Se)&&!(p.isText&&K.node&&K.node.isText&&K.nodeDOM.nodeValue==p.text&&K.dirty!=_e&&ir(w,K.outerDeco));if(!Re&&K.update(p,w,x,O))return this.destroyBetween(this.index,j),K.dom!=Se&&(this.changed=!0),this.index++,!0;if(!Re&&(me=this.recreateWrapper(K,p,w,x,O,B)))return this.destroyBetween(this.index,j),this.top.children[this.index]=me,me.contentDOM&&(me.dirty=De,me.updateChildren(O,B+1),me.dirty=he),this.changed=!0,this.index++,!0;break}}return!1}},{key:"recreateWrapper",value:function(p,w,x,O,I,B){if(p.dirty||w.isAtom||!p.children.length||!p.node.content.eq(w.content)||!ir(x,p.outerDeco)||!O.eq(p.innerDeco))return null;var j=k.create(this.top,w,x,O,I,B);if(j.contentDOM){j.children=p.children,p.children=[];var K=i(j.children),ue;try{for(K.s();!(ue=K.n()).done;){var Se=ue.value;Se.parent=j}}catch(me){K.e(me)}finally{K.f()}}return p.destroy(),j}},{key:"addNode",value:function(p,w,x,O,I){var B=k.create(this.top,p,w,x,O,I);B.contentDOM&&B.updateChildren(O,I+1),this.top.children.splice(this.index++,0,B),this.changed=!0}},{key:"placeWidget",value:function(p,w,x){var O=this.index<this.top.children.length?this.top.children[this.index]:null;if(O&&O.matchesWidget(p)&&(p==O.widget||!O.widget.type.toDOM.parentNode))this.index++;else{var I=new Rt(this.top,p,w,x);this.top.children.splice(this.index++,0,I),this.changed=!0}}},{key:"addTextblockHacks",value:function(){for(var p=this.top.children[this.index-1],w=this.top;p instanceof R;)w=p,p=w.children[w.children.length-1];(!p||!(p instanceof _)||/\n$/.test(p.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(p.node.text))&&((tr||zt)&&p&&p.dom.contentEditable=="false"&&this.addHackNode("IMG",w),this.addHackNode("BR",this.top))}},{key:"addHackNode",value:function(p,w){if(w==this.top&&this.index<w.children.length&&w.children[this.index].matchesHack(p))this.index++;else{var x=document.createElement(p);p=="IMG"&&(x.className="ProseMirror-separator",x.alt=""),p=="BR"&&(x.className="ProseMirror-trailingBreak");var O=new G(this.top,[],x,null);w!=this.top?w.children.push(O):w.children.splice(this.index++,0,O),this.changed=!0}}},{key:"isLocked",value:function(p){return this.lock&&(p==this.lock||p.nodeType==1&&p.contains(this.lock.parentNode))}}]),h}();function ki(h,b){var p=b,w=p.children.length,x=h.childCount,O=new Map,I=[];e:for(;x>0;){for(var B=void 0;;)if(w){var j=p.children[w-1];if(j instanceof R)p=j,w=j.children.length;else{B=j,w--;break}}else{if(p==b)break e;w=p.parent.children.indexOf(p),p=p.parent}var K=B.node;if(K){if(K!=h.child(x-1))break;--x,O.set(B,x),I.push(B)}}return{index:x,matched:O,matches:I.reverse()}}function Yr(h,b){return h.type.side-b.type.side}function Ci(h,b,p,w){var x=b.locals(h),O=0;if(x.length==0){for(var I=0;I<h.childCount;I++){var B=h.child(I);w(B,x,b.forChild(O,B),I),O+=B.nodeSize}return}for(var j=0,K=[],ue=null,Se=0;;){for(var me=void 0,Re=void 0;j<x.length&&x[j].to==O;){var Ge=x[j++];Ge.widget&&(me?(Re||(Re=[me])).push(Ge):me=Ge)}if(me)if(Re){Re.sort(Yr);for(var ut=0;ut<Re.length;ut++)p(Re[ut],Se,!!ue)}else p(me,Se,!!ue);var mt=void 0,Ze=void 0;if(ue)Ze=-1,mt=ue,ue=null;else if(Se<h.childCount)Ze=Se,mt=h.child(Se++);else break;for(var sr=0;sr<K.length;sr++)K[sr].to<=O&&K.splice(sr--,1);for(;j<x.length&&x[j].from<=O&&x[j].to>O;)K.push(x[j++]);var Kt=O+mt.nodeSize;if(mt.isText){var Pt=Kt;j<x.length&&x[j].from<Pt&&(Pt=x[j].from);for(var Yt=0;Yt<K.length;Yt++)K[Yt].to<Pt&&(Pt=K[Yt].to);Pt<Kt&&(ue=mt.cut(Pt-O),mt=mt.cut(0,Pt-O),Kt=Pt,Ze=-1)}else for(;j<x.length&&x[j].to<Kt;)j++;var lr=mt.isInline&&!mt.isLeaf?K.filter(function(Cr){return!Cr.inline}):K.slice();w(mt,lr,b.forChild(O,mt),Ze),O=Kt}}function ni(h){if(h.nodeName=="UL"||h.nodeName=="OL"){var b=h.style.cssText;h.style.cssText=b+"; list-style: square !important",window.getComputedStyle(h).listStyle,h.style.cssText=b}}function En(h,b,p,w){for(var x=0,O=0;x<h.childCount&&O<=w;){var I=h.child(x++),B=O;if(O+=I.nodeSize,!!I.isText){for(var j=I.text;x<h.childCount;){var K=h.child(x++);if(O+=K.nodeSize,!K.isText)break;j+=K.text}if(O>=p){if(O>=w&&j.slice(w-b.length-B,w-B)==b)return w-b.length;var ue=B<w?j.lastIndexOf(b,w-B-1):-1;if(ue>=0&&ue+b.length+B>=p)return B+ue;if(p==w&&j.length>=w+b.length-B&&j.slice(w-B,w-B+b.length)==b)return w}}}return-1}function Nn(h,b,p,w,x){for(var O=[],I=0,B=0;I<h.length;I++){var j=h[I],K=B,ue=B+=j.size;K>=p||ue<=b?O.push(j):(K<b&&O.push(j.slice(0,b-K,w)),x&&(O.push(x),x=void 0),ue>p&&O.push(j.slice(p-K,j.size,w)))}return O}function Mn(h){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,p=h.domSelectionRange(),w=h.state.doc;if(!p.focusNode)return null;var x=h.docView.nearestDesc(p.focusNode),O=x&&x.size==0,I=h.docView.posFromDOM(p.focusNode,p.focusOffset,1);if(I<0)return null;var B=w.resolve(I),j,K;if(Ve(p)){for(j=I;x&&!x.node;)x=x.parent;var ue=x.node;if(x&&ue.isAtom&&le.NodeSelection.isSelectable(ue)&&x.parent&&!(ue.isInline&&st(p.focusNode,p.focusOffset,x.dom))){var Se=x.posBefore;K=new le.NodeSelection(I==Se?B:w.resolve(Se))}}else{if(p instanceof h.dom.ownerDocument.defaultView.Selection&&p.rangeCount>1){for(var me=I,Re=I,Ge=0;Ge<p.rangeCount;Ge++){var ut=p.getRangeAt(Ge);me=Math.min(me,h.docView.posFromDOM(ut.startContainer,ut.startOffset,1)),Re=Math.max(Re,h.docView.posFromDOM(ut.endContainer,ut.endOffset,-1))}if(me<0)return null;var mt=Re==h.state.selection.anchor?[Re,me]:[me,Re],Ze=r(mt,2);j=Ze[0],I=Ze[1],B=w.resolve(I)}else j=h.docView.posFromDOM(p.anchorNode,p.anchorOffset,1);if(j<0)return null}var sr=w.resolve(j);if(!K){var Kt=b=="pointer"||h.state.selection.head<B.pos&&!O?1:-1;K=On(h,sr,B,Kt)}return K}function Xi(h){return h.editable?h.hasFocus():Aa(h)&&document.activeElement&&document.activeElement.contains(h.dom)}function zn(h){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,p=h.state.selection;if(ca(h,p),!!Xi(h)){if(!b&&h.input.mouseDown&&h.input.mouseDown.allowDefault&&zt){var w=h.domSelectionRange(),x=h.domObserver.currentSelection;if(w.anchorNode&&x.anchorNode&&It(w.anchorNode,w.anchorOffset,x.anchorNode,x.anchorOffset)){h.input.mouseDown.delayedSelectionSync=!0,h.domObserver.setCurSelection();return}}if(h.domObserver.disconnectSelection(),h.cursorWrapper)$n(h);else{var O=p.anchor,I=p.head,B,j;Oa&&!(p instanceof le.TextSelection)&&(p.$from.parent.inlineContent||(B=Da(h,p.from)),!p.empty&&!p.$from.parent.inlineContent&&(j=Da(h,p.to))),h.docView.setSelection(O,I,h,b),Oa&&(B&&Qa(B),j&&Qa(j)),p.visible?h.dom.classList.remove("ProseMirror-hideselection"):(h.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Ro(h))}h.domObserver.setCurSelection(),h.domObserver.connectSelection()}}var Oa=tr||zt&&Tr<63;function Da(h,b){var p=h.docView.domFromPos(b,0),w=p.node,x=p.offset,O=x<w.childNodes.length?w.childNodes[x]:null,I=x?w.childNodes[x-1]:null;if(tr&&O&&O.contentEditable=="false")return Pi(O);if((!O||O.contentEditable=="false")&&(!I||I.contentEditable=="false")){if(O)return Pi(O);if(I)return Pi(I)}}function Pi(h){return h.contentEditable="true",tr&&h.draggable&&(h.draggable=!1,h.wasDraggable=!0),h}function Qa(h){h.contentEditable="false",h.wasDraggable&&(h.draggable=!0,h.wasDraggable=null)}function Ro(h){var b=h.dom.ownerDocument;b.removeEventListener("selectionchange",h.input.hideSelectionGuard);var p=h.domSelectionRange(),w=p.anchorNode,x=p.anchorOffset;b.addEventListener("selectionchange",h.input.hideSelectionGuard=function(){(p.anchorNode!=w||p.anchorOffset!=x)&&(b.removeEventListener("selectionchange",h.input.hideSelectionGuard),setTimeout(function(){(!Xi(h)||h.state.selection.visible)&&h.dom.classList.remove("ProseMirror-hideselection")},20))})}function $n(h){var b=h.domSelection(),p=document.createRange();if(b){var w=h.cursorWrapper.dom,x=w.nodeName=="IMG";x?p.setStart(w.parentNode,Le(w)+1):p.setStart(w,0),p.collapse(!0),b.removeAllRanges(),b.addRange(p),!x&&!h.state.selection.visible&&qe&&ot<=11&&(w.disabled=!0,w.disabled=!1)}}function ca(h,b){if(b instanceof le.NodeSelection){var p=h.docView.descAt(b.from);p!=h.lastSelectedViewDesc&&(Xa(h),p&&p.selectNode(),h.lastSelectedViewDesc=p)}else Xa(h)}function Xa(h){h.lastSelectedViewDesc&&(h.lastSelectedViewDesc.parent&&h.lastSelectedViewDesc.deselectNode(),h.lastSelectedViewDesc=void 0)}function On(h,b,p,w){return h.someProp("createSelectionBetween",function(x){return x(h,b,p)})||le.TextSelection.between(b,p,w)}function Io(h){return h.editable&&!h.hasFocus()?!1:Aa(h)}function Aa(h){var b=h.domSelectionRange();if(!b.anchorNode)return!1;try{return h.dom.contains(b.anchorNode.nodeType==3?b.anchorNode.parentNode:b.anchorNode)&&(h.editable||h.dom.contains(b.focusNode.nodeType==3?b.focusNode.parentNode:b.focusNode))}catch{return!1}}function Vn(h){var b=h.docView.domFromPos(h.state.selection.anchor,0),p=h.domSelectionRange();return It(b.node,b.offset,p.anchorNode,p.anchorOffset)}function ii(h,b){var p=h.selection,w=p.$anchor,x=p.$head,O=b>0?w.max(x):w.min(x),I=O.parent.inlineContent?O.depth?h.doc.resolve(b>0?O.after():O.before()):null:O;return I&&le.Selection.findFrom(I,b)}function Si(h,b){return h.dispatch(h.state.tr.setSelection(b).scrollIntoView()),!0}function Yi(h,b,p){var w=h.state.selection;if(w instanceof le.TextSelection)if(p.indexOf("s")>-1){var x=w.$head,O=x.textOffset?null:b<0?x.nodeBefore:x.nodeAfter;if(!O||O.isText||!O.isLeaf)return!1;var I=h.state.doc.resolve(x.pos+O.nodeSize*(b<0?-1:1));return Si(h,new le.TextSelection(w.$anchor,I))}else if(w.empty){if(h.endOfTextblock(b>0?"forward":"backward")){var B=ii(h.state,b);return B&&B instanceof le.NodeSelection?Si(h,B):!1}else if(!(Lr&&p.indexOf("m")>-1)){var j=w.$head,K=j.textOffset?null:b<0?j.nodeBefore:j.nodeAfter,ue;if(!K||K.isText)return!1;var Se=b<0?j.pos-K.nodeSize:j.pos;return K.isAtom||(ue=h.docView.descAt(Se))&&!ue.contentDOM?le.NodeSelection.isSelectable(K)?Si(h,new le.NodeSelection(b<0?h.state.doc.resolve(j.pos-K.nodeSize):j)):_r?Si(h,new le.TextSelection(h.state.doc.resolve(b<0?Se:Se+K.nodeSize))):!1:!1}}else return!1;else{if(w instanceof le.NodeSelection&&w.node.isInline)return Si(h,new le.TextSelection(b>0?w.$to:w.$from));var me=ii(h.state,b);return me?Si(h,me):!1}}function fa(h){return h.nodeType==3?h.nodeValue.length:h.childNodes.length}function Zi(h,b){var p=h.pmViewDesc;return p&&p.size==0&&(b<0||h.nextSibling||h.nodeName!="BR")}function ai(h,b){return b<0?Ya(h):ys(h)}function Ya(h){var b=h.domSelectionRange(),p=b.focusNode,w=b.focusOffset;if(p){var x,O,I=!1;for(Ht&&p.nodeType==1&&w<fa(p)&&Zi(p.childNodes[w],-1)&&(I=!0);;)if(w>0){if(p.nodeType!=1)break;var B=p.childNodes[w-1];if(Zi(B,-1))x=p,O=--w;else if(B.nodeType==3)p=B,w=p.nodeValue.length;else break}else{if(Dn(p))break;for(var j=p.previousSibling;j&&Zi(j,-1);)x=p.parentNode,O=Le(j),j=j.previousSibling;if(j)p=j,w=fa(p);else{if(p=p.parentNode,p==h.dom)break;w=0}}I?eo(h,p,w):x&&eo(h,x,O)}}function ys(h){var b=h.domSelectionRange(),p=b.focusNode,w=b.focusOffset;if(p){for(var x=fa(p),O,I;;)if(w<x){if(p.nodeType!=1)break;var B=p.childNodes[w];if(Zi(B,1))O=p,I=++w;else break}else{if(Dn(p))break;for(var j=p.nextSibling;j&&Zi(j,1);)O=j.parentNode,I=Le(j)+1,j=j.nextSibling;if(j)p=j,w=0,x=fa(p);else{if(p=p.parentNode,p==h.dom)break;w=x=0}}O&&eo(h,O,I)}}function Dn(h){var b=h.pmViewDesc;return b&&b.node&&b.node.isBlock}function ws(h,b){for(;h&&b==h.childNodes.length&&!Ie(h);)b=Le(h)+1,h=h.parentNode;for(;h&&b<h.childNodes.length;){var p=h.childNodes[b];if(p.nodeType==3)return p;if(p.nodeType==1&&p.contentEditable=="false")break;h=p,b=0}}function Za(h,b){for(;h&&!b&&!Ie(h);)b=Le(h),h=h.parentNode;for(;h&&b;){var p=h.childNodes[b-1];if(p.nodeType==3)return p;if(p.nodeType==1&&p.contentEditable=="false")break;h=p,b=h.childNodes.length}}function eo(h,b,p){if(b.nodeType!=3){var w,x;(x=ws(b,p))?(b=x,p=0):(w=Za(b,p))&&(b=w,p=w.nodeValue.length)}var O=h.domSelection();if(O){if(Ve(O)){var I=document.createRange();I.setEnd(b,p),I.setStart(b,p),O.removeAllRanges(),O.addRange(I)}else O.extend&&O.extend(b,p);h.domObserver.setCurSelection();var B=h.state;setTimeout(function(){h.state==B&&zn(h)},50)}}function mr(h,b){var p=h.state.doc.resolve(b);if(!(zt||Br)&&p.parent.inlineContent){var w=h.coordsAtPos(b);if(b>p.start()){var x=h.coordsAtPos(b-1),O=(x.top+x.bottom)/2;if(O>w.top&&O<w.bottom&&Math.abs(x.left-w.left)>1)return x.left<w.left?"ltr":"rtl"}if(b<p.end()){var I=h.coordsAtPos(b+1),B=(I.top+I.bottom)/2;if(B>w.top&&B<w.bottom&&Math.abs(I.left-w.left)>1)return I.left>w.left?"ltr":"rtl"}}var j=getComputedStyle(h.dom).direction;return j=="rtl"?"rtl":"ltr"}function Un(h,b,p){var w=h.state.selection;if(w instanceof le.TextSelection&&!w.empty||p.indexOf("s")>-1||Lr&&p.indexOf("m")>-1)return!1;var x=w.$from,O=w.$to;if(!x.parent.inlineContent||h.endOfTextblock(b<0?"up":"down")){var I=ii(h.state,b);if(I&&I instanceof le.NodeSelection)return Si(h,I)}if(!x.parent.inlineContent){var B=b<0?x:O,j=w instanceof le.AllSelection?le.Selection.near(B,b):le.Selection.findFrom(B,b);return j?Si(h,j):!1}return!1}function oi(h,b){if(!(h.state.selection instanceof le.TextSelection))return!0;var p=h.state.selection,w=p.$head,x=p.$anchor,O=p.empty;if(!w.sameParent(x))return!0;if(!O)return!1;if(h.endOfTextblock(b>0?"forward":"backward"))return!0;var I=!w.textOffset&&(b<0?w.nodeBefore:w.nodeAfter);if(I&&!I.isText){var B=h.state.tr;return b<0?B.delete(w.pos-I.nodeSize,w.pos):B.delete(w.pos,w.pos+I.nodeSize),h.dispatch(B),!0}return!1}function Po(h,b,p){h.domObserver.stop(),b.contentEditable=p,h.domObserver.start()}function da(h){if(!tr||h.state.selection.$head.parentOffset>0)return!1;var b=h.domSelectionRange(),p=b.focusNode,w=b.focusOffset;if(p&&p.nodeType==1&&w==0&&p.firstChild&&p.firstChild.contentEditable=="false"){var x=p.firstChild;Po(h,x,"true"),setTimeout(function(){return Po(h,x,"false")},20)}return!1}function Bo(h){var b="";return h.ctrlKey&&(b+="c"),h.metaKey&&(b+="m"),h.altKey&&(b+="a"),h.shiftKey&&(b+="s"),b}function to(h,b){var p=b.keyCode,w=Bo(b);if(p==8||Lr&&p==72&&w=="c")return oi(h,-1)||ai(h,-1);if(p==46&&!b.shiftKey||Lr&&p==68&&w=="c")return oi(h,1)||ai(h,1);if(p==13||p==27)return!0;if(p==37||Lr&&p==66&&w=="c"){var x=p==37?mr(h,h.state.selection.from)=="ltr"?-1:1:-1;return Yi(h,x,w)||ai(h,x)}else if(p==39||Lr&&p==70&&w=="c"){var O=p==39?mr(h,h.state.selection.from)=="ltr"?1:-1:1;return Yi(h,O,w)||ai(h,O)}else{if(p==38||Lr&&p==80&&w=="c")return Un(h,-1,w)||ai(h,-1);if(p==40||Lr&&p==78&&w=="c")return da(h)||Un(h,1,w)||ai(h,1);if(w==(Lr?"m":"c")&&(p==66||p==73||p==89||p==90))return!0}return!1}function Tt(h,b){h.someProp("transformCopied",function(Ze){b=Ze(b,h)});for(var p=[],w=b,x=w.content,O=w.openStart,I=w.openEnd;O>1&&I>1&&x.childCount==1&&x.firstChild.childCount==1;){O--,I--;var B=x.firstChild;p.push(B.type.name,B.attrs!=B.type.defaultAttrs?B.attrs:null),x=B.content}var j=h.someProp("clipboardSerializer")||ke.DOMSerializer.fromSchema(h.state.schema),K=bs(),ue=K.createElement("div");ue.appendChild(j.serializeFragment(x,{document:K}));for(var Se=ue.firstChild,me,Re=0;Se&&Se.nodeType==1&&(me=xi[Se.nodeName.toLowerCase()]);){for(var Ge=me.length-1;Ge>=0;Ge--){for(var ut=K.createElement(me[Ge]);ue.firstChild;)ut.appendChild(ue.firstChild);ue.appendChild(ut),Re++}Se=ue.firstChild}Se&&Se.nodeType==1&&Se.setAttribute("data-pm-slice","".concat(O," ").concat(I).concat(Re?" -".concat(Re):""," ").concat(JSON.stringify(p)));var mt=h.someProp("clipboardTextSerializer",function(Ze){return Ze(b,h)})||b.content.textBetween(0,b.content.size,`

`);return{dom:ue,text:mt,slice:b}}function Te(h,b,p,w,x){var O=x.parent.type.spec.code,I,B;if(!p&&!b)return null;var j=b&&(w||O||!p);if(j){if(h.someProp("transformPastedText",function(lr){b=lr(b,O||w,h)}),O)return b?new ke.Slice(ke.Fragment.from(h.state.schema.text(b.replace(/\r\n?/g,`
`))),0,0):ke.Slice.empty;var K=h.someProp("clipboardTextParser",function(lr){return lr(b,x,w,h)});if(K)B=K;else{var ue=x.marks(),Se=h.state.schema,me=ke.DOMSerializer.fromSchema(Se);I=document.createElement("div"),b.split(/(?:\r\n?|\n)+/).forEach(function(lr){var Cr=I.appendChild(document.createElement("p"));lr&&Cr.appendChild(me.serializeNode(Se.text(lr,ue)))})}}else h.someProp("transformPastedHTML",function(lr){p=lr(p,h)}),I=ha(p),_r&&hl(I);var Re=I&&I.querySelector("[data-pm-slice]"),Ge=Re&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(Re.getAttribute("data-pm-slice")||"");if(Ge&&Ge[3])for(var ut=+Ge[3];ut>0;ut--){for(var mt=I.firstChild;mt&&mt.nodeType!=1;)mt=mt.nextSibling;if(!mt)break;I=mt}if(!B){var Ze=h.someProp("clipboardParser")||h.someProp("domParser")||ke.DOMParser.fromSchema(h.state.schema);B=Ze.parseSlice(I,{preserveWhitespace:!!(j||Ge),context:x,ruleFromNode:function(Cr){return Cr.nodeName=="BR"&&!Cr.nextSibling&&Cr.parentNode&&!at.test(Cr.parentNode.nodeName)?{ignore:!0}:null}})}if(Ge)B=ks(si(B,+Ge[1],+Ge[2]),Ge[4]);else if(B=ke.Slice.maxOpen(wt(B.content,x),!0),B.openStart||B.openEnd){for(var sr=0,Kt=0,Pt=B.content.firstChild;sr<B.openStart&&!Pt.type.spec.isolating;sr++,Pt=Pt.firstChild);for(var Yt=B.content.lastChild;Kt<B.openEnd&&!Yt.type.spec.isolating;Kt++,Yt=Yt.lastChild);B=si(B,sr,Kt)}return h.someProp("transformPasted",function(lr){B=lr(B,h)}),B}var at=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function wt(h,b){if(h.childCount<2)return h;for(var p=function(){var I=b.node(x),B=I.contentMatchAt(b.index(x)),j,K=[];if(h.forEach(function(ue){if(K){var Se=B.findWrapping(ue.type),me;if(!Se)return K=null;if(me=K.length&&j.length&&Ur(Se,j,ue,K[K.length-1],0))K[K.length-1]=me;else{K.length&&(K[K.length-1]=jr(K[K.length-1],j.length));var Re=hr(ue,Se);K.push(Re),B=B.matchType(Re.type),j=Se}}}),K)return{v:ke.Fragment.from(K)}},w,x=b.depth;x>=0;x--)if(w=p(),w)return w.v;return h}function hr(h,b){for(var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,w=b.length-1;w>=p;w--)h=b[w].create(null,ke.Fragment.from(h));return h}function Ur(h,b,p,w,x){if(x<h.length&&x<b.length&&h[x]==b[x]){var O=Ur(h,b,p,w.lastChild,x+1);if(O)return w.copy(w.content.replaceChild(w.childCount-1,O));var I=w.contentMatchAt(w.childCount);if(I.matchType(x==h.length-1?p.type:h[x+1]))return w.copy(w.content.append(ke.Fragment.from(hr(p,h,x+1))))}}function jr(h,b){if(b==0)return h;var p=h.content.replaceChild(h.childCount-1,jr(h.lastChild,b-1)),w=h.contentMatchAt(h.childCount).fillBefore(ke.Fragment.empty,!0);return h.copy(p.append(w))}function Fr(h,b,p,w,x,O){var I=b<0?h.firstChild:h.lastChild,B=I.content;return h.childCount>1&&(O=0),x<w-1&&(B=Fr(B,b,p,w,x+1,O)),x>=p&&(B=b<0?I.contentMatchAt(0).fillBefore(B,O<=x).append(B):B.append(I.contentMatchAt(I.childCount).fillBefore(ke.Fragment.empty,!0))),h.replaceChild(b<0?0:h.childCount-1,I.copy(B))}function si(h,b,p){return b<h.openStart&&(h=new ke.Slice(Fr(h.content,-1,b,h.openStart,0,h.openEnd),b,h.openEnd)),p<h.openEnd&&(h=new ke.Slice(Fr(h.content,1,p,h.openEnd,0,0),h.openStart,p)),h}var xi={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},_o=null;function bs(){return _o||(_o=document.implementation.createHTMLDocument("title"))}var ro=null;function dl(h){var b=window.trustedTypes;return b?(ro||(ro=b.defaultPolicy||b.createPolicy("ProseMirrorClipboard",{createHTML:function(w){return w}})),ro.createHTML(h)):h}function ha(h){var b=/^(\s*<meta [^>]*>)*/.exec(h);b&&(h=h.slice(b[0].length));var p=bs().createElement("div"),w=/<([a-z][^>\s]+)/i.exec(h),x;if((x=w&&xi[w[1].toLowerCase()])&&(h=x.map(function(I){return"<"+I+">"}).join("")+h+x.map(function(I){return"</"+I+">"}).reverse().join("")),p.innerHTML=dl(h),x)for(var O=0;O<x.length;O++)p=p.querySelector(x[O])||p;return p}function hl(h){for(var b=h.querySelectorAll(zt?"span:not([class]):not([style])":"span.Apple-converted-space"),p=0;p<b.length;p++){var w=b[p];w.childNodes.length==1&&w.textContent==""&&w.parentNode&&w.parentNode.replaceChild(h.ownerDocument.createTextNode(" "),w)}}function ks(h,b){if(!h.size)return h;var p=h.content.firstChild.type.schema,w;try{w=JSON.parse(b)}catch{return h}for(var x=h.content,O=h.openStart,I=h.openEnd,B=w.length-2;B>=0;B-=2){var j=p.nodes[w[B]];if(!j||j.hasRequiredAttrs())break;x=ke.Fragment.from(j.create(w[B+1],x)),O++,I++}return new ke.Slice(x,O,I)}var on={},Xr={},Cs={touchstart:!0,touchmove:!0},Ru=re(function h(){$(this,h),this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null});function jn(h){var b=function(){var x=on[p];h.dom.addEventListener(p,h.input.eventHandlers[p]=function(O){ml(h,O)&&!vl(h,O)&&(h.editable||!(O.type in Xr))&&x(h,O)},Cs[p]?{passive:!0}:void 0)};for(var p in on)b();tr&&h.dom.addEventListener("input",function(){return null}),La(h)}function Wn(h,b){h.input.lastSelectionOrigin=b,h.input.lastSelectionTime=Date.now()}function pl(h){h.domObserver.stop();for(var b in h.input.eventHandlers)h.dom.removeEventListener(b,h.input.eventHandlers[b]);clearTimeout(h.input.composingTimeout),clearTimeout(h.input.lastIOSEnterFallbackTimeout)}function La(h){h.someProp("handleDOMEvents",function(b){for(var p in b)h.input.eventHandlers[p]||h.dom.addEventListener(p,h.input.eventHandlers[p]=function(w){return vl(h,w)})})}function vl(h,b){return h.someProp("handleDOMEvents",function(p){var w=p[b.type];return w?w(h,b)||b.defaultPrevented:!1})}function ml(h,b){if(!b.bubbles)return!0;if(b.defaultPrevented)return!1;for(var p=b.target;p!=h.dom;p=p.parentNode)if(!p||p.nodeType==11||p.pmViewDesc&&p.pmViewDesc.stopEvent(b))return!1;return!0}function gl(h,b){!vl(h,b)&&on[b.type]&&(h.editable||!(b.type in Xr))&&on[b.type](h,b)}Xr.keydown=function(h,b){var p=b;if(h.input.shiftKey=p.keyCode==16||p.shiftKey,!Bu(h,p)&&(h.input.lastKeyCode=p.keyCode,h.input.lastKeyCodeTime=Date.now(),!(cr&&zt&&p.keyCode==13)))if(p.keyCode!=229&&h.domObserver.forceFlush(),Vr&&p.keyCode==13&&!p.ctrlKey&&!p.altKey&&!p.metaKey){var w=Date.now();h.input.lastIOSEnter=w,h.input.lastIOSEnterFallbackTimeout=setTimeout(function(){h.input.lastIOSEnter==w&&(h.someProp("handleKeyDown",function(x){return x(h,Je(13,"Enter"))}),h.input.lastIOSEnter=0)},200)}else h.someProp("handleKeyDown",function(x){return x(h,p)})||to(h,p)?p.preventDefault():Wn(h,"key")},Xr.keyup=function(h,b){b.keyCode==16&&(h.input.shiftKey=!1)},Xr.keypress=function(h,b){var p=b;if(!(Bu(h,p)||!p.charCode||p.ctrlKey&&!p.altKey||Lr&&p.metaKey)){if(h.someProp("handleKeyPress",function(I){return I(h,p)})){p.preventDefault();return}var w=h.state.selection;if(!(w instanceof le.TextSelection)||!w.$from.sameParent(w.$to)){var x=String.fromCharCode(p.charCode),O=function(){return h.state.tr.insertText(x).scrollIntoView()};!/[\r\n]/.test(x)&&!h.someProp("handleTextInput",function(I){return I(h,w.$from.pos,w.$to.pos,x,O)})&&h.dispatch(O()),p.preventDefault()}}};function pa(h){return{left:h.clientX,top:h.clientY}}function Ss(h,b){var p=b.x-h.clientX,w=b.y-h.clientY;return p*p+w*w<100}function xs(h,b,p,w,x){if(w==-1)return!1;for(var O=h.state.doc.resolve(w),I=function(ue){if(h.someProp(b,function(Se){return ue>O.depth?Se(h,p,O.nodeAfter,O.before(ue),x,!0):Se(h,p,O.node(ue),O.before(ue),x,!1)}))return{v:!0}},B,j=O.depth+1;j>0;j--)if(B=I(j),B)return B.v;return!1}function no(h,b,p){if(h.focused||h.focus(),!h.state.selection.eq(b)){var w=h.state.tr.setSelection(b);w.setMeta("pointer",!0),h.dispatch(w)}}function Sf(h,b){if(b==-1)return!1;var p=h.state.doc.resolve(b),w=p.nodeAfter;return w&&w.isAtom&&le.NodeSelection.isSelectable(w)?(no(h,new le.NodeSelection(p)),!0):!1}function xf(h,b){if(b==-1)return!1;var p=h.state.selection,w,x;p instanceof le.NodeSelection&&(w=p.node);for(var O=h.state.doc.resolve(b),I=O.depth+1;I>0;I--){var B=I>O.depth?O.nodeAfter:O.node(I);if(le.NodeSelection.isSelectable(B)){w&&p.$from.depth>0&&I>=p.$from.depth&&O.before(p.$from.depth+1)==p.$from.pos?x=O.before(p.$from.depth):x=O.before(I);break}}return x!=null?(no(h,le.NodeSelection.create(h.state.doc,x)),!0):!1}function yl(h,b,p,w,x){return xs(h,"handleClickOn",b,p,w)||h.someProp("handleClick",function(O){return O(h,b,w)})||(x?xf(h,p):Sf(h,p))}function Tf(h,b,p,w){return xs(h,"handleDoubleClickOn",b,p,w)||h.someProp("handleDoubleClick",function(x){return x(h,b,w)})}function Ef(h,b,p,w){return xs(h,"handleTripleClickOn",b,p,w)||h.someProp("handleTripleClick",function(x){return x(h,b,w)})||Nf(h,p,w)}function Nf(h,b,p){if(p.button!=0)return!1;var w=h.state.doc;if(b==-1)return w.inlineContent?(no(h,le.TextSelection.create(w,0,w.content.size)),!0):!1;for(var x=w.resolve(b),O=x.depth+1;O>0;O--){var I=O>x.depth?x.nodeAfter:x.node(O),B=x.before(O);if(I.inlineContent)no(h,le.TextSelection.create(w,B+1,B+1+I.content.size));else if(le.NodeSelection.isSelectable(I))no(h,le.NodeSelection.create(w,B));else continue;return!0}}function wl(h){return Fo(h)}var Iu=Lr?"metaKey":"ctrlKey";on.mousedown=function(h,b){var p=b;h.input.shiftKey=p.shiftKey;var w=wl(h),x=Date.now(),O="singleClick";x-h.input.lastClick.time<500&&Ss(p,h.input.lastClick)&&!p[Iu]&&h.input.lastClick.button==p.button&&(h.input.lastClick.type=="singleClick"?O="doubleClick":h.input.lastClick.type=="doubleClick"&&(O="tripleClick")),h.input.lastClick={time:x,x:p.clientX,y:p.clientY,type:O,button:p.button};var I=h.posAtCoords(pa(p));I&&(O=="singleClick"?(h.input.mouseDown&&h.input.mouseDown.done(),h.input.mouseDown=new Pu(h,I,p,!!w)):(O=="doubleClick"?Tf:Ef)(h,I.pos,I.inside,p)?p.preventDefault():Wn(h,"pointer"))};var Pu=function(){function h(b,p,w,x){var O=this;$(this,h),this.view=b,this.pos=p,this.event=w,this.flushed=x,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=b.state.doc,this.selectNode=!!w[Iu],this.allowDefault=w.shiftKey;var I,B;if(p.inside>-1)I=b.state.doc.nodeAt(p.inside),B=p.inside;else{var j=b.state.doc.resolve(p.pos);I=j.parent,B=j.depth?j.before():0}var K=x?null:w.target,ue=K?b.docView.nearestDesc(K,!0):null;this.target=ue&&ue.dom.nodeType==1?ue.dom:null;var Se=b.state.selection;(w.button==0&&I.type.spec.draggable&&I.type.spec.selectable!==!1||Se instanceof le.NodeSelection&&Se.from<=B&&Se.to>B)&&(this.mightDrag={node:I,pos:B,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Ht&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(function(){O.view.input.mouseDown==O&&O.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),b.root.addEventListener("mouseup",this.up=this.up.bind(this)),b.root.addEventListener("mousemove",this.move=this.move.bind(this)),Wn(b,"pointer")}return re(h,[{key:"done",value:function(){var p=this;this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(function(){return zn(p.view)}),this.view.input.mouseDown=null}},{key:"up",value:function(p){if(this.done(),!!this.view.dom.contains(p.target)){var w=this.pos;this.view.state.doc!=this.startDoc&&(w=this.view.posAtCoords(pa(p))),this.updateAllowDefault(p),this.allowDefault||!w?Wn(this.view,"pointer"):yl(this.view,w.pos,w.inside,p,this.selectNode)?p.preventDefault():p.button==0&&(this.flushed||tr&&this.mightDrag&&!this.mightDrag.node.isAtom||zt&&!this.view.state.selection.visible&&Math.min(Math.abs(w.pos-this.view.state.selection.from),Math.abs(w.pos-this.view.state.selection.to))<=2)?(no(this.view,le.Selection.near(this.view.state.doc.resolve(w.pos))),p.preventDefault()):Wn(this.view,"pointer")}}},{key:"move",value:function(p){this.updateAllowDefault(p),Wn(this.view,"pointer"),p.buttons==0&&this.done()}},{key:"updateAllowDefault",value:function(p){!this.allowDefault&&(Math.abs(this.event.x-p.clientX)>4||Math.abs(this.event.y-p.clientY)>4)&&(this.allowDefault=!0)}}]),h}();on.touchstart=function(h){h.input.lastTouch=Date.now(),wl(h),Wn(h,"pointer")},on.touchmove=function(h){h.input.lastTouch=Date.now(),Wn(h,"pointer")},on.contextmenu=function(h){return wl(h)};function Bu(h,b){return h.composing?!0:tr&&Math.abs(b.timeStamp-h.input.compositionEndedAt)<500?(h.input.compositionEndedAt=-2e8,!0):!1}var Mf=cr?5e3:-1;Xr.compositionstart=Xr.compositionupdate=function(h){if(!h.composing){h.domObserver.flush();var b=h.state,p=b.selection.$to;if(b.selection instanceof le.TextSelection&&(b.storedMarks||!p.textOffset&&p.parentOffset&&p.nodeBefore.marks.some(function(j){return j.type.spec.inclusive===!1})))h.markCursor=h.state.storedMarks||p.marks(),Fo(h,!0),h.markCursor=null;else if(Fo(h,!b.selection.empty),Ht&&b.selection.empty&&p.parentOffset&&!p.textOffset&&p.nodeBefore.marks.length)for(var w=h.domSelectionRange(),x=w.focusNode,O=w.focusOffset;x&&x.nodeType==1&&O!=0;){var I=O<0?x.lastChild:x.childNodes[O-1];if(!I)break;if(I.nodeType==3){var B=h.domSelection();B&&B.collapse(I,I.nodeValue.length);break}else x=I,O=-1}h.input.composing=!0}_u(h,Mf)},Xr.compositionend=function(h,b){h.composing&&(h.input.composing=!1,h.input.compositionEndedAt=b.timeStamp,h.input.compositionPendingChanges=h.domObserver.pendingRecords().length?h.input.compositionID:0,h.input.compositionNode=null,h.input.compositionPendingChanges&&Promise.resolve().then(function(){return h.domObserver.flush()}),h.input.compositionID++,_u(h,20))};function _u(h,b){clearTimeout(h.input.composingTimeout),b>-1&&(h.input.composingTimeout=setTimeout(function(){return Fo(h)},b))}function Fu(h){for(h.composing&&(h.input.composing=!1,h.input.compositionEndedAt=Of());h.input.compositionNodes.length>0;)h.input.compositionNodes.pop().markParentsDirty()}function bl(h){var b=h.domSelectionRange();if(!b.focusNode)return null;var p=We(b.focusNode,b.focusOffset),w=Ot(b.focusNode,b.focusOffset);if(p&&w&&p!=w){var x=w.pmViewDesc,O=h.domObserver.lastChangedTextNode;if(p==O||w==O)return O;if(!x||!x.isText(w.nodeValue))return w;if(h.input.compositionNode==w){var I=p.pmViewDesc;if(!(!I||!I.isText(p.nodeValue)))return w}}return p||w}function Of(){var h=document.createEvent("Event");return h.initEvent("event",!0,!0),h.timeStamp}function Fo(h){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!(cr&&h.domObserver.flushingSoon>=0)){if(h.domObserver.forceFlush(),Fu(h),b||h.docView&&h.docView.dirty){var p=Mn(h),w=h.state.selection;return p&&!p.eq(w)?h.dispatch(h.state.tr.setSelection(p)):(h.markCursor||b)&&!w.$from.node(w.$from.sharedDepth(w.to)).inlineContent?h.dispatch(h.state.tr.deleteSelection()):h.updateState(h.state),!0}return!1}}function Df(h,b){if(h.dom.parentNode){var p=h.dom.parentNode.appendChild(document.createElement("div"));p.appendChild(b),p.style.cssText="position: fixed; left: -10000px; top: 10px";var w=getSelection(),x=document.createRange();x.selectNodeContents(b),h.dom.blur(),w.removeAllRanges(),w.addRange(x),setTimeout(function(){p.parentNode&&p.parentNode.removeChild(p),h.focus()},50)}}var io=qe&&ot<15||Vr&&Ii<604;on.copy=Xr.cut=function(h,b){var p=b,w=h.state.selection,x=p.type=="cut";if(!w.empty){var O=io?null:p.clipboardData,I=w.content(),B=Tt(h,I),j=B.dom,K=B.text;O?(p.preventDefault(),O.clearData(),O.setData("text/html",j.innerHTML),O.setData("text/plain",K)):Df(h,j),x&&h.dispatch(h.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}};function Af(h){return h.openStart==0&&h.openEnd==0&&h.content.childCount==1?h.content.firstChild:null}function Lf(h,b){if(h.dom.parentNode){var p=h.input.shiftKey||h.state.selection.$from.parent.type.spec.code,w=h.dom.parentNode.appendChild(document.createElement(p?"textarea":"div"));p||(w.contentEditable="true"),w.style.cssText="position: fixed; left: -10000px; top: 10px",w.focus();var x=h.input.shiftKey&&h.input.lastKeyCode!=45;setTimeout(function(){h.focus(),w.parentNode&&w.parentNode.removeChild(w),p?qo(h,w.value,null,x,b):qo(h,w.textContent,w.innerHTML,x,b)},50)}}function qo(h,b,p,w,x){var O=Te(h,b,p,w,h.state.selection.$from);if(h.someProp("handlePaste",function(j){return j(h,x,O||ke.Slice.empty)}))return!0;if(!O)return!1;var I=Af(O),B=I?h.state.tr.replaceSelectionWith(I,w):h.state.tr.replaceSelection(O);return h.dispatch(B.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function qu(h){var b=h.getData("text/plain")||h.getData("Text");if(b)return b;var p=h.getData("text/uri-list");return p?p.replace(/\r?\n/g," "):""}Xr.paste=function(h,b){var p=b;if(!(h.composing&&!cr)){var w=io?null:p.clipboardData,x=h.input.shiftKey&&h.input.lastKeyCode!=45;w&&qo(h,qu(w),w.getData("text/html"),x,p)?p.preventDefault():Lf(h,p)}};var Hu=re(function h(b,p,w){$(this,h),this.slice=b,this.move=p,this.node=w}),Rf=Lr?"altKey":"ctrlKey";function zu(h,b){var p=h.someProp("dragCopies",function(w){return!w(b)});return p??!b[Rf]}on.dragstart=function(h,b){var p=b,w=h.input.mouseDown;if(w&&w.done(),!!p.dataTransfer){var x=h.state.selection,O=x.empty?null:h.posAtCoords(pa(p)),I;if(!(O&&O.pos>=x.from&&O.pos<=(x instanceof le.NodeSelection?x.to-1:x.to))){if(w&&w.mightDrag)I=le.NodeSelection.create(h.state.doc,w.mightDrag.pos);else if(p.target&&p.target.nodeType==1){var B=h.docView.nearestDesc(p.target,!0);B&&B.node.type.spec.draggable&&B!=h.docView&&(I=le.NodeSelection.create(h.state.doc,B.posBefore))}}var j=(I||h.state.selection).content(),K=Tt(h,j),ue=K.dom,Se=K.text,me=K.slice;(!p.dataTransfer.files.length||!zt||Tr>120)&&p.dataTransfer.clearData(),p.dataTransfer.setData(io?"Text":"text/html",ue.innerHTML),p.dataTransfer.effectAllowed="copyMove",io||p.dataTransfer.setData("text/plain",Se),h.dragging=new Hu(me,zu(h,p),I)}},on.dragend=function(h){var b=h.dragging;window.setTimeout(function(){h.dragging==b&&(h.dragging=null)},50)},Xr.dragover=Xr.dragenter=function(h,b){return b.preventDefault()},Xr.drop=function(h,b){var p=b,w=h.dragging;if(h.dragging=null,!!p.dataTransfer){var x=h.posAtCoords(pa(p));if(x){var O=h.state.doc.resolve(x.pos),I=w&&w.slice;I?h.someProp("transformPasted",function(mt){I=mt(I,h)}):I=Te(h,qu(p.dataTransfer),io?null:p.dataTransfer.getData("text/html"),!1,O);var B=!!(w&&zu(h,p));if(h.someProp("handleDrop",function(mt){return mt(h,p,I||ke.Slice.empty,B)})){p.preventDefault();return}if(I){p.preventDefault();var j=I?we.dropPoint(h.state.doc,O.pos,I):O.pos;j==null&&(j=O.pos);var K=h.state.tr;if(B){var ue=w.node;ue?ue.replace(K):K.deleteSelection()}var Se=K.mapping.map(j),me=I.openStart==0&&I.openEnd==0&&I.content.childCount==1,Re=K.doc;if(me?K.replaceRangeWith(Se,Se,I.content.firstChild):K.replaceRange(Se,Se,I),!K.doc.eq(Re)){var Ge=K.doc.resolve(Se);if(me&&le.NodeSelection.isSelectable(I.content.firstChild)&&Ge.nodeAfter&&Ge.nodeAfter.sameMarkup(I.content.firstChild))K.setSelection(new le.NodeSelection(Ge));else{var ut=K.mapping.map(j);K.mapping.maps[K.mapping.maps.length-1].forEach(function(mt,Ze,sr,Kt){return ut=Kt}),K.setSelection(On(h,Ge,K.doc.resolve(ut)))}h.focus(),h.dispatch(K.setMeta("uiEvent","drop"))}}}}},on.focus=function(h){h.input.lastFocus=Date.now(),h.focused||(h.domObserver.stop(),h.dom.classList.add("ProseMirror-focused"),h.domObserver.start(),h.focused=!0,setTimeout(function(){h.docView&&h.hasFocus()&&!h.domObserver.currentSelection.eq(h.domSelectionRange())&&zn(h)},20))},on.blur=function(h,b){var p=b;h.focused&&(h.domObserver.stop(),h.dom.classList.remove("ProseMirror-focused"),h.domObserver.start(),p.relatedTarget&&h.dom.contains(p.relatedTarget)&&h.domObserver.currentSelection.clear(),h.focused=!1)},on.beforeinput=function(h,b){var p=b;if(zt&&cr&&p.inputType=="deleteContentBackward"){h.domObserver.flushSoon();var w=h.input.domChangeCount;setTimeout(function(){if(h.input.domChangeCount==w&&(h.dom.blur(),h.focus(),!h.someProp("handleKeyDown",function(O){return O(h,Je(8,"Backspace"))}))){var x=h.state.selection.$cursor;x&&x.pos>0&&h.dispatch(h.state.tr.delete(x.pos-1,x.pos).scrollIntoView())}},50)}};for(var Ts in Xr)on[Ts]=Xr[Ts];function ea(h,b){if(h==b)return!0;for(var p in h)if(h[p]!==b[p])return!1;for(var w in b)if(!(w in h))return!1;return!0}var $u=function(){function h(b,p){$(this,h),this.toDOM=b,this.spec=p||ma,this.side=this.spec.side||0}return re(h,[{key:"map",value:function(p,w,x,O){var I=p.mapResult(w.from+O,this.side<0?-1:1),B=I.pos,j=I.deleted;return j?null:new va(B-x,B-x,this)}},{key:"valid",value:function(){return!0}},{key:"eq",value:function(p){return this==p||p instanceof h&&(this.spec.key&&this.spec.key==p.spec.key||this.toDOM==p.toDOM&&ea(this.spec,p.spec))}},{key:"destroy",value:function(p){this.spec.destroy&&this.spec.destroy(p)}}]),h}(),ao=function(){function h(b,p){$(this,h),this.attrs=b,this.spec=p||ma}return re(h,[{key:"map",value:function(p,w,x,O){var I=p.map(w.from+O,this.spec.inclusiveStart?-1:1)-x,B=p.map(w.to+O,this.spec.inclusiveEnd?1:-1)-x;return I>=B?null:new va(I,B,this)}},{key:"valid",value:function(p,w){return w.from<w.to}},{key:"eq",value:function(p){return this==p||p instanceof h&&ea(this.attrs,p.attrs)&&ea(this.spec,p.spec)}},{key:"destroy",value:function(){}}],[{key:"is",value:function(p){return p.type instanceof h}}]),h}(),Vu=function(){function h(b,p){$(this,h),this.attrs=b,this.spec=p||ma}return re(h,[{key:"map",value:function(p,w,x,O){var I=p.mapResult(w.from+O,1);if(I.deleted)return null;var B=p.mapResult(w.to+O,-1);return B.deleted||B.pos<=I.pos?null:new va(I.pos-x,B.pos-x,this)}},{key:"valid",value:function(p,w){var x=p.content.findIndex(w.from),O=x.index,I=x.offset,B;return I==w.from&&!(B=p.child(O)).isText&&I+B.nodeSize==w.to}},{key:"eq",value:function(p){return this==p||p instanceof h&&ea(this.attrs,p.attrs)&&ea(this.spec,p.spec)}},{key:"destroy",value:function(){}}]),h}(),va=function(){function h(b,p,w){$(this,h),this.from=b,this.to=p,this.type=w}return re(h,[{key:"copy",value:function(p,w){return new h(p,w,this.type)}},{key:"eq",value:function(p){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.type.eq(p.type)&&this.from+w==p.from&&this.to+w==p.to}},{key:"map",value:function(p,w,x){return this.type.map(p,this,w,x)}},{key:"spec",get:function(){return this.type.spec}},{key:"inline",get:function(){return this.type instanceof ao}},{key:"widget",get:function(){return this.type instanceof $u}}],[{key:"widget",value:function(p,w,x){return new h(p,p,new $u(w,x))}},{key:"inline",value:function(p,w,x,O){return new h(p,w,new ao(x,O))}},{key:"node",value:function(p,w,x,O){return new h(p,w,new Vu(x,O))}}]),h}(),Ra=[],ma={},sn=function(){function h(b,p){$(this,h),this.local=b.length?b:Ra,this.children=p.length?p:Ra}return re(h,[{key:"find",value:function(p,w,x){var O=[];return this.findInner(p??0,w??1e9,O,0,x),O}},{key:"findInner",value:function(p,w,x,O,I){for(var B=0;B<this.local.length;B++){var j=this.local[B];j.from<=w&&j.to>=p&&(!I||I(j.spec))&&x.push(j.copy(j.from+O,j.to+O))}for(var K=0;K<this.children.length;K+=3)if(this.children[K]<w&&this.children[K+1]>p){var ue=this.children[K]+1;this.children[K+2].findInner(p-ue,w-ue,x,O+ue,I)}}},{key:"map",value:function(p,w,x){return this==ln||p.maps.length==0?this:this.mapInner(p,w,0,0,x||ma)}},{key:"mapInner",value:function(p,w,x,O,I){for(var B,j=0;j<this.local.length;j++){var K=this.local[j].map(p,x,O);K&&K.type.valid(w,K)?(B||(B=[])).push(K):I.onRemove&&I.onRemove(this.local[j].spec)}return this.children.length?If(this.children,B||[],p,w,x,O,I):B?new h(B.sort(Bi),Ra):ln}},{key:"add",value:function(p,w){return w.length?this==ln?h.create(p,w):this.addInner(p,w,0):this}},{key:"addInner",value:function(p,w,x){var O=this,I,B=0;p.forEach(function(ue,Se){var me=Se+x,Re;if(Re=oo(w,ue,me)){for(I||(I=O.children.slice());B<I.length&&I[B]<Se;)B+=3;I[B]==Se?I[B+2]=I[B+2].addInner(ue,Re,me+1):I.splice(B,0,Se,Se+ue.nodeSize,Es(Re,ue,me+1,ma)),B+=3}});for(var j=kl(B?so(w):w,-x),K=0;K<j.length;K++)j[K].type.valid(p,j[K])||j.splice(K--,1);return new h(j.length?this.local.concat(j).sort(Bi):this.local,I||this.children)}},{key:"remove",value:function(p){return p.length==0||this==ln?this:this.removeInner(p,0)}},{key:"removeInner",value:function(p,w){for(var x=this.children,O=this.local,I=0;I<x.length;I+=3){for(var B=void 0,j=x[I]+w,K=x[I+1]+w,ue=0,Se;ue<p.length;ue++)(Se=p[ue])&&Se.from>j&&Se.to<K&&(p[ue]=null,(B||(B=[])).push(Se));if(B){x==this.children&&(x=this.children.slice());var me=x[I+2].removeInner(B,j+1);me!=ln?x[I+2]=me:(x.splice(I,3),I-=3)}}if(O.length){for(var Re=0,Ge;Re<p.length;Re++)if(Ge=p[Re])for(var ut=0;ut<O.length;ut++)O[ut].eq(Ge,w)&&(O==this.local&&(O=this.local.slice()),O.splice(ut--,1))}return x==this.children&&O==this.local?this:O.length||x.length?new h(O,x):ln}},{key:"forChild",value:function(p,w){if(this==ln)return this;if(w.isLeaf)return h.empty;for(var x,O,I=0;I<this.children.length;I+=3)if(this.children[I]>=p){this.children[I]==p&&(x=this.children[I+2]);break}for(var B=p+1,j=B+w.content.size,K=0;K<this.local.length;K++){var ue=this.local[K];if(ue.from<j&&ue.to>B&&ue.type instanceof ao){var Se=Math.max(B,ue.from)-B,me=Math.min(j,ue.to)-B;Se<me&&(O||(O=[])).push(ue.copy(Se,me))}}if(O){var Re=new h(O.sort(Bi),Ra);return x?new Uu([Re,x]):Re}return x||ln}},{key:"eq",value:function(p){if(this==p)return!0;if(!(p instanceof h)||this.local.length!=p.local.length||this.children.length!=p.children.length)return!1;for(var w=0;w<this.local.length;w++)if(!this.local[w].eq(p.local[w]))return!1;for(var x=0;x<this.children.length;x+=3)if(this.children[x]!=p.children[x]||this.children[x+1]!=p.children[x+1]||!this.children[x+2].eq(p.children[x+2]))return!1;return!0}},{key:"locals",value:function(p){return Cl(this.localsInner(p))}},{key:"localsInner",value:function(p){if(this==ln)return Ra;if(p.inlineContent||!this.local.some(ao.is))return this.local;for(var w=[],x=0;x<this.local.length;x++)this.local[x].type instanceof ao||w.push(this.local[x]);return w}},{key:"forEachSet",value:function(p){p(this)}}],[{key:"create",value:function(p,w){return w.length?Es(w,p,0,ma):ln}}]),h}();sn.empty=new sn([],[]),sn.removeOverlap=Cl;var ln=sn.empty,Uu=function(){function h(b){$(this,h),this.members=b}return re(h,[{key:"map",value:function(p,w){var x=this.members.map(function(O){return O.map(p,w,ma)});return h.from(x)}},{key:"forChild",value:function(p,w){if(w.isLeaf)return sn.empty;for(var x=[],O=0;O<this.members.length;O++){var I=this.members[O].forChild(p,w);I!=ln&&(I instanceof h?x=x.concat(I.members):x.push(I))}return h.from(x)}},{key:"eq",value:function(p){if(!(p instanceof h)||p.members.length!=this.members.length)return!1;for(var w=0;w<this.members.length;w++)if(!this.members[w].eq(p.members[w]))return!1;return!0}},{key:"locals",value:function(p){for(var w,x=!0,O=0;O<this.members.length;O++){var I=this.members[O].localsInner(p);if(I.length)if(!w)w=I;else{x&&(w=w.slice(),x=!1);for(var B=0;B<I.length;B++)w.push(I[B])}}return w?Cl(x?w:w.sort(Bi)):Ra}},{key:"forEachSet",value:function(p){for(var w=0;w<this.members.length;w++)this.members[w].forEachSet(p)}}],[{key:"from",value:function(p){switch(p.length){case 0:return ln;case 1:return p[0];default:return new h(p.every(function(w){return w instanceof sn})?p:p.reduce(function(w,x){return w.concat(x instanceof sn?x:x.members)},[]))}}}]),h}();function If(h,b,p,w,x,O,I){for(var B=h.slice(),j=function(ui){var Ia=0;p.maps[K].forEach(function(_i,Fi,Ei,Vt){for(var Sr=Vt-Ei-(Fi-_i),Hr=0;Hr<B.length;Hr+=3){var Dr=B[Hr+1];if(!(Dr<0||_i>Dr+ui-Ia)){var mn=B[Hr]+ui-Ia;Fi>=mn?B[Hr+1]=_i<=mn?-2:-1:_i>=ui&&Sr&&(B[Hr]+=Sr,B[Hr+1]+=Sr)}}Ia+=Sr}),ui=p.maps[K].map(ui,-1),ue=ui},K=0,ue=O;K<p.maps.length;K++)j(ue);for(var Se=!1,me=0;me<B.length;me+=3)if(B[me+1]<0){if(B[me+1]==-2){Se=!0,B[me+1]=-1;continue}var Re=p.map(h[me]+O),Ge=Re-x;if(Ge<0||Ge>=w.content.size){Se=!0;continue}var ut=p.map(h[me+1]+O,-1),mt=ut-x,Ze=w.content.findIndex(Ge),sr=Ze.index,Kt=Ze.offset,Pt=w.maybeChild(sr);if(Pt&&Kt==Ge&&Kt+Pt.nodeSize==mt){var Yt=B[me+2].mapInner(p,Pt,Re+1,h[me]+O+1,I);Yt!=ln?(B[me]=Ge,B[me+1]=mt,B[me+2]=Yt):(B[me+1]=-2,Se=!0)}else Se=!0}if(Se){var lr=ju(B,h,b,p,x,O,I),Cr=Es(lr,w,0,I);b=Cr.local;for(var un=0;un<B.length;un+=3)B[un+1]<0&&(B.splice(un,3),un-=3);for(var Wr=0,qr=0;Wr<Cr.children.length;Wr+=3){for(var An=Cr.children[Wr];qr<B.length&&B[qr]<An;)qr+=3;B.splice(qr,0,Cr.children[Wr],Cr.children[Wr+1],Cr.children[Wr+2])}}return new sn(b.sort(Bi),B)}function kl(h,b){if(!b||!h.length)return h;for(var p=[],w=0;w<h.length;w++){var x=h[w];p.push(new va(x.from+b,x.to+b,x.type))}return p}function ju(h,b,p,w,x,O,I){function B(K,ue){for(var Se=0;Se<K.local.length;Se++){var me=K.local[Se].map(w,x,ue);me?p.push(me):I.onRemove&&I.onRemove(K.local[Se].spec)}for(var Re=0;Re<K.children.length;Re+=3)B(K.children[Re+2],K.children[Re]+ue+1)}for(var j=0;j<h.length;j+=3)h[j+1]==-1&&B(h[j+2],b[j]+O+1);return p}function oo(h,b,p){if(b.isLeaf)return null;for(var w=p+b.nodeSize,x=null,O=0,I;O<h.length;O++)(I=h[O])&&I.from>p&&I.to<w&&((x||(x=[])).push(I),h[O]=null);return x}function so(h){for(var b=[],p=0;p<h.length;p++)h[p]!=null&&b.push(h[p]);return b}function Es(h,b,p,w){var x=[],O=!1;b.forEach(function(j,K){var ue=oo(h,j,K+p);if(ue){O=!0;var Se=Es(ue,j,p+K+1,w);Se!=ln&&x.push(K,K+j.nodeSize,Se)}});for(var I=kl(O?so(h):h,-p).sort(Bi),B=0;B<I.length;B++)I[B].type.valid(b,I[B])||(w.onRemove&&w.onRemove(I[B].spec),I.splice(B--,1));return I.length||x.length?new sn(I,x):ln}function Bi(h,b){return h.from-b.from||h.to-b.to}function Cl(h){for(var b=h,p=0;p<b.length-1;p++){var w=b[p];if(w.from!=w.to)for(var x=p+1;x<b.length;x++){var O=b[x];if(O.from==w.from){O.to!=w.to&&(b==h&&(b=h.slice()),b[x]=O.copy(O.from,w.to),Sl(b,x+1,O.copy(w.to,O.to)));continue}else{O.from<w.to&&(b==h&&(b=h.slice()),b[p]=w.copy(w.from,O.from),Sl(b,x,w.copy(O.from,w.to)));break}}}return b}function Sl(h,b,p){for(;b<h.length&&Bi(p,h[b])>0;)b++;h.splice(b,0,p)}function Ho(h){var b=[];return h.someProp("decorations",function(p){var w=p(h.state);w&&w!=ln&&b.push(w)}),h.cursorWrapper&&b.push(sn.create(h.state.doc,[h.cursorWrapper.deco])),Uu.from(b)}var xl={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Wu=qe&&ot<=11,Gu=function(){function h(){$(this,h),this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}return re(h,[{key:"set",value:function(p){this.anchorNode=p.anchorNode,this.anchorOffset=p.anchorOffset,this.focusNode=p.focusNode,this.focusOffset=p.focusOffset}},{key:"clear",value:function(){this.anchorNode=this.focusNode=null}},{key:"eq",value:function(p){return p.anchorNode==this.anchorNode&&p.anchorOffset==this.anchorOffset&&p.focusNode==this.focusNode&&p.focusOffset==this.focusOffset}}]),h}(),Ju=function(){function h(b,p){var w=this;$(this,h),this.view=b,this.handleDOMChange=p,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Gu,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(function(x){for(var O=0;O<x.length;O++)w.queue.push(x[O]);qe&&ot<=11&&x.some(function(I){return I.type=="childList"&&I.removedNodes.length||I.type=="characterData"&&I.oldValue.length>I.target.nodeValue.length})?w.flushSoon():w.flush()}),Wu&&(this.onCharData=function(x){w.queue.push({target:x.target,type:"characterData",oldValue:x.prevValue}),w.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}return re(h,[{key:"flushSoon",value:function(){var p=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(function(){p.flushingSoon=-1,p.flush()},20))}},{key:"forceFlush",value:function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}},{key:"start",value:function(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,xl)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}},{key:"stop",value:function(){var p=this;if(this.observer){var w=this.observer.takeRecords();if(w.length){for(var x=0;x<w.length;x++)this.queue.push(w[x]);window.setTimeout(function(){return p.flush()},20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}},{key:"connectSelection",value:function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}},{key:"disconnectSelection",value:function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}},{key:"suppressSelectionUpdates",value:function(){var p=this;this.suppressingSelectionUpdates=!0,setTimeout(function(){return p.suppressingSelectionUpdates=!1},50)}},{key:"onSelectionChange",value:function(){if(Io(this.view)){if(this.suppressingSelectionUpdates)return zn(this.view);if(qe&&ot<=11&&!this.view.state.selection.empty){var p=this.view.domSelectionRange();if(p.focusNode&&It(p.focusNode,p.focusOffset,p.anchorNode,p.anchorOffset))return this.flushSoon()}this.flush()}}},{key:"setCurSelection",value:function(){this.currentSelection.set(this.view.domSelectionRange())}},{key:"ignoreSelectionChange",value:function(p){if(!p.focusNode)return!0;for(var w=new Set,x,O=p.focusNode;O;O=je(O))w.add(O);for(var I=p.anchorNode;I;I=je(I))if(w.has(I)){x=I;break}var B=x&&this.view.docView.nearestDesc(x);if(B&&B.ignoreMutation({type:"selection",target:x.nodeType==3?x.parentNode:x}))return this.setCurSelection(),!0}},{key:"pendingRecords",value:function(){if(this.observer){var p=i(this.observer.takeRecords()),w;try{for(p.s();!(w=p.n()).done;){var x=w.value;this.queue.push(x)}}catch(O){p.e(O)}finally{p.f()}}return this.queue}},{key:"flush",value:function(){var p=this.view;if(!(!p.docView||this.flushingSoon>-1)){var w=this.pendingRecords();w.length&&(this.queue=[]);var x=p.domSelectionRange(),O=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(x)&&Io(p)&&!this.ignoreSelectionChange(x),I=-1,B=-1,j=!1,K=[];if(p.editable)for(var ue=0;ue<w.length;ue++){var Se=this.registerMutation(w[ue],K);Se&&(I=I<0?Se.from:Math.min(Se.from,I),B=B<0?Se.to:Math.max(Se.to,B),Se.typeOver&&(j=!0))}if(Ht&&K.length){var me=K.filter(function(lr){return lr.nodeName=="BR"});if(me.length==2){var Re=r(me,2),Ge=Re[0],ut=Re[1];Ge.parentNode&&Ge.parentNode.parentNode==ut.parentNode?ut.remove():Ge.remove()}else{var mt=this.currentSelection.focusNode,Ze=i(me),sr;try{for(Ze.s();!(sr=Ze.n()).done;){var Kt=sr.value,Pt=Kt.parentNode;Pt&&Pt.nodeName=="LI"&&(!mt||li(p,mt)!=Pt)&&Kt.remove()}}catch(lr){Ze.e(lr)}finally{Ze.f()}}}var Yt=null;I<0&&O&&p.input.lastFocus>Date.now()-200&&Math.max(p.input.lastTouch,p.input.lastClick.time)<Date.now()-300&&Ve(x)&&(Yt=Mn(p))&&Yt.eq(le.Selection.near(p.state.doc.resolve(0),1))?(p.input.lastFocus=0,zn(p),this.currentSelection.set(x),p.scrollToSelection()):(I>-1||O)&&(I>-1&&(p.docView.markDirty(I,B),Pf(p)),this.handleDOMChange(I,B,j,K),p.docView&&p.docView.dirty?p.updateState(p.state):this.currentSelection.eq(x)||zn(p),this.currentSelection.set(x))}}},{key:"registerMutation",value:function(p,w){if(w.indexOf(p.target)>-1)return null;var x=this.view.docView.nearestDesc(p.target);if(p.type=="attributes"&&(x==this.view.docView||p.attributeName=="contenteditable"||p.attributeName=="style"&&!p.oldValue&&!p.target.getAttribute("style"))||!x||x.ignoreMutation(p))return null;if(p.type=="childList"){for(var O=0;O<p.addedNodes.length;O++){var I=p.addedNodes[O];w.push(I),I.nodeType==3&&(this.lastChangedTextNode=I)}if(x.contentDOM&&x.contentDOM!=x.dom&&!x.contentDOM.contains(p.target))return{from:x.posBefore,to:x.posAfter};var B=p.previousSibling,j=p.nextSibling;if(qe&&ot<=11&&p.addedNodes.length)for(var K=0;K<p.addedNodes.length;K++){var ue=p.addedNodes[K],Se=ue.previousSibling,me=ue.nextSibling;(!Se||Array.prototype.indexOf.call(p.addedNodes,Se)<0)&&(B=Se),(!me||Array.prototype.indexOf.call(p.addedNodes,me)<0)&&(j=me)}var Re=B&&B.parentNode==p.target?Le(B)+1:0,Ge=x.localPosFromDOM(p.target,Re,-1),ut=j&&j.parentNode==p.target?Le(j):p.target.childNodes.length,mt=x.localPosFromDOM(p.target,ut,1);return{from:Ge,to:mt}}else return p.type=="attributes"?{from:x.posAtStart-x.border,to:x.posAtEnd+x.border}:(this.lastChangedTextNode=p.target,{from:x.posAtStart,to:x.posAtEnd,typeOver:p.target.nodeValue==p.oldValue})}}]),h}(),Ku=new WeakMap,Qu=!1;function Pf(h){if(!Ku.has(h)&&(Ku.set(h,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(h.dom).whiteSpace)!==-1)){if(h.requiresGeckoHackNode=Ht,Qu)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Qu=!0}}function Xu(h,b){var p=b.startContainer,w=b.startOffset,x=b.endContainer,O=b.endOffset,I=h.domAtPos(h.state.selection.anchor);if(It(I.node,I.offset,x,O)){var B=[x,O,p,w];p=B[0],w=B[1],x=B[2],O=B[3]}return{anchorNode:p,anchorOffset:w,focusNode:x,focusOffset:O}}function Bf(h,b){if(b.getComposedRanges){var p=b.getComposedRanges(h.root)[0];if(p)return Xu(h,p)}var w;function x(O){O.preventDefault(),O.stopImmediatePropagation(),w=O.getTargetRanges()[0]}return h.dom.addEventListener("beforeinput",x,!0),document.execCommand("indent"),h.dom.removeEventListener("beforeinput",x,!0),w?Xu(h,w):null}function li(h,b){for(var p=b.parentNode;p&&p!=h.dom;p=p.parentNode){var w=h.docView.nearestDesc(p,!0);if(w&&w.node.isBlock)return p}return null}function _f(h,b,p){var w=h.docView.parseRange(b,p),x=w.node,O=w.fromOffset,I=w.toOffset,B=w.from,j=w.to,K=h.domSelectionRange(),ue,Se=K.anchorNode;if(Se&&h.dom.contains(Se.nodeType==1?Se:Se.parentNode)&&(ue=[{node:Se,offset:K.anchorOffset}],Ve(K)||ue.push({node:K.focusNode,offset:K.focusOffset})),zt&&h.input.lastKeyCode===8)for(var me=I;me>O;me--){var Re=x.childNodes[me-1],Ge=Re.pmViewDesc;if(Re.nodeName=="BR"&&!Ge){I=me;break}if(!Ge||Ge.size)break}var ut=h.state.doc,mt=h.someProp("domParser")||ke.DOMParser.fromSchema(h.state.schema),Ze=ut.resolve(B),sr=null,Kt=mt.parse(x,{topNode:Ze.parent,topMatch:Ze.parent.contentMatchAt(Ze.index()),topOpen:!0,from:O,to:I,preserveWhitespace:Ze.parent.type.whitespace=="pre"?"full":!0,findPositions:ue,ruleFromNode:zo,context:Ze});if(ue&&ue[0].pos!=null){var Pt=ue[0].pos,Yt=ue[1]&&ue[1].pos;Yt==null&&(Yt=Pt),sr={anchor:Pt+B,head:Yt+B}}return{doc:Kt,sel:sr,from:B,to:j}}function zo(h){var b=h.pmViewDesc;if(b)return b.parseRule();if(h.nodeName=="BR"&&h.parentNode){if(tr&&/^(ul|ol)$/i.test(h.parentNode.nodeName)){var p=document.createElement("div");return p.appendChild(document.createElement("li")),{skip:p}}else if(h.parentNode.lastChild==h||tr&&/^(tr|table)$/i.test(h.parentNode.nodeName))return{ignore:!0}}else if(h.nodeName=="IMG"&&h.getAttribute("mark-placeholder"))return{ignore:!0};return null}var Yu=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Zu(h,b,p,w,x){var O=h.input.compositionPendingChanges||(h.composing?h.input.compositionID:0);if(h.input.compositionPendingChanges=0,b<0){var I=h.input.lastSelectionTime>Date.now()-50?h.input.lastSelectionOrigin:null,B=Mn(h,I);if(B&&!h.state.selection.eq(B)){if(zt&&cr&&h.input.lastKeyCode===13&&Date.now()-100<h.input.lastKeyCodeTime&&h.someProp("handleKeyDown",function(Vt){return Vt(h,Je(13,"Enter"))}))return;var j=h.state.tr.setSelection(B);I=="pointer"?j.setMeta("pointer",!0):I=="key"&&j.scrollIntoView(),O&&j.setMeta("composition",O),h.dispatch(j)}return}var K=h.state.doc.resolve(b),ue=K.sharedDepth(p);b=K.before(ue+1),p=h.state.doc.resolve(p).after(ue+1);var Se=h.state.selection,me=_f(h,b,p),Re=h.state.doc,Ge=Re.slice(me.from,me.to),ut,mt;h.input.lastKeyCode===8&&Date.now()-100<h.input.lastKeyCodeTime?(ut=h.state.selection.to,mt="end"):(ut=h.state.selection.from,mt="start"),h.input.lastKeyCode=null;var Ze=lo(Ge.content,me.doc.content,me.from,ut,mt);if(Ze&&h.input.domChangeCount++,(Vr&&h.input.lastIOSEnter>Date.now()-225||cr)&&x.some(function(Vt){return Vt.nodeType==1&&!Yu.test(Vt.nodeName)})&&(!Ze||Ze.endA>=Ze.endB)&&h.someProp("handleKeyDown",function(Vt){return Vt(h,Je(13,"Enter"))})){h.input.lastIOSEnter=0;return}if(!Ze)if(w&&Se instanceof le.TextSelection&&!Se.empty&&Se.$head.sameParent(Se.$anchor)&&!h.composing&&!(me.sel&&me.sel.anchor!=me.sel.head))Ze={start:Se.from,endA:Se.to,endB:Se.to};else{if(me.sel){var sr=Tl(h,h.state.doc,me.sel);if(sr&&!sr.eq(h.state.selection)){var Kt=h.state.tr.setSelection(sr);O&&Kt.setMeta("composition",O),h.dispatch(Kt)}}return}h.state.selection.from<h.state.selection.to&&Ze.start==Ze.endB&&h.state.selection instanceof le.TextSelection&&(Ze.start>h.state.selection.from&&Ze.start<=h.state.selection.from+2&&h.state.selection.from>=me.from?Ze.start=h.state.selection.from:Ze.endA<h.state.selection.to&&Ze.endA>=h.state.selection.to-2&&h.state.selection.to<=me.to&&(Ze.endB+=h.state.selection.to-Ze.endA,Ze.endA=h.state.selection.to)),qe&&ot<=11&&Ze.endB==Ze.start+1&&Ze.endA==Ze.start&&Ze.start>me.from&&me.doc.textBetween(Ze.start-me.from-1,Ze.start-me.from+1)==" "&&(Ze.start--,Ze.endA--,Ze.endB--);var Pt=me.doc.resolveNoCache(Ze.start-me.from),Yt=me.doc.resolveNoCache(Ze.endB-me.from),lr=Re.resolve(Ze.start),Cr=Pt.sameParent(Yt)&&Pt.parent.inlineContent&&lr.end()>=Ze.endA,un;if((Vr&&h.input.lastIOSEnter>Date.now()-225&&(!Cr||x.some(function(Vt){return Vt.nodeName=="DIV"||Vt.nodeName=="P"}))||!Cr&&Pt.pos<me.doc.content.size&&(!Pt.sameParent(Yt)||!Pt.parent.inlineContent)&&!/\S/.test(me.doc.textBetween(Pt.pos,Yt.pos,"",""))&&(un=le.Selection.findFrom(me.doc.resolve(Pt.pos+1),1,!0))&&un.head>Pt.pos)&&h.someProp("handleKeyDown",function(Vt){return Vt(h,Je(13,"Enter"))})){h.input.lastIOSEnter=0;return}if(h.state.selection.anchor>Ze.start&&El(Re,Ze.start,Ze.endA,Pt,Yt)&&h.someProp("handleKeyDown",function(Vt){return Vt(h,Je(8,"Backspace"))})){cr&&zt&&h.domObserver.suppressSelectionUpdates();return}zt&&Ze.endB==Ze.start&&(h.input.lastChromeDelete=Date.now()),cr&&!Cr&&Pt.start()!=Yt.start()&&Yt.parentOffset==0&&Pt.depth==Yt.depth&&me.sel&&me.sel.anchor==me.sel.head&&me.sel.head==Ze.endA&&(Ze.endB-=2,Yt=me.doc.resolveNoCache(Ze.endB-me.from),setTimeout(function(){h.someProp("handleKeyDown",function(Vt){return Vt(h,Je(13,"Enter"))})},20));var Wr=Ze.start,qr=Ze.endA,An=function(Sr){var Hr=Sr||h.state.tr.replace(Wr,qr,me.doc.slice(Ze.start-me.from,Ze.endB-me.from));if(me.sel){var Dr=Tl(h,Hr.doc,me.sel);Dr&&!(zt&&h.composing&&Dr.empty&&(Ze.start!=Ze.endB||h.input.lastChromeDelete<Date.now()-100)&&(Dr.head==Wr||Dr.head==Hr.mapping.map(qr)-1)||qe&&Dr.empty&&Dr.head==Wr)&&Hr.setSelection(Dr)}return O&&Hr.setMeta("composition",O),Hr.scrollIntoView()},Ti;if(Cr){if(Pt.pos==Yt.pos){qe&&ot<=11&&Pt.parentOffset==0&&(h.domObserver.suppressSelectionUpdates(),setTimeout(function(){return zn(h)},20));var ui=An(h.state.tr.delete(Wr,qr)),Ia=Re.resolve(Ze.start).marksAcross(Re.resolve(Ze.endA));Ia&&ui.ensureMarks(Ia),h.dispatch(ui)}else if(Ze.endA==Ze.endB&&(Ti=ec(Pt.parent.content.cut(Pt.parentOffset,Yt.parentOffset),lr.parent.content.cut(lr.parentOffset,Ze.endA-lr.start())))){var _i=An(h.state.tr);Ti.type=="add"?_i.addMark(Wr,qr,Ti.mark):_i.removeMark(Wr,qr,Ti.mark),h.dispatch(_i)}else if(Pt.parent.child(Pt.index()).isText&&Pt.index()==Yt.index()-(Yt.textOffset?0:1)){var Fi=Pt.parent.textBetween(Pt.parentOffset,Yt.parentOffset),Ei=function(){return An(h.state.tr.insertText(Fi,Wr,qr))};h.someProp("handleTextInput",function(Vt){return Vt(h,Wr,qr,Fi,Ei)})||h.dispatch(Ei())}}else h.dispatch(An())}function Tl(h,b,p){return Math.max(p.anchor,p.head)>b.content.size?null:On(h,b.resolve(p.anchor),b.resolve(p.head))}function ec(h,b){for(var p=h.firstChild.marks,w=b.firstChild.marks,x=p,O=w,I,B,j,K=0;K<w.length;K++)x=w[K].removeFromSet(x);for(var ue=0;ue<p.length;ue++)O=p[ue].removeFromSet(O);if(x.length==1&&O.length==0)B=x[0],I="add",j=function(Ge){return Ge.mark(B.addToSet(Ge.marks))};else if(x.length==0&&O.length==1)B=O[0],I="remove",j=function(Ge){return Ge.mark(B.removeFromSet(Ge.marks))};else return null;for(var Se=[],me=0;me<b.childCount;me++)Se.push(j(b.child(me)));if(ke.Fragment.from(Se).eq(h))return{mark:B,type:I}}function El(h,b,p,w,x){if(p-b<=x.pos-w.pos||Nl(w,!0,!1)<x.pos)return!1;var O=h.resolve(b);if(!w.parent.isTextblock){var I=O.nodeAfter;return I!=null&&p==b+I.nodeSize}if(O.parentOffset<O.parent.content.size||!O.parent.isTextblock)return!1;var B=h.resolve(Nl(O,!0,!0));return!B.parent.isTextblock||B.pos>p||Nl(B,!0,!1)<p?!1:w.parent.content.cut(w.parentOffset).eq(B.parent.content)}function Nl(h,b,p){for(var w=h.depth,x=b?h.end():h.pos;w>0&&(b||h.indexAfter(w)==h.node(w).childCount);)w--,x++,b=!1;if(p)for(var O=h.node(w).maybeChild(h.indexAfter(w));O&&!O.isLeaf;)O=O.firstChild,x++;return x}function lo(h,b,p,w,x){var O=h.findDiffStart(b,p);if(O==null)return null;var I=h.findDiffEnd(b,p+h.size,p+b.size),B=I.a,j=I.b;if(x=="end"){var K=Math.max(0,O-Math.min(B,j));w-=B+K-O}if(B<O&&h.size<b.size){var ue=w<=O&&w>=B?O-w:0;O-=ue,O&&O<b.size&&Ns(b.textBetween(O-1,O+1))&&(O+=ue?1:-1),j=O+(j-B),B=O}else if(j<O){var Se=w<=O&&w>=j?O-w:0;O-=Se,O&&O<h.size&&Ns(h.textBetween(O-1,O+1))&&(O+=Se?1:-1),B=O+(B-j),j=O}return{start:O,endA:B,endB:j}}function Ns(h){if(h.length!=2)return!1;var b=h.charCodeAt(0),p=h.charCodeAt(1);return b>=56320&&b<=57343&&p>=55296&&p<=56319}var $o=Te,Ml=Fo,Ol=function(){function h(b,p){var w=this;$(this,h),this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Ru,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=p,this.state=p.state,this.directPlugins=p.plugins||[],this.directPlugins.forEach(Nr),this.dispatch=this.dispatch.bind(this),this.dom=b&&b.mount||document.createElement("div"),b&&(b.appendChild?b.appendChild(this.dom):typeof b=="function"?b(this.dom):b.mount&&(this.mounted=!0)),this.editable=uo(this),Ms(this),this.nodeViews=Al(this),this.docView=M(this.state.doc,Dl(this),Ho(this),this.dom,this),this.domObserver=new Ju(this,function(x,O,I,B){return Zu(w,x,O,I,B)}),this.domObserver.start(),jn(this),this.updatePluginViews()}return re(h,[{key:"composing",get:function(){return this.input.composing}},{key:"props",get:function(){if(this._props.state!=this.state){var p=this._props;this._props={};for(var w in p)this._props[w]=p[w];this._props.state=this.state}return this._props}},{key:"update",value:function(p){p.handleDOMEvents!=this._props.handleDOMEvents&&La(this);var w=this._props;this._props=p,p.plugins&&(p.plugins.forEach(Nr),this.directPlugins=p.plugins),this.updateStateInner(p.state,w)}},{key:"setProps",value:function(p){var w={};for(var x in this._props)w[x]=this._props[x];w.state=this.state;for(var O in p)w[O]=p[O];this.update(w)}},{key:"updateState",value:function(p){this.updateStateInner(p,this._props)}},{key:"updateStateInner",value:function(p,w){var x,O=this.state,I=!1,B=!1;p.storedMarks&&this.composing&&(Fu(this),B=!0),this.state=p;var j=O.plugins!=p.plugins||this._props.plugins!=w.plugins;if(j||this._props.plugins!=w.plugins||this._props.nodeViews!=w.nodeViews){var K=Al(this);tc(K,this.nodeViews)&&(this.nodeViews=K,I=!0)}(j||w.handleDOMEvents!=this._props.handleDOMEvents)&&La(this),this.editable=uo(this),Ms(this);var ue=Ho(this),Se=Dl(this),me=O.plugins!=p.plugins&&!O.doc.eq(p.doc)?"reset":p.scrollToSelection>O.scrollToSelection?"to selection":"preserve",Re=I||!this.docView.matchesNode(p.doc,Se,ue);(Re||!p.selection.eq(O.selection))&&(B=!0);var Ge=me=="preserve"&&B&&this.dom.style.overflowAnchor==null&&qt(this);if(B){this.domObserver.stop();var ut=Re&&(qe||zt)&&!this.composing&&!O.selection.empty&&!p.selection.empty&&Ff(O.selection,p.selection);if(Re){var mt=zt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=bl(this)),(I||!this.docView.update(p.doc,Se,ue,this))&&(this.docView.updateOuterDeco(Se),this.docView.destroy(),this.docView=M(p.doc,Se,ue,this.dom,this)),mt&&!this.trackWrites&&(ut=!0)}ut||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Vn(this))?zn(this,ut):(ca(this,p.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(O),!((x=this.dragging)===null||x===void 0)&&x.node&&!O.doc.eq(p.doc)&&this.updateDraggedNode(this.dragging,O),me=="reset"?this.dom.scrollTop=0:me=="to selection"?this.scrollToSelection():Ge&&or(Ge)}},{key:"scrollToSelection",value:function(){var p=this,w=this.domSelectionRange().focusNode;if(!(!w||!this.dom.contains(w.nodeType==1?w:w.parentNode))){if(!this.someProp("handleScrollToSelection",function(O){return O(p)}))if(this.state.selection instanceof le.NodeSelection){var x=this.docView.domAfterPos(this.state.selection.from);x.nodeType==1&&pt(this,x.getBoundingClientRect(),w)}else pt(this,this.coordsAtPos(this.state.selection.head,1),w)}}},{key:"destroyPluginViews",value:function(){for(var p;p=this.pluginViews.pop();)p.destroy&&p.destroy()}},{key:"updatePluginViews",value:function(p){if(!p||p.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(var w=0;w<this.directPlugins.length;w++){var x=this.directPlugins[w];x.spec.view&&this.pluginViews.push(x.spec.view(this))}for(var O=0;O<this.state.plugins.length;O++){var I=this.state.plugins[O];I.spec.view&&this.pluginViews.push(I.spec.view(this))}}else for(var B=0;B<this.pluginViews.length;B++){var j=this.pluginViews[B];j.update&&j.update(this,p)}}},{key:"updateDraggedNode",value:function(p,w){var x=p.node,O=-1;if(this.state.doc.nodeAt(x.from)==x.node)O=x.from;else{var I=x.from+(this.state.doc.content.size-w.doc.content.size),B=I>0&&this.state.doc.nodeAt(I);B==x.node&&(O=I)}this.dragging=new Hu(p.slice,p.move,O<0?void 0:le.NodeSelection.create(this.state.doc,O))}},{key:"someProp",value:function(p,w){var x=this._props&&this._props[p],O;if(x!=null&&(O=w?w(x):x))return O;for(var I=0;I<this.directPlugins.length;I++){var B=this.directPlugins[I].props[p];if(B!=null&&(O=w?w(B):B))return O}var j=this.state.plugins;if(j)for(var K=0;K<j.length;K++){var ue=j[K].props[p];if(ue!=null&&(O=w?w(ue):ue))return O}}},{key:"hasFocus",value:function(){if(qe){var p=this.root.activeElement;if(p==this.dom)return!0;if(!p||!this.dom.contains(p))return!1;for(;p&&this.dom!=p&&this.dom.contains(p);){if(p.contentEditable=="false")return!1;p=p.parentElement}return!0}return this.root.activeElement==this.dom}},{key:"focus",value:function(){this.domObserver.stop(),this.editable&&Er(this.dom),zn(this),this.domObserver.start()}},{key:"root",get:function(){var p=this,w=this._root;if(w==null){for(var x=function(j){if(j.nodeType==9||j.nodeType==11&&j.host)return j.getSelection||(Object.getPrototypeOf(j).getSelection=function(){return j.ownerDocument.getSelection()}),{v:p._root=j}},O,I=this.dom.parentNode;I;I=I.parentNode)if(O=x(I),O)return O.v}return w||document}},{key:"updateRoot",value:function(){this._root=null}},{key:"posAtCoords",value:function(p){return vn(this,p)}},{key:"coordsAtPos",value:function(p){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return dr(this,p,w)}},{key:"domAtPos",value:function(p){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.docView.domFromPos(p,w)}},{key:"nodeDOM",value:function(p){var w=this.docView.descAt(p);return w?w.nodeDOM:null}},{key:"posAtDOM",value:function(p,w){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,O=this.docView.posFromDOM(p,w,x);if(O==null)throw new RangeError("DOM position not inside the editor");return O}},{key:"endOfTextblock",value:function(p,w){return ze(this,w||this.state,p)}},{key:"pasteHTML",value:function(p,w){return qo(this,"",p,!1,w||new ClipboardEvent("paste"))}},{key:"pasteText",value:function(p,w){return qo(this,p,null,!0,w||new ClipboardEvent("paste"))}},{key:"serializeForClipboard",value:function(p){return Tt(this,p)}},{key:"destroy",value:function(){this.docView&&(pl(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Ho(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,St())}},{key:"isDestroyed",get:function(){return this.docView==null}},{key:"dispatchEvent",value:function(p){return gl(this,p)}},{key:"domSelectionRange",value:function(){var p=this.domSelection();return p?tr&&this.root.nodeType===11&&dt(this.dom.ownerDocument)==this.dom&&Bf(this,p)||p:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}},{key:"domSelection",value:function(){return this.root.getSelection()}}]),h}();Ol.prototype.dispatch=function(h){var b=this._props.dispatchTransaction;b?b.call(this,h):this.updateState(this.state.apply(h))};function Dl(h){var b=Object.create(null);return b.class="ProseMirror",b.contenteditable=String(h.editable),h.someProp("attributes",function(p){if(typeof p=="function"&&(p=p(h.state)),p)for(var w in p)w=="class"?b.class+=" "+p[w]:w=="style"?b.style=(b.style?b.style+";":"")+p[w]:!b[w]&&w!="contenteditable"&&w!="nodeName"&&(b[w]=String(p[w]))}),b.translate||(b.translate="no"),[va.node(0,h.state.doc.content.size,b)]}function Ms(h){if(h.markCursor){var b=document.createElement("img");b.className="ProseMirror-separator",b.setAttribute("mark-placeholder","true"),b.setAttribute("alt",""),h.cursorWrapper={dom:b,deco:va.widget(h.state.selection.from,b,{raw:!0,marks:h.markCursor})}}else h.cursorWrapper=null}function uo(h){return!h.someProp("editable",function(b){return b(h.state)===!1})}function Ff(h,b){var p=Math.min(h.$anchor.sharedDepth(h.head),b.$anchor.sharedDepth(b.head));return h.$anchor.start(p)!=b.$anchor.start(p)}function Al(h){var b=Object.create(null);function p(w){for(var x in w)Object.prototype.hasOwnProperty.call(b,x)||(b[x]=w[x])}return h.someProp("nodeViews",p),h.someProp("markViews",p),b}function tc(h,b){var p=0,w=0;for(var x in h){if(h[x]!=b[x])return!0;p++}for(var O in b)w++;return p!=w}function Nr(h){if(h.spec.state||h.spec.filterTransaction||h.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}return ou.Decoration=va,ou.DecorationSet=sn,ou.EditorView=Ol,ou.__endComposition=Ml,ou.__parseFromClipboard=$o,ou}/*!
 * @toast-ui/editor
 * @version 3.2.2 | Fri Feb 17 2023
 * @author NHN Cloud FE Development Lab <dl_javascript@nhn.com>
 * @license MIT
 */var Nx;function FQe(){return Nx||(Nx=1,function(r,e){(function(n,i){r.exports=i(IQe(),BQe(),Fm(),qm(),_Qe())})(self,function(t,n,i,a,o){return function(){var l={368:function(y){/*! @license DOMPurify 2.3.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.3/LICENSE */(function(T,N){y.exports=N()})(this,function(){function T(ht){if(Array.isArray(ht)){for(var pt=0,qt=Array(ht.length);pt<ht.length;pt++)qt[pt]=ht[pt];return qt}else return Array.from(ht)}var N=Object.hasOwnProperty,E=Object.setPrototypeOf,P=Object.isFrozen,L=Object.getPrototypeOf,$=Object.getOwnPropertyDescriptor,ee=Object.freeze,re=Object.seal,se=Object.create,ve=typeof Reflect<"u"&&Reflect,le=ve.apply,ke=ve.construct;le||(le=function(pt,qt,Ut){return pt.apply(qt,Ut)}),ee||(ee=function(pt){return pt}),re||(re=function(pt){return pt}),ke||(ke=function(pt,qt){return new(Function.prototype.bind.apply(pt,[null].concat(T(qt))))});var we=We(Array.prototype.forEach),Le=We(Array.prototype.pop),je=We(Array.prototype.push),Nt=We(String.prototype.toLowerCase),et=We(String.prototype.match),St=We(String.prototype.replace),It=We(String.prototype.indexOf),Mt=We(String.prototype.trim),Lt=We(RegExp.prototype.test),be=Ot(TypeError);function We(ht){return function(pt){for(var qt=arguments.length,Ut=Array(qt>1?qt-1:0),or=1;or<qt;or++)Ut[or-1]=arguments[or];return le(ht,pt,Ut)}}function Ot(ht){return function(){for(var pt=arguments.length,qt=Array(pt),Ut=0;Ut<pt;Ut++)qt[Ut]=arguments[Ut];return ke(ht,qt)}}function st(ht,pt){E&&E(ht,null);for(var qt=pt.length;qt--;){var Ut=pt[qt];if(typeof Ut=="string"){var or=Nt(Ut);or!==Ut&&(P(pt)||(pt[qt]=or),Ut=or)}ht[Ut]=!0}return ht}function Ie(ht){var pt=se(null),qt=void 0;for(qt in ht)le(N,ht,[qt])&&(pt[qt]=ht[qt]);return pt}function Ve(ht,pt){for(;ht!==null;){var qt=$(ht,pt);if(qt){if(qt.get)return We(qt.get);if(typeof qt.value=="function")return We(qt.value)}ht=L(ht)}function Ut(or){return console.warn("fallback value for",or),null}return Ut}var Je=ee(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),dt=ee(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),xt=ee(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Oe=ee(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ee=ee(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),fe=ee(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ye=ee(["#text"]),de=ee(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Pe=ee(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),qe=ee(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ot=ee(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ht=re(/\{\{[\s\S]*|[\s\S]*\}\}/gm),Gt=re(/<%[\s\S]*|[\s\S]*%>/gm),zt=re(/^data-[\-\w.\u00B7-\uFFFF]/),Tr=re(/^aria-[\-\w]+$/),tr=re(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Vr=re(/^(?:\w+script|data):/i),Lr=re(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Br=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ht){return typeof ht}:function(ht){return ht&&typeof Symbol=="function"&&ht.constructor===Symbol&&ht!==Symbol.prototype?"symbol":typeof ht};function cr(ht){if(Array.isArray(ht)){for(var pt=0,qt=Array(ht.length);pt<ht.length;pt++)qt[pt]=ht[pt];return qt}else return Array.from(ht)}var _r=function(){return typeof window>"u"?null:window},Ii=function(pt,qt){if((typeof pt>"u"?"undefined":Br(pt))!=="object"||typeof pt.createPolicy!="function")return null;var Ut=null,or="data-tt-policy-suffix";qt.currentScript&&qt.currentScript.hasAttribute(or)&&(Ut=qt.currentScript.getAttribute(or));var Qr="dompurify"+(Ut?"#"+Ut:"");try{return pt.createPolicy(Qr,{createHTML:function(Er){return Er}})}catch{return console.warn("TrustedTypes policy "+Qr+" could not be created."),null}};function Sn(){var ht=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_r(),pt=function(Te){return Sn(Te)};if(pt.version="2.3.3",pt.removed=[],!ht||!ht.document||ht.document.nodeType!==9)return pt.isSupported=!1,pt;var qt=ht.document,Ut=ht.document,or=ht.DocumentFragment,Qr=ht.HTMLTemplateElement,wr=ht.Node,Er=ht.Element,hn=ht.NodeFilter,pn=ht.NamedNodeMap,Rr=pn===void 0?ht.NamedNodeMap||ht.MozNamedAttrMap:pn,xn=ht.Text,bi=ht.Comment,ti=ht.DOMParser,ri=ht.trustedTypes,vn=Er.prototype,an=Ve(vn,"cloneNode"),Pr=Ve(vn,"nextSibling"),Tn=Ve(vn,"childNodes"),dr=Ve(vn,"parentNode");if(typeof Qr=="function"){var Ir=Ut.createElement("template");Ir.content&&Ir.content.ownerDocument&&(Ut=Ir.content.ownerDocument)}var X=Ii(ri,qt),Y=X&&Yr?X.createHTML(""):"",z=Ut,F=z.implementation,U=z.createNodeIterator,W=z.createDocumentFragment,ie=z.getElementsByTagName,Ne=qt.importNode,ze={};try{ze=Ie(Ut).documentMode?Ut.documentMode:{}}catch{}var he={};pt.isSupported=typeof dr=="function"&&F&&typeof F.createHTMLDocument<"u"&&ze!==9;var ae=Ht,De=Gt,_e=zt,lt=Tr,Rt=Vr,V=Lr,R=tr,k=null,M=st({},[].concat(cr(Je),cr(dt),cr(xt),cr(Ee),cr(ye))),_=null,G=st({},[].concat(cr(de),cr(Pe),cr(qe),cr(ot))),Z=null,oe=null,Ce=!0,Ae=!0,tt=!1,Ye=!1,ct=!1,Bt=!1,ir=!1,kr=!1,Hn=!1,ki=!0,Yr=!1,Ci=!0,ni=!0,En=!1,Nn={},Mn=null,Xi=st({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),zn=null,Oa=st({},["audio","video","img","source","image","track"]),Da=null,Pi=st({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Qa="http://www.w3.org/1998/Math/MathML",Ro="http://www.w3.org/2000/svg",$n="http://www.w3.org/1999/xhtml",ca=$n,Xa=!1,On=void 0,Io=["application/xhtml+xml","text/html"],Aa="text/html",Vn=void 0,ii=null,Si=Ut.createElement("form"),Yi=function(Te){ii&&ii===Te||((!Te||(typeof Te>"u"?"undefined":Br(Te))!=="object")&&(Te={}),Te=Ie(Te),k="ALLOWED_TAGS"in Te?st({},Te.ALLOWED_TAGS):M,_="ALLOWED_ATTR"in Te?st({},Te.ALLOWED_ATTR):G,Da="ADD_URI_SAFE_ATTR"in Te?st(Ie(Pi),Te.ADD_URI_SAFE_ATTR):Pi,zn="ADD_DATA_URI_TAGS"in Te?st(Ie(Oa),Te.ADD_DATA_URI_TAGS):Oa,Mn="FORBID_CONTENTS"in Te?st({},Te.FORBID_CONTENTS):Xi,Z="FORBID_TAGS"in Te?st({},Te.FORBID_TAGS):{},oe="FORBID_ATTR"in Te?st({},Te.FORBID_ATTR):{},Nn="USE_PROFILES"in Te?Te.USE_PROFILES:!1,Ce=Te.ALLOW_ARIA_ATTR!==!1,Ae=Te.ALLOW_DATA_ATTR!==!1,tt=Te.ALLOW_UNKNOWN_PROTOCOLS||!1,Ye=Te.SAFE_FOR_TEMPLATES||!1,ct=Te.WHOLE_DOCUMENT||!1,kr=Te.RETURN_DOM||!1,Hn=Te.RETURN_DOM_FRAGMENT||!1,ki=Te.RETURN_DOM_IMPORT!==!1,Yr=Te.RETURN_TRUSTED_TYPE||!1,ir=Te.FORCE_BODY||!1,Ci=Te.SANITIZE_DOM!==!1,ni=Te.KEEP_CONTENT!==!1,En=Te.IN_PLACE||!1,R=Te.ALLOWED_URI_REGEXP||R,ca=Te.NAMESPACE||$n,On=Io.indexOf(Te.PARSER_MEDIA_TYPE)===-1?On=Aa:On=Te.PARSER_MEDIA_TYPE,Vn=On==="application/xhtml+xml"?function(at){return at}:Nt,Ye&&(Ae=!1),Hn&&(kr=!0),Nn&&(k=st({},[].concat(cr(ye))),_=[],Nn.html===!0&&(st(k,Je),st(_,de)),Nn.svg===!0&&(st(k,dt),st(_,Pe),st(_,ot)),Nn.svgFilters===!0&&(st(k,xt),st(_,Pe),st(_,ot)),Nn.mathMl===!0&&(st(k,Ee),st(_,qe),st(_,ot))),Te.ADD_TAGS&&(k===M&&(k=Ie(k)),st(k,Te.ADD_TAGS)),Te.ADD_ATTR&&(_===G&&(_=Ie(_)),st(_,Te.ADD_ATTR)),Te.ADD_URI_SAFE_ATTR&&st(Da,Te.ADD_URI_SAFE_ATTR),Te.FORBID_CONTENTS&&(Mn===Xi&&(Mn=Ie(Mn)),st(Mn,Te.FORBID_CONTENTS)),ni&&(k["#text"]=!0),ct&&st(k,["html","head","body"]),k.table&&(st(k,["tbody"]),delete Z.tbody),ee&&ee(Te),ii=Te)},fa=st({},["mi","mo","mn","ms","mtext"]),Zi=st({},["foreignobject","desc","title","annotation-xml"]),ai=st({},dt);st(ai,xt),st(ai,Oe);var Ya=st({},Ee);st(Ya,fe);var ys=function(Te){var at=dr(Te);(!at||!at.tagName)&&(at={namespaceURI:$n,tagName:"template"});var wt=Nt(Te.tagName),hr=Nt(at.tagName);if(Te.namespaceURI===Ro)return at.namespaceURI===$n?wt==="svg":at.namespaceURI===Qa?wt==="svg"&&(hr==="annotation-xml"||fa[hr]):!!ai[wt];if(Te.namespaceURI===Qa)return at.namespaceURI===$n?wt==="math":at.namespaceURI===Ro?wt==="math"&&Zi[hr]:!!Ya[wt];if(Te.namespaceURI===$n){if(at.namespaceURI===Ro&&!Zi[hr]||at.namespaceURI===Qa&&!fa[hr])return!1;var Ur=st({},["title","style","font","a","script"]);return!Ya[wt]&&(Ur[wt]||!ai[wt])}return!1},Dn=function(Te){je(pt.removed,{element:Te});try{Te.parentNode.removeChild(Te)}catch{try{Te.outerHTML=Y}catch{Te.remove()}}},ws=function(Te,at){try{je(pt.removed,{attribute:at.getAttributeNode(Te),from:at})}catch{je(pt.removed,{attribute:null,from:at})}if(at.removeAttribute(Te),Te==="is"&&!_[Te])if(kr||Hn)try{Dn(at)}catch{}else try{at.setAttribute(Te,"")}catch{}},Za=function(Te){var at=void 0,wt=void 0;if(ir)Te="<remove></remove>"+Te;else{var hr=et(Te,/^[\r\n\t ]+/);wt=hr&&hr[0]}On==="application/xhtml+xml"&&(Te='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Te+"</body></html>");var Ur=X?X.createHTML(Te):Te;if(ca===$n)try{at=new ti().parseFromString(Ur,On)}catch{}if(!at||!at.documentElement){at=F.createDocument(ca,"template",null);try{at.documentElement.innerHTML=Xa?"":Ur}catch{}}var jr=at.body||at.documentElement;return Te&&wt&&jr.insertBefore(Ut.createTextNode(wt),jr.childNodes[0]||null),ca===$n?ie.call(at,ct?"html":"body")[0]:ct?at.documentElement:jr},eo=function(Te){return U.call(Te.ownerDocument||Te,Te,hn.SHOW_ELEMENT|hn.SHOW_COMMENT|hn.SHOW_TEXT,null,!1)},mr=function(Te){return Te instanceof xn||Te instanceof bi?!1:typeof Te.nodeName!="string"||typeof Te.textContent!="string"||typeof Te.removeChild!="function"||!(Te.attributes instanceof Rr)||typeof Te.removeAttribute!="function"||typeof Te.setAttribute!="function"||typeof Te.namespaceURI!="string"||typeof Te.insertBefore!="function"},Un=function(Te){return(typeof wr>"u"?"undefined":Br(wr))==="object"?Te instanceof wr:Te&&(typeof Te>"u"?"undefined":Br(Te))==="object"&&typeof Te.nodeType=="number"&&typeof Te.nodeName=="string"},oi=function(Te,at,wt){he[Te]&&we(he[Te],function(hr){hr.call(pt,at,wt,ii)})},Po=function(Te){var at=void 0;if(oi("beforeSanitizeElements",Te,null),mr(Te)||et(Te.nodeName,/[\u0080-\uFFFF]/))return Dn(Te),!0;var wt=Vn(Te.nodeName);if(oi("uponSanitizeElement",Te,{tagName:wt,allowedTags:k}),!Un(Te.firstElementChild)&&(!Un(Te.content)||!Un(Te.content.firstElementChild))&&Lt(/<[/\w]/g,Te.innerHTML)&&Lt(/<[/\w]/g,Te.textContent)||wt==="select"&&Lt(/<template/i,Te.innerHTML))return Dn(Te),!0;if(!k[wt]||Z[wt]){if(ni&&!Mn[wt]){var hr=dr(Te)||Te.parentNode,Ur=Tn(Te)||Te.childNodes;if(Ur&&hr)for(var jr=Ur.length,Fr=jr-1;Fr>=0;--Fr)hr.insertBefore(an(Ur[Fr],!0),Pr(Te))}return Dn(Te),!0}return Te instanceof Er&&!ys(Te)||(wt==="noscript"||wt==="noembed")&&Lt(/<\/no(script|embed)/i,Te.innerHTML)?(Dn(Te),!0):(Ye&&Te.nodeType===3&&(at=Te.textContent,at=St(at,ae," "),at=St(at,De," "),Te.textContent!==at&&(je(pt.removed,{element:Te.cloneNode()}),Te.textContent=at)),oi("afterSanitizeElements",Te,null),!1)},da=function(Te,at,wt){if(Ci&&(at==="id"||at==="name")&&(wt in Ut||wt in Si))return!1;if(!(Ae&&!oe[at]&&Lt(_e,at))){if(!(Ce&&Lt(lt,at))){if(!_[at]||oe[at])return!1;if(!Da[at]){if(!Lt(R,St(wt,V,""))){if(!((at==="src"||at==="xlink:href"||at==="href")&&Te!=="script"&&It(wt,"data:")===0&&zn[Te])){if(!(tt&&!Lt(Rt,St(wt,V,"")))){if(wt)return!1}}}}}}return!0},Bo=function(Te){var at=void 0,wt=void 0,hr=void 0,Ur=void 0;oi("beforeSanitizeAttributes",Te,null);var jr=Te.attributes;if(jr){var Fr={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:_};for(Ur=jr.length;Ur--;){at=jr[Ur];var si=at,xi=si.name,_o=si.namespaceURI;if(wt=Mt(at.value),hr=Vn(xi),Fr.attrName=hr,Fr.attrValue=wt,Fr.keepAttr=!0,Fr.forceKeepAttr=void 0,oi("uponSanitizeAttribute",Te,Fr),wt=Fr.attrValue,!Fr.forceKeepAttr&&(ws(xi,Te),!!Fr.keepAttr)){if(Lt(/\/>/i,wt)){ws(xi,Te);continue}Ye&&(wt=St(wt,ae," "),wt=St(wt,De," "));var bs=Vn(Te.nodeName);if(da(bs,hr,wt))try{_o?Te.setAttributeNS(_o,xi,wt):Te.setAttribute(xi,wt),Le(pt.removed)}catch{}}}oi("afterSanitizeAttributes",Te,null)}},to=function Tt(Te){var at=void 0,wt=eo(Te);for(oi("beforeSanitizeShadowDOM",Te,null);at=wt.nextNode();)oi("uponSanitizeShadowNode",at,null),!Po(at)&&(at.content instanceof or&&Tt(at.content),Bo(at));oi("afterSanitizeShadowDOM",Te,null)};return pt.sanitize=function(Tt,Te){var at=void 0,wt=void 0,hr=void 0,Ur=void 0,jr=void 0;if(Xa=!Tt,Xa&&(Tt="<!-->"),typeof Tt!="string"&&!Un(Tt)){if(typeof Tt.toString!="function")throw be("toString is not a function");if(Tt=Tt.toString(),typeof Tt!="string")throw be("dirty is not a string, aborting")}if(!pt.isSupported){if(Br(ht.toStaticHTML)==="object"||typeof ht.toStaticHTML=="function"){if(typeof Tt=="string")return ht.toStaticHTML(Tt);if(Un(Tt))return ht.toStaticHTML(Tt.outerHTML)}return Tt}if(Bt||Yi(Te),pt.removed=[],typeof Tt=="string"&&(En=!1),!En)if(Tt instanceof wr)at=Za("<!---->"),wt=at.ownerDocument.importNode(Tt,!0),wt.nodeType===1&&wt.nodeName==="BODY"||wt.nodeName==="HTML"?at=wt:at.appendChild(wt);else{if(!kr&&!Ye&&!ct&&Tt.indexOf("<")===-1)return X&&Yr?X.createHTML(Tt):Tt;if(at=Za(Tt),!at)return kr?null:Y}at&&ir&&Dn(at.firstChild);for(var Fr=eo(En?Tt:at);hr=Fr.nextNode();)hr.nodeType===3&&hr===Ur||Po(hr)||(hr.content instanceof or&&to(hr.content),Bo(hr),Ur=hr);if(Ur=null,En)return Tt;if(kr){if(Hn)for(jr=W.call(at.ownerDocument);at.firstChild;)jr.appendChild(at.firstChild);else jr=at;return ki&&(jr=Ne.call(qt,jr,!0)),jr}var si=ct?at.outerHTML:at.innerHTML;return Ye&&(si=St(si,ae," "),si=St(si,De," ")),X&&Yr?X.createHTML(si):si},pt.setConfig=function(Tt){Yi(Tt),Bt=!0},pt.clearConfig=function(){ii=null,Bt=!1},pt.isValidAttribute=function(Tt,Te,at){ii||Yi({});var wt=Vn(Tt),hr=Vn(Te);return da(wt,hr,at)},pt.addHook=function(Tt,Te){typeof Te=="function"&&(he[Tt]=he[Tt]||[],je(he[Tt],Te))},pt.removeHook=function(Tt){he[Tt]&&Le(he[Tt])},pt.removeHooks=function(Tt){he[Tt]&&(he[Tt]=[])},pt.removeAllHooks=function(){he={}},pt}var Ar=Sn();return Ar})},928:function(y,T,N){var E=N(322);function P(L,$,ee){var re,se;if(ee=ee||0,!E($))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call($,L,ee);for(se=$.length,re=ee;ee>=0&&re<se;re+=1)if($[re]===L)return re;return-1}y.exports=P},690:function(y,T,N){var E=N(322),P=N(893),L=N(956);function $(ee,re,se){E(ee)?P(ee,re,se):L(ee,re,se)}y.exports=$},893:function(y){function T(N,E,P){var L=0,$=N.length;for(P=P||null;L<$&&E.call(P,N[L],L,N)!==!1;L+=1);}y.exports=T},956:function(y){function T(N,E,P){var L;P=P||null;for(L in N)if(N.hasOwnProperty(L)&&E.call(P,N[L],L,N)===!1)break}y.exports=T},990:function(y,T,N){var E=N(893);function P(L){var $;try{$=Array.prototype.slice.call(L)}catch{$=[],E(L,function(re){$.push(re)})}return $}y.exports=P},755:function(y){var T="_feEventKey";function N(E,P){var L=E[T],$;return L||(L=E[T]={}),$=L[P],$||($=L[P]=[]),$}y.exports=N},349:function(y,T,N){var E=N(758),P=N(690),L=N(755);function $(se,ve,le){if(E(ve)){P(ve.split(/\s+/g),function(ke){ee(se,ke,le)});return}P(ve,function(ke,we){ee(se,we,ke)})}function ee(se,ve,le){var ke=L(se,ve),we;le?(P(ke,function(Le,je){return le===Le.handler?(re(se,ve,Le.wrappedHandler),we=je,!1):!0}),ke.splice(we,1)):(P(ke,function(Le){re(se,ve,Le.wrappedHandler)}),ke.splice(0,ke.length))}function re(se,ve,le){"removeEventListener"in se?se.removeEventListener(ve,le):"detachEvent"in se&&se.detachEvent("on"+ve,le)}y.exports=$},348:function(y,T,N){var E=N(758),P=N(690),L=N(755);function $(se,ve,le,ke){if(E(ve)){P(ve.split(/\s+/g),function(we){ee(se,we,le,ke)});return}P(ve,function(we,Le){ee(se,Le,we,le)})}function ee(se,ve,le,ke){function we(Le){le.call(ke||se,Le||window.event)}"addEventListener"in se?se.addEventListener(ve,we):"attachEvent"in se&&se.attachEvent("on"+ve,we),re(se,ve,le,we)}function re(se,ve,le,ke){var we=L(se,ve),Le=!1;P(we,function(je){return je.handler===le?(Le=!0,!1):!0}),Le||we.push({handler:le,wrappedHandler:ke})}y.exports=$},24:function(y,T,N){var E=N(322),P=N(929);function L($,ee){if(ee=E(ee)?ee.join(" "):ee,ee=ee.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),P($.className.baseVal)){$.className=ee;return}$.className.baseVal=ee}y.exports=L},204:function(y,T,N){var E=N(690),P=N(928),L=N(902),$=N(24);function ee(re){var se=Array.prototype.slice.call(arguments,1),ve=re.classList,le=[],ke;if(ve){E(se,function(we){re.classList.add(we)});return}ke=L(re),ke&&(se=[].concat(ke.split(/\s+/),se)),E(se,function(we){P(we,le)<0&&le.push(we)}),$(re,le)}y.exports=ee},522:function(y,T,N){var E=N(758),P=N(690);function L($,ee,re){var se=$.style;if(E(ee)){se[ee]=re;return}P(ee,function(ve,le){se[le]=ve})}y.exports=L},902:function(y,T,N){var E=N(929);function P(L){return!L||!L.className?"":E(L.className.baseVal)?L.className:L.className.baseVal}y.exports=P},714:function(y,T,N){var E=N(928),P=N(902);function L($,ee){var re;return $.classList?$.classList.contains(ee):(re=P($).split(/\s+/),E(ee,re)>-1)}y.exports=L},471:function(y,T,N){var E=N(928),P=N(990),L=Element.prototype,$=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.msMatchesSelector||function(re){var se=this.document||this.ownerDocument;return E(this,P(se.querySelectorAll(re)))>-1};function ee(re,se){return $.call(re,se)}y.exports=ee},462:function(y,T,N){var E=N(893),P=N(928),L=N(902),$=N(24);function ee(re){var se=Array.prototype.slice.call(arguments,1),ve=re.classList,le,ke;if(ve){E(se,function(we){ve.remove(we)});return}le=L(re).split(/\s+/),ke=[],E(le,function(we){P(we,se)<0&&ke.push(we)}),$(re,ke)}y.exports=ee},969:function(y){function T(N,E){var P=Object.prototype.hasOwnProperty,L,$,ee,re;for(ee=1,re=arguments.length;ee<re;ee+=1){L=arguments[ee];for($ in L)P.call(L,$)&&(N[$]=L[$])}return N}y.exports=T},254:function(y,T,N){var E=N(956);function P(L,$){var ee=document.createElement("img"),re="";return E($,function(se,ve){re+="&"+ve+"="+se}),re=re.substring(1),ee.src=L+"?"+re,ee.style.display="none",document.body.appendChild(ee),document.body.removeChild(ee),ee}y.exports=P},391:function(y,T,N){var E=N(929),P=N(254),L=7*24*60*60*1e3;function $(re){var se=new Date().getTime();return se-re>L}function ee(re,se){var ve="https://www.google-analytics.com/collect",le=location.hostname,ke="event",we="use",Le="TOAST UI "+re+" for "+le+": Statistics",je=window.localStorage.getItem(Le);!E(window.tui)&&window.tui.usageStatistics===!1||je&&!$(je)||(window.localStorage.setItem(Le,new Date().getTime()),setTimeout(function(){(document.readyState==="interactive"||document.readyState==="complete")&&P(ve,{v:1,t:ke,tid:se,cid:le,dp:le,dh:re,el:re,ec:we})},1e3))}y.exports=ee},322:function(y){function T(N){return N instanceof Array}y.exports=T},65:function(y,T,N){var E=N(929),P=N(934);function L($){return!E($)&&!P($)}y.exports=L},404:function(y,T,N){var E=N(790);function P(L){return!E(L)}y.exports=P},294:function(y){function T(N){return N instanceof Function}y.exports=T},934:function(y){function T(N){return N===null}y.exports=T},758:function(y){function T(N){return typeof N=="string"||N instanceof String}y.exports=T},790:function(y,T,N){var E=N(65);function P(L){return E(L)&&L!==!1}y.exports=P},929:function(y){function T(N){return N===void 0}y.exports=T},479:function(y){y.exports=t},481:function(y){y.exports=n},43:function(y){y.exports=i},814:function(y){y.exports=a},311:function(y){y.exports=o}},c={};function f(y){var T=c[y];if(T!==void 0)return T.exports;var N=c[y]={exports:{}};return l[y].call(N.exports,N,N.exports,f),N.exports}(function(){f.n=function(y){var T=y&&y.__esModule?function(){return y.default}:function(){return y};return f.d(T,{a:T}),T}})(),function(){f.d=function(y,T){for(var N in T)f.o(T,N)&&!f.o(y,N)&&Object.defineProperty(y,N,{enumerable:!0,get:T[N]})}}(),function(){f.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){f.o=function(y,T){return Object.prototype.hasOwnProperty.call(y,T)}}();var v={};return function(){f.d(v,{default:function(){return Ite}});var y=function(){return y=Object.assign||function(m){for(var C,D=1,q=arguments.length;D<q;D++){C=arguments[D];for(var Q in C)Object.prototype.hasOwnProperty.call(C,Q)&&(m[Q]=C[Q])}return m},y.apply(this,arguments)};function T(g,m,C){if(arguments.length===2)for(var D=0,q=m.length,Q;D<q;D++)(Q||!(D in m))&&(Q||(Q=Array.prototype.slice.call(m,0,D)),Q[D]=m[D]);return g.concat(Q||Array.prototype.slice.call(m))}/*! *****************************************************************************
		Copyright (c) Microsoft Corporation.

		Permission to use, copy, modify, and/or distribute this software for any
		purpose with or without fee is hereby granted.

		THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		PERFORMANCE OF THIS SOFTWARE.
		***************************************************************************** */var N=function(g,m){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,D){C.__proto__=D}||function(C,D){for(var q in D)Object.prototype.hasOwnProperty.call(D,q)&&(C[q]=D[q])},N(g,m)};function E(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");N(g,m);function C(){this.constructor=g}g.prototype=m===null?Object.create(m):(C.prototype=m.prototype,new C)}var P=function(){return P=Object.assign||function(m){for(var C,D=1,q=arguments.length;D<q;D++){C=arguments[D];for(var Q in C)Object.prototype.hasOwnProperty.call(C,Q)&&(m[Q]=C[Q])}return m},P.apply(this,arguments)};function L(g,m,C){if(arguments.length===2)for(var D=0,q=m.length,Q;D<q;D++)(Q||!(D in m))&&(Q||(Q=Array.prototype.slice.call(m,0,D)),Q[D]=m[D]);return g.concat(Q||Array.prototype.slice.call(m))}var $=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof f.g<"u"?f.g:typeof self<"u"?self:{},ee={};function re(g){var m,C,D=ee[g];if(D)return D;for(D=ee[g]=[],m=0;m<128;m++)C=String.fromCharCode(m),/^[0-9a-z]$/i.test(C)?D.push(C):D.push("%"+("0"+m.toString(16).toUpperCase()).slice(-2));for(m=0;m<g.length;m++)D[g.charCodeAt(m)]=g[m];return D}function se(g,m,C){var D,q,Q,ne,ce,$e="";for(typeof m!="string"&&(C=m,m=se.defaultChars),typeof C>"u"&&(C=!0),ce=re(m),D=0,q=g.length;D<q;D++){if(Q=g.charCodeAt(D),C&&Q===37&&D+2<q&&/^[0-9a-f]{2}$/i.test(g.slice(D+1,D+3))){$e+=g.slice(D,D+3),D+=2;continue}if(Q<128){$e+=ce[Q];continue}if(Q>=55296&&Q<=57343){if(Q>=55296&&Q<=56319&&D+1<q&&(ne=g.charCodeAt(D+1),ne>=56320&&ne<=57343)){$e+=encodeURIComponent(g[D]+g[D+1]),D++;continue}$e+="%EF%BF%BD";continue}$e+=encodeURIComponent(g[D])}return $e}se.defaultChars=";/?:@&=+$,-_.!~*'()#",se.componentChars="-_.!~*'()";var ve=se,le={},ke={},we="",Le="",je="",Nt="",et="",St="",It="",Mt="",Lt="",be="",We="",Ot="",st="",Ie="",Ve="",Je="",dt="",xt="",Oe="",Ee="",fe="",ye="",de="",Pe="",qe="",ot="",Ht="&",Gt="&",zt="",Tr="",tr="",Vr="",Lr="",Br="",cr="",_r="",Ii="",Sn="",Ar="",ht="",pt="",qt="",Ut="",or="",Qr="",wr="",Er="",hn="",pn="",Rr="",xn="",bi="",ti="",ri="",vn="",an="",Pr="",Tn="",dr="",Ir="",X="",Y="'",z="",F="",U="",W="",ie="",Ne="",ze="",he="",ae="*",De="",_e="",lt="",Rt="",V="",R="",k="",M="",_="",G="",Z="",oe="",Ce="",Ae="",tt="",Ye="",ct="",Bt="",ir="",kr="",Hn="",ki="",Yr="",Ci="",ni="",En="",Nn="",Mn="",Xi="",zn="",Oa="",Da="",Pi="",Qa="",Ro="",$n="",ca="",Xa="",On="",Io="",Aa="",Vn="",ii="",Si="",Yi="",fa="",Zi="",ai="",Ya="",ys="",Dn="",ws="",Za="",eo="",mr="",Un="",oi="",Po="",da="",Bo="",to="",Tt="",Te="",at="=",wt="",hr="",Ur="",jr="",Fr="",si="",xi="",_o="",bs="",ro="",dl="",ha="",hl="",ks="",on="",Xr="",Cs="",Ru="",jn="",Wn="",pl="",La="",vl="",ml="",gl="",pa="",Ss="",xs="",no="",Sf="",xf="",yl="",Tf="",Ef="",Nf="",wl="",Iu="",Pu="",Bu="",Mf="",_u="",Fu="",bl="",Of="",Fo="",Df="",io="",Af="",Lf="",qo="",qu="",Hu="",Rf="",zu="",Ts="",ea="",$u="",ao="",Vu="",va="",Ra="",ma="",sn="\\",ln="",Uu="",If="",kl="",ju="",oo="",so="",Es="",Bi="",Cl="",Sl="",Ho="",xl="",Wu="",Gu="",Ju="",Ku="",Qu="",Pf="",Xu="",Bf="",li="",_f="",zo="",Yu="",Zu="",Tl="",ec="",El="",Nl="",lo="",Ns="",$o="",Ml="",Ol="",Dl="",Ms="",uo="",Ff="",Al="",tc="",Nr="",h="",b="",p="",w="",x="",O="",I="",B="",j="",K="",ue="",Se="",me="",Re="",Ge="",ut="",mt="",Ze="",sr="",Kt="",Pt="",Yt="",lr="",Cr="",un="",Wr="",qr="",An="",Ti="",ui="",Ia=":",_i="",Fi="",Ei="",Vt="",Sr=",",Hr="@",Dr="",mn="",Vo="",Os="",ci="",rc="",xh="",Th="",nc="",Eh="",qf="",Uo="",Hm="",Hf="",zf="",zm="",Nh="",$f="",$m="",ic="",Mh="",Oh="",Dh="",Ah="",Vf="",Vm="",Pa="",ac="",Uf="",Lh="",Ln="",Ds="",Rh="",jo="",Ll="",ga="",Ih="",Um="",ta="",oc="",sc="",As="",lc="",jf="",Wf="",Ph="",Ls="",qi="",co="",Gf="",Bh="",fo="",ho="",_h="",Rl="",Fh="",qh="",uc="",cc="",Hh="",zh="",$h="",Jf="",fc="",Il="",dc="",Vh="",hc="",Uh="",Pl="",ya="",Bl="",_l="",Wo="",Kf="",Rs="",jh="",Qf="",zr="",pc="",Ba="",po="",wa="",Wh="",Gh="",Xf="",Jh="",vc="",Yf="",Is="",Zf="",Fl="",Hi="`",ql="",Gr="",Rn="",gn="",mc="",Hl="",fi="",ed="",td="",Go="",Jo="",ba="",zl="",$l="",Kh="",Qh="",Xh="",Vl="",gc="$",Yh="",yc="",rd="",nd="",Zh="",wc="",ep="",tp="",rp="",id="",np="",ip="",jm="",ad="",bc="",Wm="",Gm="",Jm="",Km="",ra="",di="",ap="",op="",sp="",od="",lp="",sd="",up="",ld="",cp="",kc="",fp="",dp="",hp="",pp="",vp="",ud="",mp="",_a="",gp="",cd="",yp="",wp="",Ul="",Qm="",Xm="",fd="",dd="",Ym="",bp="",kp="",Zm="",Cp="",eg="",tg="",Sp="",xp="",Tp="",Ep="",Np="",hd="",pd="",Mp="",vd="",Op="",rg="",ng="",Cc="",md="",jt="",Gn="",Zr="",In="",Ko="",gd="",yn="",Sc="",Ps="",jl="",Bs="",yd="",wd="",bd="",kd="",_s="",kt="",xc="",Cd="",ka="",vo="",Wl="",Gl="",Sd="",xd="",Fa="",Jl="",Td="",Tc="",qa="",Ec="",Kl="",Nc="",Ni="",mo="",go="",Mc="",zi="",Dp="",Fs="",Ed="",ig="",Ap="",Lp="",Oc="",Nd="",qs="",Rp="",Ip="",Ql="",ag="",og="",Pp="",Bp="",Qo="=",sg="",lg="",yo="",ug="",_p="",cg="",Fp="",wo="",fg="",dg="",qp="",hg="",$i="",Md="",pg="",bo="",Dc="",Hs="",Od="",Dd="",Ad="!",vg="",mg="",Ac="",Ld="",Hp="",Rd="",gg="",Id="",Xl="",yg="",Lc="",zp="",wg="",Yl="",bg="",Rc="",s="",u="fj",d="",S="",A="",H="",J="",te="",pe="",Be="",yt="",Jt="",rt="",At="",Wt="",$t="",Me="",ge="",xe="",Ue="",Qe="",Qt="",Et="",Xt="",ar="",Zt="",ko="",kg="",IM="",PM="",BM="",_M="",FM="",qM="",HM="",zM="",$M="",VM="",UM="",jM="",WM="",GM="",JM="",KM="",QM="",XM="",YM="",ZM="",eO="",tO="",rO="",nO="",iO="",aO="",oO="",sO="",lO="",uO="",cO="",fO="",dO="",hO="",pO="",vO="",mO="",gO="",yO="",wO="",bO="",kO="",CO="",SO="",xO="",TO="",EO="",NO="",MO="",OO="",DO="",AO="",LO="",RO="",IO="",PO="`",BO="",_O="",FO="",qO="",HO="",zO="",$O="",VO="",UO="",jO="",WO="",GO="",JO="",KO="",QO=">",XO=">",YO="",ZO="",eD="",tD="",rD="",nD="",iD="",aD="",oD="",sD="",lD="",uD="",cD="",fD="",dD="",hD="",pD="",vD="",mD="",gD="",yD="",wD="",bD="",kD="^",CD="",SD="",xD="",TD="",ED="",ND="",MD="",OD="",DD="",AD="",LD="",RD="",ID="",PD="",BD="",_D="",FD="",qD="",HD="",zD="",$D="",VD="",UD="",jD="",WD="",GD="",JD="",KD="",QD="",XD="",YD="",ZD="",eA="",tA="",rA="",nA="",iA="",aA="",oA="",sA="",lA="",uA="",cA="",fA="",dA="",hA="",pA="",vA="",mA="",gA="",yA="",wA="",bA="",kA="",CA="",SA="",xA="",TA="",EA="",NA="",MA="",OA="",DA="",AA="",LA="",RA="",IA="",PA="",BA="",_A="",FA="",qA="",HA="",zA="",$A="",VA="",UA="",jA="",WA="",GA="",JA="",KA="",QA="",XA="",YA="",ZA="",eL="",tL="",rL="",nL="",iL="",aL="",oL="",sL="",lL="",uL="",cL="",fL="",dL="",hL="",pL="",vL="",mL="",gL="",yL="",wL="",bL="",kL="",CL="",SL="",xL="",TL="",EL="",NL="",ML="",OL="",DL="",AL="",LL="",RL="",IL="",PL="",BL="",_L="",FL="",qL="",HL="",zL="",$L="",VL="",UL="",jL="",WL="",GL="",JL="",KL="",QL="",XL="",YL="",ZL="",eR="",tR="",rR="",nR="",iR="",aR="",oR="",sR="",lR="",uR="",cR="",fR="",dR="",hR="",pR="",vR="",mR="",gR="",yR="",wR="",bR="",kR="",CR="",SR="",xR="",TR="",ER="",NR="",MR="",OR="{",DR="[",AR="",LR="",RR="",IR="",PR="",BR="",_R="",FR="",qR="{",HR="",zR="",$R="",VR="",UR="",jR="",WR="",GR="",JR="",KR="",QR="",XR="",YR="",ZR="",eI="",tI="",rI="",nI="",iI="",aI="",oI="",sI="",lI="",uI="",cI="",fI="",dI="",hI="",pI="",vI="",mI="",gI="",yI="",wI="",bI="",kI="",CI="",SI="",xI="",TI="",EI="",NI="",MI="",OI="",DI="",AI="",LI="",RI="",II="",PI="",BI="",_I="",FI="",qI="",HI="",zI="",$I="",VI="",UI="",jI="",WI="",GI="",JI="",KI="",QI="",XI="",YI="",ZI="",eP="",tP="",rP="",nP="",iP="",aP="",oP="",sP="",lP="",uP="",cP="",fP="",dP="",hP="",pP="",vP="",mP="",gP="",yP="",wP="",bP="",kP="",CP="",SP="",xP="",TP="",EP="",NP="",MP="",OP="",DP="",AP="",LP="",RP="",IP="",PP="",BP="",_P="",FP="",qP="",HP="",zP="",$P="",VP="",UP="",jP="",WP="",GP="",JP="",KP="",QP="",XP="",YP="",ZP="",eB="_",tB="",rB="",nB="",iB="",aB="",oB="(",sB="",lB="",uB="",cB="",fB="",dB="",hB="",pB="",vB="",mB="",gB="",yB="",wB="",bB="",kB="",CB="[",SB="",xB="",TB="",EB="",NB="",MB="",OB="<",DB="<",AB="",LB="",RB="",IB="",PB="",BB="",_B="",FB="",qB="",HB="",zB="",$B="",VB="",UB="",jB="",WB="",GB="",JB="",KB="",QB="",XB="",YB="",ZB="",e_="",t_="",r_="",n_="",i_="",a_="",o_="",s_="",l_="",u_="",c_="",f_="",d_="",h_="*",p_="",v_="",m_="",g_="",y_="",w_="",b_="",k_="",C_="",S_="",x_="",T_="",E_="",N_="",M_="",O_="",D_="",A_="",L_="",R_="",I_="",P_="",B_="",__="",F_="",q_="",H_="",z_="",$_="",V_="",U_="",j_="",W_="",G_="",J_="",K_="",Q_="",X_="",Y_="",Z_="",eF="",tF="",rF="",nF="",iF="",aF="",oF="",sF="",lF="",uF="",cF="",fF="",dF="",hF="",pF="",vF="",mF="",gF="",yF="",wF="",bF="",kF="",CF="",SF=`
`,xF="",TF="",EF="",NF="",MF="",OF="",DF="",AF="",LF="",RF="",IF="",PF="",BF="",_F="",FF="",qF="",HF="",zF="",$F="",VF="",UF="",jF="",WF="",GF="",JF="",KF="",QF="",XF="",YF="",ZF="",e2="",t2="",r2="",n2="",i2="",a2="",o2="",s2="",l2="",u2="",c2="",f2="",d2="",h2="",p2="",v2="",m2="",g2="",y2="",w2="",b2="",k2="",C2="",S2="",x2="",T2="",E2="",N2="",M2="",O2="",D2="",A2="",L2="",R2="",I2="",P2="",B2="",_2="",F2="",q2="",H2="",z2="",$2="",V2="",U2="",j2="",W2="",G2="",J2="",K2="",Q2="",X2="",Y2="",Z2="",eq="",tq="",rq="",nq="",iq="",aq="",oq="",sq="",lq="",uq="",cq="",fq="",dq="",hq="",pq="",vq="",mq="",gq="",yq="",wq="",bq="",kq="",Cq="",Sq="",xq="",Tq="",Eq="",Nq="",Mq="",Oq="",Dq="",Aq="",Lq="",Rq="",Iq="",Pq="",Bq="",_q="",Fq="",qq="",Hq="",zq="",$q="",Vq="",Uq="",jq="",Wq="",Gq="",Jq="",Kq="",Qq="",Xq="",Yq="",Zq="",eH="",tH="",rH="",nH="",iH="",aH="",oH="",sH="",lH="",uH="",cH="",fH="",dH="",hH="",pH="",vH="",mH="",gH="",yH="",wH="",bH="",kH="",CH="",SH="",xH="",TH="",EH="",NH="",MH="",OH="",DH="",AH="",LH="#",RH="",IH="",PH="",BH="",_H="",FH="",qH="",HH="",zH=">",$H="",VH="",UH="",jH="",WH="<",GH="",JH="",KH="",QH="",XH="",YH="",ZH="",ez="",tz="",rz="",nz="",iz="",az="",oz="",sz="",lz="",uz="",cz="",fz="",dz="",hz="",pz="",vz="",mz="",gz="",yz="",wz="",bz="",kz="",Cz="",Sz="",xz="",Tz="",Ez="",Nz="",Mz="",Oz="",Dz="",Az="",Lz="",Rz="",Iz="",Pz="",Bz="",_z="",Fz="",qz="",Hz="",zz="",$z="",Vz="",Uz="",jz="",Wz="",Gz="",Jz="",Kz="",Qz="",Xz="",Yz="",Zz="",e$="",t$="",r$="",n$="",i$="",a$="",o$="",s$="",l$="",u$="",c$="",f$="",d$="",h$="",p$="",v$="",m$="",g$="",y$="",w$="",b$="",k$="",C$="",S$="",x$="",T$="",E$="",N$="",M$="",O$="",D$="",A$="",L$="",R$="%",I$=".",P$="",B$="",_$="",F$="",q$="",H$="",z$="",$$="",V$="",U$="",j$="",W$="",G$="",J$="",K$="",Q$="",X$="",Y$="",Z$="",eV="",tV="+",rV="",nV="",iV="",aV="",oV="",sV="",lV="",uV="",cV="",fV="",dV="",hV="",pV="",vV="",mV="",gV="",yV="",wV="",bV="",kV="",CV="",SV="",xV="",TV="",EV="",NV="",MV="",OV="",DV="",AV="",LV="",RV="",IV="",PV="",BV="",_V="",FV="",qV="",HV="",zV="",$V="",VV="",UV="",jV="",WV="",GV="",JV="",KV="",QV="",XV="",YV="",ZV="",eU="",tU="",rU="",nU="",iU="",aU="",oU="",sU="",lU="",uU="",cU="",fU="?",dU="",hU='"',pU='"',vU="",mU="",gU="",yU="",wU="",bU="",kU="",CU="",SU="",xU="",TU="",EU="",NU="",MU="",OU="",DU="",AU="",LU="",RU="",IU="",PU="",BU="",_U="",FU="",qU="",HU="",zU="",$U="",VU="",UU="",jU="",WU="",GU="",JU="",KU="",QU="}",XU="]",YU="",ZU="",e3="",t3="",r3="",n3="",i3="",a3="",o3="}",s3="",l3="",u3="",c3="",f3="",d3="",h3="",p3="",v3="",m3="",g3="",y3="",w3="",b3="",k3="",C3="",S3="",x3="",T3="",E3="",N3="",M3="",O3="",D3="",A3="",L3="",R3="",I3="",P3="",B3="",_3="",F3="",q3="",H3="",z3="",$3="",V3="",U3="",j3="",W3="",G3="",J3="",K3="",Q3="",X3="",Y3="",Z3="",ej="",tj="",rj="",nj="",ij="",aj="",oj="",sj="",lj="",uj="",cj="",fj="",dj="",hj="",pj="",vj="",mj="",gj="",yj="",wj="",bj="",kj="",Cj="",Sj="",xj="",Tj="",Ej="",Nj="",Mj="",Oj="",Dj="",Aj=")",Lj="",Rj="",Ij="",Pj="",Bj="",_j="",Fj="",qj="",Hj="",zj="]",$j="",Vj="",Uj="",jj="",Wj="",Gj="",Jj="",Kj="",Qj="",Xj="",Yj="",Zj="",eW="",tW="",rW="",nW="",iW="",aW="",oW="",sW="",lW="",uW="",cW="",fW="",dW="",hW="",pW="",vW="",mW="",gW="",yW="",wW="",bW="",kW="",CW="",SW="",xW="",TW="",EW="",NW="",MW="",OW=";",DW="",AW="",LW="",RW="",IW="",PW="",BW="",_W="",FW="",qW="",HW="",zW="",$W="",VW="",UW="",jW="",WW="",GW="",JW="",KW="",QW="",XW="",YW="",ZW="",e4="",t4="",r4="",n4="",i4="",a4="",o4="",s4="",l4="",u4="",c4="",f4="",d4="",h4="",p4="",v4="",m4="",g4="",y4="",w4="",b4="",k4="",C4="",S4="",x4="/",T4="",E4="",N4="",M4="",O4="",D4="",A4="",L4="",R4="",I4="",P4="",B4="",_4="",F4="",q4="",H4="",z4="",$4="",V4="",U4="",j4="",W4="",G4="",J4="",K4="",Q4="",X4="",Y4="",Z4="",e6="",t6="",r6="",n6="",i6="",a6="",o6="",s6="",l6="",u6="",c6="",f6="",d6="",h6="",p6="",v6="",m6="",g6="",y6="",w6="",b6="",k6="",C6="",S6="",x6="",T6="",E6="",N6="",M6="",O6="",D6="",A6="",L6="",R6="",I6="",P6="",B6="",_6="",F6="",q6="",H6="",z6="",$6="",V6="",U6="",j6="",W6="",G6="",J6="",K6="",Q6="",X6="",Y6="",Z6="",e5="",t5="",r5="",n5="",i5="",a5="",o5="",s5="",l5="",u5="",c5="",f5="",d5="",h5="",p5="",v5="",m5="",g5="",y5="",w5="",b5="",k5="",C5="",S5="",x5="",T5="",E5="",N5="",M5="",O5="	",D5="",A5="",L5="",R5="",I5="",P5="",B5="",_5="",F5="",q5="",H5="",z5="",$5="",V5="",U5="",j5="",W5="",G5="",J5="",K5="",Q5="",X5="",Y5="",Z5="",e8="",t8="",r8="",n8="",i8="",a8="",o8="",s8="",l8="",u8="",c8="",f8="",d8="",h8="",p8="",v8="",m8="",g8="",y8="",w8="",b8="",k8="",C8="",S8="",x8="",T8="",E8="",N8="",M8="",O8="",D8="",A8="",L8="",R8="",I8="",P8="",B8="",_8="",F8="",q8="",H8="",z8="",$8="",V8="",U8="",j8="",W8="",G8="",J8="",K8="",Q8="",X8="",Y8="",Z8="",e9="",t9="",r9="",n9="",i9="",a9="",o9="",s9="",l9="",u9="",c9="",f9="",d9="",h9="",p9="",v9="",m9="",g9="",y9="",w9="",b9="",k9="",C9="",S9="",x9="",T9="",E9="",N9="",M9="",O9="",D9="",A9="",L9="",R9="_",I9="",P9="",B9="",_9="",F9="",q9="",H9="",z9="",$9="",V9="",U9="",j9="",W9="",G9="",J9="",K9="",Q9="",X9="",Y9="",Z9="",eG="",tG="",rG="",nG="",iG="",aG="",oG="",sG="",lG="",uG="",cG="",fG="",dG="",hG="",pG="",vG="",mG="",gG="",yG="",wG="",bG="",kG="",CG="",SG="",xG="",TG="",EG="",NG="",MG="",OG="",DG="",AG="",LG="",RG="",IG="",PG="",BG="",_G="",FG="",qG="",HG="",zG="",$G="",VG="",UG="",jG="",WG="",GG="",JG="",KG="",QG="",XG="",YG="",ZG="",eJ="",tJ="",rJ="",nJ="",iJ="",aJ="",oJ="",sJ="|",lJ="",uJ="|",cJ="",fJ="",dJ="|",hJ="",pJ="",vJ="",mJ="",gJ="",yJ="",wJ="",bJ="",kJ="",CJ="",SJ="",xJ="",TJ="",EJ="",NJ="",MJ="",OJ="",DJ="",AJ="",LJ="",RJ="",IJ="",PJ="",BJ="",_J="",FJ="",qJ="",HJ="",zJ="",$J="",VJ="",UJ="",jJ="",WJ="",GJ="",JJ="",KJ="",QJ="",XJ="",YJ="",ZJ="",eK="",tK="",rK="",nK="",iK="",aK="",oK="",sK="",lK="",uK="",cK="",fK="",dK="",hK="",pK="",vK="",mK="",gK="",yK="",wK="",bK="",kK="",CK="",SK="",xK="",TK="",EK="",NK="",MK="",OK="",DK="",AK="",LK="",RK="",IK="",PK="",BK="",_K="",FK="",qK="",HK="",zK="",$K="",VK="",UK="",jK="",WK="",GK="",JK="",KK="",QK="",XK="",YK="",ZK="",e7="",t7="",r7="",n7="",i7="",a7="",o7="",s7="",l7="",u7="",c7="",f7="",d7="",rb={Aacute:we,aacute:Le,Abreve:je,abreve:Nt,ac:et,acd:St,acE:It,Acirc:Mt,acirc:Lt,acute:be,Acy:We,acy:Ot,AElig:st,aelig:Ie,af:Ve,Afr:Je,afr:dt,Agrave:xt,agrave:Oe,alefsym:Ee,aleph:fe,Alpha:ye,alpha:de,Amacr:Pe,amacr:qe,amalg:ot,amp:Ht,AMP:Gt,andand:zt,And:Tr,and:tr,andd:Vr,andslope:Lr,andv:Br,ang:cr,ange:_r,angle:Ii,angmsdaa:Sn,angmsdab:Ar,angmsdac:ht,angmsdad:pt,angmsdae:qt,angmsdaf:Ut,angmsdag:or,angmsdah:Qr,angmsd:wr,angrt:Er,angrtvb:hn,angrtvbd:pn,angsph:Rr,angst:xn,angzarr:bi,Aogon:ti,aogon:ri,Aopf:vn,aopf:an,apacir:Pr,ap:Tn,apE:dr,ape:Ir,apid:X,apos:Y,ApplyFunction:z,approx:F,approxeq:U,Aring:W,aring:ie,Ascr:Ne,ascr:ze,Assign:he,ast:ae,asymp:De,asympeq:_e,Atilde:lt,atilde:Rt,Auml:V,auml:R,awconint:k,awint:M,backcong:_,backepsilon:G,backprime:Z,backsim:oe,backsimeq:Ce,Backslash:Ae,Barv:tt,barvee:Ye,barwed:ct,Barwed:Bt,barwedge:ir,bbrk:kr,bbrktbrk:Hn,bcong:ki,Bcy:Yr,bcy:Ci,bdquo:ni,becaus:En,because:Nn,Because:Mn,bemptyv:Xi,bepsi:zn,bernou:Oa,Bernoullis:Da,Beta:Pi,beta:Qa,beth:Ro,between:$n,Bfr:ca,bfr:Xa,bigcap:On,bigcirc:Io,bigcup:Aa,bigodot:Vn,bigoplus:ii,bigotimes:Si,bigsqcup:Yi,bigstar:fa,bigtriangledown:Zi,bigtriangleup:ai,biguplus:Ya,bigvee:ys,bigwedge:Dn,bkarow:ws,blacklozenge:Za,blacksquare:eo,blacktriangle:mr,blacktriangledown:Un,blacktriangleleft:oi,blacktriangleright:Po,blank:da,blk12:Bo,blk14:to,blk34:Tt,block:Te,bne:at,bnequiv:wt,bNot:hr,bnot:Ur,Bopf:jr,bopf:Fr,bot:si,bottom:xi,bowtie:_o,boxbox:bs,boxdl:ro,boxdL:dl,boxDl:ha,boxDL:hl,boxdr:ks,boxdR:on,boxDr:Xr,boxDR:Cs,boxh:Ru,boxH:jn,boxhd:Wn,boxHd:pl,boxhD:La,boxHD:vl,boxhu:ml,boxHu:gl,boxhU:pa,boxHU:Ss,boxminus:xs,boxplus:no,boxtimes:Sf,boxul:xf,boxuL:yl,boxUl:Tf,boxUL:Ef,boxur:Nf,boxuR:wl,boxUr:Iu,boxUR:Pu,boxv:Bu,boxV:Mf,boxvh:_u,boxvH:Fu,boxVh:bl,boxVH:Of,boxvl:Fo,boxvL:Df,boxVl:io,boxVL:Af,boxvr:Lf,boxvR:qo,boxVr:qu,boxVR:Hu,bprime:Rf,breve:zu,Breve:Ts,brvbar:ea,bscr:$u,Bscr:ao,bsemi:Vu,bsim:va,bsime:Ra,bsolb:ma,bsol:sn,bsolhsub:ln,bull:Uu,bullet:If,bump:kl,bumpE:ju,bumpe:oo,Bumpeq:so,bumpeq:Es,Cacute:Bi,cacute:Cl,capand:Sl,capbrcup:Ho,capcap:xl,cap:Wu,Cap:Gu,capcup:Ju,capdot:Ku,CapitalDifferentialD:Qu,caps:Pf,caret:Xu,caron:Bf,Cayleys:li,ccaps:_f,Ccaron:zo,ccaron:Yu,Ccedil:Zu,ccedil:Tl,Ccirc:ec,ccirc:El,Cconint:Nl,ccups:lo,ccupssm:Ns,Cdot:$o,cdot:Ml,cedil:Ol,Cedilla:Dl,cemptyv:Ms,cent:uo,centerdot:Ff,CenterDot:Al,cfr:tc,Cfr:Nr,CHcy:h,chcy:b,check:p,checkmark:w,Chi:x,chi:O,circ:I,circeq:B,circlearrowleft:j,circlearrowright:K,circledast:ue,circledcirc:Se,circleddash:me,CircleDot:Re,circledR:Ge,circledS:ut,CircleMinus:mt,CirclePlus:Ze,CircleTimes:sr,cir:Kt,cirE:Pt,cire:Yt,cirfnint:lr,cirmid:Cr,cirscir:un,ClockwiseContourIntegral:Wr,CloseCurlyDoubleQuote:qr,CloseCurlyQuote:An,clubs:Ti,clubsuit:ui,colon:Ia,Colon:_i,Colone:Fi,colone:Ei,coloneq:Vt,comma:Sr,commat:Hr,comp:Dr,compfn:mn,complement:Vo,complexes:Os,cong:ci,congdot:rc,Congruent:xh,conint:Th,Conint:nc,ContourIntegral:Eh,copf:qf,Copf:Uo,coprod:Hm,Coproduct:Hf,copy:zf,COPY:zm,copysr:Nh,CounterClockwiseContourIntegral:$f,crarr:$m,cross:ic,Cross:Mh,Cscr:Oh,cscr:Dh,csub:Ah,csube:Vf,csup:Vm,csupe:Pa,ctdot:ac,cudarrl:Uf,cudarrr:Lh,cuepr:Ln,cuesc:Ds,cularr:Rh,cularrp:jo,cupbrcap:Ll,cupcap:ga,CupCap:Ih,cup:Um,Cup:ta,cupcup:oc,cupdot:sc,cupor:As,cups:lc,curarr:jf,curarrm:Wf,curlyeqprec:Ph,curlyeqsucc:Ls,curlyvee:qi,curlywedge:co,curren:Gf,curvearrowleft:Bh,curvearrowright:fo,cuvee:ho,cuwed:_h,cwconint:Rl,cwint:Fh,cylcty:qh,dagger:uc,Dagger:cc,daleth:Hh,darr:zh,Darr:$h,dArr:Jf,dash:fc,Dashv:Il,dashv:dc,dbkarow:Vh,dblac:hc,Dcaron:Uh,dcaron:Pl,Dcy:ya,dcy:Bl,ddagger:_l,ddarr:Wo,DD:Kf,dd:Rs,DDotrahd:jh,ddotseq:Qf,deg:zr,Del:pc,Delta:Ba,delta:po,demptyv:wa,dfisht:Wh,Dfr:Gh,dfr:Xf,dHar:Jh,dharl:vc,dharr:Yf,DiacriticalAcute:Is,DiacriticalDot:Zf,DiacriticalDoubleAcute:Fl,DiacriticalGrave:Hi,DiacriticalTilde:ql,diam:Gr,diamond:Rn,Diamond:gn,diamondsuit:mc,diams:Hl,die:fi,DifferentialD:ed,digamma:td,disin:Go,div:Jo,divide:ba,divideontimes:zl,divonx:$l,DJcy:Kh,djcy:Qh,dlcorn:Xh,dlcrop:Vl,dollar:gc,Dopf:Yh,dopf:yc,Dot:rd,dot:nd,DotDot:Zh,doteq:wc,doteqdot:ep,DotEqual:tp,dotminus:rp,dotplus:id,dotsquare:np,doublebarwedge:ip,DoubleContourIntegral:jm,DoubleDot:ad,DoubleDownArrow:bc,DoubleLeftArrow:Wm,DoubleLeftRightArrow:Gm,DoubleLeftTee:Jm,DoubleLongLeftArrow:Km,DoubleLongLeftRightArrow:ra,DoubleLongRightArrow:di,DoubleRightArrow:ap,DoubleRightTee:op,DoubleUpArrow:sp,DoubleUpDownArrow:od,DoubleVerticalBar:lp,DownArrowBar:sd,downarrow:up,DownArrow:ld,Downarrow:cp,DownArrowUpArrow:kc,DownBreve:fp,downdownarrows:dp,downharpoonleft:hp,downharpoonright:pp,DownLeftRightVector:vp,DownLeftTeeVector:ud,DownLeftVectorBar:mp,DownLeftVector:_a,DownRightTeeVector:gp,DownRightVectorBar:cd,DownRightVector:yp,DownTeeArrow:wp,DownTee:Ul,drbkarow:Qm,drcorn:Xm,drcrop:fd,Dscr:dd,dscr:Ym,DScy:bp,dscy:kp,dsol:Zm,Dstrok:Cp,dstrok:eg,dtdot:tg,dtri:Sp,dtrif:xp,duarr:Tp,duhar:Ep,dwangle:Np,DZcy:hd,dzcy:pd,dzigrarr:Mp,Eacute:vd,eacute:Op,easter:rg,Ecaron:ng,ecaron:Cc,Ecirc:md,ecirc:jt,ecir:Gn,ecolon:Zr,Ecy:In,ecy:Ko,eDDot:gd,Edot:yn,edot:Sc,eDot:Ps,ee:jl,efDot:Bs,Efr:yd,efr:wd,eg:bd,Egrave:kd,egrave:_s,egs:kt,egsdot:xc,el:Cd,Element:ka,elinters:vo,ell:Wl,els:Gl,elsdot:Sd,Emacr:xd,emacr:Fa,empty:Jl,emptyset:Td,EmptySmallSquare:Tc,emptyv:qa,EmptyVerySmallSquare:Ec,emsp13:Kl,emsp14:Nc,emsp:Ni,ENG:mo,eng:go,ensp:Mc,Eogon:zi,eogon:Dp,Eopf:Fs,eopf:Ed,epar:ig,eparsl:Ap,eplus:Lp,epsi:Oc,Epsilon:Nd,epsilon:qs,epsiv:Rp,eqcirc:Ip,eqcolon:Ql,eqsim:ag,eqslantgtr:og,eqslantless:Pp,Equal:Bp,equals:Qo,EqualTilde:sg,equest:lg,Equilibrium:yo,equiv:ug,equivDD:_p,eqvparsl:cg,erarr:Fp,erDot:wo,escr:fg,Escr:dg,esdot:qp,Esim:hg,esim:$i,Eta:Md,eta:pg,ETH:bo,eth:Dc,Euml:Hs,euml:Od,euro:Dd,excl:Ad,exist:vg,Exists:mg,expectation:Ac,exponentiale:Ld,ExponentialE:Hp,fallingdotseq:Rd,Fcy:gg,fcy:Id,female:Xl,ffilig:yg,fflig:Lc,ffllig:zp,Ffr:wg,ffr:Yl,filig:bg,FilledSmallSquare:Rc,FilledVerySmallSquare:s,fjlig:u,flat:d,fllig:S,fltns:A,fnof:H,Fopf:J,fopf:te,forall:pe,ForAll:Be,fork:yt,forkv:Jt,Fouriertrf:rt,fpartint:At,frac12:Wt,frac13:$t,frac14:Me,frac15:ge,frac16:xe,frac18:Ue,frac23:Qe,frac25:Qt,frac34:Et,frac35:Xt,frac38:ar,frac45:Zt,frac56:ko,frac58:kg,frac78:IM,frasl:PM,frown:BM,fscr:_M,Fscr:FM,gacute:qM,Gamma:HM,gamma:zM,Gammad:$M,gammad:VM,gap:UM,Gbreve:jM,gbreve:WM,Gcedil:GM,Gcirc:JM,gcirc:KM,Gcy:QM,gcy:XM,Gdot:YM,gdot:ZM,ge:eO,gE:tO,gEl:rO,gel:nO,geq:iO,geqq:aO,geqslant:oO,gescc:sO,ges:lO,gesdot:uO,gesdoto:cO,gesdotol:fO,gesl:dO,gesles:hO,Gfr:pO,gfr:vO,gg:mO,Gg:gO,ggg:yO,gimel:wO,GJcy:bO,gjcy:kO,gla:CO,gl:SO,glE:xO,glj:TO,gnap:EO,gnapprox:NO,gne:MO,gnE:OO,gneq:DO,gneqq:AO,gnsim:LO,Gopf:RO,gopf:IO,grave:PO,GreaterEqual:BO,GreaterEqualLess:_O,GreaterFullEqual:FO,GreaterGreater:qO,GreaterLess:HO,GreaterSlantEqual:zO,GreaterTilde:$O,Gscr:VO,gscr:UO,gsim:jO,gsime:WO,gsiml:GO,gtcc:JO,gtcir:KO,gt:QO,GT:XO,Gt:YO,gtdot:ZO,gtlPar:eD,gtquest:tD,gtrapprox:rD,gtrarr:nD,gtrdot:iD,gtreqless:aD,gtreqqless:oD,gtrless:sD,gtrsim:lD,gvertneqq:uD,gvnE:cD,Hacek:fD,hairsp:dD,half:hD,hamilt:pD,HARDcy:vD,hardcy:mD,harrcir:gD,harr:yD,hArr:wD,harrw:bD,Hat:kD,hbar:CD,Hcirc:SD,hcirc:xD,hearts:TD,heartsuit:ED,hellip:ND,hercon:MD,hfr:OD,Hfr:DD,HilbertSpace:AD,hksearow:LD,hkswarow:RD,hoarr:ID,homtht:PD,hookleftarrow:BD,hookrightarrow:_D,hopf:FD,Hopf:qD,horbar:HD,HorizontalLine:zD,hscr:$D,Hscr:VD,hslash:UD,Hstrok:jD,hstrok:WD,HumpDownHump:GD,HumpEqual:JD,hybull:KD,hyphen:QD,Iacute:XD,iacute:YD,ic:ZD,Icirc:eA,icirc:tA,Icy:rA,icy:nA,Idot:iA,IEcy:aA,iecy:oA,iexcl:sA,iff:lA,ifr:uA,Ifr:cA,Igrave:fA,igrave:dA,ii:hA,iiiint:pA,iiint:vA,iinfin:mA,iiota:gA,IJlig:yA,ijlig:wA,Imacr:bA,imacr:kA,image:CA,ImaginaryI:SA,imagline:xA,imagpart:TA,imath:EA,Im:NA,imof:MA,imped:OA,Implies:DA,incare:AA,in:"",infin:LA,infintie:RA,inodot:IA,intcal:PA,int:BA,Int:_A,integers:FA,Integral:qA,intercal:HA,Intersection:zA,intlarhk:$A,intprod:VA,InvisibleComma:UA,InvisibleTimes:jA,IOcy:WA,iocy:GA,Iogon:JA,iogon:KA,Iopf:QA,iopf:XA,Iota:YA,iota:ZA,iprod:eL,iquest:tL,iscr:rL,Iscr:nL,isin:iL,isindot:aL,isinE:oL,isins:sL,isinsv:lL,isinv:uL,it:cL,Itilde:fL,itilde:dL,Iukcy:hL,iukcy:pL,Iuml:vL,iuml:mL,Jcirc:gL,jcirc:yL,Jcy:wL,jcy:bL,Jfr:kL,jfr:CL,jmath:SL,Jopf:xL,jopf:TL,Jscr:EL,jscr:NL,Jsercy:ML,jsercy:OL,Jukcy:DL,jukcy:AL,Kappa:LL,kappa:RL,kappav:IL,Kcedil:PL,kcedil:BL,Kcy:_L,kcy:FL,Kfr:qL,kfr:HL,kgreen:zL,KHcy:$L,khcy:VL,KJcy:UL,kjcy:jL,Kopf:WL,kopf:GL,Kscr:JL,kscr:KL,lAarr:QL,Lacute:XL,lacute:YL,laemptyv:ZL,lagran:eR,Lambda:tR,lambda:rR,lang:nR,Lang:iR,langd:aR,langle:oR,lap:sR,Laplacetrf:lR,laquo:uR,larrb:cR,larrbfs:fR,larr:dR,Larr:hR,lArr:pR,larrfs:vR,larrhk:mR,larrlp:gR,larrpl:yR,larrsim:wR,larrtl:bR,latail:kR,lAtail:CR,lat:SR,late:xR,lates:TR,lbarr:ER,lBarr:NR,lbbrk:MR,lbrace:OR,lbrack:DR,lbrke:AR,lbrksld:LR,lbrkslu:RR,Lcaron:IR,lcaron:PR,Lcedil:BR,lcedil:_R,lceil:FR,lcub:qR,Lcy:HR,lcy:zR,ldca:$R,ldquo:VR,ldquor:UR,ldrdhar:jR,ldrushar:WR,ldsh:GR,le:JR,lE:KR,LeftAngleBracket:QR,LeftArrowBar:XR,leftarrow:YR,LeftArrow:ZR,Leftarrow:eI,LeftArrowRightArrow:tI,leftarrowtail:rI,LeftCeiling:nI,LeftDoubleBracket:iI,LeftDownTeeVector:aI,LeftDownVectorBar:oI,LeftDownVector:sI,LeftFloor:lI,leftharpoondown:uI,leftharpoonup:cI,leftleftarrows:fI,leftrightarrow:dI,LeftRightArrow:hI,Leftrightarrow:pI,leftrightarrows:vI,leftrightharpoons:mI,leftrightsquigarrow:gI,LeftRightVector:yI,LeftTeeArrow:wI,LeftTee:bI,LeftTeeVector:kI,leftthreetimes:CI,LeftTriangleBar:SI,LeftTriangle:xI,LeftTriangleEqual:TI,LeftUpDownVector:EI,LeftUpTeeVector:NI,LeftUpVectorBar:MI,LeftUpVector:OI,LeftVectorBar:DI,LeftVector:AI,lEg:LI,leg:RI,leq:II,leqq:PI,leqslant:BI,lescc:_I,les:FI,lesdot:qI,lesdoto:HI,lesdotor:zI,lesg:$I,lesges:VI,lessapprox:UI,lessdot:jI,lesseqgtr:WI,lesseqqgtr:GI,LessEqualGreater:JI,LessFullEqual:KI,LessGreater:QI,lessgtr:XI,LessLess:YI,lesssim:ZI,LessSlantEqual:eP,LessTilde:tP,lfisht:rP,lfloor:nP,Lfr:iP,lfr:aP,lg:oP,lgE:sP,lHar:lP,lhard:uP,lharu:cP,lharul:fP,lhblk:dP,LJcy:hP,ljcy:pP,llarr:vP,ll:mP,Ll:gP,llcorner:yP,Lleftarrow:wP,llhard:bP,lltri:kP,Lmidot:CP,lmidot:SP,lmoustache:xP,lmoust:TP,lnap:EP,lnapprox:NP,lne:MP,lnE:OP,lneq:DP,lneqq:AP,lnsim:LP,loang:RP,loarr:IP,lobrk:PP,longleftarrow:BP,LongLeftArrow:_P,Longleftarrow:FP,longleftrightarrow:qP,LongLeftRightArrow:HP,Longleftrightarrow:zP,longmapsto:$P,longrightarrow:VP,LongRightArrow:UP,Longrightarrow:jP,looparrowleft:WP,looparrowright:GP,lopar:JP,Lopf:KP,lopf:QP,loplus:XP,lotimes:YP,lowast:ZP,lowbar:eB,LowerLeftArrow:tB,LowerRightArrow:rB,loz:nB,lozenge:iB,lozf:aB,lpar:oB,lparlt:sB,lrarr:lB,lrcorner:uB,lrhar:cB,lrhard:fB,lrm:dB,lrtri:hB,lsaquo:pB,lscr:vB,Lscr:mB,lsh:gB,Lsh:yB,lsim:wB,lsime:bB,lsimg:kB,lsqb:CB,lsquo:SB,lsquor:xB,Lstrok:TB,lstrok:EB,ltcc:NB,ltcir:MB,lt:OB,LT:DB,Lt:AB,ltdot:LB,lthree:RB,ltimes:IB,ltlarr:PB,ltquest:BB,ltri:_B,ltrie:FB,ltrif:qB,ltrPar:HB,lurdshar:zB,luruhar:$B,lvertneqq:VB,lvnE:UB,macr:jB,male:WB,malt:GB,maltese:JB,Map:"",map:KB,mapsto:QB,mapstodown:XB,mapstoleft:YB,mapstoup:ZB,marker:e_,mcomma:t_,Mcy:r_,mcy:n_,mdash:i_,mDDot:a_,measuredangle:o_,MediumSpace:s_,Mellintrf:l_,Mfr:u_,mfr:c_,mho:f_,micro:d_,midast:h_,midcir:p_,mid:v_,middot:m_,minusb:g_,minus:y_,minusd:w_,minusdu:b_,MinusPlus:k_,mlcp:C_,mldr:S_,mnplus:x_,models:T_,Mopf:E_,mopf:N_,mp:M_,mscr:O_,Mscr:D_,mstpos:A_,Mu:L_,mu:R_,multimap:I_,mumap:P_,nabla:B_,Nacute:__,nacute:F_,nang:q_,nap:H_,napE:z_,napid:$_,napos:V_,napprox:U_,natural:j_,naturals:W_,natur:G_,nbsp:J_,nbump:K_,nbumpe:Q_,ncap:X_,Ncaron:Y_,ncaron:Z_,Ncedil:eF,ncedil:tF,ncong:rF,ncongdot:nF,ncup:iF,Ncy:aF,ncy:oF,ndash:sF,nearhk:lF,nearr:uF,neArr:cF,nearrow:fF,ne:dF,nedot:hF,NegativeMediumSpace:pF,NegativeThickSpace:vF,NegativeThinSpace:mF,NegativeVeryThinSpace:gF,nequiv:yF,nesear:wF,nesim:bF,NestedGreaterGreater:kF,NestedLessLess:CF,NewLine:SF,nexist:xF,nexists:TF,Nfr:EF,nfr:NF,ngE:MF,nge:OF,ngeq:DF,ngeqq:AF,ngeqslant:LF,nges:RF,nGg:IF,ngsim:PF,nGt:BF,ngt:_F,ngtr:FF,nGtv:qF,nharr:HF,nhArr:zF,nhpar:$F,ni:VF,nis:UF,nisd:jF,niv:WF,NJcy:GF,njcy:JF,nlarr:KF,nlArr:QF,nldr:XF,nlE:YF,nle:ZF,nleftarrow:e2,nLeftarrow:t2,nleftrightarrow:r2,nLeftrightarrow:n2,nleq:i2,nleqq:a2,nleqslant:o2,nles:s2,nless:l2,nLl:u2,nlsim:c2,nLt:f2,nlt:d2,nltri:h2,nltrie:p2,nLtv:v2,nmid:m2,NoBreak:g2,NonBreakingSpace:y2,nopf:w2,Nopf:b2,Not:k2,not:C2,NotCongruent:S2,NotCupCap:x2,NotDoubleVerticalBar:T2,NotElement:E2,NotEqual:N2,NotEqualTilde:M2,NotExists:O2,NotGreater:D2,NotGreaterEqual:A2,NotGreaterFullEqual:L2,NotGreaterGreater:R2,NotGreaterLess:I2,NotGreaterSlantEqual:P2,NotGreaterTilde:B2,NotHumpDownHump:_2,NotHumpEqual:F2,notin:q2,notindot:H2,notinE:z2,notinva:$2,notinvb:V2,notinvc:U2,NotLeftTriangleBar:j2,NotLeftTriangle:W2,NotLeftTriangleEqual:G2,NotLess:J2,NotLessEqual:K2,NotLessGreater:Q2,NotLessLess:X2,NotLessSlantEqual:Y2,NotLessTilde:Z2,NotNestedGreaterGreater:eq,NotNestedLessLess:tq,notni:rq,notniva:nq,notnivb:iq,notnivc:aq,NotPrecedes:oq,NotPrecedesEqual:sq,NotPrecedesSlantEqual:lq,NotReverseElement:uq,NotRightTriangleBar:cq,NotRightTriangle:fq,NotRightTriangleEqual:dq,NotSquareSubset:hq,NotSquareSubsetEqual:pq,NotSquareSuperset:vq,NotSquareSupersetEqual:mq,NotSubset:gq,NotSubsetEqual:yq,NotSucceeds:wq,NotSucceedsEqual:bq,NotSucceedsSlantEqual:kq,NotSucceedsTilde:Cq,NotSuperset:Sq,NotSupersetEqual:xq,NotTilde:Tq,NotTildeEqual:Eq,NotTildeFullEqual:Nq,NotTildeTilde:Mq,NotVerticalBar:Oq,nparallel:Dq,npar:Aq,nparsl:Lq,npart:Rq,npolint:Iq,npr:Pq,nprcue:Bq,nprec:_q,npreceq:Fq,npre:qq,nrarrc:Hq,nrarr:zq,nrArr:$q,nrarrw:Vq,nrightarrow:Uq,nRightarrow:jq,nrtri:Wq,nrtrie:Gq,nsc:Jq,nsccue:Kq,nsce:Qq,Nscr:Xq,nscr:Yq,nshortmid:Zq,nshortparallel:eH,nsim:tH,nsime:rH,nsimeq:nH,nsmid:iH,nspar:aH,nsqsube:oH,nsqsupe:sH,nsub:lH,nsubE:uH,nsube:cH,nsubset:fH,nsubseteq:dH,nsubseteqq:hH,nsucc:pH,nsucceq:vH,nsup:mH,nsupE:gH,nsupe:yH,nsupset:wH,nsupseteq:bH,nsupseteqq:kH,ntgl:CH,Ntilde:SH,ntilde:xH,ntlg:TH,ntriangleleft:EH,ntrianglelefteq:NH,ntriangleright:MH,ntrianglerighteq:OH,Nu:DH,nu:AH,num:LH,numero:RH,numsp:IH,nvap:PH,nvdash:BH,nvDash:_H,nVdash:FH,nVDash:qH,nvge:HH,nvgt:zH,nvHarr:$H,nvinfin:VH,nvlArr:UH,nvle:jH,nvlt:WH,nvltrie:GH,nvrArr:JH,nvrtrie:KH,nvsim:QH,nwarhk:XH,nwarr:YH,nwArr:ZH,nwarrow:ez,nwnear:tz,Oacute:rz,oacute:nz,oast:iz,Ocirc:az,ocirc:oz,ocir:sz,Ocy:lz,ocy:uz,odash:cz,Odblac:fz,odblac:dz,odiv:hz,odot:pz,odsold:vz,OElig:mz,oelig:gz,ofcir:yz,Ofr:wz,ofr:bz,ogon:kz,Ograve:Cz,ograve:Sz,ogt:xz,ohbar:Tz,ohm:Ez,oint:Nz,olarr:Mz,olcir:Oz,olcross:Dz,oline:Az,olt:Lz,Omacr:Rz,omacr:Iz,Omega:Pz,omega:Bz,Omicron:_z,omicron:Fz,omid:qz,ominus:Hz,Oopf:zz,oopf:$z,opar:Vz,OpenCurlyDoubleQuote:Uz,OpenCurlyQuote:jz,operp:Wz,oplus:Gz,orarr:Jz,Or:Kz,or:Qz,ord:Xz,order:Yz,orderof:Zz,ordf:e$,ordm:t$,origof:r$,oror:n$,orslope:i$,orv:a$,oS:o$,Oscr:s$,oscr:l$,Oslash:u$,oslash:c$,osol:f$,Otilde:d$,otilde:h$,otimesas:p$,Otimes:v$,otimes:m$,Ouml:g$,ouml:y$,ovbar:w$,OverBar:b$,OverBrace:k$,OverBracket:C$,OverParenthesis:S$,para:x$,parallel:T$,par:E$,parsim:N$,parsl:M$,part:O$,PartialD:D$,Pcy:A$,pcy:L$,percnt:R$,period:I$,permil:P$,perp:B$,pertenk:_$,Pfr:F$,pfr:q$,Phi:H$,phi:z$,phiv:$$,phmmat:V$,phone:U$,Pi:j$,pi:W$,pitchfork:G$,piv:J$,planck:K$,planckh:Q$,plankv:X$,plusacir:Y$,plusb:Z$,pluscir:eV,plus:tV,plusdo:rV,plusdu:nV,pluse:iV,PlusMinus:aV,plusmn:oV,plussim:sV,plustwo:lV,pm:uV,Poincareplane:cV,pointint:fV,popf:dV,Popf:hV,pound:pV,prap:vV,Pr:mV,pr:gV,prcue:yV,precapprox:wV,prec:bV,preccurlyeq:kV,Precedes:CV,PrecedesEqual:SV,PrecedesSlantEqual:xV,PrecedesTilde:TV,preceq:EV,precnapprox:NV,precneqq:MV,precnsim:OV,pre:DV,prE:AV,precsim:LV,prime:RV,Prime:IV,primes:PV,prnap:BV,prnE:_V,prnsim:FV,prod:qV,Product:HV,profalar:zV,profline:$V,profsurf:VV,prop:UV,Proportional:jV,Proportion:WV,propto:GV,prsim:JV,prurel:KV,Pscr:QV,pscr:XV,Psi:YV,psi:ZV,puncsp:eU,Qfr:tU,qfr:rU,qint:nU,qopf:iU,Qopf:aU,qprime:oU,Qscr:sU,qscr:lU,quaternions:uU,quatint:cU,quest:fU,questeq:dU,quot:hU,QUOT:pU,rAarr:vU,race:mU,Racute:gU,racute:yU,radic:wU,raemptyv:bU,rang:kU,Rang:CU,rangd:SU,range:xU,rangle:TU,raquo:EU,rarrap:NU,rarrb:MU,rarrbfs:OU,rarrc:DU,rarr:AU,Rarr:LU,rArr:RU,rarrfs:IU,rarrhk:PU,rarrlp:BU,rarrpl:_U,rarrsim:FU,Rarrtl:qU,rarrtl:HU,rarrw:zU,ratail:$U,rAtail:VU,ratio:UU,rationals:jU,rbarr:WU,rBarr:GU,RBarr:JU,rbbrk:KU,rbrace:QU,rbrack:XU,rbrke:YU,rbrksld:ZU,rbrkslu:e3,Rcaron:t3,rcaron:r3,Rcedil:n3,rcedil:i3,rceil:a3,rcub:o3,Rcy:s3,rcy:l3,rdca:u3,rdldhar:c3,rdquo:f3,rdquor:d3,rdsh:h3,real:p3,realine:v3,realpart:m3,reals:g3,Re:y3,rect:w3,reg:b3,REG:k3,ReverseElement:C3,ReverseEquilibrium:S3,ReverseUpEquilibrium:x3,rfisht:T3,rfloor:E3,rfr:N3,Rfr:M3,rHar:O3,rhard:D3,rharu:A3,rharul:L3,Rho:R3,rho:I3,rhov:P3,RightAngleBracket:B3,RightArrowBar:_3,rightarrow:F3,RightArrow:q3,Rightarrow:H3,RightArrowLeftArrow:z3,rightarrowtail:$3,RightCeiling:V3,RightDoubleBracket:U3,RightDownTeeVector:j3,RightDownVectorBar:W3,RightDownVector:G3,RightFloor:J3,rightharpoondown:K3,rightharpoonup:Q3,rightleftarrows:X3,rightleftharpoons:Y3,rightrightarrows:Z3,rightsquigarrow:ej,RightTeeArrow:tj,RightTee:rj,RightTeeVector:nj,rightthreetimes:ij,RightTriangleBar:aj,RightTriangle:oj,RightTriangleEqual:sj,RightUpDownVector:lj,RightUpTeeVector:uj,RightUpVectorBar:cj,RightUpVector:fj,RightVectorBar:dj,RightVector:hj,ring:pj,risingdotseq:vj,rlarr:mj,rlhar:gj,rlm:yj,rmoustache:wj,rmoust:bj,rnmid:kj,roang:Cj,roarr:Sj,robrk:xj,ropar:Tj,ropf:Ej,Ropf:Nj,roplus:Mj,rotimes:Oj,RoundImplies:Dj,rpar:Aj,rpargt:Lj,rppolint:Rj,rrarr:Ij,Rrightarrow:Pj,rsaquo:Bj,rscr:_j,Rscr:Fj,rsh:qj,Rsh:Hj,rsqb:zj,rsquo:$j,rsquor:Vj,rthree:Uj,rtimes:jj,rtri:Wj,rtrie:Gj,rtrif:Jj,rtriltri:Kj,RuleDelayed:Qj,ruluhar:Xj,rx:Yj,Sacute:Zj,sacute:eW,sbquo:tW,scap:rW,Scaron:nW,scaron:iW,Sc:aW,sc:oW,sccue:sW,sce:lW,scE:uW,Scedil:cW,scedil:fW,Scirc:dW,scirc:hW,scnap:pW,scnE:vW,scnsim:mW,scpolint:gW,scsim:yW,Scy:wW,scy:bW,sdotb:kW,sdot:CW,sdote:SW,searhk:xW,searr:TW,seArr:EW,searrow:NW,sect:MW,semi:OW,seswar:DW,setminus:AW,setmn:LW,sext:RW,Sfr:IW,sfr:PW,sfrown:BW,sharp:_W,SHCHcy:FW,shchcy:qW,SHcy:HW,shcy:zW,ShortDownArrow:$W,ShortLeftArrow:VW,shortmid:UW,shortparallel:jW,ShortRightArrow:WW,ShortUpArrow:GW,shy:JW,Sigma:KW,sigma:QW,sigmaf:XW,sigmav:YW,sim:ZW,simdot:e4,sime:t4,simeq:r4,simg:n4,simgE:i4,siml:a4,simlE:o4,simne:s4,simplus:l4,simrarr:u4,slarr:c4,SmallCircle:f4,smallsetminus:d4,smashp:h4,smeparsl:p4,smid:v4,smile:m4,smt:g4,smte:y4,smtes:w4,SOFTcy:b4,softcy:k4,solbar:C4,solb:S4,sol:x4,Sopf:T4,sopf:E4,spades:N4,spadesuit:M4,spar:O4,sqcap:D4,sqcaps:A4,sqcup:L4,sqcups:R4,Sqrt:I4,sqsub:P4,sqsube:B4,sqsubset:_4,sqsubseteq:F4,sqsup:q4,sqsupe:H4,sqsupset:z4,sqsupseteq:$4,square:V4,Square:U4,SquareIntersection:j4,SquareSubset:W4,SquareSubsetEqual:G4,SquareSuperset:J4,SquareSupersetEqual:K4,SquareUnion:Q4,squarf:X4,squ:Y4,squf:Z4,srarr:e6,Sscr:t6,sscr:r6,ssetmn:n6,ssmile:i6,sstarf:a6,Star:o6,star:s6,starf:l6,straightepsilon:u6,straightphi:c6,strns:f6,sub:d6,Sub:h6,subdot:p6,subE:v6,sube:m6,subedot:g6,submult:y6,subnE:w6,subne:b6,subplus:k6,subrarr:C6,subset:S6,Subset:x6,subseteq:T6,subseteqq:E6,SubsetEqual:N6,subsetneq:M6,subsetneqq:O6,subsim:D6,subsub:A6,subsup:L6,succapprox:R6,succ:I6,succcurlyeq:P6,Succeeds:B6,SucceedsEqual:_6,SucceedsSlantEqual:F6,SucceedsTilde:q6,succeq:H6,succnapprox:z6,succneqq:$6,succnsim:V6,succsim:U6,SuchThat:j6,sum:W6,Sum:G6,sung:J6,sup1:K6,sup2:Q6,sup3:X6,sup:Y6,Sup:Z6,supdot:e5,supdsub:t5,supE:r5,supe:n5,supedot:i5,Superset:a5,SupersetEqual:o5,suphsol:s5,suphsub:l5,suplarr:u5,supmult:c5,supnE:f5,supne:d5,supplus:h5,supset:p5,Supset:v5,supseteq:m5,supseteqq:g5,supsetneq:y5,supsetneqq:w5,supsim:b5,supsub:k5,supsup:C5,swarhk:S5,swarr:x5,swArr:T5,swarrow:E5,swnwar:N5,szlig:M5,Tab:O5,target:D5,Tau:A5,tau:L5,tbrk:R5,Tcaron:I5,tcaron:P5,Tcedil:B5,tcedil:_5,Tcy:F5,tcy:q5,tdot:H5,telrec:z5,Tfr:$5,tfr:V5,there4:U5,therefore:j5,Therefore:W5,Theta:G5,theta:J5,thetasym:K5,thetav:Q5,thickapprox:X5,thicksim:Y5,ThickSpace:Z5,ThinSpace:e8,thinsp:t8,thkap:r8,thksim:n8,THORN:i8,thorn:a8,tilde:o8,Tilde:s8,TildeEqual:l8,TildeFullEqual:u8,TildeTilde:c8,timesbar:f8,timesb:d8,times:h8,timesd:p8,tint:v8,toea:m8,topbot:g8,topcir:y8,top:w8,Topf:b8,topf:k8,topfork:C8,tosa:S8,tprime:x8,trade:T8,TRADE:E8,triangle:N8,triangledown:M8,triangleleft:O8,trianglelefteq:D8,triangleq:A8,triangleright:L8,trianglerighteq:R8,tridot:I8,trie:P8,triminus:B8,TripleDot:_8,triplus:F8,trisb:q8,tritime:H8,trpezium:z8,Tscr:$8,tscr:V8,TScy:U8,tscy:j8,TSHcy:W8,tshcy:G8,Tstrok:J8,tstrok:K8,twixt:Q8,twoheadleftarrow:X8,twoheadrightarrow:Y8,Uacute:Z8,uacute:e9,uarr:t9,Uarr:r9,uArr:n9,Uarrocir:i9,Ubrcy:a9,ubrcy:o9,Ubreve:s9,ubreve:l9,Ucirc:u9,ucirc:c9,Ucy:f9,ucy:d9,udarr:h9,Udblac:p9,udblac:v9,udhar:m9,ufisht:g9,Ufr:y9,ufr:w9,Ugrave:b9,ugrave:k9,uHar:C9,uharl:S9,uharr:x9,uhblk:T9,ulcorn:E9,ulcorner:N9,ulcrop:M9,ultri:O9,Umacr:D9,umacr:A9,uml:L9,UnderBar:R9,UnderBrace:I9,UnderBracket:P9,UnderParenthesis:B9,Union:_9,UnionPlus:F9,Uogon:q9,uogon:H9,Uopf:z9,uopf:$9,UpArrowBar:V9,uparrow:U9,UpArrow:j9,Uparrow:W9,UpArrowDownArrow:G9,updownarrow:J9,UpDownArrow:K9,Updownarrow:Q9,UpEquilibrium:X9,upharpoonleft:Y9,upharpoonright:Z9,uplus:eG,UpperLeftArrow:tG,UpperRightArrow:rG,upsi:nG,Upsi:iG,upsih:aG,Upsilon:oG,upsilon:sG,UpTeeArrow:lG,UpTee:uG,upuparrows:cG,urcorn:fG,urcorner:dG,urcrop:hG,Uring:pG,uring:vG,urtri:mG,Uscr:gG,uscr:yG,utdot:wG,Utilde:bG,utilde:kG,utri:CG,utrif:SG,uuarr:xG,Uuml:TG,uuml:EG,uwangle:NG,vangrt:MG,varepsilon:OG,varkappa:DG,varnothing:AG,varphi:LG,varpi:RG,varpropto:IG,varr:PG,vArr:BG,varrho:_G,varsigma:FG,varsubsetneq:qG,varsubsetneqq:HG,varsupsetneq:zG,varsupsetneqq:$G,vartheta:VG,vartriangleleft:UG,vartriangleright:jG,vBar:WG,Vbar:GG,vBarv:JG,Vcy:KG,vcy:QG,vdash:XG,vDash:YG,Vdash:ZG,VDash:eJ,Vdashl:tJ,veebar:rJ,vee:nJ,Vee:iJ,veeeq:aJ,vellip:oJ,verbar:sJ,Verbar:lJ,vert:uJ,Vert:cJ,VerticalBar:fJ,VerticalLine:dJ,VerticalSeparator:hJ,VerticalTilde:pJ,VeryThinSpace:vJ,Vfr:mJ,vfr:gJ,vltri:yJ,vnsub:wJ,vnsup:bJ,Vopf:kJ,vopf:CJ,vprop:SJ,vrtri:xJ,Vscr:TJ,vscr:EJ,vsubnE:NJ,vsubne:MJ,vsupnE:OJ,vsupne:DJ,Vvdash:AJ,vzigzag:LJ,Wcirc:RJ,wcirc:IJ,wedbar:PJ,wedge:BJ,Wedge:_J,wedgeq:FJ,weierp:qJ,Wfr:HJ,wfr:zJ,Wopf:$J,wopf:VJ,wp:UJ,wr:jJ,wreath:WJ,Wscr:GJ,wscr:JJ,xcap:KJ,xcirc:QJ,xcup:XJ,xdtri:YJ,Xfr:ZJ,xfr:eK,xharr:tK,xhArr:rK,Xi:nK,xi:iK,xlarr:aK,xlArr:oK,xmap:sK,xnis:lK,xodot:uK,Xopf:cK,xopf:fK,xoplus:dK,xotime:hK,xrarr:pK,xrArr:vK,Xscr:mK,xscr:gK,xsqcup:yK,xuplus:wK,xutri:bK,xvee:kK,xwedge:CK,Yacute:SK,yacute:xK,YAcy:TK,yacy:EK,Ycirc:NK,ycirc:MK,Ycy:OK,ycy:DK,yen:AK,Yfr:LK,yfr:RK,YIcy:IK,yicy:PK,Yopf:BK,yopf:_K,Yscr:FK,yscr:qK,YUcy:HK,yucy:zK,yuml:$K,Yuml:VK,Zacute:UK,zacute:jK,Zcaron:WK,zcaron:GK,Zcy:JK,zcy:KK,Zdot:QK,zdot:XK,zeetrf:YK,ZeroWidthSpace:ZK,Zeta:e7,zeta:t7,zfr:r7,Zfr:n7,ZHcy:i7,zhcy:a7,zigrarr:o7,zopf:s7,Zopf:l7,Zscr:u7,zscr:c7,zwj:f7,zwnj:d7},h7="",p7="",v7="",m7="",g7="",y7="",w7="",b7="",k7="",C7="&",S7="&",x7="",T7="",E7="",N7="",M7="",O7="",D7="",A7="",L7="",R7="",I7="",P7="",B7="",_7="",F7="",q7="",H7="",z7="",$7="",V7="",U7="",j7="",W7="",G7="",J7="",K7="",Q7="",X7="",Y7="",Z7=">",eQ=">",tQ="",rQ="",nQ="",iQ="",aQ="",oQ="",sQ="",lQ="",uQ="",cQ="",fQ="",dQ="<",hQ="<",pQ="",vQ="",mQ="",gQ="",yQ="",wQ="",bQ="",kQ="",CQ="",SQ="",xQ="",TQ="",EQ="",NQ="",MQ="",OQ="",DQ="",AQ="",LQ="",RQ="",IQ="",PQ="",BQ="",_Q="",FQ='"',qQ='"',HQ="",zQ="",$Q="",VQ="",UQ="",jQ="",WQ="",GQ="",JQ="",KQ="",QQ="",XQ="",YQ="",ZQ="",eX="",tX="",rX="",nX="",iX="",aX="",oX="",sX="",lX="",uX="",cX="",fX={Aacute:h7,aacute:p7,Acirc:v7,acirc:m7,acute:g7,AElig:y7,aelig:w7,Agrave:b7,agrave:k7,amp:C7,AMP:S7,Aring:x7,aring:T7,Atilde:E7,atilde:N7,Auml:M7,auml:O7,brvbar:D7,Ccedil:A7,ccedil:L7,cedil:R7,cent:I7,copy:P7,COPY:B7,curren:_7,deg:F7,divide:q7,Eacute:H7,eacute:z7,Ecirc:$7,ecirc:V7,Egrave:U7,egrave:j7,ETH:W7,eth:G7,Euml:J7,euml:K7,frac12:Q7,frac14:X7,frac34:Y7,gt:Z7,GT:eQ,Iacute:tQ,iacute:rQ,Icirc:nQ,icirc:iQ,iexcl:aQ,Igrave:oQ,igrave:sQ,iquest:lQ,Iuml:uQ,iuml:cQ,laquo:fQ,lt:dQ,LT:hQ,macr:pQ,micro:vQ,middot:mQ,nbsp:gQ,not:yQ,Ntilde:wQ,ntilde:bQ,Oacute:kQ,oacute:CQ,Ocirc:SQ,ocirc:xQ,Ograve:TQ,ograve:EQ,ordf:NQ,ordm:MQ,Oslash:OQ,oslash:DQ,Otilde:AQ,otilde:LQ,Ouml:RQ,ouml:IQ,para:PQ,plusmn:BQ,pound:_Q,quot:FQ,QUOT:qQ,raquo:HQ,reg:zQ,REG:$Q,sect:VQ,shy:UQ,sup1:jQ,sup2:WQ,sup3:GQ,szlig:JQ,THORN:KQ,thorn:QQ,times:XQ,Uacute:YQ,uacute:ZQ,Ucirc:eX,ucirc:tX,Ugrave:rX,ugrave:nX,uml:iX,Uuml:aX,uuml:oX,Yacute:sX,yacute:lX,yen:uX,yuml:cX},dX="&",hX="'",pX=">",vX="<",mX='"',nb={amp:dX,apos:hX,gt:pX,lt:vX,quot:mX},Cg={},gX={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},yX=$&&$.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(Cg,"__esModule",{value:!0});var ib=yX(gX),wX=String.fromCodePoint||function(g){var m="";return g>65535&&(g-=65536,m+=String.fromCharCode(g>>>10&1023|55296),g=56320|g&1023),m+=String.fromCharCode(g),m};function bX(g){return g>=55296&&g<=57343||g>1114111?"":(g in ib.default&&(g=ib.default[g]),wX(g))}Cg.default=bX;var $p=$&&$.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(ke,"__esModule",{value:!0}),ke.decodeHTML=ke.decodeHTMLStrict=ke.decodeXML=void 0;var Sg=$p(rb),kX=$p(fX),CX=$p(nb),ab=$p(Cg),SX=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;ke.decodeXML=ob(CX.default),ke.decodeHTMLStrict=ob(Sg.default);function ob(g){var m=lb(g);return function(C){return String(C).replace(SX,m)}}var sb=function(g,m){return g<m?1:-1};ke.decodeHTML=function(){for(var g=Object.keys(kX.default).sort(sb),m=Object.keys(Sg.default).sort(sb),C=0,D=0;C<m.length;C++)g[D]===m[C]?(m[C]+=";?",D++):m[C]+=";";var q=new RegExp("&(?:"+m.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),Q=lb(Sg.default);function ne(ce){return ce.substr(-1)!==";"&&(ce+=";"),Q(ce)}return function(ce){return String(ce).replace(q,ne)}}();function lb(g){return function(C){if(C.charAt(1)==="#"){var D=C.charAt(2);return D==="X"||D==="x"?ab.default(parseInt(C.substr(3),16)):ab.default(parseInt(C.substr(2),10))}return g[C.slice(1,-1)]||C}}var na={},ub=$&&$.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(na,"__esModule",{value:!0}),na.escapeUTF8=na.escape=na.encodeNonAsciiHTML=na.encodeHTML=na.encodeXML=void 0;var xX=ub(nb),cb=db(xX.default),fb=hb(cb);na.encodeXML=mb(cb);var TX=ub(rb),xg=db(TX.default),EX=hb(xg);na.encodeHTML=MX(xg,EX),na.encodeNonAsciiHTML=mb(xg);function db(g){return Object.keys(g).sort().reduce(function(m,C){return m[g[C]]="&"+C+";",m},{})}function hb(g){for(var m=[],C=[],D=0,q=Object.keys(g);D<q.length;D++){var Q=q[D];Q.length===1?m.push("\\"+Q):C.push(Q)}m.sort();for(var ne=0;ne<m.length-1;ne++){for(var ce=ne;ce<m.length-1&&m[ce].charCodeAt(1)+1===m[ce+1].charCodeAt(1);)ce+=1;var $e=1+ce-ne;$e<3||m.splice(ne,$e,m[ne]+"-"+m[ce])}return C.unshift("["+m.join("")+"]"),new RegExp(C.join("|"),"g")}var pb=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,NX=String.prototype.codePointAt!=null?function(g){return g.codePointAt(0)}:function(g){return(g.charCodeAt(0)-55296)*1024+g.charCodeAt(1)-56320+65536};function Vp(g){return"&#x"+(g.length>1?NX(g):g.charCodeAt(0)).toString(16).toUpperCase()+";"}function MX(g,m){return function(C){return C.replace(m,function(D){return g[D]}).replace(pb,Vp)}}var vb=new RegExp(fb.source+"|"+pb.source,"g");function OX(g){return g.replace(vb,Vp)}na.escape=OX;function DX(g){return g.replace(fb,Vp)}na.escapeUTF8=DX;function mb(g){return function(m){return m.replace(vb,function(C){return g[C]||Vp(C)})}}(function(g){Object.defineProperty(g,"__esModule",{value:!0}),g.decodeXMLStrict=g.decodeHTML5Strict=g.decodeHTML4Strict=g.decodeHTML5=g.decodeHTML4=g.decodeHTMLStrict=g.decodeHTML=g.decodeXML=g.encodeHTML5=g.encodeHTML4=g.escapeUTF8=g.escape=g.encodeNonAsciiHTML=g.encodeHTML=g.encodeXML=g.encode=g.decodeStrict=g.decode=void 0;var m=ke,C=na;function D($e,Ke){return(!Ke||Ke<=0?m.decodeXML:m.decodeHTML)($e)}g.decode=D;function q($e,Ke){return(!Ke||Ke<=0?m.decodeXML:m.decodeHTMLStrict)($e)}g.decodeStrict=q;function Q($e,Ke){return(!Ke||Ke<=0?C.encodeXML:C.encodeHTML)($e)}g.encode=Q;var ne=na;Object.defineProperty(g,"encodeXML",{enumerable:!0,get:function(){return ne.encodeXML}}),Object.defineProperty(g,"encodeHTML",{enumerable:!0,get:function(){return ne.encodeHTML}}),Object.defineProperty(g,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return ne.encodeNonAsciiHTML}}),Object.defineProperty(g,"escape",{enumerable:!0,get:function(){return ne.escape}}),Object.defineProperty(g,"escapeUTF8",{enumerable:!0,get:function(){return ne.escapeUTF8}}),Object.defineProperty(g,"encodeHTML4",{enumerable:!0,get:function(){return ne.encodeHTML}}),Object.defineProperty(g,"encodeHTML5",{enumerable:!0,get:function(){return ne.encodeHTML}});var ce=ke;Object.defineProperty(g,"decodeXML",{enumerable:!0,get:function(){return ce.decodeXML}}),Object.defineProperty(g,"decodeHTML",{enumerable:!0,get:function(){return ce.decodeHTML}}),Object.defineProperty(g,"decodeHTMLStrict",{enumerable:!0,get:function(){return ce.decodeHTMLStrict}}),Object.defineProperty(g,"decodeHTML4",{enumerable:!0,get:function(){return ce.decodeHTML}}),Object.defineProperty(g,"decodeHTML5",{enumerable:!0,get:function(){return ce.decodeHTML}}),Object.defineProperty(g,"decodeHTML4Strict",{enumerable:!0,get:function(){return ce.decodeHTMLStrict}}),Object.defineProperty(g,"decodeHTML5Strict",{enumerable:!0,get:function(){return ce.decodeHTMLStrict}}),Object.defineProperty(g,"decodeXMLStrict",{enumerable:!0,get:function(){return ce.decodeXML}})})(le);var gb="&(?:#x[a-f0-9]{1,6}|#[0-9]{1,7}|[a-z][a-z0-9]{1,31});",AX=92,LX=/[\\&]/,Tg="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]",RX=new RegExp("\\\\"+Tg+"|"+gb,"gi"),IX='[&<>"]',yb=new RegExp(IX,"g"),PX=function(g){return g.charCodeAt(0)===AX?g.charAt(1):le.decodeHTML(g)};function Pd(g){return LX.test(g)?g.replace(RX,PX):g}function Up(g){try{return ve(g)}catch{return g}}function BX(g){switch(g){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return g}}function Ic(g){return yb.test(g)?g.replace(yb,BX):g}function Eg(g,m){for(var C=[],D=0;D<m;D++)C.push(g);return C.join("")}function wb(g){return g?!/[^ \t]+/.test(g):!0}var _X=function(){function g(m){this.current=m,this.root=m,this.entering=!0}return g.prototype.next=function(){var m=this.current,C=this.entering;if(m===null)return null;var D=Ng(m);return C&&D?m.firstChild?(this.current=m.firstChild,this.entering=!0):this.entering=!1:m===this.root?this.current=null:m.next===null?(this.current=m.parent,this.entering=!1):(this.current=m.next,this.entering=!0),{entering:C,node:m}},g.prototype.resumeAt=function(m,C){this.current=m,this.entering=C===!0},g}();function Ng(g){switch(g.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}var FX=1,jp={};function qX(g){return jp[g]}function Mg(g){delete jp[g]}function HX(){jp={}}var Bd=function(){function g(m,C){this.parent=null,this.prev=null,this.next=null,this.firstChild=null,this.lastChild=null,this.literal=null,m==="document"?this.id=-1:this.id=FX++,this.type=m,this.sourcepos=C,jp[this.id]=this}return g.prototype.isContainer=function(){return Ng(this)},g.prototype.unlink=function(){this.prev?this.prev.next=this.next:this.parent&&(this.parent.firstChild=this.next),this.next?this.next.prev=this.prev:this.parent&&(this.parent.lastChild=this.prev),this.parent=null,this.next=null,this.prev=null},g.prototype.replaceWith=function(m){this.insertBefore(m),this.unlink()},g.prototype.insertAfter=function(m){m.unlink(),m.next=this.next,m.next&&(m.next.prev=m),m.prev=this,this.next=m,this.parent&&(m.parent=this.parent,m.next||(m.parent.lastChild=m))},g.prototype.insertBefore=function(m){m.unlink(),m.prev=this.prev,m.prev&&(m.prev.next=m),m.next=this,this.prev=m,m.parent=this.parent,m.prev||(m.parent.firstChild=m)},g.prototype.appendChild=function(m){m.unlink(),m.parent=this,this.lastChild?(this.lastChild.next=m,m.prev=this.lastChild,this.lastChild=m):(this.firstChild=m,this.lastChild=m)},g.prototype.prependChild=function(m){m.unlink(),m.parent=this,this.firstChild?(this.firstChild.prev=m,m.next=this.firstChild,this.firstChild=m):(this.firstChild=m,this.lastChild=m)},g.prototype.walker=function(){return new _X(this)},g}(),Xo=function(g){E(m,g);function m(C,D){var q=g.call(this,C,D)||this;return q.open=!0,q.lineOffsets=null,q.stringContent=null,q.lastLineBlank=!1,q.lastLineChecked=!1,q.type=C,q}return m}(Bd),zX=function(g){E(m,g);function m(){var C=g!==null&&g.apply(this,arguments)||this;return C.listData=null,C}return m}(Xo),$X=function(g){E(m,g);function m(){var C=g!==null&&g.apply(this,arguments)||this;return C.level=0,C.headingType="atx",C}return m}(Xo),VX=function(g){E(m,g);function m(){var C=g!==null&&g.apply(this,arguments)||this;return C.isFenced=!1,C.fenceChar=null,C.fenceLength=0,C.fenceOffset=-1,C.info=null,C.infoPadding=0,C}return m}(Xo),UX=function(g){E(m,g);function m(){var C=g!==null&&g.apply(this,arguments)||this;return C.columns=[],C}return m}(Xo),jX=function(g){E(m,g);function m(){var C=g!==null&&g.apply(this,arguments)||this;return C.startIdx=0,C.endIdx=0,C.paddingLeft=0,C.paddingRight=0,C.ignored=!1,C}return m}(Xo),WX=function(g){E(m,g);function m(){var C=g!==null&&g.apply(this,arguments)||this;return C.title="",C.dest="",C.label="",C}return m}(Xo),GX=function(g){E(m,g);function m(){var C=g!==null&&g.apply(this,arguments)||this;return C.syntaxLength=0,C.offset=-1,C.info="",C}return m}(Xo),JX=function(g){E(m,g);function m(){var C=g!==null&&g.apply(this,arguments)||this;return C.htmlBlockType=-1,C}return m}(Xo),KX=function(g){E(m,g);function m(){var C=g!==null&&g.apply(this,arguments)||this;return C.destination=null,C.title=null,C.extendedAutolink=!1,C}return m}(Bd),QX=function(g){E(m,g);function m(){var C=g!==null&&g.apply(this,arguments)||this;return C.tickCount=0,C}return m}(Bd),XX=function(g){E(m,g);function m(){var C=g!==null&&g.apply(this,arguments)||this;return C.info="",C}return m}(Bd);function en(g,m){switch(g){case"heading":return new $X(g,m);case"list":case"item":return new zX(g,m);case"link":case"image":return new KX(g,m);case"codeBlock":return new VX(g,m);case"htmlBlock":return new JX(g,m);case"table":return new UX(g,m);case"tableCell":return new jX(g,m);case"document":case"paragraph":case"blockQuote":case"thematicBreak":case"tableRow":case"tableBody":case"tableHead":case"frontMatter":return new Xo(g,m);case"code":return new QX(g,m);case"refDef":return new WX(g,m);case"customBlock":return new GX(g,m);case"customInline":return new XX(g,m);default:return new Bd(g,m)}}function bb(g){return g.type==="codeBlock"}function YX(g){return g.type==="htmlBlock"}function ZX(g){return g.type==="heading"}function kb(g){return g.type==="list"}function eY(g){return g.type==="table"}function Pc(g){return g.type==="refDef"}function Cb(g){return g.type==="customBlock"}function tY(g){return g.type==="customInline"}function wn(g,m){var C=en("text",m);return C.literal=g,C}var Sb="[A-Za-z][A-Za-z0-9-]*",rY="[a-zA-Z_:][a-zA-Z0-9:._-]*",nY="[^\"'=<>`\\x00-\\x20]+",iY="'[^']*'",aY='"[^"]*"',oY="(?:"+nY+"|"+iY+"|"+aY+")",sY="(?:\\s*=\\s*"+oY+")",lY="(?:\\s+"+rY+sY+"?)",xb="<"+Sb+lY+"*\\s*/?>",Tb="</"+Sb+"\\s*[>]",uY="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",cY="[<][?].*?[?][>]",fY="<![A-Z]+\\s+[^>]*>",dY="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",hY="(?:"+xb+"|"+Tb+"|"+uY+"|"+cY+"|"+fY+"|"+dY+")",pY=new RegExp("^"+hY,"i");/*! http://mths.be/fromcodepoint v0.2.1 by @mathias */var Og;if(String.fromCodePoint)Og=function(g){try{return String.fromCodePoint(g)}catch(m){if(m instanceof RangeError)return"";throw m}};else{var vY=String.fromCharCode,mY=Math.floor;Og=function(){for(var g=[],m=0;m<arguments.length;m++)g[m]=arguments[m];var C=16384,D=[],q,Q,ne=-1,ce=g.length;if(!ce)return"";for(var $e="";++ne<ce;){var Ke=Number(g[ne]);if(!isFinite(Ke)||Ke<0||Ke>1114111||mY(Ke)!==Ke)return"";Ke<=65535?D.push(Ke):(Ke-=65536,q=(Ke>>10)+55296,Q=Ke%1024+56320,D.push(q,Q)),(ne+1===ce||D.length>C)&&($e+=vY.apply(void 0,D),D.length=0)}return $e}}var Dg=Og,gY="(?:[w-]+.)*[A-Za-z0-9-]+.[A-Za-z0-9-]+",yY="[^<\\s]*[^<?!.,:*_?~\\s]",wY="[\\w.+-]+@(?:[\\w-]+\\.)+[\\w-]+";function bY(g){var m=/\)+$/.exec(g);if(m){for(var C=0,D=0,q=g;D<q.length;D++){var Q=q[D];Q==="("?C<0?C=1:C+=1:Q===")"&&(C-=1)}if(C<0){var ne=Math.min(-C,m[0].length);return g.substring(0,g.length-ne)}}return g}function kY(g){return g.replace(/&[A-Za-z0-9]+;$/,"")}function CY(g){for(var m=new RegExp(wY,"g"),C=[],D;D=m.exec(g);){var q=D[0];/[_-]+$/.test(q)||C.push({text:q,range:[D.index,D.index+q.length-1],url:"mailto:"+q})}return C}function SY(g){for(var m=new RegExp("(www|https?://)."+gY+yY,"g"),C=[],D;D=m.exec(g);){var q=kY(bY(D[0])),Q=D[1]==="www"?"http://":"";C.push({text:q,range:[D.index,D.index+q.length-1],url:""+Q+q})}return C}function xY(g){return L(L([],SY(g)),CY(g)).sort(function(m,C){return m.range[0]-C.range[0]})}function TY(g,m){typeof m=="boolean"&&(m=xY);for(var C,D=function(){var q=C.entering,Q=C.node;if(q&&Q.type==="text"&&Q.parent.type!=="link"){var ne=Q.literal,ce=m(ne);if(!ce||!ce.length)return"continue";for(var $e=0,Ke=Q.sourcepos[0],vt=Ke[0],bt=Ke[1],ft=function(ts,Pte){return[[vt,bt+ts],[vt,bt+Pte]]},Ft=[],_t=0,br=ce;_t<br.length;_t++){var tn=br[_t],Pn=tn.range,Yo=tn.url,Ca=tn.text;Pn[0]>$e&&Ft.push(wn(ne.substring($e,Pn[0]),ft($e,Pn[0]-1)));var aa=en("link",ft.apply(void 0,Pn));aa.appendChild(wn(Ca,ft.apply(void 0,Pn))),aa.destination=Yo,aa.extendedAutolink=!0,Ft.push(aa),$e=Pn[1]+1}$e<ne.length&&Ft.push(wn(ne.substring($e),ft($e,ne.length-1)));for(var Ha=0,Zo=Ft;Ha<Zo.length;Ha++){var es=Zo[Ha];Q.insertBefore(es)}Q.unlink()}};C=g.next();)D()}function Wp(g){return g[g.length-1]}function Eb(g){return g.slice(1,g.length-1).trim().replace(/[ \t\r\n]+/," ").toLowerCase().toUpperCase()}function Gp(g,m){Object.keys(g).forEach(function(C){m(C,g[C])})}function EY(g){for(var m=[],C=1;C<arguments.length;C++)m[C-1]=arguments[C];var D=P({},g);return m.forEach(function(q){delete D[q]}),D}function Bc(g){return!Object.keys(g).length}function NY(g){Object.keys(g).forEach(function(m){delete g[m]})}var Ag=10,Lg=42,Jp=95,MY=96,Nb=91,OY=93,Kp=126,Mb=60,DY=33,Ob=92,AY=38,Db=40,Rg=41,LY=58,Zl=39,eu=34,tu=36,Ig="\\\\"+Tg,Ab=new RegExp(/[!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/),RY=new RegExp('^(?:"('+Ig+'|[^"\\x00])*"|'+("'("+Ig+"|[^'\\x00])*'")+"|"+("\\(("+Ig+"|[^()\\x00])*\\))")),IY=/^(?:<(?:[^<>\n\\\x00]|\\.)*>)/,Lb=new RegExp("^"+Tg),PY=new RegExp("^"+gb,"i"),BY=/`+/,_Y=/^`+/,FY=/\.\.\./g,qY=/--+/g,HY=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,zY=/^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\x00-\x20]*>/i,$Y=/^ *(?:\n *)?/,Pg=/^[ \t\n\x0b\x0c\x0d]/,Rb=/^\s/,VY=/ *$/,UY=/^ */,Ib=/^ *(?:\n|$)/,jY=/^\[(?:[^\\\[\]]|\\.){0,1000}\]/,WY=/^[^\n`\[\]\\!<&*_'"~$]+/m,GY=function(){function g(m){this.subject="",this.delimiters=null,this.brackets=null,this.pos=0,this.lineStartNum=0,this.lineIdx=0,this.lineOffsets=[0],this.linePosOffset=0,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.options=m}return g.prototype.sourcepos=function(m,C){var D=this.linePosOffset+this.lineOffsets[this.lineIdx],q=this.lineStartNum+this.lineIdx,Q=[q,m+D];return typeof C=="number"?[Q,[q,C+D]]:Q},g.prototype.nextLine=function(){this.lineIdx+=1,this.linePosOffset=-this.pos},g.prototype.match=function(m){var C=m.exec(this.subject.slice(this.pos));return C===null?null:(this.pos+=C.index+C[0].length,C[0])},g.prototype.peek=function(){return this.pos<this.subject.length?this.subject.charCodeAt(this.pos):-1},g.prototype.spnl=function(){return this.match($Y),!0},g.prototype.parseBackticks=function(m){var C=this.pos+1,D=this.match(_Y);if(D===null)return!1;for(var q=this.pos,Q;(Q=this.match(BY))!==null;)if(Q===D){var ne=this.subject.slice(q,this.pos-D.length),ce=this.sourcepos(C,this.pos),$e=ne.split(`
`);if($e.length>1){var Ke=Wp($e);this.lineIdx+=$e.length-1,this.linePosOffset=-(this.pos-Ke.length-D.length),ce[1]=this.sourcepos(this.pos),ne=$e.join(" ")}var vt=en("code",ce);return ne.length>0&&ne.match(/[^ ]/)!==null&&ne[0]==" "&&ne[ne.length-1]==" "?vt.literal=ne.slice(1,ne.length-1):vt.literal=ne,vt.tickCount=D.length,m.appendChild(vt),!0}return this.pos=q,m.appendChild(wn(D,this.sourcepos(C,this.pos-1))),!0},g.prototype.parseBackslash=function(m){var C=this.subject,D;this.pos+=1;var q=this.pos;return this.peek()===Ag?(this.pos+=1,D=en("linebreak",this.sourcepos(this.pos-1,this.pos)),m.appendChild(D),this.nextLine()):Lb.test(C.charAt(this.pos))?(m.appendChild(wn(C.charAt(this.pos),this.sourcepos(q,this.pos))),this.pos+=1):m.appendChild(wn("\\",this.sourcepos(q,q))),!0},g.prototype.parseAutolink=function(m){var C,D,q,Q=this.pos+1;return(C=this.match(HY))?(D=C.slice(1,C.length-1),q=en("link",this.sourcepos(Q,this.pos)),q.destination=Up("mailto:"+D),q.title="",q.appendChild(wn(D,this.sourcepos(Q+1,this.pos-1))),m.appendChild(q),!0):(C=this.match(zY))?(D=C.slice(1,C.length-1),q=en("link",this.sourcepos(Q,this.pos)),q.destination=Up(D),q.title="",q.appendChild(wn(D,this.sourcepos(Q+1,this.pos-1))),m.appendChild(q),!0):!1},g.prototype.parseHtmlTag=function(m){var C=this.pos+1,D=this.match(pY);if(D===null)return!1;var q=en("htmlInline",this.sourcepos(C,this.pos));return q.literal=D,m.appendChild(q),!0},g.prototype.scanDelims=function(m){var C=0,D=this.pos;if(m===Zl||m===eu)C++,this.pos++;else for(;this.peek()===m;)C++,this.pos++;if(C===0||C<2&&(m===Kp||m===tu))return this.pos=D,null;var q=D===0?`
`:this.subject.charAt(D-1),Q=this.peek(),ne;Q===-1?ne=`
`:ne=Dg(Q);var ce=Rb.test(ne),$e=Ab.test(ne),Ke=Rb.test(q),vt=Ab.test(q),bt=!ce&&(!$e||Ke||vt),ft=!Ke&&(!vt||ce||$e),Ft,_t;return m===Jp?(Ft=bt&&(!ft||vt),_t=ft&&(!bt||$e)):m===Zl||m===eu?(Ft=bt&&!ft,_t=ft):m===tu?(Ft=!ce,_t=!Ke):(Ft=bt,_t=ft),this.pos=D,{numdelims:C,canOpen:Ft,canClose:_t}},g.prototype.handleDelim=function(m,C){var D=this.scanDelims(m);if(!D)return!1;var q=D.numdelims,Q=this.pos+1,ne;this.pos+=q,m===Zl?ne="":m===eu?ne="":ne=this.subject.slice(Q-1,this.pos);var ce=wn(ne,this.sourcepos(Q,this.pos));return C.appendChild(ce),(D.canOpen||D.canClose)&&(this.options.smart||m!==Zl&&m!==eu)&&(this.delimiters={cc:m,numdelims:q,origdelims:q,node:ce,previous:this.delimiters,next:null,canOpen:D.canOpen,canClose:D.canClose},this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters)),!0},g.prototype.removeDelimiter=function(m){m.previous!==null&&(m.previous.next=m.next),m.next===null?this.delimiters=m.previous:m.next.previous=m.previous},g.prototype.removeDelimitersBetween=function(m,C){m.next!==C&&(m.next=C,C.previous=m)},g.prototype.processEmphasis=function(m){var C,D,q,Q,ne,ce,$e,Ke=!1,vt=(C={},C[Jp]=[m,m,m],C[Lg]=[m,m,m],C[Zl]=[m],C[eu]=[m],C[Kp]=[m],C[tu]=[m],C);for(q=this.delimiters;q!==null&&q.previous!==m;)q=q.previous;for(;q!==null;){var bt=q.cc,ft=bt===Jp||bt===Lg;if(!q.canClose)q=q.next;else{for(D=q.previous,$e=!1;D!==null&&D!==m&&D!==vt[bt][ft?q.origdelims%3:0];){if(Ke=ft&&(q.canOpen||D.canClose)&&q.origdelims%3!==0&&(D.origdelims+q.origdelims)%3===0,D.cc===q.cc&&D.canOpen&&!Ke){$e=!0;break}D=D.previous}if(Q=q,ft||bt===Kp||bt===tu){if(!$e)q=q.next;else if(D){var Ft=q.numdelims>=2&&D.numdelims>=2?2:1,_t=ft?0:1;ne=D.node,ce=q.node;var br=ft?Ft===1?"emph":"strong":"strike";bt===tu&&(br="customInline");var tn=en(br),Pn=ne.sourcepos[1],Yo=ce.sourcepos[0];tn.sourcepos=[[Pn[0],Pn[1]-Ft+1],[Yo[0],Yo[1]+Ft-1]],ne.sourcepos[1][1]-=Ft,ce.sourcepos[0][1]+=Ft,ne.literal=ne.literal.slice(Ft),ce.literal=ce.literal.slice(Ft),D.numdelims-=Ft,q.numdelims-=Ft;for(var Ca=ne.next,aa=void 0;Ca&&Ca!==ce;)aa=Ca.next,Ca.unlink(),tn.appendChild(Ca),Ca=aa;if(bt===tu){var Ha=tn.firstChild,Zo=Ha.literal||"",es=Zo.split(/\s/)[0];tn.info=es,Zo.length<=es.length?Ha.unlink():(Ha.sourcepos[0][1]+=es.length,Ha.literal=Zo.replace(es+" ",""))}if(ne.insertAfter(tn),this.removeDelimitersBetween(D,q),D.numdelims<=_t&&(D.numdelims===0&&ne.unlink(),this.removeDelimiter(D)),q.numdelims<=_t){q.numdelims===0&&ce.unlink();var ts=q.next;this.removeDelimiter(q),q=ts}}}else bt===Zl?(q.node.literal="",$e&&(D.node.literal=""),q=q.next):bt===eu&&(q.node.literal="",$e&&(D.node.literal=""),q=q.next);$e||(vt[bt][ft?Q.origdelims%3:0]=Q.previous,Q.canOpen||this.removeDelimiter(Q))}}for(;this.delimiters!==null&&this.delimiters!==m;)this.removeDelimiter(this.delimiters)},g.prototype.parseLinkTitle=function(){var m=this.match(RY);return m===null?null:Pd(m.substr(1,m.length-2))},g.prototype.parseLinkDestination=function(){var m=this.match(IY);if(m===null){if(this.peek()===Mb)return null;for(var C=this.pos,D=0,q=void 0;(q=this.peek())!==-1;)if(q===Ob&&Lb.test(this.subject.charAt(this.pos+1)))this.pos+=1,this.peek()!==-1&&(this.pos+=1);else if(q===Db)this.pos+=1,D+=1;else if(q===Rg){if(D<1)break;this.pos+=1,D-=1}else{if(Pg.exec(Dg(q))!==null)break;this.pos+=1}return this.pos===C&&q!==Rg||D!==0?null:(m=this.subject.substr(C,this.pos-C),Up(Pd(m)))}return Up(Pd(m.substr(1,m.length-2)))},g.prototype.parseLinkLabel=function(){var m=this.match(jY);return m===null||m.length>1001?0:m.length},g.prototype.parseOpenBracket=function(m){var C=this.pos;this.pos+=1;var D=wn("[",this.sourcepos(this.pos,this.pos));return m.appendChild(D),this.addBracket(D,C,!1),!0},g.prototype.parseBang=function(m){var C=this.pos;if(this.pos+=1,this.peek()===Nb){this.pos+=1;var D=wn("![",this.sourcepos(this.pos-1,this.pos));m.appendChild(D),this.addBracket(D,C+1,!0)}else{var D=wn("!",this.sourcepos(this.pos,this.pos));m.appendChild(D)}return!0},g.prototype.parseCloseBracket=function(m){var C=null,D=null,q=!1;this.pos+=1;var Q=this.pos,ne=this.brackets;if(ne===null)return m.appendChild(wn("]",this.sourcepos(Q,Q))),!0;if(!ne.active)return m.appendChild(wn("]",this.sourcepos(Q,Q))),this.removeBracket(),!0;var ce=ne.image,$e=this.pos;this.peek()===Db&&(this.pos++,this.spnl()&&(C=this.parseLinkDestination())!==null&&this.spnl()&&(Pg.test(this.subject.charAt(this.pos-1))&&(D=this.parseLinkTitle())||!0)&&this.spnl()&&this.peek()===Rg?(this.pos+=1,q=!0):this.pos=$e);var Ke="";if(!q){var vt=this.pos,bt=this.parseLinkLabel();if(bt>2?Ke=this.subject.slice(vt,vt+bt):ne.bracketAfter||(Ke=this.subject.slice(ne.index,Q)),bt===0&&(this.pos=$e),Ke){Ke=Eb(Ke);var ft=this.refMap[Ke];ft&&(C=ft.destination,D=ft.title,q=!0)}}if(q){var Ft=en(ce?"image":"link");Ft.destination=C,Ft.title=D||"",Ft.sourcepos=[ne.startpos,this.sourcepos(this.pos)];for(var _t=ne.node.next,br=void 0;_t;)br=_t.next,_t.unlink(),Ft.appendChild(_t),_t=br;if(m.appendChild(Ft),this.processEmphasis(ne.previousDelimiter),this.removeBracket(),ne.node.unlink(),!ce)for(ne=this.brackets;ne!==null;)ne.image||(ne.active=!1),ne=ne.previous;return this.options.referenceDefinition&&(this.refLinkCandidateMap[m.id]={node:m,refLabel:Ke}),!0}return this.removeBracket(),this.pos=Q,m.appendChild(wn("]",this.sourcepos(Q,Q))),this.options.referenceDefinition&&(this.refLinkCandidateMap[m.id]={node:m,refLabel:Ke}),!0},g.prototype.addBracket=function(m,C,D){this.brackets!==null&&(this.brackets.bracketAfter=!0),this.brackets={node:m,startpos:this.sourcepos(C+(D?0:1)),previous:this.brackets,previousDelimiter:this.delimiters,index:C,image:D,active:!0}},g.prototype.removeBracket=function(){this.brackets&&(this.brackets=this.brackets.previous)},g.prototype.parseEntity=function(m){var C,D=this.pos+1;return(C=this.match(PY))?(m.appendChild(wn(le.decodeHTML(C),this.sourcepos(D,this.pos))),!0):!1},g.prototype.parseString=function(m){var C,D=this.pos+1;if(C=this.match(WY)){if(this.options.smart){var q=C.replace(FY,"").replace(qY,function(ne){var ce=0,$e=0;return ne.length%3===0?$e=ne.length/3:ne.length%2===0?ce=ne.length/2:ne.length%3===2?(ce=1,$e=(ne.length-2)/3):(ce=2,$e=(ne.length-4)/3),Eg("",$e)+Eg("",ce)});m.appendChild(wn(q,this.sourcepos(D,this.pos)))}else{var Q=wn(C,this.sourcepos(D,this.pos));m.appendChild(Q)}return!0}return!1},g.prototype.parseNewline=function(m){this.pos+=1;var C=m.lastChild;if(C&&C.type==="text"&&C.literal[C.literal.length-1]===" "){var D=C.literal[C.literal.length-2]===" ",q=C.literal.length;C.literal=C.literal.replace(VY,"");var Q=q-C.literal.length;C.sourcepos[1][1]-=Q,m.appendChild(en(D?"linebreak":"softbreak",this.sourcepos(this.pos-Q,this.pos)))}else m.appendChild(en("softbreak",this.sourcepos(this.pos,this.pos)));return this.nextLine(),this.match(UY),!0},g.prototype.parseReference=function(m,C){if(!this.options.referenceDefinition)return 0;this.subject=m.stringContent,this.pos=0;var D=null,q=this.pos,Q=this.parseLinkLabel();if(Q===0)return 0;var ne=this.subject.substr(0,Q);if(this.peek()===LY)this.pos++;else return this.pos=q,0;this.spnl();var ce=this.parseLinkDestination();if(ce===null)return this.pos=q,0;var $e=this.pos;this.spnl(),this.pos!==$e&&(D=this.parseLinkTitle()),D===null&&(D="",this.pos=$e);var Ke=!0;if(this.match(Ib)===null&&(D===""?Ke=!1:(D="",this.pos=$e,Ke=this.match(Ib)!==null)),!Ke)return this.pos=q,0;var vt=Eb(ne);if(vt==="")return this.pos=q,0;var bt=this.getReferenceDefSourcepos(m);m.sourcepos[0][0]=bt[1][0]+1;var ft=en("refDef",bt);return ft.title=D,ft.dest=ce,ft.label=vt,m.insertBefore(ft),C[vt]?this.refDefCandidateMap[ft.id]=ft:C[vt]=zg(ft),this.pos-q},g.prototype.mergeTextNodes=function(m){for(var C,D=[];C=m.next();){var q=C.entering,Q=C.node;if(q&&Q.type==="text")D.push(Q);else if(D.length===1)D=[];else if(D.length>1){var ne=D[0],ce=D[D.length-1];ne.sourcepos&&ce.sourcepos&&(ne.sourcepos[1]=ce.sourcepos[1]),ne.next=ce.next,ne.next&&(ne.next.prev=ne);for(var $e=1;$e<D.length;$e+=1)ne.literal+=D[$e].literal,D[$e].unlink();D=[]}}},g.prototype.getReferenceDefSourcepos=function(m){for(var C=m.stringContent.split(/\n|\r\n/),D=!1,q=0,Q={line:0,ch:0},ne=0;ne<C.length;ne+=1){var ce=C[ne];if(Pg.test(ce))break;if(/\:/.test(ce)&&q===0){if(D)break;var $e=ce.indexOf(":")===ce.length-1?ne+1:ne;Q={line:$e,ch:C[$e].length},D=!0}var Ke=ce.match(/'|"/g);if(Ke&&(q+=Ke.length),q===2){Q={line:ne,ch:ce.length};break}}return[[m.sourcepos[0][0],m.sourcepos[0][1]],[m.sourcepos[0][0]+Q.line,Q.ch]]},g.prototype.parseInline=function(m){var C,D=!1,q=this.peek();if(q===-1)return!1;switch(q){case Ag:D=this.parseNewline(m);break;case Ob:D=this.parseBackslash(m);break;case MY:D=this.parseBackticks(m);break;case Lg:case Jp:case Kp:case tu:D=this.handleDelim(q,m);break;case Zl:case eu:D=!!(!((C=this.options)===null||C===void 0)&&C.smart)&&this.handleDelim(q,m);break;case Nb:D=this.parseOpenBracket(m);break;case DY:D=this.parseBang(m);break;case OY:D=this.parseCloseBracket(m);break;case Mb:D=this.parseAutolink(m)||this.parseHtmlTag(m);break;case AY:m.disabledEntityParse||(D=this.parseEntity(m));break;default:D=this.parseString(m);break}return D||(this.pos+=1,m.appendChild(wn(Dg(q),this.sourcepos(this.pos,this.pos+1)))),!0},g.prototype.parse=function(m){for(this.subject=m.stringContent.trim(),this.pos=0,this.delimiters=null,this.brackets=null,this.lineOffsets=m.lineOffsets||[0],this.lineIdx=0,this.linePosOffset=0,this.lineStartNum=m.sourcepos[0][0],ZX(m)&&(this.lineOffsets[0]+=m.level+1);this.parseInline(m););m.stringContent=null,this.processEmphasis(null),this.mergeTextNodes(m.walker());var C=this.options,D=C.extendedAutolinks,q=C.customParser;if(D&&TY(m.walker(),D),q&&m.firstChild)for(var Q,ne=m.firstChild.walker();Q=ne.next();){var ce=Q.node,$e=Q.entering;q[ce.type]&&q[ce.type](ce,{entering:$e,options:this.options})}},g}(),JY=/^\[([ \txX])\][ \t]+/;function KY(g,m){if(m.firstChild&&m.firstChild.type==="paragraph"){var C=m.firstChild,D=C.stringContent.match(JY);if(D){var q=D[0].length;C.stringContent=C.stringContent.substring(q-1),C.sourcepos[0][1]+=q,C.lineOffsets[0]+=q,m.listData.task=!0,m.listData.checked=/[xX]/.test(D[1])}}}var QY={continue:function(){return 0},finalize:function(){},canContain:function(g){return g==="tableHead"||g==="tableBody"},acceptsLines:!1},XY={continue:function(){return 0},finalize:function(){},canContain:function(g){return g==="tableRow"},acceptsLines:!1},YY={continue:function(){return 1},finalize:function(){},canContain:function(g){return g==="tableRow"||g==="tableDelimRow"},acceptsLines:!1},ZY={continue:function(){return 1},finalize:function(){},canContain:function(g){return g==="tableDelimCell"},acceptsLines:!1},eZ={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},tZ={continue:function(){return 1},finalize:function(){},canContain:function(g){return g==="tableCell"},acceptsLines:!1},rZ={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},Qp=4,Pb=9,Bb=62,nZ=60,_b=32,Fb=91,qb=/[^ \t\f\v\r\n]/,iZ=/^(?:`{3,}|~{3,})(?= *$)/;function Hb(g){for(var m=g;m;){if(m.lastLineBlank)return!0;var C=m.type;if(!m.lastLineChecked&&(C==="list"||C==="item"))m.lastLineChecked=!0,m=m.lastChild;else{m.lastLineChecked=!0;break}}return!1}function ia(g,m){return m<g.length?g.charCodeAt(m):-1}function zb(g){return!qb.test(g)}function _c(g){return g===_b||g===Pb}var aZ=/^\$\$$/,oZ={continue:function(g,m){var C=g.currentLine,D=C.match(aZ);if(D)return g.lastLineLength=D[0].length,g.finalize(m,g.lineNumber),2;for(var q=m.offset;q>0&&_c(ia(C,g.offset));)g.advanceOffset(1,!0),q--;return 0},finalize:function(g,m){if(m.stringContent!==null){var C=m.stringContent,D=C.indexOf(`
`),q=C.slice(0,D),Q=C.slice(D+1),ne=q.match(/^(\s*)(.*)/);m.info=Pd(ne[2].trim()),m.literal=Q,m.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},$b={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!0},sZ={continue:function(){return 0},finalize:function(){},canContain:function(g){return g!=="item"},acceptsLines:!1},lZ={continue:function(){return 0},finalize:function(g,m){for(var C=m.firstChild;C;){if(Hb(C)&&C.next){m.listData.tight=!1;break}for(var D=C.firstChild;D;){if(Hb(D)&&(C.next||D.next)){m.listData.tight=!1;break}D=D.next}C=C.next}},canContain:function(g){return g==="item"},acceptsLines:!1},uZ={continue:function(g){var m=g.currentLine;if(!g.indented&&ia(m,g.nextNonspace)===Bb)g.advanceNextNonspace(),g.advanceOffset(1,!1),_c(ia(m,g.offset))&&g.advanceOffset(1,!0);else return 1;return 0},finalize:function(){},canContain:function(g){return g!=="item"},acceptsLines:!1},cZ={continue:function(g,m){if(g.blank){if(m.firstChild===null)return 1;g.advanceNextNonspace()}else if(g.indent>=m.listData.markerOffset+m.listData.padding)g.advanceOffset(m.listData.markerOffset+m.listData.padding,!0);else return 1;return 0},finalize:KY,canContain:function(g){return g!=="item"},acceptsLines:!1},fZ={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},dZ={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},hZ={continue:function(g,m){var C=g.currentLine,D=g.indent;if(m.isFenced){var q=D<=3&&C.charAt(g.nextNonspace)===m.fenceChar&&C.slice(g.nextNonspace).match(iZ);if(q&&q[0].length>=m.fenceLength)return g.lastLineLength=g.offset+D+q[0].length,g.finalize(m,g.lineNumber),2;for(var Q=m.fenceOffset;Q>0&&_c(ia(C,g.offset));)g.advanceOffset(1,!0),Q--}else if(D>=Qp)g.advanceOffset(Qp,!0);else if(g.blank)g.advanceNextNonspace();else return 1;return 0},finalize:function(g,m){var C;if(m.stringContent!==null){if(m.isFenced){var D=m.stringContent,q=D.indexOf(`
`),Q=D.slice(0,q),ne=D.slice(q+1),ce=Q.match(/^(\s*)(.*)/);m.infoPadding=ce[1].length,m.info=Pd(ce[2].trim()),m.literal=ne}else m.literal=(C=m.stringContent)===null||C===void 0?void 0:C.replace(/(\n *)+$/,`
`);m.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},pZ={continue:function(g,m){return g.blank&&(m.htmlBlockType===6||m.htmlBlockType===7)?1:0},finalize:function(g,m){var C;m.literal=((C=m.stringContent)===null||C===void 0?void 0:C.replace(/(\n *)+$/,""))||null,m.stringContent=null},canContain:function(){return!1},acceptsLines:!0},vZ={continue:function(g){return g.blank?1:0},finalize:function(g,m){if(m.stringContent!==null){for(var C,D=!1;ia(m.stringContent,0)===Fb&&(C=g.inlineParser.parseReference(m,g.refMap));)m.stringContent=m.stringContent.slice(C),D=!0;D&&zb(m.stringContent)&&m.unlink()}},canContain:function(){return!1},acceptsLines:!0},mZ=$b,gZ=$b,Fc={document:sZ,list:lZ,blockQuote:uZ,item:cZ,heading:fZ,thematicBreak:dZ,codeBlock:hZ,htmlBlock:pZ,paragraph:vZ,table:QY,tableBody:XY,tableHead:YY,tableRow:tZ,tableCell:rZ,tableDelimRow:ZY,tableDelimCell:eZ,refDef:mZ,customBlock:oZ,frontMatter:gZ};function Bg(g){for(var m=0,C=0,D=[],q=0;q<g.length;q+=1)if(g[q]==="|"&&g[q-1]!=="\\"){var Q=g.substring(m,q);m===0&&wb(Q)?C=q+1:D.push(Q),m=q+1}if(m<g.length){var Q=g.substring(m,g.length);wb(Q)||D.push(Q)}return[C,D]}function _g(g,m,C,D){for(var q=[],Q=0,ne=m;Q<ne.length;Q++){var ce=ne[Q],$e=ce.match(/^[ \t]+/),Ke=$e?$e[0].length:0,vt=void 0,bt=void 0;if(Ke===ce.length)Ke=0,vt=0,bt="";else{var ft=ce.match(/[ \t]+$/);vt=ft?ft[0].length:0,bt=ce.slice(Ke,ce.length-vt)}var Ft=D+Ke,_t=en(g,[[C,D],[C,D+ce.length-1]]);_t.stringContent=bt.replace(/\\\|/g,"|"),_t.startIdx=q.length,_t.endIdx=q.length,_t.lineOffsets=[Ft-1],_t.paddingLeft=Ke,_t.paddingRight=vt,q.push(_t),D+=ce.length+1}return q}function yZ(g){var m=null,C=g.stringContent,D=C[0],q=C[C.length-1];return q===":"?m=D===":"?"center":"right":D===":"&&(m="left"),{align:m}}var wZ=function(g,m){var C=m.stringContent;if(m.type==="paragraph"&&!g.indented&&!g.blank){var D=C.length-1,q=C.lastIndexOf(`
`,D-1)+1,Q=C.slice(q,D),ne=g.currentLine.slice(g.nextNonspace),ce=Bg(Q),$e=ce[0],Ke=ce[1],vt=Bg(ne),bt=vt[0],ft=vt[1],Ft=/^[ \t]*:?-+:?[ \t]*$/;if(!Ke.length||!ft.length||ft.some(function(ts){return!Ft.test(ts)})||ft.length===1&&ne.indexOf("|")!==0)return 0;var _t=m.lineOffsets,br=g.lineNumber-1,tn=Wp(_t)+1,Pn=en("table",[[br,tn],[g.lineNumber,g.offset]]);if(Pn.columns=ft.map(function(){return{align:null}}),m.insertAfter(Pn),_t.length===1)m.unlink();else{m.stringContent=C.slice(0,q);var Yo=C.lastIndexOf(`
`,q-2)+1,Ca=q-Yo-1;g.lastLineLength=_t[_t.length-2]+Ca,g.finalize(m,br-1)}g.advanceOffset(g.currentLine.length-g.offset,!1);var aa=en("tableHead",[[br,tn],[g.lineNumber,g.offset]]);Pn.appendChild(aa);var Ha=en("tableRow",[[br,tn],[br,tn+Q.length-1]]),Zo=en("tableDelimRow",[[g.lineNumber,g.nextNonspace+1],[g.lineNumber,g.offset]]);aa.appendChild(Ha),aa.appendChild(Zo),_g("tableCell",Ke,br,tn+$e).forEach(function(ts){Ha.appendChild(ts)});var es=_g("tableDelimCell",ft,g.lineNumber,g.nextNonspace+1+bt);return es.forEach(function(ts){Zo.appendChild(ts)}),Pn.columns=es.map(yZ),g.tip=Pn,2}return 0},bZ=function(g,m){if(m.type!=="table"&&m.type!=="tableBody"||!g.blank&&g.currentLine.indexOf("|")===-1)return 0;if(g.advanceOffset(g.currentLine.length-g.offset,!1),g.blank){var C=m;return m.type==="tableBody"&&(C=m.parent,g.finalize(m,g.lineNumber-1)),g.finalize(C,g.lineNumber-1),0}var D=m;m.type==="table"&&(D=g.addChild("tableBody",g.nextNonspace),D.stringContent=null);var q=en("tableRow",[[g.lineNumber,g.nextNonspace+1],[g.lineNumber,g.currentLine.length]]);D.appendChild(q);var Q=D.parent,ne=g.currentLine.slice(g.nextNonspace),ce=Bg(ne),$e=ce[0],Ke=ce[1];return _g("tableCell",Ke,g.lineNumber,g.nextNonspace+1+$e).forEach(function(vt,bt){bt>=Q.columns.length&&(vt.ignored=!0),q.appendChild(vt)}),2},kZ=/^(\$\$)(\s*[a-zA-Z])+/,CZ=/^(\$\$)(\s*[a-zA-Z])+.*(\$\$)/,SZ=function(g){var m;if(!g.indented&&!CZ.test(g.currentLine)&&(m=g.currentLine.match(kZ))){var C=m[1].length;g.closeUnmatchedBlocks();var D=g.addChild("customBlock",g.nextNonspace);return D.syntaxLength=C,D.offset=g.indent,g.advanceNextNonspace(),g.advanceOffset(C,!1),2}return 0},xZ=/^`{3,}(?!.*`)|^~{3,}/,TZ=[/./,/^<(?:script|pre|style)(?:\s|>|$)/i,/^<!--/,/^<[?]/,/^<![A-Z]/,/^<!\[CDATA\[/,/^<[/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[123456]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|[/]?[>]|$)/i,new RegExp("^(?:"+xb+"|"+Tb+")\\s*$","i")],EZ=/^(?:=+|-+)[ \t]*$/,NZ=/^#{1,6}(?:[ \t]+|$)/,MZ=/^(?:(?:\*[ \t]*){3,}|(?:_[ \t]*){3,}|(?:-[ \t]*){3,})[ \t]*$/,Vb=/^[*+-]/,Ub=/^(\d{1,9})([.)])/;function OZ(g,m){var C=g.currentLine.slice(g.nextNonspace),D,q,Q={type:"bullet",tight:!0,bulletChar:"",start:0,delimiter:"",padding:0,markerOffset:g.indent,task:!1,checked:!1};if(g.indent>=4)return null;if(D=C.match(Vb))Q.type="bullet",Q.bulletChar=D[0][0];else if((D=C.match(Ub))&&(m.type!=="paragraph"||D[1]==="1"))Q.type="ordered",Q.start=parseInt(D[1],10),Q.delimiter=D[2];else return null;if(q=ia(g.currentLine,g.nextNonspace+D[0].length),!(q===-1||q===Pb||q===_b)||m.type==="paragraph"&&!g.currentLine.slice(g.nextNonspace+D[0].length).match(qb))return null;g.advanceNextNonspace(),g.advanceOffset(D[0].length,!0);var ne=g.column,ce=g.offset;do g.advanceOffset(1,!0),q=ia(g.currentLine,g.offset);while(g.column-ne<5&&_c(q));var $e=ia(g.currentLine,g.offset)===-1,Ke=g.column-ne;return Ke>=5||Ke<1||$e?(Q.padding=D[0].length+1,g.column=ne,g.offset=ce,_c(ia(g.currentLine,g.offset))&&g.advanceOffset(1,!0)):Q.padding=D[0].length+Ke,Q}function DZ(g,m){return g.type===m.type&&g.delimiter===m.delimiter&&g.bulletChar===m.bulletChar}function jb(g,m){return g.options.disallowDeepHeading&&(m.type==="blockQuote"||m.type==="item")}var AZ=function(g){return!g.indented&&ia(g.currentLine,g.nextNonspace)===Bb?(g.advanceNextNonspace(),g.advanceOffset(1,!1),_c(ia(g.currentLine,g.offset))&&g.advanceOffset(1,!0),g.closeUnmatchedBlocks(),g.addChild("blockQuote",g.nextNonspace),1):0},LZ=function(g,m){var C;if(!g.indented&&!jb(g,m)&&(C=g.currentLine.slice(g.nextNonspace).match(NZ))){g.advanceNextNonspace(),g.advanceOffset(C[0].length,!1),g.closeUnmatchedBlocks();var D=g.addChild("heading",g.nextNonspace);return D.level=C[0].trim().length,D.headingType="atx",D.stringContent=g.currentLine.slice(g.offset).replace(/^[ \t]*#+[ \t]*$/,"").replace(/[ \t]+#+[ \t]*$/,""),g.advanceOffset(g.currentLine.length-g.offset),2}return 0},RZ=function(g){var m;if(!g.indented&&(m=g.currentLine.slice(g.nextNonspace).match(xZ))){var C=m[0].length;g.closeUnmatchedBlocks();var D=g.addChild("codeBlock",g.nextNonspace);return D.isFenced=!0,D.fenceLength=C,D.fenceChar=m[0][0],D.fenceOffset=g.indent,g.advanceNextNonspace(),g.advanceOffset(C,!1),2}return 0},IZ=function(g,m){if(!g.indented&&ia(g.currentLine,g.nextNonspace)===nZ){var C=g.currentLine.slice(g.nextNonspace),D=g.options.disallowedHtmlBlockTags,q=void 0;for(q=1;q<=7;q++){var Q=C.match(TZ[q]);if(Q){if(q===7){if(m.type==="paragraph")return 0;if(D.length>0){var ne=new RegExp("</?(?:"+D.join("|")+")","i");if(ne.test(Q[0]))return 0}}g.closeUnmatchedBlocks();var ce=g.addChild("htmlBlock",g.offset);return ce.htmlBlockType=q,2}}}return 0},PZ=function(g,m){var C;if(m.stringContent!==null&&!g.indented&&m.type==="paragraph"&&!jb(g,m.parent)&&(C=g.currentLine.slice(g.nextNonspace).match(EZ))){g.closeUnmatchedBlocks();for(var D=void 0;ia(m.stringContent,0)===Fb&&(D=g.inlineParser.parseReference(m,g.refMap));)m.stringContent=m.stringContent.slice(D);if(m.stringContent.length>0){var q=en("heading",m.sourcepos);return q.level=C[0][0]==="="?1:2,q.headingType="setext",q.stringContent=m.stringContent,m.insertAfter(q),m.unlink(),g.tip=q,g.advanceOffset(g.currentLine.length-g.offset,!1),2}return 0}return 0},BZ=function(g){return!g.indented&&MZ.test(g.currentLine.slice(g.nextNonspace))?(g.closeUnmatchedBlocks(),g.addChild("thematicBreak",g.nextNonspace),g.advanceOffset(g.currentLine.length-g.offset,!1),2):0},_Z=function(g,m){var C,D=m;return(!g.indented||m.type==="list")&&(C=OZ(g,D))?(g.closeUnmatchedBlocks(),(g.tip.type!=="list"||!DZ(D.listData,C))&&(D=g.addChild("list",g.nextNonspace),D.listData=C),D=g.addChild("item",g.nextNonspace),D.listData=C,1):0},FZ=function(g){return g.indented&&g.tip.type!=="paragraph"&&!g.blank?(g.advanceOffset(Qp,!0),g.closeUnmatchedBlocks(),g.addChild("codeBlock",g.offset),2):0},Fg=[AZ,LZ,RZ,IZ,PZ,BZ,_Z,FZ,wZ,bZ,SZ],Wb=/^(-{3}|\+{3}|;{3})$/,qZ=function(g,m){var C=g.currentLine,D=g.lineNumber,q=g.indented;if(D===1&&!q&&m.type==="document"&&Wb.test(C)){g.closeUnmatchedBlocks();var Q=g.addChild("frontMatter",g.nextNonspace);return Q.stringContent=C,g.advanceNextNonspace(),g.advanceOffset(C.length,!1),2}return 0},HZ={continue:function(g,m){var C=g.currentLine,D=C.match(Wb);return m.type==="frontMatter"&&D?(m.stringContent+=C,g.lastLineLength=D[0].length,g.finalize(m,g.lineNumber),2):0},finalize:function(g,m){m.stringContent!==null&&(m.literal=m.stringContent,m.stringContent=null)},canContain:function(){return!1},acceptsLines:!0},zZ=[/./,/<\/(?:script|pre|style)>/i,/-->/,/\?>/,/>/,/\]\]>/],$Z=/^[#`~*+_=<>0-9-;$]/,VZ=/\r\n|\n|\r/;function qg(){return en("document",[[1,1],[0,0]])}var UZ={smart:!1,tagFilter:!1,extendedAutolinks:!1,disallowedHtmlBlockTags:[],referenceDefinition:!1,disallowDeepHeading:!1,customParser:null,frontMatter:!1},jZ=function(){function g(m){this.options=P(P({},UZ),m),this.doc=qg(),this.tip=this.doc,this.oldtip=this.doc,this.lineNumber=0,this.offset=0,this.column=0,this.nextNonspace=0,this.nextNonspaceColumn=0,this.indent=0,this.currentLine="",this.indented=!1,this.blank=!1,this.partiallyConsumedTab=!1,this.allClosed=!0,this.lastMatchedContainer=this.doc,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.lastLineLength=0,this.lines=[],this.options.frontMatter&&(Fc.frontMatter=HZ,Fg.unshift(qZ)),this.inlineParser=new GY(this.options)}return g.prototype.advanceOffset=function(m,C){C===void 0&&(C=!1);for(var D=this.currentLine,q,Q,ne;m>0&&(ne=D[this.offset]);)ne==="	"?(q=4-this.column%4,C?(this.partiallyConsumedTab=q>m,Q=q>m?m:q,this.column+=Q,this.offset+=this.partiallyConsumedTab?0:1,m-=Q):(this.partiallyConsumedTab=!1,this.column+=q,this.offset+=1,m-=1)):(this.partiallyConsumedTab=!1,this.offset+=1,this.column+=1,m-=1)},g.prototype.advanceNextNonspace=function(){this.offset=this.nextNonspace,this.column=this.nextNonspaceColumn,this.partiallyConsumedTab=!1},g.prototype.findNextNonspace=function(){for(var m=this.currentLine,C=this.offset,D=this.column,q;(q=m.charAt(C))!=="";)if(q===" ")C++,D++;else if(q==="	")C++,D+=4-D%4;else break;this.blank=q===`
`||q==="\r"||q==="",this.nextNonspace=C,this.nextNonspaceColumn=D,this.indent=this.nextNonspaceColumn-this.column,this.indented=this.indent>=Qp},g.prototype.addLine=function(){if(this.partiallyConsumedTab){this.offset+=1;var m=4-this.column%4;this.tip.stringContent+=Eg(" ",m)}this.tip.lineOffsets?this.tip.lineOffsets.push(this.offset):this.tip.lineOffsets=[this.offset],this.tip.stringContent+=this.currentLine.slice(this.offset)+`
`},g.prototype.addChild=function(m,C){for(;!Fc[this.tip.type].canContain(m);)this.finalize(this.tip,this.lineNumber-1);var D=C+1,q=en(m,[[this.lineNumber,D],[0,0]]);return q.stringContent="",this.tip.appendChild(q),this.tip=q,q},g.prototype.closeUnmatchedBlocks=function(){if(!this.allClosed){for(;this.oldtip!==this.lastMatchedContainer;){var m=this.oldtip.parent;this.finalize(this.oldtip,this.lineNumber-1),this.oldtip=m}this.allClosed=!0}},g.prototype.finalize=function(m,C){var D=m.parent;m.open=!1,m.sourcepos[1]=[C,this.lastLineLength],Fc[m.type].finalize(this,m),this.tip=D},g.prototype.processInlines=function(m){var C,D=this.options.customParser,q=m.walker();for(this.inlineParser.refMap=this.refMap,this.inlineParser.refLinkCandidateMap=this.refLinkCandidateMap,this.inlineParser.refDefCandidateMap=this.refDefCandidateMap,this.inlineParser.options=this.options;C=q.next();){var Q=C.node,ne=C.entering,ce=Q.type;D&&D[ce]&&D[ce](Q,{entering:ne,options:this.options}),!ne&&(ce==="paragraph"||ce==="heading"||ce==="tableCell"&&!Q.ignored)&&this.inlineParser.parse(Q)}},g.prototype.incorporateLine=function(m){var C=this.doc;this.oldtip=this.tip,this.offset=0,this.column=0,this.blank=!1,this.partiallyConsumedTab=!1,this.lineNumber+=1,m.indexOf("\0")!==-1&&(m=m.replace(/\0/g,"")),this.currentLine=m;for(var D=!0,q;(q=C.lastChild)&&q.open;){switch(C=q,this.findNextNonspace(),Fc[C.type].continue(this,C)){case 0:break;case 1:D=!1;break;case 2:this.lastLineLength=m.length;return;default:throw new Error("continue returned illegal value, must be 0, 1, or 2")}if(!D){C=C.parent;break}}this.allClosed=C===this.oldtip,this.lastMatchedContainer=C;for(var Q=C.type!=="paragraph"&&Fc[C.type].acceptsLines,ne=Fg.length;!Q;){if(this.findNextNonspace(),C.type!=="table"&&C.type!=="tableBody"&&C.type!=="paragraph"&&!this.indented&&!$Z.test(m.slice(this.nextNonspace))){this.advanceNextNonspace();break}for(var ce=0;ce<ne;){var $e=Fg[ce](this,C);if($e===1){C=this.tip;break}else if($e===2){C=this.tip,Q=!0;break}else ce++}if(ce===ne){this.advanceNextNonspace();break}}if(!this.allClosed&&!this.blank&&this.tip.type==="paragraph")this.addLine();else{this.closeUnmatchedBlocks(),this.blank&&C.lastChild&&(C.lastChild.lastLineBlank=!0);for(var Ke=C.type,vt=this.blank&&!(Ke==="blockQuote"||bb(C)&&C.isFenced||Ke==="item"&&!C.firstChild&&C.sourcepos[0][0]===this.lineNumber),bt=C;bt;)bt.lastLineBlank=vt,bt=bt.parent;Fc[Ke].acceptsLines?(this.addLine(),YX(C)&&C.htmlBlockType>=1&&C.htmlBlockType<=5&&zZ[C.htmlBlockType].test(this.currentLine.slice(this.offset))&&(this.lastLineLength=m.length,this.finalize(C,this.lineNumber))):this.offset<m.length&&!this.blank&&(C=this.addChild("paragraph",this.offset),this.advanceNextNonspace(),this.addLine())}this.lastLineLength=m.length},g.prototype.parse=function(m,C){this.doc=qg(),this.tip=this.doc,this.lineNumber=0,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";var D=m.split(VZ),q=D.length;this.lines=C||D,this.options.referenceDefinition&&this.clearRefMaps(),m.charCodeAt(m.length-1)===Ag&&(q-=1);for(var Q=0;Q<q;Q++)this.incorporateLine(D[Q]);for(;this.tip;)this.finalize(this.tip,q);return this.processInlines(this.doc),this.doc},g.prototype.partialParseStart=function(m,C){this.doc=qg(),this.tip=this.doc,this.lineNumber=m-1,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";for(var D=C.length,q=0;q<D;q++)this.incorporateLine(C[q]);return this.doc},g.prototype.partialParseExtends=function(m){for(var C=0;C<m.length;C++)this.incorporateLine(m[C])},g.prototype.partialParseFinish=function(){for(;this.tip;)this.finalize(this.tip,this.lineNumber);this.processInlines(this.doc)},g.prototype.setRefMaps=function(m,C,D){this.refMap=m,this.refLinkCandidateMap=C,this.refDefCandidateMap=D},g.prototype.clearRefMaps=function(){[this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(m){NY(m)})},g}();function Gb(g,m){return g[0]<m[0]?1:g[0]>m[0]?-1:g[1]<m[1]?1:g[1]>m[1]?-1:0}function WZ(g,m){var C=g[0],D=g[1];return Gb(D,m)===1?1:Gb(C,m)===-1?-1:0}function GZ(g,m){if(!(g.parent!==m.parent||g===m)){for(var C=g.next;C&&C!==m;){for(var D=C.next,q=0,Q=["parent","prev","next"];q<Q.length;q++){var ne=Q[q];C[ne]&&(Mg(C[ne].id),C[ne]=null)}C=D}g.next=m.next,m.next?m.next.prev=g:g.parent.lastChild=g}}function JZ(g){for(var m=[],C=g.firstChild;C;)m.push(C),C=C.next;return m}function Jb(g,m){for(var C=0,D=m;C<D.length;C++){var q=D[C];g.insertBefore(q)}}function KZ(g,m){for(var C=m.length-1;C>=0;C-=1)g.prependChild(m[C])}function QZ(g,m){if(!(!g||!g.parent||m===0)){var C=g.parent.walker();C.resumeAt(g,!0);for(var D;D=C.next();){var q=D.node,Q=D.entering;Q&&(q.sourcepos[0][0]+=m,q.sourcepos[1][0]+=m)}}}function Kb(g,m){var C=g[0],D=g[1];return D[0]<m?1:C[0]>m?-1:0}function Xp(g,m){for(var C=g.firstChild;C;){var D=Kb(C.sourcepos,m);if(D===0)return C;if(D===-1)return C.prev||C;C=C.next}return g.lastChild}function XZ(g){for(;g.lastChild;)g=g.lastChild;return g}function YZ(g){for(;g.parent&&g.parent.type!=="document"&&g.parent.sourcepos[0][0]===g.sourcepos[0][0];)g=g.parent;return g}function ZZ(g,m){for(var C=g.firstChild,D=null;C;){var q=Kb(C.sourcepos,m);if(q===0){if(C.sourcepos[0][0]===m||!C.firstChild)return C;D=C,C=C.firstChild}else{if(q===-1)break;D=C,C=C.next}}return D?YZ(XZ(D)):null}function eee(g,m){for(var C=g,D=null;C;){var q=WZ(C.sourcepos,m);if(q===0)if(C.firstChild)D=C,C=C.firstChild;else return C;else{if(q===-1)return D;if(C.next)C=C.next;else return D}}return C}function Qb(g){return qX(g)||null}function Hg(g,m,C){if(C===void 0&&(C=null),m)for(var D=m.walker();m&&m!==C;){g(m);var q=D.next();if(q)m=q.node;else break}}function tee(g){var m=Qb(g);if(!m)return!0;for(;m&&m.type!=="document";){if(!m.parent&&!m.prev&&!m.next)return!0;m=m.parent}return!1}var Xb=/\r\n|\n|\r/;function ree(g){var m=g.match(/^[ \t]+/);if(m&&(m[0].length>=2||/\t/.test(m[0])))return!0;var C=m?g.slice(m.length):g;return Vb.test(C)||Ub.test(C)}function nee(g){return!zb(g)&&g.indexOf("|")!==-1}function zg(g){var m=g.id,C=g.title,D=g.sourcepos,q=g.dest;return{id:m,title:C,sourcepos:D,unlinked:!1,destination:q}}var iee=function(){function g(m,C){this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.referenceDefinition=!!C?.referenceDefinition,this.parser=new jZ(C),this.parser.setRefMaps(this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap),this.eventHandlerMap={change:[]},m=m||"",this.lineTexts=m.split(Xb),this.root=this.parser.parse(m,this.lineTexts)}return g.prototype.updateLineTexts=function(m,C,D){var q,Q=m[0],ne=m[1],ce=C[0],$e=C[1],Ke=D.split(Xb),vt=Ke.length,bt=this.lineTexts[Q-1],ft=this.lineTexts[ce-1];Ke[0]=bt.slice(0,ne-1)+Ke[0],Ke[vt-1]=Ke[vt-1]+ft.slice($e-1);var Ft=ce-Q+1;return(q=this.lineTexts).splice.apply(q,L([Q-1,Ft],Ke)),vt-Ft},g.prototype.updateRootNodeState=function(){if(this.lineTexts.length===1&&this.lineTexts[0]===""){this.root.lastLineBlank=!0,this.root.sourcepos=[[1,1],[1,0]];return}this.root.lastChild&&(this.root.lastLineBlank=this.root.lastChild.lastLineBlank);for(var m=this.lineTexts,C=m.length-1;m[C]==="";)C-=1;m.length-2>C&&(C+=1),this.root.sourcepos[1]=[C+1,m[C].length]},g.prototype.replaceRangeNodes=function(m,C,D){m?(Jb(m,D),GZ(m,C),[m.id,C.id].forEach(function(q){return Mg(q)}),m.unlink()):C?(Jb(C,D),Mg(C.id),C.unlink()):KZ(this.root,D)},g.prototype.getNodeRange=function(m,C){var D=Xp(this.root,m[0]),q=Xp(this.root,C[0]);return q&&q.next&&C[0]+1===q.next.sourcepos[0][0]&&(q=q.next),[D,q]},g.prototype.trigger=function(m,C){this.eventHandlerMap[m].forEach(function(D){D(C)})},g.prototype.extendEndLine=function(m){for(;this.lineTexts[m]==="";)m+=1;return m},g.prototype.parseRange=function(m,C,D,q){m&&m.prev&&(kb(m.prev)&&ree(this.lineTexts[D-1])||eY(m.prev)&&nee(this.lineTexts[D-1]))&&(m=m.prev,D=m.sourcepos[0][0]);for(var Q=this.lineTexts.slice(D-1,q),ne=this.parser.partialParseStart(D,Q),ce=C?C.next:this.root.firstChild,$e=ne.lastChild,Ke=$e&&bb($e)&&$e.open,vt=$e&&Cb($e)&&$e.open,bt=$e&&kb($e);(Ke||vt)&&ce||bt&&ce&&(ce.type==="list"||ce.sourcepos[0][1]>=2);){var ft=this.extendEndLine(ce.sourcepos[1][0]);this.parser.partialParseExtends(this.lineTexts.slice(q,ft)),m||(m=C),C=ce,q=ft,ce=ce.next}this.parser.partialParseFinish();var Ft=JZ(ne);return{newNodes:Ft,extStartNode:m,extEndNode:C}},g.prototype.getRemovedNodeRange=function(m,C){return!m||m&&Pc(m)||C&&Pc(C)?null:{id:[m.id,C.id],line:[m.sourcepos[0][0]-1,C.sourcepos[1][0]-1]}},g.prototype.markDeletedRefMap=function(m,C){var D=this;if(!Bc(this.refMap)){var q=function(Q){if(Pc(Q)){var ne=D.refMap[Q.label];ne&&Q.id===ne.id&&(ne.unlinked=!0)}};m&&Hg(q,m.parent,C),C&&Hg(q,C)}},g.prototype.replaceWithNewRefDefState=function(m){var C=this;if(!Bc(this.refMap)){var D=function(q){if(Pc(q)){var Q=q.label,ne=C.refMap[Q];(!ne||ne.unlinked)&&(C.refMap[Q]=zg(q))}};m.forEach(function(q){Hg(D,q)})}},g.prototype.replaceWithRefDefCandidate=function(){var m=this;Bc(this.refDefCandidateMap)||Gp(this.refDefCandidateMap,function(C,D){var q=D.label,Q=D.sourcepos,ne=m.refMap[q];(!ne||ne.unlinked||ne.sourcepos[0][0]>Q[0][0])&&(m.refMap[q]=zg(D))})},g.prototype.getRangeWithRefDef=function(m,C,D,q,Q){if(this.referenceDefinition&&!Bc(this.refMap)){var ne=Xp(this.root,m-1),ce=Xp(this.root,C+1);ne&&Pc(ne)&&ne!==D&&ne!==q&&(D=ne,m=D.sourcepos[0][0]),ce&&Pc(ce)&&ce!==D&&ce!==q&&(q=ce,C=this.extendEndLine(q.sourcepos[1][0]+Q))}return[D,q,m,C]},g.prototype.parse=function(m,C,D){D===void 0&&(D=0);var q=this.getNodeRange(m,C),Q=q[0],ne=q[1],ce=Q?Math.min(Q.sourcepos[0][0],m[0]):m[0],$e=this.extendEndLine((ne?Math.max(ne.sourcepos[1][0],C[0]):C[0])+D),Ke=this.parseRange.apply(this,this.getRangeWithRefDef(ce,$e,Q,ne,D)),vt=Ke.newNodes,bt=Ke.extStartNode,ft=Ke.extEndNode,Ft=this.getRemovedNodeRange(bt,ft),_t=ft?ft.next:this.root.firstChild;return this.referenceDefinition?(this.markDeletedRefMap(bt,ft),this.replaceRangeNodes(bt,ft,vt),this.replaceWithNewRefDefState(vt)):this.replaceRangeNodes(bt,ft,vt),{nodes:vt,removedNodeRange:Ft,nextNode:_t}},g.prototype.parseRefLink=function(){var m=this,C=[];return Bc(this.refMap)||Gp(this.refMap,function(D,q){q.unlinked&&delete m.refMap[D],Gp(m.refLinkCandidateMap,function(Q,ne){var ce=ne.node,$e=ne.refLabel;$e===D&&C.push(m.parse(ce.sourcepos[0],ce.sourcepos[1]))})}),C},g.prototype.removeUnlinkedCandidate=function(){Bc(this.refDefCandidateMap)||[this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(m){Gp(m,function(C){tee(C)&&delete m[C]})})},g.prototype.editMarkdown=function(m,C,D){var q=this.updateLineTexts(m,C,D),Q=this.parse(m,C,q),ne=EY(Q,"nextNode");QZ(Q.nextNode,q),this.updateRootNodeState();var ce=[ne];return this.referenceDefinition&&(this.removeUnlinkedCandidate(),this.replaceWithRefDefCandidate(),ce=ce.concat(this.parseRefLink())),this.trigger("change",ce),ce},g.prototype.getLineTexts=function(){return this.lineTexts},g.prototype.getRootNode=function(){return this.root},g.prototype.findNodeAtPosition=function(m){var C=eee(this.root,m);return!C||C===this.root?null:C},g.prototype.findFirstNodeAtLine=function(m){return ZZ(this.root,m)},g.prototype.on=function(m,C){this.eventHandlerMap[m].push(C)},g.prototype.off=function(m,C){var D=this.eventHandlerMap[m],q=D.indexOf(C);D.splice(q,1)},g.prototype.findNodeById=function(m){return Qb(m)},g.prototype.removeAllNode=function(){HX()},g}(),aee=["title","textarea","style","xmp","iframe","noembed","noframes","script","plaintext"],Yb=new RegExp("<(/?(?:"+aee.join("|")+")[^>]*>)","ig");function Zb(g){return Yb.test(g)?g.replace(Yb,function(m,C){return"&lt;"+C}):g}var ek={heading:function(g,m){var C=m.entering;return{type:C?"openTag":"closeTag",tagName:"h"+g.level,outerNewLine:!0}},text:function(g){return{type:"text",content:g.literal}},softbreak:function(g,m){var C=m.options;return{type:"html",content:C.softbreak}},linebreak:function(){return{type:"html",content:`<br />
`}},emph:function(g,m){var C=m.entering;return{type:C?"openTag":"closeTag",tagName:"em"}},strong:function(g,m){var C=m.entering;return{type:C?"openTag":"closeTag",tagName:"strong"}},paragraph:function(g,m){var C,D=m.entering,q=(C=g.parent)===null||C===void 0?void 0:C.parent;return q&&q.type==="list"&&q.listData.tight?null:{type:D?"openTag":"closeTag",tagName:"p",outerNewLine:!0}},thematicBreak:function(){return{type:"openTag",tagName:"hr",outerNewLine:!0,selfClose:!0}},blockQuote:function(g,m){var C=m.entering;return{type:C?"openTag":"closeTag",tagName:"blockquote",outerNewLine:!0,innerNewLine:!0}},list:function(g,m){var C=m.entering,D=g.listData,q=D.type,Q=D.start,ne=q==="bullet"?"ul":"ol",ce={};return ne==="ol"&&Q!==null&&Q!==1&&(ce.start=Q.toString()),{type:C?"openTag":"closeTag",tagName:ne,attributes:ce,outerNewLine:!0}},item:function(g,m){var C=m.entering;return{type:C?"openTag":"closeTag",tagName:"li",outerNewLine:!0}},htmlInline:function(g,m){var C=m.options,D=C.tagFilter?Zb(g.literal):g.literal;return{type:"html",content:D}},htmlBlock:function(g,m){var C=m.options,D=C.tagFilter?Zb(g.literal):g.literal;return C.nodeId?[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"html",content:D},{type:"closeTag",tagName:"div",outerNewLine:!0}]:{type:"html",content:D,outerNewLine:!0}},code:function(g){return[{type:"openTag",tagName:"code"},{type:"text",content:g.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(g){var m=g.info,C=m?m.split(/\s+/):[],D=[];return C.length>0&&C[0].length>0&&D.push("language-"+Ic(C[0])),[{type:"openTag",tagName:"pre",outerNewLine:!0},{type:"openTag",tagName:"code",classNames:D},{type:"text",content:g.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre",outerNewLine:!0}]},link:function(g,m){var C=m.entering;if(C){var D=g,q=D.title,Q=D.destination;return{type:"openTag",tagName:"a",attributes:P({href:Ic(Q)},q&&{title:Ic(q)})}}return{type:"closeTag",tagName:"a"}},image:function(g,m){var C=m.getChildrenText,D=m.skipChildren,q=g,Q=q.title,ne=q.destination;return D(),{type:"openTag",tagName:"img",selfClose:!0,attributes:P({src:Ic(ne),alt:C(g)},Q&&{title:Ic(Q)})}},customBlock:function(g,m,C){var D=g.info.trim().toLowerCase(),q=C[D];if(q)try{return q(g,m)}catch(Q){console.warn("[@toast-ui/editor] - The error occurred when "+D+" block node was parsed in markdown renderer: "+Q)}return[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"text",content:g.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},frontMatter:function(g){return[{type:"openTag",tagName:"div",outerNewLine:!0,attributes:{style:"white-space: pre; display: none;"}},{type:"text",content:g.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},customInline:function(g,m,C){var D=g,q=D.info,Q=D.firstChild,ne=q.trim().toLowerCase(),ce=C[ne],$e=m.entering;if(ce)try{return ce(g,m)}catch(Ke){console.warn("[@toast-ui/editor] - The error occurred when "+ne+" inline node was parsed in markdown renderer: "+Ke)}return $e?[{type:"openTag",tagName:"span"},{type:"text",content:"$$"+q+(Q?" ":"")}]:[{type:"text",content:"$$"},{type:"closeTag",tagName:"span"}]}},tk={strike:function(g,m){var C=m.entering;return{type:C?"openTag":"closeTag",tagName:"del"}},item:function(g,m){var C=m.entering,D=g.listData,q=D.checked,Q=D.task;if(C){var ne={type:"openTag",tagName:"li",outerNewLine:!0};return Q?[ne,{type:"openTag",tagName:"input",selfClose:!0,attributes:P(P({},q&&{checked:""}),{disabled:"",type:"checkbox"})},{type:"text",content:" "}]:ne}return{type:"closeTag",tagName:"li",outerNewLine:!0}},table:function(g,m){var C=m.entering;return{type:C?"openTag":"closeTag",tagName:"table",outerNewLine:!0}},tableHead:function(g,m){var C=m.entering;return{type:C?"openTag":"closeTag",tagName:"thead",outerNewLine:!0}},tableBody:function(g,m){var C=m.entering;return{type:C?"openTag":"closeTag",tagName:"tbody",outerNewLine:!0}},tableRow:function(g,m){var C=m.entering;if(C)return{type:"openTag",tagName:"tr",outerNewLine:!0};var D=[];if(g.lastChild)for(var q=g.parent.parent.columns.length,Q=g.lastChild.endIdx,ne=Q+1;ne<q;ne+=1)D.push({type:"openTag",tagName:"td",outerNewLine:!0},{type:"closeTag",tagName:"td",outerNewLine:!0});return D.push({type:"closeTag",tagName:"tr",outerNewLine:!0}),D},tableCell:function(g,m){var C=m.entering;if(g.ignored)return{type:"text",content:""};var D=g.parent.parent,q=D.type==="tableHead"?"th":"td",Q=D.parent,ne=Q.columns[g.startIdx],ce=ne?.align?{align:ne.align}:null;return C?P({type:"openTag",tagName:q,outerNewLine:!0},ce&&{attributes:ce}):{type:"closeTag",tagName:q,outerNewLine:!0}}},oee={softbreak:`
`,gfm:!1,tagFilter:!1,nodeId:!1};function see(g){for(var m=[],C=g.walker(),D=null;D=C.next();){var q=D.node;q.type==="text"&&m.push(q.literal)}return m.join("")}var lee=function(){function g(m){this.buffer=[],this.options=P(P({},oee),m),this.convertors=this.createConvertors(),delete this.options.convertors}return g.prototype.createConvertors=function(){var m=P({},ek);if(this.options.gfm&&(m=P(P({},m),tk)),this.options.convertors){var C=this.options.convertors,D=Object.keys(C),q=P(P({},ek),tk);D.forEach(function(Q){var ne=m[Q],ce=C[Q],$e=Object.keys(q).indexOf(Q)===-1?Q.toLowerCase():Q;ne?m[$e]=function(Ke,vt,bt){return vt.origin=function(){return ne(Ke,vt,bt)},ce(Ke,vt)}:m[$e]=ce})}return m},g.prototype.getConvertors=function(){return this.convertors},g.prototype.getOptions=function(){return this.options},g.prototype.render=function(m){var C=this;this.buffer=[];for(var D=m.walker(),q=null,Q=function(){var ce=q.node,$e=q.entering,Ke=ne.convertors[ce.type];if(!Ke)return"continue";var vt=!1,bt={entering:$e,leaf:!Ng(ce),options:ne.options,getChildrenText:see,skipChildren:function(){vt=!0}},ft=Cb(ce)||tY(ce)?Ke(ce,bt,ne.convertors):Ke(ce,bt);if(ft){var Ft=Array.isArray(ft)?ft:[ft];Ft.forEach(function(_t,br){_t.type==="openTag"&&C.options.nodeId&&br===0&&(_t.attributes||(_t.attributes={}),_t.attributes["data-nodeid"]=String(ce.id)),C.renderHTMLNode(_t)}),vt&&(D.resumeAt(ce,!1),D.next())}},ne=this;q=D.next();)Q();return this.addNewLine(),this.buffer.join("")},g.prototype.renderHTMLNode=function(m){switch(m.type){case"openTag":case"closeTag":this.renderElementNode(m);break;case"text":this.renderTextNode(m);break;case"html":this.renderRawHtmlNode(m);break}},g.prototype.generateOpenTagString=function(m){var C=this,D=m.tagName,q=m.classNames,Q=m.attributes;this.buffer.push("<"+D),q&&q.length>0&&this.buffer.push(' class="'+q.join(" ")+'"'),Q&&Object.keys(Q).forEach(function(ne){var ce=Q[ne];C.buffer.push(" "+ne+'="'+ce+'"')}),m.selfClose&&this.buffer.push(" /"),this.buffer.push(">")},g.prototype.generateCloseTagString=function(m){var C=m.tagName;this.buffer.push("</"+C+">")},g.prototype.addNewLine=function(){this.buffer.length&&Wp(Wp(this.buffer))!==`
`&&this.buffer.push(`
`)},g.prototype.addOuterNewLine=function(m){m.outerNewLine&&this.addNewLine()},g.prototype.addInnerNewLine=function(m){m.innerNewLine&&this.addNewLine()},g.prototype.renderTextNode=function(m){this.buffer.push(Ic(m.content))},g.prototype.renderRawHtmlNode=function(m){this.addOuterNewLine(m),this.buffer.push(m.content),this.addOuterNewLine(m)},g.prototype.renderElementNode=function(m){m.type==="openTag"?(this.addOuterNewLine(m),this.generateOpenTagString(m),m.selfClose?this.addOuterNewLine(m):this.addInnerNewLine(m)):(this.addInnerNewLine(m),this.generateCloseTagString(m),this.addOuterNewLine(m))},g}(),uee=f(956),cee=f.n(uee),fee=f(969),rk=f.n(fee),dee=f(348),nk=f.n(dee),hee=f(349),ik=f.n(hee),pee=f(204),ak=f.n(pee),vee=f(462),$g=f.n(vee),mee=f(522),ok=f.n(mee),gee=f(990),yee=f.n(gee),wee=f(322),bee=f.n(wee),kee=f(758),Cee=f.n(kee),See=f(929),Yp=f.n(See),xee=f(714),Tee=f.n(xee);f(471);var sk="[A-Za-z][A-Za-z0-9-]*",Eee="[a-zA-Z_:][a-zA-Z0-9:._-]*",Nee="[^\"'=<>`\\x00-\\x20]+",Mee="'[^']*'",Oee='"[^"]*"',Dee="(?:"+Nee+"|"+Mee+"|"+Oee+")",Aee="(?:\\s*=\\s*"+Dee+")",lk="(?:\\s+"+Eee+Aee+"?)",Lee="<("+sk+")("+lk+")*\\s*/?>",Ree="</("+sk+")\\s*[>]",Iee="(?:"+Lee+"|"+Ree+")",uk=new RegExp("^"+Iee,"i");f(934),f(391);function Vg(g,m){return g.indexOf(m)!==-1}var Pee=["rel","target","hreflang","type"];function Bee(g){if(!g)return null;var m={};return Pee.forEach(function(C){Yp()(g[C])||(m[C]=g[C])}),m}function _ee(g){return g[g.length-1]}function Ug(g){return typeof g=="object"&&g!==null}function jg(g,m){var C=y({},g);return g&&m&&Object.keys(m).forEach(function(D){Ug(C[D])?Array.isArray(m[D])?C[D]=Wg(m[D]):C.hasOwnProperty(D)?C[D]=jg(C[D],m[D]):C[D]=Gg(m[D]):C[D]=m[D]}),C}function Wg(g){return g.map(function(m){return Ug(m)?Array.isArray(m)?Wg(m):Gg(m):m})}function Gg(g){var m=Object.keys(g);return m.length?m.reduce(function(C,D){return Ug(g[D])?C[D]=Array.isArray(g[D])?Wg(g[D]):Gg(g[D]):C[D]=g[D],C},{}):g}function ck(g,m){return m===void 0&&(m={}),Object.keys(m).forEach(function(C){g.hasOwnProperty(C)&&typeof g[C]=="object"?Array.isArray(m[C])?g[C]=m[C]:ck(g[C],m[C]):g[C]=m[C]}),g}function fk(g,m){return g>m?[m,g]:[g,m]}function Fee(g,m,C){var D=parseInt(g.left,10),q=parseInt(g.top,10),Q=parseInt(g.width,10)+parseInt(g.paddingLeft,10)+parseInt(g.paddingRight,10),ne=parseInt(g.height,10)+parseInt(g.paddingTop,10)+parseInt(g.paddingBottom,10);return m>=D&&m<=D+Q&&C>=q&&C<=q+ne}var qee="toastui-editor-";function Zp(){for(var g=[],m=0;m<arguments.length;m++)g[m]=arguments[m];for(var C=[],D=0,q=g;D<q.length;D++){var Q=q[D],ne=void 0;Array.isArray(Q)?ne=Q[0]?Q[1]:null:ne=Q,ne&&C.push(""+qee+ne)}return C.join(" ")}function dk(g){g.parentNode&&g.parentNode.removeChild(g)}function hk(g,m,C){Yp()(C)&&(C=!Tee()(g,m));var D=C?ak():$g();D(g,m)}function Hee(g,m){var C=document.createElement("div");Cee()(g)?C.innerHTML=g:C.appendChild(g);var D=C.firstChild;return D}function zee(g){var m=/<img class="ProseMirror-separator" alt="">/g,C=/ class="ProseMirror-trailingBreak"/g,D=g;return D=D.replace(m,""),D=D.replace(C,""),D}var $ee=f(294),pk=f.n($ee);function Vee(g){return g.sourcepos[0][1]}function Uee(g){switch(g.type){case"code":case"text":case"emph":case"strong":case"strike":case"link":case"image":case"htmlInline":case"linebreak":case"softbreak":case"customInline":return!0;default:return!1}}function jee(g,m,C){for(C===void 0&&(C=!0),g=C?g:g.parent;g&&g.type!=="document";){if(m(g))return g;g=g.parent}return null}function Wee(g){var m=g.firstChild.literal;switch(g.type){case"emph":return"*"+m+"*";case"strong":return"**"+m+"**";case"strike":return"~~"+m+"~~";case"code":return"`"+m+"`";case"link":case"image":var C=g,D=C.destination,q=C.title,Q=g.type==="link"?"":"!";return Q+"["+m+"]("+D+(q?' "'+q+'"':"")+")";default:return null}}var Gee={},vk=/\$\$widget\d+\s/;function mk(g){var m=g.search(vk);if(m!==-1){var C=g.substring(m),D=C.replace(vk,"").replace("$$","");g=g.substring(0,m),g+=mk(D)}return g}function Jee(g,m){var C=Gee[g],D=C.rule,q=C.toDOM,Q=mk(m).match(D);return Q&&(m=Q[0]),q(m)}function Kee(g){for(var m,C="",D=g.walker();m=D.next();){var q=m.node,Q=m.entering;Q&&(q!==g&&q.type!=="text"?(C+=Wee(q),D.resumeAt(g,!1),D.next()):q.type==="text"&&(C+=q.literal))}return C}var Qee=f(368),Xee=f.n(Qee),Yee=["iframe","embed"],gk=[];function Zee(g){Vg(Yee,g)&&gk.push(g.toLowerCase())}function ete(g,m){return Xee().sanitize(g,y({ADD_TAGS:gk,ADD_ATTR:["rel","target","hreflang","type"],FORBID_TAGS:["input","script","textarea","form","button","select","meta","style","link","title","object","base"]},m))}function tte(g,m){return g.literal.replace(new RegExp("(<\\s*"+m+"[^>]*>)|(</"+m+"\\s*[>])","ig"),"").trim()}function rte(g){g=g.match(uk)[0];var m=g.match(new RegExp(lk,"g"));return m?m.reduce(function(C,D){var q=D.trim().split("="),Q=q[0],ne=q.slice(1);return ne.length&&(C[Q]=ne.join("=").replace(/'|"/g,"").trim()),C},{}):{}}var nte=/^\s*<\s*\//,ite={paragraph:function(g,m){var C=m.entering,D=m.origin,q=m.options;return q.nodeId?{type:C?"openTag":"closeTag",outerNewLine:!0,tagName:"p"}:D()},softbreak:function(g){var m=g.prev&&g.prev.type==="htmlInline",C=m&&/<br ?\/?>/.test(g.prev.literal),D=C?`
`:`<br>
`;return{type:"html",content:D}},item:function(g,m){var C=m.entering;if(C){var D={},q=[];return g.listData.task&&(D["data-task"]="",q.push("task-list-item"),g.listData.checked&&(q.push("checked"),D["data-task-checked"]="")),{type:"openTag",tagName:"li",classNames:q,attributes:D,outerNewLine:!0}}return{type:"closeTag",tagName:"li",outerNewLine:!0}},code:function(g){var m={"data-backticks":String(g.tickCount)};return[{type:"openTag",tagName:"code",attributes:m},{type:"text",content:g.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(g){var m=g,C=m.fenceLength,D=m.info,q=D?D.split(/\s+/):[],Q=[],ne={};if(C>3&&(ne["data-backticks"]=C),q.length>0&&q[0].length>0){var ce=q[0];Q.push("lang-"+ce),ne["data-language"]=ce}return[{type:"openTag",tagName:"pre",classNames:Q},{type:"openTag",tagName:"code",attributes:ne},{type:"text",content:g.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre"}]},customInline:function(g,m){var C=m.origin,D=m.entering,q=m.skipChildren,Q=g.info;if(Q.indexOf("widget")!==-1&&D){q();var ne=Kee(g),ce=Jee(Q,ne).outerHTML;return[{type:"openTag",tagName:"span",classNames:["tui-widget"]},{type:"html",content:ce},{type:"closeTag",tagName:"span"}]}return C()}};function ate(g,m){var C=y({},ite);return g&&(C.link=function(D,q){var Q=q.entering,ne=q.origin,ce=ne();return Q&&(ce.attributes=y(y({},ce.attributes),g)),ce}),m&&Object.keys(m).forEach(function(D){var q=C[D],Q=m[D];q&&pk()(Q)?C[D]=function(ne,ce){var $e=y({},ce);return $e.origin=function(){return q(ne,ce)},Q(ne,$e)}:Vg(["htmlBlock","htmlInline"],D)&&!pk()(Q)?C[D]=function(ne,ce){var $e=ne.literal.match(uk);if($e){var Ke=$e[0],vt=$e[1],bt=$e[3],ft=(vt||bt).toLowerCase(),Ft=Q[ft],_t=tte(ne,ft);if(Ft){var br=y({},ne);return br.attrs=rte(Ke),br.childrenHTML=_t,br.type=ft,ce.entering=!nte.test(ne.literal),Ft(br,ce)}}return ce.origin()}:C[D]=Q}),C}var ote=["UL","OL","BLOCKQUOTE"];function ste(g,m){for(var C=0;g&&g!==m&&(Vg(ote,g.tagName)||(C+=g.offsetTop),g.offsetParent!==m.offsetParent);)g=g.parentElement;return C}function lte(g,m){for(var C=m,D=null;C;){var q=C.firstElementChild;if(!q)break;var Q=yk(q,g,ste(C,m));D=C,C=Q}var ne=C||D;return ne===m?null:ne}function yk(g,m,C){return g&&m>C+g.offsetTop?yk(g.nextElementSibling,m,C)||g:null}var ute={};function Jg(g){g&&(delete ute[Number(g.getAttribute("data-nodeid"))],yee()(g.children).forEach(function(m){Jg(m)}))}var Kg=Zp("md-preview-highlight");function cte(g,m){for(var C=g.firstChild;C&&C.next&&!(Vee(C.next)>m+1);)C=C.next;return C}var fte=function(){function g(m,C){var D=document.createElement("div");this.el=D,this.eventEmitter=m,this.isViewer=!!C.isViewer,this.el.className=Zp("md-preview");var q=C.linkAttributes,Q=C.customHTMLRenderer,ne=C.sanitizer,ce=C.highlight,$e=ce===void 0?!1:ce;this.renderer=new lee({gfm:!0,nodeId:!0,convertors:ate(q,Q)}),this.cursorNodeId=null,this.sanitizer=ne,this.initEvent($e),this.initContentSection(),this.isViewer&&(this.previewContent.style.overflowWrap="break-word")}return g.prototype.initContentSection=function(){this.previewContent=Hee('<div class="'+Zp("contents")+'"></div>'),this.isViewer||this.el.appendChild(this.previewContent)},g.prototype.toggleActive=function(m){hk(this.el,"active",m)},g.prototype.initEvent=function(m){var C=this;this.eventEmitter.listen("updatePreview",this.update.bind(this)),!this.isViewer&&(m&&(this.eventEmitter.listen("changeToolbarState",function(D){var q=D.mdNode,Q=D.cursorPos;C.updateCursorNode(q,Q)}),this.eventEmitter.listen("blur",function(){C.removeHighlight()})),nk()(this.el,"scroll",function(D){C.eventEmitter.emit("scroll","preview",lte(D.target.scrollTop,C.previewContent))}),this.eventEmitter.listen("changePreviewTabPreview",function(){return C.toggleActive(!0)}),this.eventEmitter.listen("changePreviewTabWrite",function(){return C.toggleActive(!1)}))},g.prototype.removeHighlight=function(){if(this.cursorNodeId){var m=this.getElementByNodeId(this.cursorNodeId);m&&$g()(m,Kg)}},g.prototype.updateCursorNode=function(m,C){m&&(m=jee(m,function(ne){return!Uee(ne)}),m.type==="tableRow"?m=cte(m,C[1]):m.type==="tableBody"&&(m=null));var D=m?m.id:null;if(this.cursorNodeId!==D){var q=this.getElementByNodeId(this.cursorNodeId),Q=this.getElementByNodeId(D);q&&$g()(q,Kg),Q&&ak()(Q,Kg),this.cursorNodeId=D}},g.prototype.getElementByNodeId=function(m){return m?this.previewContent.querySelector('[data-nodeid="'+m+'"]'):null},g.prototype.update=function(m){var C=this;m.forEach(function(D){return C.replaceRangeNodes(D)}),this.eventEmitter.emit("afterPreviewRender",this)},g.prototype.replaceRangeNodes=function(m){var C=this,D=m.nodes,q=m.removedNodeRange,Q=this.previewContent,ne=this.eventEmitter.emitReduce("beforePreviewRender",this.sanitizer(D.map(function(_t){return C.renderer.render(_t)}).join("")));if(!q)Q.insertAdjacentHTML("afterbegin",ne);else{var ce=q.id,$e=ce[0],Ke=ce[1],vt=this.getElementByNodeId($e),bt=this.getElementByNodeId(Ke);if(vt){vt.insertAdjacentHTML("beforebegin",ne);for(var ft=vt;ft&&ft!==bt;){var Ft=ft.nextElementSibling;dk(ft),Jg(ft),ft=Ft}ft?.parentNode&&(dk(ft),Jg(ft))}}},g.prototype.getRenderer=function(){return this.renderer},g.prototype.destroy=function(){ik()(this.el,"scroll"),this.el=null},g.prototype.getElement=function(){return this.el},g.prototype.getHTML=function(){return zee(this.previewContent.innerHTML)},g.prototype.setHTML=function(m){this.previewContent.innerHTML=m},g.prototype.setHeight=function(m){ok()(this.el,{height:m+"px"})},g.prototype.setMinHeight=function(m){ok()(this.el,{minHeight:m+"px"})},g}(),dte=fte,ev=f(814),Qg=f(479),wk=f(311),hte=f(481),pte=f(43),vte=f(928),mte=f.n(vte),gte=function(){function g(){this.keys=[],this.values=[]}return g.prototype.getKeyIndex=function(m){return mte()(m,this.keys)},g.prototype.get=function(m){return this.values[this.getKeyIndex(m)]},g.prototype.set=function(m,C){var D=this.getKeyIndex(m);return D>-1?this.values[D]=C:(this.keys.push(m),this.values.push(C)),this},g.prototype.has=function(m){return this.getKeyIndex(m)>-1},g.prototype.delete=function(m){var C=this.getKeyIndex(m);return C>-1?(this.keys.splice(C,1),this.values.splice(C,1),!0):!1},g.prototype.forEach=function(m,C){var D=this;C===void 0&&(C=this),this.values.forEach(function(q,Q){q&&D.keys[Q]&&m.call(C,q,D.keys[Q],D)})},g.prototype.clear=function(){this.keys=[],this.values=[]},g}(),bk=gte,Xg="en-US",yte=function(){function g(){this.code=Xg,this.langs=new bk}return g.prototype.setCode=function(m){this.code=m||Xg},g.prototype.setLanguage=function(m,C){var D=this;m=[].concat(m),m.forEach(function(q){if(!D.langs.has(q))D.langs.set(q,C);else{var Q=D.langs.get(q);D.langs.set(q,rk()(Q,C))}})},g.prototype.get=function(m,C){C||(C=this.code);var D=this.langs.get(C);D||(D=this.langs.get(Xg));var q=D[m];if(!q)throw new Error('There is no text key "'+m+'" in '+C);return q},g}(),wte=new yte;function bte(g,m){for(var C=g.depth;C;){var D=g.node(C);if(m(D,C))return{node:D,depth:C,offset:C>0?g.before(C):0};C-=1}return null}var kk=new Map,Ck=function(){function g(m,C,D,q){this.table=m,this.tableRows=C,this.tableStartPos=D,this.rowInfo=q}return g.create=function(m){var C=bte(m,function(_t){var br=_t.type;return br.name==="table"});if(C){var D=C.node,q=C.depth,Q=C.offset,ne=kk.get(D);if(ne?.tableStartPos===Q+1)return ne;var ce=[],$e=m.start(q),Ke=D.child(0),vt=D.child(1),bt=Yg(Ke,$e),ft=Yg(vt,$e+Ke.nodeSize);Ke.forEach(function(_t){return ce.push(_t)}),vt.forEach(function(_t){return ce.push(_t)});var Ft=new g(D,ce,$e,bt.concat(ft));return kk.set(D,Ft),Ft}return null},Object.defineProperty(g.prototype,"totalRowCount",{get:function(){return this.rowInfo.length},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"totalColumnCount",{get:function(){return this.rowInfo[0].length},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"tableStartOffset",{get:function(){return this.tableStartPos},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"tableEndOffset",{get:function(){return this.tableStartPos+this.table.nodeSize-1},enumerable:!1,configurable:!0}),g.prototype.getCellInfo=function(m,C){return this.rowInfo[m][C]},g.prototype.posAt=function(m,C){for(var D=0,q=this.tableStartPos;;D+=1){var Q=q+this.tableRows[D].nodeSize;if(D===m){for(var ne=C;ne<this.totalColumnCount&&this.rowInfo[D][ne].offset<q;)ne+=1;return ne===this.totalColumnCount?Q:this.rowInfo[D][ne].offset}q=Q}},g.prototype.getNodeAndPos=function(m,C){var D=this.rowInfo[m][C];return{node:this.table.nodeAt(D.offset-this.tableStartOffset),pos:D.offset}},g.prototype.extendedRowspan=function(m,C){return!1},g.prototype.extendedColspan=function(m,C){return!1},g.prototype.getRowspanCount=function(m,C){return 0},g.prototype.getColspanCount=function(m,C){return 0},g.prototype.decreaseColspanCount=function(m,C){return 0},g.prototype.decreaseRowspanCount=function(m,C){return 0},g.prototype.getColspanStartInfo=function(m,C){return null},g.prototype.getRowspanStartInfo=function(m,C){return null},g.prototype.getCellStartOffset=function(m,C){var D=this.rowInfo[m][C].offset;return this.extendedRowspan(m,C)?this.posAt(m,C):D},g.prototype.getCellEndOffset=function(m,C){var D=this.rowInfo[m][C],q=D.offset,Q=D.nodeSize;return this.extendedRowspan(m,C)?this.posAt(m,C):q+Q},g.prototype.getCellIndex=function(m){for(var C=0;C<this.totalRowCount;C+=1)for(var D=this.rowInfo[C],q=0;q<this.totalColumnCount;q+=1)if(D[q].offset+1>m.pos)return[C,q];return[0,0]},g.prototype.getRectOffsets=function(m,C){var D,q,Q;C===void 0&&(C=m),m.pos>C.pos&&(D=[C,m],m=D[0],C=D[1]);var ne=this.getCellIndex(m),ce=ne[0],$e=ne[1],Ke=this.getCellIndex(C),vt=Ke[0],bt=Ke[1];return q=fk(ce,vt),ce=q[0],vt=q[1],Q=fk($e,bt),$e=Q[0],bt=Q[1],this.getSpannedOffsets({startRowIdx:ce,startColIdx:$e,endRowIdx:vt,endColIdx:bt})},g.prototype.getSpannedOffsets=function(m){return m},g}(),Yg=function(g,m){var C=[];return g.forEach(function(D,q){var Q={rowspanMap:{},colspanMap:{},length:0};D.forEach(function(ne,ce){for(var $e=ne.nodeSize,Ke=0;Q[Ke];)Ke+=1;Q[Ke]={offset:m+q+ce+2,nodeSize:$e},Q.length+=1}),C.push(Q)}),C};function kte(g,m){return ck(Ck.prototype,g),Yg=m,Ck}function Cte(g){var m=g.plugin,C=g.eventEmitter,D=g.usageStatistics,q=g.instance,Q={Plugin:ev.Plugin,PluginKey:ev.PluginKey,Selection:ev.Selection,TextSelection:ev.TextSelection},ne={Decoration:wk.Decoration,DecorationSet:wk.DecorationSet},ce={Fragment:pte.Fragment},$e={InputRule:Qg.InputRule,inputRules:Qg.inputRules,undoInputRule:Qg.undoInputRule},Ke={keymap:hte.keymap},vt={eventEmitter:C,usageStatistics:D,instance:q,pmState:Q,pmView:ne,pmModel:ce,pmRules:$e,pmKeymap:Ke,i18n:wte};if(bee()(m)){var bt=m[0],ft=m[1],Ft=ft===void 0?{}:ft;return bt(vt,Ft)}return m(vt)}function Ste(g){var m=g.plugins,C=g.eventEmitter,D=g.usageStatistics,q=g.instance;return C.listen("mixinTableOffsetMapPrototype",kte),(m??[]).reduce(function(Q,ne){var ce=Cte({plugin:ne,eventEmitter:C,usageStatistics:D,instance:q});if(!ce)throw new Error("The return value of the executed plugin is empty.");var $e=ce.markdownParsers,Ke=ce.toHTMLRenderers,vt=ce.toMarkdownRenderers,bt=ce.markdownPlugins,ft=ce.wysiwygPlugins,Ft=ce.wysiwygNodeViews,_t=ce.markdownCommands,br=ce.wysiwygCommands,tn=ce.toolbarItems;return Ke&&(Q.toHTMLRenderers=jg(Q.toHTMLRenderers,Ke)),vt&&(Q.toMarkdownRenderers=jg(Q.toMarkdownRenderers,vt)),bt&&(Q.mdPlugins=Q.mdPlugins.concat(bt)),ft&&(Q.wwPlugins=Q.wwPlugins.concat(ft)),Ft&&(Q.wwNodeViews=y(y({},Q.wwNodeViews),Ft)),_t&&(Q.mdCommands=y(y({},Q.mdCommands),_t)),br&&(Q.wwCommands=y(y({},Q.wwCommands),br)),tn&&(Q.toolbarItems=Q.toolbarItems.concat(tn)),$e&&(Q.markdownParsers=y(y({},Q.markdownParsers),$e)),Q},{toHTMLRenderers:{},toMarkdownRenderers:{},mdPlugins:[],wwPlugins:[],wwNodeViews:{},mdCommands:{},wwCommands:{},toolbarItems:[],markdownParsers:{}})}var xte=f(404),Tte=f.n(xte),Sk=["afterPreviewRender","updatePreview","changeMode","needChangeMode","command","changePreviewStyle","changePreviewTabPreview","changePreviewTabWrite","scroll","contextmenu","show","hide","changeLanguage","changeToolbarState","toggleScrollSync","mixinTableOffsetMapPrototype","setFocusedNode","removePopupWidget","query","openPopup","closePopup","addImageBlobHook","beforePreviewRender","beforeConvertWysiwygToMarkdown","load","loadUI","change","caretChange","destroy","focus","blur","keydown","keyup"],Ete=function(){function g(){var m=this;this.events=new bk,this.eventTypes=Sk.reduce(function(C,D){return y(y({},C),{type:D})},{}),this.hold=!1,Sk.forEach(function(C){m.addEventType(C)})}return g.prototype.listen=function(m,C){var D=this.getTypeInfo(m),q=this.events.get(D.type)||[];if(!this.hasEventType(D.type))throw new Error("There is no event type "+D.type);D.namespace&&(C.namespace=D.namespace),q.push(C),this.events.set(D.type,q)},g.prototype.emit=function(m){for(var C=[],D=1;D<arguments.length;D++)C[D-1]=arguments[D];var q=this.getTypeInfo(m),Q=this.events.get(q.type),ne=[];return!this.hold&&Q&&Q.forEach(function(ce){var $e=ce.apply(void 0,C);Yp()($e)||ne.push($e)}),ne},g.prototype.emitReduce=function(m,C){for(var D=[],q=2;q<arguments.length;q++)D[q-2]=arguments[q];var Q=this.events.get(m);return!this.hold&&Q&&Q.forEach(function(ne){var ce=ne.apply(void 0,T([C],D));Tte()(ce)||(C=ce)}),C},g.prototype.getTypeInfo=function(m){var C=m.split(".");return{type:C[0],namespace:C[1]}},g.prototype.hasEventType=function(m){return!Yp()(this.eventTypes[this.getTypeInfo(m).type])},g.prototype.addEventType=function(m){if(this.hasEventType(m))throw new Error("There is already have event type "+m);this.eventTypes[m]=m},g.prototype.removeEventHandler=function(m,C){var D=this,q=this.getTypeInfo(m),Q=q.type,ne=q.namespace;Q&&C?this.removeEventHandlerWithHandler(Q,C):Q&&!ne?this.events.delete(Q):!Q&&ne?this.events.forEach(function(ce,$e){D.removeEventHandlerWithTypeInfo($e,ne)}):Q&&ne&&this.removeEventHandlerWithTypeInfo(Q,ne)},g.prototype.removeEventHandlerWithHandler=function(m,C){var D=this.events.get(m);if(D){var q=D.indexOf(C);D.indexOf(C)>=0&&D.splice(q,1)}},g.prototype.removeEventHandlerWithTypeInfo=function(m,C){var D=[],q=this.events.get(m);q&&(q.map(function(Q){return Q.namespace!==C&&D.push(Q),null}),this.events.set(m,D))},g.prototype.getEvents=function(){return this.events},g.prototype.holdEventInvoke=function(m){this.hold=!0,m(),this.hold=!1},g}(),Nte=Ete,Mte="data-task",Ote="data-task-disabled",Dte="checked";function Ate(g){["htmlBlock","htmlInline"].forEach(function(m){g[m]&&Object.keys(g[m]).forEach(function(C){return Zee(C)})})}var Lte=function(){function g(m){var C=this;this.options=rk()({linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,usageStatistics:!0,theme:"light"},m),this.eventEmitter=new Nte;var D=Bee(this.options.linkAttributes),q=Ste({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this})||{},Q=q.toHTMLRenderers,ne=q.markdownParsers,ce=this.options,$e=ce.customHTMLRenderer,Ke=ce.extendedAutolinks,vt=ce.referenceDefinition,bt=ce.frontMatter,ft=ce.customHTMLSanitizer,Ft={linkAttributes:D,customHTMLRenderer:y(y({},Q),$e),extendedAutolinks:Ke,referenceDefinition:vt,frontMatter:bt,sanitizer:ft||ete};Ate(Ft.customHTMLRenderer),this.options.events&&cee()(this.options.events,function(Ca,aa){C.on(aa,Ca)});var _t=this.options,br=_t.el,tn=_t.initialValue,Pn=_t.theme,Yo=br.innerHTML;Pn!=="light"&&br.classList.add(Zp(Pn)),br.innerHTML="",this.toastMark=new iee("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:Ke,referenceDefinition:vt,disallowDeepHeading:!0,frontMatter:bt,customParser:ne}),this.preview=new dte(this.eventEmitter,y(y({},Ft),{isViewer:!0})),nk()(this.preview.previewContent,"mousedown",this.toggleTask.bind(this)),tn?this.setMarkdown(tn):Yo&&this.preview.setHTML(Yo),br.appendChild(this.preview.previewContent),this.eventEmitter.emit("load",this)}return g.prototype.toggleTask=function(m){var C=m.target,D=getComputedStyle(C,":before");!C.hasAttribute(Ote)&&C.hasAttribute(Mte)&&Fee(D,m.offsetX,m.offsetY)&&(hk(C,Dte),this.eventEmitter.emit("change",{source:"viewer",date:m}))},g.prototype.setMarkdown=function(m){var C=this.toastMark.getLineTexts(),D=C.length,q=_ee(C),Q=[D,q.length+1],ne=this.toastMark.editMarkdown([1,1],Q,m||"");this.eventEmitter.emit("updatePreview",ne)},g.prototype.on=function(m,C){this.eventEmitter.listen(m,C)},g.prototype.off=function(m){this.eventEmitter.removeEventHandler(m)},g.prototype.addHook=function(m,C){this.eventEmitter.removeEventHandler(m),this.eventEmitter.listen(m,C)},g.prototype.destroy=function(){ik()(this.preview.el,"mousedown",this.toggleTask.bind(this)),this.preview.destroy(),this.eventEmitter.emit("destroy")},g.prototype.isViewer=function(){return!0},g.prototype.isMarkdownMode=function(){return!1},g.prototype.isWysiwygMode=function(){return!1},g}(),Rte=Lte,Ite=Rte}(),v=v.default,v}()})}(Ky)),Ky.exports}var qQe=FQe();const HQe=X0(qQe);/**
 * TOAST UI Editor : React Wrapper
 * @version 3.2.3 | Fri Feb 17 2023
 * @author NHN Cloud FE Development Lab <dl_javascript@nhn.com>
 * @license MIT
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Q0=function(r,e){return Q0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},Q0(r,e)};function RM(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Q0(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var gf=function(){return gf=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},gf.apply(this,arguments)},zQe=function(r){RM(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.rootEl=Xs.createRef(),t}return e.prototype.getRootElement=function(){return this.rootEl.current},e.prototype.getInstance=function(){return this.editorInst},e.prototype.getBindingEventNames=function(){var t=this;return Object.keys(this.props).filter(function(n){return/^on[A-Z][a-zA-Z]+/.test(n)}).filter(function(n){return t.props[n]})},e.prototype.bindEventHandlers=function(t){var n=this;this.getBindingEventNames().forEach(function(i){var a=i[2].toLowerCase()+i.slice(3);n.editorInst.off(a),n.editorInst.on(a,t[i])})},e.prototype.getInitEvents=function(){var t=this;return this.getBindingEventNames().reduce(function(n,i){var a=i[2].toLowerCase()+i.slice(3);return n[a]=t.props[i],n},{})},e.prototype.componentDidMount=function(){this.editorInst=new LQe(gf(gf({el:this.rootEl.current},this.props),{events:this.getInitEvents()}))},e.prototype.shouldComponentUpdate=function(t){var n=this.getInstance(),i=t.height,a=t.previewStyle;return i&&this.props.height!==i&&n.setHeight(i),a&&this.props.previewStyle!==a&&n.changePreviewStyle(a),this.bindEventHandlers(t),!1},e.prototype.render=function(){return Xs.createElement("div",{ref:this.rootEl})},e}(Xs.Component),$Qe=function(r){RM(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.rootEl=Xs.createRef(),t}return e.prototype.getRootElement=function(){return this.rootEl.current},e.prototype.getInstance=function(){return this.viewerInst},e.prototype.getBindingEventNames=function(){var t=this;return Object.keys(this.props).filter(function(n){return/^on[A-Z][a-zA-Z]+/.test(n)}).filter(function(n){return t.props[n]})},e.prototype.bindEventHandlers=function(t){var n=this;this.getBindingEventNames().forEach(function(i){var a=i[2].toLowerCase()+i.slice(3);n.viewerInst.off(a),n.viewerInst.on(a,t[i])})},e.prototype.getInitEvents=function(){var t=this;return this.getBindingEventNames().reduce(function(n,i){var a=i[2].toLowerCase()+i.slice(3);return n[a]=t.props[i],n},{})},e.prototype.componentDidMount=function(){this.viewerInst=new HQe(gf(gf({el:this.rootEl.current},this.props),{events:this.getInitEvents()}))},e.prototype.shouldComponentUpdate=function(t){return this.bindEventHandlers(t),!1},e.prototype.render=function(){return Xs.createElement("div",{ref:this.rootEl})},e}(Xs.Component);const VQe=()=>{aw();const r=ol(y=>y?.userToken??""),e=it.useRef(null),t=vs(),n=Lu(),[i,a]=it.useState(""),[o,l]=it.useState(""),[c,f]=it.useState(0);it.useEffect(()=>((async()=>{try{const T=new URLSearchParams(n?.search),N=Number(T.get("idp")??0);if(f(N),!N){a(""),l(""),e.current?.getInstance().setHTML("");return}let E=await xr.get(`https://hono-memo-academy.vercel.app/api/memo/get_memo_by_idp?idp=${N}`);if(E=E?.data,!E?.success){alert(` . ${E?.message}`);return}const{title:P,content:L}=E?.data;a(P??""),setTimeout(()=>{e.current?.getInstance().setHTML(L??"")},0)}catch(T){console.error("   :",T),alert(`   ${T?.message??""}`)}})(),()=>{a(""),l(""),f(0),e.current?.getInstance().setHTML("")}),[n?.search]);const v=async()=>{const y=e.current?.getInstance().getHTML()??"";if(!i?.trim()||!y?.trim()){alert("  ");return}try{const T=await xr.post("https://hono-memo-academy.vercel.app/api/memo/upsert",{idp:c,title:i,content:y},{headers:{Authorization:`Bearer ${r}`}});alert(" "),t("/todo_list")}catch(T){console.error("!!! /api/memo/upsert error: ",T?.message),alert(`  . ${T?.message??""}`)}};return Xe.jsxs("div",{className:"max-w-2xl mx-auto mt-10 p-6 bg-white shadow-xl rounded-xl",children:[Xe.jsx("div",{children:c}),Xe.jsx("div",{className:"text-2xl font-bold mb-6 text-center",children:" "}),Xe.jsx("input",{className:"w-full p-3 mb-4 border-b-2 border-gray-300 outline-none text-xl font-semibold placeholder-gray-400",type:"text",placeholder:" ",value:i,onChange:y=>a(y?.target?.value??"")}),Xe.jsx(zQe,{ref:e,height:"400px",initialEditType:"wysiwyg",previewStyle:"vertical",useCommandShortcut:!0,hooks:{addImageBlobHook:async(y,T)=>{try{const N=new FormData;N.append("image",y);const L=(await xr.post("https://api.imgbb.com/1/upload?key=07c1e5d07ef4c497e700e5b7c0416269",N))?.data?.data?.url;L?T(L,""):alert(" URL   .")}catch(N){console.error("  :",N),alert(`  : ${N?.message??""}`)}return!1}}}),Xe.jsx("div",{className:"text-right mt-6",children:Xe.jsx("button",{className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-xl shadow",onClick:v,children:""})})]})},UQe=()=>{aw();const[r,e]=it.useState(null),[t]=Yre(),n=Number(t?.get("idp")??0);return it.useEffect(()=>{(async()=>{if(n)try{const a=await xr.get("https://hono-memo-academy.vercel.app/api/memo/get_memo_by_idp",{params:{idp:n}});e(a?.data?.data)}catch(a){console.error("     :",a?.message??""),alert(`      ${a?.message??""}`)}})()},[n]),Xe.jsxs("div",{className:"max-w-md mx-auto mt-5 p-4 bg-white rounded shadow",children:[Xe.jsx("h2",{className:"text-xl font-bold mb-4",children:"   "}),r?Xe.jsxs(Xe.Fragment,{children:[Xe.jsx("h3",{className:"text-lg font-semibold mb-2",children:r.title}),Xe.jsx("div",{className:"border p-2 rounded bg-gray-50",children:Xe.jsx($Qe,{initialValue:r?.content??""})}),Xe.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[": ",new Date(r?.createdDt).toLocaleString()]})]}):Xe.jsx("p",{children:"    ."})]})},jQe=()=>{const r=vs(),[e,t]=it.useState(""),[n,i]=it.useState(""),[a,o]=it.useState(""),l=async c=>{c&&c.preventDefault();try{o("");let f=await xr.post("https://hono-memo-academy.vercel.app/api/auth/login",{username:e,password:n});if(f=f?.data,!f?.success){console.error(" :",f?.message??""),o(` . ${f?.message??""}`);return}console.log(" :",f?.data),ol.getState().setAuthData({userData:f?.data?.userData,userToken:f?.data?.userToken??""}),r("/")}catch(f){console.error(" :",f.response?.data||f.message),o(` . ${f?.message??""}`)}};return Xe.jsx("div",{className:"flex justify-center items-center h-screen bg-gray-100",children:Xe.jsx("form",{onSubmit:l,className:"bg-white p-8 rounded shadow-md w-full max-w-md",children:Xe.jsxs("div",{className:"bg-white p-8 rounded shadow-md w-full max-w-md",children:[Xe.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:""}),a&&Xe.jsx("div",{className:"mb-4 text-red-500 text-sm text-center",children:a}),Xe.jsxs("div",{className:"mb-4",children:[Xe.jsx("label",{className:"block text-gray-700 mb-2",children:""}),Xe.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded px-3 py-2",value:e,onChange:c=>t(c.target.value),placeholder:" "})]}),Xe.jsxs("div",{className:"mb-6",children:[Xe.jsx("label",{className:"block text-gray-700 mb-2",children:""}),Xe.jsx("input",{type:"password",className:"w-full border border-gray-300 rounded px-3 py-2",value:n,onChange:c=>i(c.target.value),placeholder:" "})]}),Xe.jsx("button",{onClick:l,className:"w-full bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600 transition duration-200",children:""})]})})})},WQe=()=>{const r=vs(),[e,t]=it.useState(""),[n,i]=it.useState(""),[a,o]=it.useState(""),[l,c]=it.useState(""),f=async()=>{try{if(c(""),!e?.trim()||!n?.trim()||!a?.trim()){c("  "),alert("  ");return}if(n?.trim()!=a?.trim()){c("  "),alert("  ");return}let v=await xr.post("https://hono-memo-academy.vercel.app/api/auth/register",{username:e,password:n});if(v=v?.data,!v?.success){console.error(" :",v?.message??""),c(` . ${v?.message??""}`);return}console.log(" :",v?.data),ol.getState().setAuthData({userData:v?.data?.userData,userToken:v?.data?.userToken??""}),alert(" !!"),r("/")}catch(v){console.error(" :",v.response?.data||v.message),c(` . ${v?.message??""}`)}};return Xe.jsx("div",{className:"flex justify-center items-center h-screen bg-gray-100",children:Xe.jsxs("div",{className:"bg-white p-8 rounded shadow-md w-full max-w-md",children:[Xe.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:""}),l&&Xe.jsx("div",{className:"mb-4 text-red-500 text-sm text-center",children:l}),Xe.jsxs("div",{className:"mb-4",children:[Xe.jsx("label",{className:"block text-gray-700 mb-2",children:""}),Xe.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded px-3 py-2",value:e,onChange:v=>t(v.target.value),placeholder:" "})]}),Xe.jsxs("div",{className:"mb-6",children:[Xe.jsx("label",{className:"block text-gray-700 mb-2",children:""}),Xe.jsx("input",{type:"password",className:"w-full border border-gray-300 rounded px-3 py-2",value:n,onChange:v=>i(v.target.value),placeholder:" "})]}),Xe.jsxs("div",{className:"mb-6",children:[Xe.jsx("label",{className:"block text-gray-700 mb-2",children:""}),Xe.jsx("input",{type:"password",className:"w-full border border-gray-300 rounded px-3 py-2",value:a,onChange:v=>o(v.target.value),placeholder:" "})]}),Xe.jsx("button",{onClick:f,className:"w-full bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600 transition duration-200",children:""})]})})};function GQe(){return Xe.jsx(Jre,{children:Xe.jsx(Hre,{children:Xe.jsxs(is,{element:Xe.jsx(lne,{}),children:[Xe.jsx(is,{path:"/",element:Xe.jsx(une,{})}),Xe.jsx(is,{path:"/todo_list",element:Xe.jsx(Hie,{})}),Xe.jsx(is,{path:"/memo_editor",element:Xe.jsx(zie,{})}),Xe.jsx(is,{path:"/memo_editorv3",element:Xe.jsx(VQe,{})}),Xe.jsx(is,{path:"/memo_detail",element:Xe.jsx(UQe,{})}),Xe.jsx(is,{path:"/login",element:Xe.jsx(jQe,{})}),Xe.jsx(is,{path:"/register",element:Xe.jsx(WQe,{})})]})})})}Wte.render(Xe.jsx(Xs.StrictMode,{children:Xe.jsx(GQe,{})}),document.getElementById("root"));
